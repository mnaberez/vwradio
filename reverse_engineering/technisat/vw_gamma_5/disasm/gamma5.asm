;Volkswagen Gamma V radio (TechniSat)
;Reverse engineered source code
;
;This source code is for the microcontroller in the radio.  It is a
;QFP-80 package and has these markings on the outside:
;
;  M38869FFAHP
;      348B100
;
;The MCU was removed from a radio and dumped using "flash memory mode 1
;(parallel I/O mode)" as described in the Renesas (Mitsubishi) 3886 Group
;datasheet.  A second radio was dumped using KWP1281.  After decryption
;of the KWP1281 dump, the two dumps were identical.
;
;Note that the M38869FFAHP has 60K flash ROM total but this source code
;assembles to 56K.  The first 4K (0x1000-0x1FFF) contains all 0xFF.
;
;No rights are claimed on the executable object code as found
;in the internal flash ROM of the M38869FFAHP chip.  The SHA-1
;hash of that binary is: 2d9344b56ba4329e762a984150c304cc35d51b13.
;
;Memory Map:
;  0000-003F  Special Function Registers (SFRs)
;  0040-083F  RAM (2K)
;  1000-1FFF  Flash ROM Unused (4K)
;  2000-FFFF  Flash ROM (56K)
;

    .area CODE1 (ABS)
    .org 0x2000

    P0 = 0x00               ;Port P0
    P0D = 0x01              ;Port P0 direction register
    P1 = 0x02               ;Port P1
    P1D = 0x03              ;Port P1 direction register
    P2 = 0x04               ;Port P2
    P2D = 0x05              ;Port P2 direction register
    P3 = 0x06               ;Port P3
    P3D = 0x07              ;Port P3 direction register
    P4 = 0x08               ;Port P4
    P4D = 0x09              ;Port P4 direction register
    P5 = 0x0a               ;Port P5
    P5D = 0x0b              ;Port P5 direction register
    P6 = 0x0c               ;Port P6
    P6D = 0x0d              ;Port P6 direction register
    P7 = 0x0e               ;Port P7
    P7D = 0x0f              ;Port P7 direction register
    P8_P4I = 0x10           ;Port P8 / Port P4 input register
    P8D_P7I = 0x11          ;Port P8 direction register / Port P7 input register
    S0 = 0x12               ;I2C data shift register
    S0D = 0x13              ;I2C address register
    S1 = 0x14               ;I2C status register
    S1D = 0x15              ;I2C control register
    S2 = 0x16               ;I2C clock control register
    S2D = 0x17              ;I2C start/stop condition control register
    TB_RB = 0x18            ;Transmit/Receive buffer register
    SIO1STS = 0x19          ;Serial I/O1 status register
    SIO1CON = 0x1a          ;Serial I/O1 control register
    UARTCON = 0x1b          ;UART control register
    BRG = 0x1c              ;Baud rate generator
    SIO2CON = 0x1d          ;Serial I/O2 control register
    SIO2 = 0x1f             ;Serial I/O2 register
    PRE12 = 0x20            ;Prescaler 12
    T1 = 0x21               ;Timer 1
    T2 = 0x22               ;Timer 2
    TM = 0x23               ;Timer XY mode register
    PREX = 0x24             ;Prescaler X
    TX = 0x25               ;Timer X
    PREY = 0x26             ;Prescaler Y
    TY = 0x27               ;Timer Y
    PCTL1 = 0x2e            ;Port control register 1
    PCTL2 = 0x2f            ;Port control register 2
    PWM0H = 0x30            ;PWM0H register
    PWM1H = 0x32            ;PWM1H register
    ADCON = 0x34            ;AD/DA control register
    AD1 = 0x35              ;A-D conversion register 1
    AD2 = 0x38              ;A-D conversion register 2
    INTSEL = 0x39           ;Interrupt source selection register
    INTEDGE = 0x3a          ;Interrupt edge selection register
    CPUM = 0x3b             ;CPU mode register
    IREQ1 = 0x3c            ;Interrupt request register 1
    IREQ2 = 0x3d            ;Interrupt request register 2
    ICON1 = 0x3e            ;Interrupt control register 1
    ICON2 = 0x3f            ;Interrupt control register 2
    FCON = 0xffe            ;Flash memory control register
    FCMD = 0xfff            ;Flash command register

lab_2000:
    sei                     ;2000  78
    clt                     ;2001  12
    cld                     ;2002  d8
    ldm #0b1100,CPUM        ;2003  3c 0c 3b     Processor mode = single-chip mode
                            ;                   Stack page selection bit = stack at 0x1XX
    ldx #0xff               ;2006  a2 ff
    txs                     ;2008  9a           Set stack pointer = 0xFF
    ldm #0x11,P0            ;2009  3c 11 00
    ldm #0xee,P0D           ;200c  3c ee 01
    ldm #0xc5,P1            ;200f  3c c5 02
    ldm #0x3e,P1D           ;2012  3c 3e 03
    ldm #0x7d,P2            ;2015  3c 7d 04
    ldm #0x54,P3            ;2018  3c 54 06
    ldm #0x7f,P4            ;201b  3c 7f 08
    ldm #0x3d,P5            ;201e  3c 3d 0a
    ldm #0xff,P6            ;2021  3c ff 0c
    ldm #0xff,P7            ;2024  3c ff 0e
    ldm #0x0d,P8_P4I        ;2027  3c 0d 10
    ldm #0x8e,P2D           ;202a  3c 8e 05
    ldm #0xfb,P3D           ;202d  3c fb 07
    ldm #0xe1,P4D           ;2030  3c e1 09
    ldm #0xc6,P5D           ;2033  3c c6 0b
    ldm #0x00,P6D           ;2036  3c 00 0d
    ldm #0xce,P7D           ;2039  3c ce 0f
    ldm #0xf3,P8D_P7I       ;203c  3c f3 11
    ldm #0x00,PCTL1         ;203f  3c 00 2e
    ldm #0x00,PCTL2         ;2042  3c 00 2f
    ldm #0x80,AD2           ;2045  3c 80 38
    ldm #0x00,ADCON         ;2048  3c 00 34
    ldm #0x7c,PRE12         ;204b  3c 7c 20
    ldm #0x04,T1            ;204e  3c 04 21
    ldm #0x31,T2            ;2051  3c 31 22
    ldm #0xff,PREX          ;2054  3c ff 24
    ldm #0xff,TX            ;2057  3c ff 25
    ldm #0xff,PREY          ;205a  3c ff 26
    ldm #0xff,TY            ;205d  3c ff 27
    ldm #0xc8,TM            ;2060  3c c8 23
    ldm #0xb0,SIO1CON       ;2063  3c b0 1a
    ldm #0x00,UARTCON       ;2066  3c 00 1b
    ldm #0x40,BRG           ;2069  3c 40 1c     Baud rate = 9600 bps
    ldm #0x6b,SIO2CON       ;206c  3c 6b 1d
    clb 7,SIO1CON           ;206f  ff 1a        Serial I/O1 enabled bit = disabled
    lda #0x00               ;2071  a9 00
    sta ICON1               ;2073  85 3e
    sta ICON2               ;2075  85 3f
    ldm #0x00,INTSEL        ;2077  3c 00 39
    ldm #0x00,INTEDGE       ;207a  3c 00 3a
    sta IREQ1               ;207d  85 3c
    sta IREQ2               ;207f  85 3d
    ldm #0x07,ICON1         ;2081  3c 07 3e
    ldm #0x09,ICON2         ;2084  3c 09 3f
    clb 0,0xf9              ;2087  1f f9
    cli                     ;2089  58
    clb 3,TM                ;208a  7f 23
    lda #0x00               ;208c  a9 00
    sta FCON                ;208e  8d fe 0f
    sta FCMD                ;2091  8d ff 0f
    jsr sub_2709            ;2094  20 09 27
    jsr clear_0x0200_0x03ff ;2097  20 2b 27   Clear 0x0200 - 0x03FF
    jsr clear_0x0400_0x04ff ;209a  20 40 27   Clear 0x0400 - 0x04FF
    jsr clear_0x0500_0x05ff ;209d  20 4b 27   Clear 0x0500 - 0x05FF
    jsr clear_0x0600_0x06ff ;20a0  20 56 27   Clear 0x0600 - 0x06FF
    jsr clear_0x0700_0x07ff ;20a3  20 61 27   Clear 0x0700 - 0x07FF
    jsr clear_0x0800_0x083f ;20a6  20 6c 27   Clear 0x0800 - 0x083F
    clb 2,0xf6              ;20a9  5f f6
    ldm #0x01,0xa5          ;20ab  3c 01 a5
    ldm #0x10,0xa0          ;20ae  3c 10 a0
    ldm #0x09,0xa3          ;20b1  3c 09 a3
    ldm #0x09,0xa4          ;20b4  3c 09 a4
    ldm #0x09,0xa2          ;20b7  3c 09 a2
    ldm #0x09,0xa1          ;20ba  3c 09 a1
    ldm #0x7f,0x73          ;20bd  3c 7f 73
    ldm #0xff,0x74          ;20c0  3c ff 74
    ldm #0x7f,0x75          ;20c3  3c 7f 75
    ldm #0x01,0x8c          ;20c6  3c 01 8c
    ldm #0x01,0xb0          ;20c9  3c 01 b0
    ldm #0x0a,0x67          ;20cc  3c 0a 67
    ldm #0x0a,0x66          ;20cf  3c 0a 66
    ldm #0x0a,0x65          ;20d2  3c 0a 65
    jsr sub_31f7            ;20d5  20 f7 31
    ldm #0x01,0x60          ;20d8  3c 01 60
    jsr sub_46ce            ;20db  20 ce 46     I2C related
    lda #0xff               ;20de  a9 ff
    sta 0x027b              ;20e0  8d 7b 02
    sta 0x05a4              ;20e3  8d a4 05
    ldm #0x05,0x5a          ;20e6  3c 05 5a
    ldm #0x0a,0x5b          ;20e9  3c 0a 5b

lab_20ec:
    bbc 3,P4,lab_20ec       ;20ec  77 08 fd
    sei                     ;20ef  78
    seb 6,ICON1             ;20f0  cf 3e
    seb 4,ICON1             ;20f2  8f 3e
    seb 5,ICON2             ;20f4  af 3f
    seb 4,ICON2             ;20f6  8f 3f
    seb 2,ICON2             ;20f8  4f 3f
    cli                     ;20fa  58
    jsr sub_7bdc            ;20fb  20 dc 7b
    jsr sub_4a72            ;20fe  20 72 4a
    jsr sub_4bec            ;2101  20 ec 4b
    jsr sub_435d            ;2104  20 5d 43
    jsr sub_4979            ;2107  20 79 49

    ldy #0x0a               ;210a  a0 0a
    jsr sub_f22c_delay      ;210c  20 2c f2     Delay an unknown time period for Y iterations

    seb 4,CPUM              ;210f  8f 3b        Port Xc switch bit = 1: Xcin-Xcout oscillating function
    lda #0x06               ;2111  a9 06
    jsr sub_26d8            ;2113  20 d8 26
    sta 0x0268              ;2116  8d 68 02
    jsr sub_27b1            ;2119  20 b1 27
    jsr sub_9e9e            ;211c  20 9e 9e

    ldy #0x0a               ;211f  a0 0a
    jsr sub_f22c_delay      ;2121  20 2c f2     Delay an unknown time period for Y iterations

    clb 5,0xe9              ;2124  bf e9

lab_2126:
    jsr sub_2787            ;2126  20 87 27
    bbc 2,0xf9,lab_2138     ;2129  57 f9 0c
    bbc 3,0xf9,lab_2141     ;212c  77 f9 12
    jsr sub_5489            ;212f  20 89 54
    jsr sub_54fd            ;2132  20 fd 54
    jsr sub_5616            ;2135  20 16 56

lab_2138:
    jsr sub_5909            ;2138  20 09 59
    bcc lab_2141            ;213b  90 04
    clb 1,0xf9              ;213d  3f f9
    clb 2,0xf9              ;213f  5f f9

lab_2141:
    bbc 5,0xfd,lab_214c     ;2141  b7 fd 08
    bbc 4,0xfb,lab_214c     ;2144  97 fb 05
    clb 5,0xfd              ;2147  bf fd
    jsr sub_90d3            ;2149  20 d3 90

lab_214c:
    bbc 5,0xfb,lab_2154     ;214c  b7 fb 05
    clb 5,0xfb              ;214f  bf fb
    jsr sub_91a5            ;2151  20 a5 91

lab_2154:
    bbc 2,0xe6,lab_215a     ;2154  57 e6 03
    jsr sub_f218            ;2157  20 18 f2

lab_215a:
    jsr sub_2267            ;215a  20 67 22
    ldy 0x05c5              ;215d  ac c5 05
    beq lab_2165            ;2160  f0 03
    jsr sub_b6ce            ;2162  20 ce b6

lab_2165:
    jsr sub_233f            ;2165  20 3f 23
    jsr sub_2201            ;2168  20 01 22
    jsr sub_2258            ;216b  20 58 22
    jsr sub_f0c9            ;216e  20 c9 f0
    clb 4,0xf5              ;2171  9f f5
    bbs 6,0xf1,lab_2126     ;2173  c7 f1 b0
    bbs 1,P8_P4I,lab_2126   ;2176  27 10 ad
    bbc 4,P7,lab_21a1       ;2179  97 0e 25
    bbs 7,PCTL1,lab_21a1    ;217c  e7 2e 22
    bbs 6,0xf4,lab_21a1     ;217f  c7 f4 1f
    bbs 7,0xf4,lab_21a1     ;2182  e7 f4 1c
    bbs 3,0xe6,lab_21a1     ;2185  67 e6 19
    bbc 3,P4,lab_21a1       ;2188  77 08 16
    bbs 4,0xe8,lab_21a1     ;218b  87 e8 13
    bbs 2,0xe7,lab_2194     ;218e  47 e7 03
    bbs 2,0xe8,lab_21a1     ;2191  47 e8 0d

lab_2194:
    lda 0x0382              ;2194  ad 82 03
    bne lab_21a1            ;2197  d0 08
    lda 0x0383              ;2199  ad 83 03
    bne lab_21a1            ;219c  d0 03
    jmp lab_21a5            ;219e  4c a5 21

lab_21a1:
    wit                     ;21a1  c2
    jmp lab_2154            ;21a2  4c 54 21

lab_21a5:
    seb 4,CPUM              ;21a5  8f 3b        Port Xc switch bit
    jsr sub_6f45            ;21a7  20 45 6f
    lda 0x67                ;21aa  a5 67

lab_21ac:
    cmp 0x67                ;21ac  c5 67
    beq lab_21ac            ;21ae  f0 fc
    ldm #0x0f,PRE12         ;21b0  3c 0f 20
    ldm #0x7f,T1            ;21b3  3c 7f 21
    seb 7,CPUM              ;21b6  ef 3b        Main clock division ratio selection bit
    nop                     ;21b8  ea
    nop                     ;21b9  ea
    nop                     ;21ba  ea
    seb 5,CPUM              ;21bb  af 3b        Main clock stop bit
    nop                     ;21bd  ea
    seb 4,0xf5              ;21be  8f f5

lab_21c0:
    bbc 7,CPUM,lab_21ed     ;21c0  f7 3b 2a     Main clock dvision ratio selection bit
    bbs 2,0xe7,lab_21c9     ;21c3  47 e7 03
    bbc 4,P4,lab_21ed       ;21c6  97 08 24

lab_21c9:
    bbs 3,P8_P4I,lab_21d2   ;21c9  67 10 06
    bbc 1,0xee,lab_21d8     ;21cc  37 ee 09
    jmp lab_21ed            ;21cf  4c ed 21

lab_21d2:
    bbs 1,0xee,lab_21d8     ;21d2  27 ee 03
    jmp lab_21ed            ;21d5  4c ed 21

lab_21d8:
    bbs 0,P0,lab_21ed       ;21d8  07 00 12
    bbs 6,P2,lab_21e4       ;21db  c7 04 06
    bbc 0,0xee,lab_21ea     ;21de  17 ee 09
    jmp lab_21ed            ;21e1  4c ed 21

lab_21e4:
    bbs 0,0xee,lab_21ea     ;21e4  07 ee 03
    jmp lab_21ed            ;21e7  4c ed 21

lab_21ea:
    jmp lab_21c0            ;21ea  4c c0 21

lab_21ed:
    clb 5,CPUM              ;21ed  bf 3b        Main clock stop bit
    bbc 7,CPUM,lab_21fb     ;21ef  f7 3b 09     Main clock division ratio selection bit
    clb 7,CPUM              ;21f2  ff 3b        Main clock division ratio selection bit
    nop                     ;21f4  ea
    ldm #0x7c,PRE12         ;21f5  3c 7c 20
    ldm #0x04,T1            ;21f8  3c 04 21

lab_21fb:
    jmp lab_2154            ;21fb  4c 54 21

;unknown table used by lab_2213
mem_21fe:
    .byte 0x73              ;21fe  73          DATA 0x73 's'
    .byte 0x74              ;21ff  74          DATA 0x74 't'
    .byte 0x75              ;2200  75          DATA 0x75 'u'

sub_2201:
    sei                     ;2201  78
    bbc 3,0xf7,lab_220b     ;2202  77 f7 06
    clb 3,0xf7              ;2205  7f f7
    lda #0x3f               ;2207  a9 3f
    bra lab_2241            ;2209  80 36

lab_220b:
    lda 0xf7                ;220b  a5 f7
    and #0x07               ;220d  29 07
    beq lab_2253            ;220f  f0 42
    ldx #0xff               ;2211  a2 ff

lab_2213:
    inx                     ;2213  e8
    lsr a                   ;2214  4a
    bcc lab_2213            ;2215  90 fc

    lda mem_21fe,x          ;2217  bd fe 21
    sta 0x40                ;221a  85 40
    ldy #0x00               ;221c  a0 00
    sty 0x41                ;221e  84 41

    lda [0x40],y            ;2220  b1 40        A = value stored in one of: 0x73, 0x74, 0x75
    cmp #0x20               ;2222  c9 20
    bne lab_2228            ;2224  d0 02
    lda #0x24               ;2226  a9 24

lab_2228:
    cmp #0x21               ;2228  c9 21
    bne lab_222e            ;222a  d0 02
    lda #0x25               ;222c  a9 25

lab_222e:
    cmp #0x24               ;222e  c9 24
    bcc lab_223d            ;2230  90 0b
    cmp #0x28               ;2232  c9 28
    bcs lab_223d            ;2234  b0 07
    ldm #0x00,0x5e          ;2236  3c 00 5e
    clb 0,0xf7              ;2239  1f f7
    bra lab_2241            ;223b  80 04

lab_223d:
    cmp 0x72                ;223d  c5 72
    beq lab_224f            ;223f  f0 0e

lab_2241:
    sta 0x72                ;2241  85 72
    seb 7,0xf7              ;2243  ef f7
    lda #0xc0               ;2245  a9 c0
    sta 0xc8                ;2247  85 c8
    lda #0xfb               ;2249  a9 fb
    sta 0xc9                ;224b  85 c9
    bra lab_2256            ;224d  80 07

lab_224f:
    clb 7,0xf7              ;224f  ff f7
    bra lab_2256            ;2251  80 03

lab_2253:
    ldm #0xff,0x72          ;2253  3c ff 72

lab_2256:
    cli                     ;2256  58
    rts                     ;2257  60

sub_2258:
    bbc 7,0xf7,sub_2266_rts ;2258  f7 f7 0b
    clb 7,0xf7              ;225b  ff f7
    lda 0x72                ;225d  a5 72
    jsr sub_35b8            ;225f  20 b8 35
    bcs sub_2266_rts        ;2262  b0 02
    jsr [0x40]              ;2264  02 40

;TechniSat protocol related
sub_2266_rts:
    rts                     ;2266  60

sub_2267:
    bbs 4,0xf5,lab_2278     ;2267  87 f5 0e
    bbc 5,0xf8,lab_2275     ;226a  b7 f8 08
    clb 5,0xf8              ;226d  bf f8
    lda 0x66                ;226f  a5 66
    cmp #0x0a               ;2271  c9 0a
    bne lab_2278            ;2273  d0 03

lab_2275:
    jmp lab_233e            ;2275  4c 3e 23

lab_2278:
    jsr sub_814d            ;2278  20 4d 81
    ldy #0x01               ;227b  a0 01
    jsr sub_3294            ;227d  20 94 32
    bbs 5,P2,lab_228e       ;2280  a7 04 0b
    bbc 0,0xec,lab_2293     ;2283  17 ec 0d
    clb 0,0xec              ;2286  1f ec
    jsr sub_c70f            ;2288  20 0f c7
    jmp lab_233e            ;228b  4c 3e 23

lab_228e:
    bbs 0,0xec,lab_2293     ;228e  07 ec 02
    seb 0,0xec              ;2291  0f ec

lab_2293:
    bbs 0,P2,lab_22a1       ;2293  07 04 0b
    bbc 1,0xec,lab_22a6     ;2296  37 ec 0d
    clb 1,0xec              ;2299  3f ec
    jsr sub_c7ac            ;229b  20 ac c7
    jmp lab_233e            ;229e  4c 3e 23

lab_22a1:
    bbs 1,0xec,lab_22a6     ;22a1  27 ec 02
    seb 1,0xec              ;22a4  2f ec

lab_22a6:
    bbc 1,0xf3,lab_22bf     ;22a6  37 f3 16
    bbs 0,0xf2,lab_22b2     ;22a9  07 f2 06
    bbs 3,0xf3,lab_22bc     ;22ac  67 f3 0d
    bbs 0,0xf5,lab_22bc     ;22af  07 f5 0a

lab_22b2:
    lda 0x66                ;22b2  a5 66
    cmp #0x01               ;22b4  c9 01
    beq lab_22bc            ;22b6  f0 04
    cmp #0x06               ;22b8  c9 06
    bne lab_22bf            ;22ba  d0 03

lab_22bc:
    jsr sub_9be1            ;22bc  20 e1 9b

lab_22bf:
    bbc 1,0xe5,lab_22c5     ;22bf  37 e5 03
    jsr sub_e392            ;22c2  20 92 e3

lab_22c5:
    bbs 6,P1,lab_22d4       ;22c5  c7 02 0c
    bbc 0,0xea,lab_22db     ;22c8  17 ea 10
    clb 0,0xea              ;22cb  1f ea
    jsr sub_d1f5            ;22cd  20 f5 d1
    seb 0,0xea              ;22d0  0f ea
    bra lab_22d9            ;22d2  80 05

lab_22d4:
    bbs 0,0xea,lab_22db     ;22d4  07 ea 04
    seb 0,0xea              ;22d7  0f ea

lab_22d9:
    bra lab_233e            ;22d9  80 63

lab_22db:
    bbc 4,P1,lab_22f5       ;22db  97 02 17
    bbs 0,P1,lab_22eb       ;22de  07 02 0a
    bbc 1,0xea,lab_22f5     ;22e1  37 ea 11
    clb 1,0xea              ;22e4  3f ea
    jsr sub_d223            ;22e6  20 23 d2
    bra lab_22f3            ;22e9  80 08

lab_22eb:
    bbs 1,0xea,lab_22f5     ;22eb  27 ea 07
    seb 1,0xea              ;22ee  2f ea
    jsr sub_d1fe            ;22f0  20 fe d1

lab_22f3:
    bra lab_233e            ;22f3  80 49

lab_22f5:
    bbc 5,P3,lab_2302       ;22f5  b7 06 0a
    bbc 1,0xeb,lab_2302     ;22f8  37 eb 07
    clb 1,0xeb              ;22fb  3f eb
    jsr sub_d9fc            ;22fd  20 fc d9
    bra lab_233e            ;2300  80 3c

lab_2302:
    bbs 0,P5,lab_230f       ;2302  07 0a 0a
    bbc 0,0xe9,lab_2316     ;2305  17 e9 0e
    clb 0,0xe9              ;2308  1f e9
    jsr sub_860f            ;230a  20 0f 86
    bra lab_2314            ;230d  80 05

lab_230f:
    bbs 0,0xe9,lab_2316     ;230f  07 e9 04
    seb 0,0xe9              ;2312  0f e9

lab_2314:
    bra lab_233e            ;2314  80 28

lab_2316:
    bbs 6,P2,lab_2325       ;2316  c7 04 0c
    lda #0x00               ;2319  a9 00
    sta 0x0382              ;231b  8d 82 03
    bbc 0,0xee,lab_233e     ;231e  17 ee 1d
    clb 0,0xee              ;2321  1f ee
    bra lab_233c            ;2323  80 17

lab_2325:
    bbs 0,0xee,lab_233e     ;2325  07 ee 16
    inc 0x0382              ;2328  ee 82 03
    lda 0x0382              ;232b  ad 82 03
    cmp #0x32               ;232e  c9 32
    bcc lab_233e            ;2330  90 0c
    lda #0x00               ;2332  a9 00
    sta 0x0382              ;2334  8d 82 03
    seb 0,0xee              ;2337  0f ee
    jsr sub_2c23            ;2339  20 23 2c

lab_233c:
    bra lab_233e            ;233c  80 00

lab_233e:
    rts                     ;233e  60

sub_233f:
    bbs 4,0xf5,lab_2347     ;233f  87 f5 05
    bbc 6,0xf8,lab_23a8     ;2342  d7 f8 63
    clb 6,0xf8              ;2345  df f8

lab_2347:
    jsr sub_50a0            ;2347  20 a0 50
    jsr sub_7b95            ;234a  20 95 7b
    ldy #0x02               ;234d  a0 02
    jsr sub_3294            ;234f  20 94 32
    bbc 5,0xf4,lab_2358     ;2352  b7 f4 03
    jsr sub_a8bb            ;2355  20 bb a8

lab_2358:
    bbc 5,0xe9,lab_2360     ;2358  b7 e9 05
    jsr sub_8591            ;235b  20 91 85
    clb 5,0xe9              ;235e  bf e9

lab_2360:
    bbc 0,0xf8,lab_2398     ;2360  17 f8 35
    clb 0,0xf8              ;2363  1f f8
    jsr sub_3212            ;2365  20 12 32
    jsr sub_d95e            ;2368  20 5e d9
    jsr sub_6f45            ;236b  20 45 6f
    jsr sub_24ec            ;236e  20 ec 24
    jsr sub_aa64            ;2371  20 64 aa
    ldy #0x03               ;2374  a0 03
    jsr sub_3294            ;2376  20 94 32
    bbc 4,0xee,lab_2395     ;2379  97 ee 19
    clb 4,0xee              ;237c  9f ee
    bbc 6,0xf1,lab_2395     ;237e  d7 f1 14
    ldy #0x0e               ;2381  a0 0e
    jsr sub_33c6            ;2383  20 c6 33
    bcs lab_2395            ;2386  b0 0d
    lda 0x5d                ;2388  a5 5d
    bne lab_2395            ;238a  d0 09
    jsr sub_437f            ;238c  20 7f 43
    jsr sub_43b9            ;238f  20 b9 43
    jsr sub_664a            ;2392  20 4a 66

lab_2395:
    bbc 4,0xf5,lab_23a8     ;2395  97 f5 10

lab_2398:
    bbc 1,0xf8,lab_23ab     ;2398  37 f8 10
    clb 1,0xf8              ;239b  3f f8
    jsr sub_e53a            ;239d  20 3a e5
    jsr sub_ed57            ;23a0  20 57 ed
    ldy #0x04               ;23a3  a0 04
    jsr sub_3294            ;23a5  20 94 32

lab_23a8:
    jmp lab_249f            ;23a8  4c 9f 24

lab_23ab:
    bbs 3,0xe6,lab_23c8     ;23ab  67 e6 1a
    bbs 5,0xf4,lab_23c8     ;23ae  a7 f4 17
    bbs 6,0xfb,lab_23c8     ;23b1  c7 fb 14
    bbs 0,P0,lab_23bf       ;23b4  07 00 08
    bbc 6,0xf0,lab_23c8     ;23b7  d7 f0 0e
    jsr sub_4637            ;23ba  20 37 46
    bra lab_23c5            ;23bd  80 06

lab_23bf:
    bbs 6,0xf0,lab_23c8     ;23bf  c7 f0 06
    jsr sub_461e            ;23c2  20 1e 46

lab_23c5:
    jmp lab_249f            ;23c5  4c 9f 24

lab_23c8:
    bbc 3,P4,lab_2407       ;23c8  77 08 3c
    bbs 3,PCTL2,lab_2407    ;23cb  67 2f 39
    bbs 3,0xe6,lab_2407     ;23ce  67 e6 36
    bbs 3,P8_P4I,lab_23e8   ;23d1  67 10 14
    bbc 1,0xee,lab_2402     ;23d4  37 ee 2b
    inc 0x0383              ;23d7  ee 83 03
    lda 0x0383              ;23da  ad 83 03
    cmp #0x03               ;23dd  c9 03
    bcc lab_2407            ;23df  90 26
    clb 1,0xee              ;23e1  3f ee
    jsr sub_2cc3            ;23e3  20 c3 2c
    bra lab_23fa            ;23e6  80 12

lab_23e8:
    bbs 1,0xee,lab_2402     ;23e8  27 ee 17
    inc 0x0383              ;23eb  ee 83 03
    lda 0x0383              ;23ee  ad 83 03
    cmp #0x03               ;23f1  c9 03
    bcc lab_2407            ;23f3  90 12
    seb 1,0xee              ;23f5  2f ee
    jsr sub_2c66            ;23f7  20 66 2c

lab_23fa:
    lda #0x00               ;23fa  a9 00
    sta 0x0383              ;23fc  8d 83 03
    jmp lab_249f            ;23ff  4c 9f 24

lab_2402:
    lda #0x00               ;2402  a9 00
    sta 0x0383              ;2404  8d 83 03

lab_2407:
    bbs 0,0xe8,lab_2413     ;2407  07 e8 09
    bbc 5,0xf4,lab_2413     ;240a  b7 f4 06
    jsr kwp_06_disconnect   ;240d  20 33 9f     disconnect
    jmp lab_249f            ;2410  4c 9f 24

lab_2413:
    bbc 5,0xf4,lab_2429     ;2413  b7 f4 13
    bbs 1,0xee,lab_2429     ;2416  27 ee 10
    ldy #0x09               ;2419  a0 09
    jsr sub_33c6            ;241b  20 c6 33
    bcs lab_2429            ;241e  b0 09
    bbs 3,0xe7,lab_2429     ;2420  67 e7 06
    jsr kwp_06_disconnect   ;2423  20 33 9f     disconnect
    jmp lab_249f            ;2426  4c 9f 24

lab_2429:
    bbs 0,0xf1,lab_2449     ;2429  07 f1 1d
    bbc 6,0xf1,lab_2449     ;242c  d7 f1 1a
    bbs 5,0xfd,lab_2449     ;242f  a7 fd 17
    jsr sub_252d            ;2432  20 2d 25
    bcs lab_2446            ;2435  b0 0f
    jsr sub_25e1            ;2437  20 e1 25
    bcs lab_2446            ;243a  b0 0a
    bbs 6,0xf0,lab_2449     ;243c  c7 f0 0a
    jsr sub_261d            ;243f  20 1d 26
    bcs lab_2446            ;2442  b0 02
    bra lab_2449            ;2444  80 03

lab_2446:
    jmp lab_249f            ;2446  4c 9f 24

lab_2449:
    bbc 7,0xf8,lab_245b     ;2449  f7 f8 0f
    lda 0x5d                ;244c  a5 5d
    bne lab_245b            ;244e  d0 0b
    clb 7,0xf8              ;2450  ff f8
    bbc 6,0xf1,lab_245b     ;2452  d7 f1 06
    jsr sub_24a0            ;2455  20 a0 24
    jmp lab_249f            ;2458  4c 9f 24

lab_245b:
    bbc 3,0xee,lab_2476     ;245b  77 ee 18
    clb 3,0xee              ;245e  7f ee
    bbc 6,0xf1,lab_2476     ;2460  d7 f1 13
    ldy #0x0e               ;2463  a0 0e
    jsr sub_33c6            ;2465  20 c6 33
    bcs lab_2476            ;2468  b0 0c
    jsr sub_437f            ;246a  20 7f 43
    jsr sub_43b9            ;246d  20 b9 43
    jsr sub_664a            ;2470  20 4a 66
    jmp lab_249f            ;2473  4c 9f 24

lab_2476:
    bbs 4,0xf5,lab_2486     ;2476  87 f5 0d
    bbs 5,P3,lab_2486       ;2479  a7 06 0a
    lda #0x00               ;247c  a9 00
    sta 0x0270              ;247e  8d 70 02
    jsr sub_6f9c            ;2481  20 9c 6f
    bra lab_249f            ;2484  80 19

lab_2486:
    bbs 4,0xf5,lab_2491     ;2486  87 f5 08
    bbc 5,P8_P4I,lab_2491   ;2489  b7 10 05
    jsr sub_263e            ;248c  20 3e 26
    bcc lab_249f            ;248f  90 0e

lab_2491:
    bbc 0,0x65,lab_249c     ;2491  17 65 08
    bbc 0,0xed,lab_249f     ;2494  17 ed 08
    jsr sub_c174            ;2497  20 74 c1
    bra lab_249f            ;249a  80 03

lab_249c:
    jsr sub_8329            ;249c  20 29 83

lab_249f:
    rts                     ;249f  60

sub_24a0:
    bbs 3,0x5c,lab_24e8     ;24a0  67 5c 45
    bbs 0,0x5c,lab_24ac     ;24a3  07 5c 06
    bbs 5,0x5c,lab_24ac     ;24a6  a7 5c 03
    bbc 1,0x5c,lab_24d8     ;24a9  37 5c 2c

lab_24ac:
    clb 0,0xf3              ;24ac  1f f3
    bbs 2,0xf4,lab_24d8     ;24ae  47 f4 27
    jsr sub_4173            ;24b1  20 73 41
    jsr sub_4281            ;24b4  20 81 42
    bbc 0,0xfd,lab_24d3     ;24b7  17 fd 19
    bbc 5,0x5c,lab_24c5     ;24ba  b7 5c 08
    jsr sub_8a75            ;24bd  20 75 8a
    jsr sub_8cdc            ;24c0  20 dc 8c
    bra lab_24d3            ;24c3  80 0e

lab_24c5:
    jsr sub_7655            ;24c5  20 55 76
    lda 0x71                ;24c8  a5 71
    ldy 0x016e              ;24ca  ac 6e 01
    jsr sub_8aa1            ;24cd  20 a1 8a
    jsr sub_8b8c            ;24d0  20 8c 8b

lab_24d3:
    ldy #0x11               ;24d3  a0 11
    jsr sub_3300            ;24d5  20 00 33

lab_24d8:
    bbc 2,0x5c,lab_24df     ;24d8  57 5c 04
    clb 6,0xf5              ;24db  df f5
    clb 7,0xf5              ;24dd  ff f5

lab_24df:
    jsr sub_437f            ;24df  20 7f 43
    jsr sub_43b9            ;24e2  20 b9 43
    jsr sub_664a            ;24e5  20 4a 66

lab_24e8:
    ldm #0x00,0x5c          ;24e8  3c 00 5c
    rts                     ;24eb  60

sub_24ec:
    bbs 0,0xf1,lab_252c     ;24ec  07 f1 3d
    bbc 3,0xf2,lab_252c     ;24ef  77 f2 3a
    bbs 4,0xf1,lab_252c     ;24f2  87 f1 37
    bbs 0,0xf2,lab_252c     ;24f5  07 f2 34
    bbs 5,0xfd,lab_252c     ;24f8  a7 fd 31
    bbs 1,0xf3,lab_252c     ;24fb  27 f3 2e
    inc 0x02b7              ;24fe  ee b7 02
    lda 0x02b7              ;2501  ad b7 02
    cmp #0x1e               ;2504  c9 1e
    bne lab_2516            ;2506  d0 0e
    bbs 2,0xfa,lab_252c     ;2508  47 fa 21
    bbs 7,0xfb,lab_252c     ;250b  e7 fb 1e
    bbs 5,0xf5,lab_2527     ;250e  a7 f5 16
    jsr sub_f01f            ;2511  20 1f f0
    bra lab_2527            ;2514  80 11

lab_2516:
    cmp #0x78               ;2516  c9 78
    bne lab_252c            ;2518  d0 12
    clb 1,0xfa              ;251a  3f fa
    clb 2,0xfa              ;251c  5f fa
    clb 7,0xfb              ;251e  ff fb
    lda #0x00               ;2520  a9 00
    sta 0x94                ;2522  85 94
    jsr sub_4524            ;2524  20 24 45

lab_2527:
    lda #0x00               ;2527  a9 00
    sta 0x02b7              ;2529  8d b7 02

lab_252c:
    rts                     ;252c  60

sub_252d:
    bbs 0,0xfa,lab_2556     ;252d  07 fa 26
    bbs 1,0xfa,lab_2556     ;2530  27 fa 23
    bbc 5,0xf5,lab_2547     ;2533  b7 f5 11
    lda 0xf0                ;2536  a5 f0
    cmp #0x01               ;2538  c9 01
    bne lab_2540            ;253a  d0 04
    lda 0xa0                ;253c  a5 a0
    bne lab_2591            ;253e  d0 51

lab_2540:
    clb 5,0xf5              ;2540  bf f5
    jsr sub_f01f            ;2542  20 1f f0
    bra lab_258e            ;2545  80 47

lab_2547:
    bbc 3,0xfa,lab_2591     ;2547  77 fa 47
    bbs 4,0xfc,lab_2591     ;254a  87 fc 44
    seb 4,0xfc              ;254d  8f fc
    ldy #0x13               ;254f  a0 13
    jsr sub_3300            ;2551  20 00 33
    bra lab_2591            ;2554  80 3b

lab_2556:
    bbs 4,0xfc,lab_255c     ;2556  87 fc 03
    bbs 3,0xfa,lab_2591     ;2559  67 fa 35

lab_255c:
    seb 3,0xfa              ;255c  6f fa
    clb 4,0xfc              ;255e  9f fc
    clb 5,0xf5              ;2560  bf f5
    ldy #0x13               ;2562  a0 13
    jsr sub_3361            ;2564  20 61 33
    ldy #0x11               ;2567  a0 11
    jsr sub_3361            ;2569  20 61 33
    ldy #0x12               ;256c  a0 12
    jsr sub_3361            ;256e  20 61 33
    jsr sub_def2            ;2571  20 f2 de
    ldy #0x0e               ;2574  a0 0e
    jsr sub_33c6            ;2576  20 c6 33
    bcs lab_258e            ;2579  b0 13
    bbs 0,0x5c,lab_2585     ;257b  07 5c 07
    bbs 1,0x5c,lab_2585     ;257e  27 5c 04
    lda 0x5d                ;2581  a5 5d
    bne lab_258e            ;2583  d0 09

lab_2585:
    jsr sub_437f            ;2585  20 7f 43
    jsr sub_43b9            ;2588  20 b9 43
    jsr sub_664a            ;258b  20 4a 66

lab_258e:
    sec                     ;258e  38
    bra lab_2592            ;258f  80 01

lab_2591:
    clc                     ;2591  18

lab_2592:
    rts                     ;2592  60

sub_2593:
    jsr sub_259c            ;2593  20 9c 25
    bcs lab_259b            ;2596  b0 03
    jsr sub_25c6            ;2598  20 c6 25

lab_259b:
    rts                     ;259b  60

sub_259c:
    lda 0x0094              ;259c  a5 94
    cmp #0x1f               ;259e  c9 1f
    beq lab_25ae            ;25a0  f0 0c
    bbc 7,0x00fb,lab_25c4   ;25a2  f7 fb 1f
    clb 7,0x00fb            ;25a5  ff fb
    clb 2,0x00fa            ;25a7  5f fa
    jsr sub_4524            ;25a9  20 24 45
    bra lab_25c1            ;25ac  80 13

lab_25ae:
    bbs 7,0x00fb,lab_25c4   ;25ae  e7 fb 13
    ldy #0x0e               ;25b1  a0 0e
    jsr sub_33c6            ;25b3  20 c6 33
    bcs lab_25c4            ;25b6  b0 0c
    seb 7,0x00fb            ;25b8  ef fb
    seb 6,0x00fb            ;25ba  cf fb
    clb 6,0x00f0            ;25bc  df f0
    jsr sub_44ce            ;25be  20 ce 44

lab_25c1:
    sec                     ;25c1  38
    bra lab_25c5            ;25c2  80 01

lab_25c4:
    clc                     ;25c4  18

lab_25c5:
    rts                     ;25c5  60

sub_25c6:
    bbs 6,0x00f0,lab_25e0   ;25c6  c7 f0 17
    lda 0x05d1              ;25c9  ad d1 05
    cmp #0x1f               ;25cc  c9 1f
    beq lab_25d2            ;25ce  f0 02
    bra lab_25df            ;25d0  80 0d

lab_25d2:
    bbs 7,0x00fb,lab_25df   ;25d2  e7 fb 0a
    seb 7,0x00fb            ;25d5  ef fb
    seb 6,0x00fb            ;25d7  cf fb
    jsr sub_45bb            ;25d9  20 bb 45
    sec                     ;25dc  38
    bra lab_25e0            ;25dd  80 01

lab_25df:
    clc                     ;25df  18

lab_25e0:
    rts                     ;25e0  60

sub_25e1:
    clc                     ;25e1  18
    bbs 0,0xfe,lab_25fe     ;25e2  07 fe 19
    bbs 1,0xfa,lab_25f4     ;25e5  27 fa 0c
    bbc 2,0xfa,lab_261c     ;25e8  57 fa 31
    clb 2,0xfa              ;25eb  5f fa
    clb 7,0xfb              ;25ed  ff fb
    jsr sub_4524            ;25ef  20 24 45
    bra lab_261b            ;25f2  80 27

lab_25f4:
    bbs 2,0xfa,lab_261c     ;25f4  47 fa 25
    seb 2,0xfa              ;25f7  4f fa
    jsr sub_44ce            ;25f9  20 ce 44
    bra lab_261b            ;25fc  80 1d

lab_25fe:
    bbs 6,0xf0,lab_261c     ;25fe  c7 f0 1b
    bbs 6,0xfe,lab_261c     ;2601  c7 fe 18
    bbs 2,0xfe,lab_2613     ;2604  47 fe 0c
    bbc 2,0xfa,lab_261c     ;2607  57 fa 12
    clb 2,0xfa              ;260a  5f fa
    clb 7,0xfb              ;260c  ff fb
    jsr sub_4524            ;260e  20 24 45
    bra lab_261c            ;2611  80 09

lab_2613:
    bbs 2,0xfa,lab_261c     ;2613  47 fa 06
    seb 2,0xfa              ;2616  4f fa
    jsr sub_45bb            ;2618  20 bb 45

lab_261b:
    sec                     ;261b  38

lab_261c:
    rts                     ;261c  60

sub_261d:
    clc                     ;261d  18
    bbs 4,0xf4,lab_2627     ;261e  87 f4 06
    lda 0xf0                ;2621  a5 f0
    and #0xfc               ;2623  29 fc
    bne lab_263d            ;2625  d0 16

lab_2627:
    bbs 4,0xfa,lab_2634     ;2627  87 fa 0a
    bbc 5,0xfa,lab_263d     ;262a  b7 fa 10
    clb 5,0xfa              ;262d  bf fa
    jsr sub_71bc            ;262f  20 bc 71
    bra lab_263c            ;2632  80 08

lab_2634:
    bbs 5,0xfa,lab_263d     ;2634  a7 fa 06
    seb 5,0xfa              ;2637  af fa
    jsr sub_71bc            ;2639  20 bc 71

lab_263c:
    sec                     ;263c  38

lab_263d:
    rts                     ;263d  60

sub_263e:
    lda #0x04               ;263e  a9 04
    jsr sub_26d8            ;2640  20 d8 26
    cmp #0x19               ;2643  c9 19
    bcs lab_264c            ;2645  b0 05
    inc 0x0380              ;2647  ee 80 03
    bra lab_2651            ;264a  80 05

lab_264c:
    ldx #0x00               ;264c  a2 00
    stx 0x0380              ;264e  8e 80 03

lab_2651:
    cmp #0x93               ;2651  c9 93
    bcc lab_2666            ;2653  90 11
    cmp #0xe5               ;2655  c9 e5
    bcc lab_269a            ;2657  90 41
    lda 0x02d5              ;2659  ad d5 02
    beq lab_269a            ;265c  f0 3c
    bbs 2,0xee,lab_269a     ;265e  47 ee 39
    dec 0x02d5              ;2661  ce d5 02
    bra lab_2681            ;2664  80 1b

lab_2666:
    inc 0x02d5              ;2666  ee d5 02
    cmp #0x7f               ;2669  c9 7f
    bcs lab_2681            ;266b  b0 14
    inc 0x02d5              ;266d  ee d5 02
    cmp #0x66               ;2670  c9 66
    bcs lab_2681            ;2672  b0 0d
    inc 0x02d5              ;2674  ee d5 02
    cmp #0x33               ;2677  c9 33
    bcs lab_2681            ;2679  b0 06
    inc 0x02d5              ;267b  ee d5 02
    inc 0x02d5              ;267e  ee d5 02

lab_2681:
    lda 0x02d5              ;2681  ad d5 02
    cmp #0x23               ;2684  c9 23
    bcc lab_268d            ;2686  90 05
    lda #0x23               ;2688  a9 23
    sta 0x02d5              ;268a  8d d5 02

lab_268d:
    jsr sub_71bc            ;268d  20 bc 71
    seb 2,0xee              ;2690  4f ee
    ldy #0x10               ;2692  a0 10
    jsr sub_3300            ;2694  20 00 33
    clc                     ;2697  18
    bra lab_269b            ;2698  80 01

lab_269a:
    sec                     ;269a  38

lab_269b:
    rts                     ;269b  60

    .byte 0xa5              ;269c  a5          DATA 0xa5
    .byte 0x40              ;269d  40          DATA 0x40 '@'
    .byte 0x48              ;269e  48          DATA 0x48 'H'
    .byte 0x38              ;269f  38          DATA 0x38 '8'
    .byte 0xad              ;26a0  ad          DATA 0xad
    .byte 0x85              ;26a1  85          DATA 0x85
    .byte 0x03              ;26a2  03          DATA 0x03
    .byte 0xe5              ;26a3  e5          DATA 0xe5
    .byte 0xa0              ;26a4  a0          DATA 0xa0
    .byte 0x30              ;26a5  30          DATA 0x30 '0'
    .byte 0x19              ;26a6  19          DATA 0x19
    .byte 0x85              ;26a7  85          DATA 0x85
    .byte 0x40              ;26a8  40          DATA 0x40 '@'
    .byte 0x06              ;26a9  06          DATA 0x06
    .byte 0x40              ;26aa  40          DATA 0x40 '@'
    .byte 0x18              ;26ab  18          DATA 0x18
    .byte 0x65              ;26ac  65          DATA 0x65 'e'
    .byte 0x40              ;26ad  40          DATA 0x40 '@'
    .byte 0x85              ;26ae  85          DATA 0x85
    .byte 0x40              ;26af  40          DATA 0x40 '@'
    .byte 0x38              ;26b0  38          DATA 0x38 '8'
    .byte 0xad              ;26b1  ad          DATA 0xad
    .byte 0xd5              ;26b2  d5          DATA 0xd5
    .byte 0x02              ;26b3  02          DATA 0x02
    .byte 0xe5              ;26b4  e5          DATA 0xe5
    .byte 0x40              ;26b5  40          DATA 0x40 '@'
    .byte 0x8d              ;26b6  8d          DATA 0x8d
    .byte 0xd5              ;26b7  d5          DATA 0xd5
    .byte 0x02              ;26b8  02          DATA 0x02
    .byte 0x10              ;26b9  10          DATA 0x10
    .byte 0x05              ;26ba  05          DATA 0x05
    .byte 0xa9              ;26bb  a9          DATA 0xa9
    .byte 0x00              ;26bc  00          DATA 0x00
    .byte 0x8d              ;26bd  8d          DATA 0x8d
    .byte 0xd5              ;26be  d5          DATA 0xd5
    .byte 0x02              ;26bf  02          DATA 0x02
    .byte 0x68              ;26c0  68          DATA 0x68 'h'
    .byte 0x85              ;26c1  85          DATA 0x85
    .byte 0x40              ;26c2  40          DATA 0x40 '@'
    .byte 0x60              ;26c3  60          DATA 0x60 '`'
    .byte 0xa5              ;26c4  a5          DATA 0xa5
    .byte 0x76              ;26c5  76          DATA 0x76 'v'
    .byte 0xf0              ;26c6  f0          DATA 0xf0
    .byte 0x0f              ;26c7  0f          DATA 0x0f
    .byte 0xc9              ;26c8  c9          DATA 0xc9
    .byte 0x64              ;26c9  64          DATA 0x64 'd'
    .byte 0xb0              ;26ca  b0          DATA 0xb0
    .byte 0x0b              ;26cb  0b          DATA 0x0b
    .byte 0x20              ;26cc  20          DATA 0x20 ' '
    .byte 0x37              ;26cd  37          DATA 0x37 '7'
    .byte 0x6b              ;26ce  6b          DATA 0x6b 'k'
    .byte 0x3c              ;26cf  3c          DATA 0x3c '<'
    .byte 0x00              ;26d0  00          DATA 0x00
    .byte 0x76              ;26d1  76          DATA 0x76 'v'
    .byte 0x3c              ;26d2  3c          DATA 0x3c '<'
    .byte 0x32              ;26d3  32          DATA 0x32 '2'
    .byte 0x5d              ;26d4  5d          DATA 0x5d ']'
    .byte 0xff              ;26d5  ff          DATA 0xff
    .byte 0xf8              ;26d6  f8          DATA 0xf8
    .byte 0x60              ;26d7  60          DATA 0x60 '`'

sub_26d8:
    and #0x07               ;26d8  29 07
    sei                     ;26da  78
    sta ADCON               ;26db  85 34

lab_26dd:
    bbc 3,ADCON,lab_26dd    ;26dd  77 34 fd
    lda AD1                 ;26e0  a5 35
    cli                     ;26e2  58
    rts                     ;26e3  60

    .byte 0x85              ;26e4  85          DATA 0x85
    .byte 0x36              ;26e5  36          DATA 0x36 '6'
    .byte 0x60              ;26e6  60          DATA 0x60 '`'
    .byte 0xa2              ;26e7  a2          DATA 0xa2
    .byte 0xbf              ;26e8  bf          DATA 0xbf
    .byte 0xa9              ;26e9  a9          DATA 0xa9
    .byte 0x00              ;26ea  00          DATA 0x00
    .byte 0xe0              ;26eb  e0          DATA 0xe0
    .byte 0xb0              ;26ec  b0          DATA 0xb0
    .byte 0x90              ;26ed  90          DATA 0x90
    .byte 0x04              ;26ee  04          DATA 0x04
    .byte 0xe0              ;26ef  e0          DATA 0xe0
    .byte 0xb3              ;26f0  b3          DATA 0xb3
    .byte 0x90              ;26f1  90          DATA 0x90
    .byte 0x02              ;26f2  02          DATA 0x02
    .byte 0x95              ;26f3  95          DATA 0x95
    .byte 0x40              ;26f4  40          DATA 0x40 '@'
    .byte 0xca              ;26f5  ca          DATA 0xca
    .byte 0xd0              ;26f6  d0          DATA 0xd0
    .byte 0xf3              ;26f7  f3          DATA 0xf3
    .byte 0x85              ;26f8  85          DATA 0x85
    .byte 0x40              ;26f9  40          DATA 0x40 '@'
    .byte 0x60              ;26fa  60          DATA 0x60 '`'
    .byte 0xa2              ;26fb  a2          DATA 0xa2
    .byte 0xbf              ;26fc  bf          DATA 0xbf
    .byte 0xa9              ;26fd  a9          DATA 0xa9
    .byte 0x00              ;26fe  00          DATA 0x00
    .byte 0x9d              ;26ff  9d          DATA 0x9d
    .byte 0x00              ;2700  00          DATA 0x00
    .byte 0x01              ;2701  01          DATA 0x01
    .byte 0xca              ;2702  ca          DATA 0xca
    .byte 0xd0              ;2703  d0          DATA 0xd0
    .byte 0xfa              ;2704  fa          DATA 0xfa
    .byte 0x8d              ;2705  8d          DATA 0x8d
    .byte 0x00              ;2706  00          DATA 0x00
    .byte 0x01              ;2707  01          DATA 0x01
    .byte 0x60              ;2708  60          DATA 0x60 '`'

sub_2709:
    ldx #0xbf               ;2709  a2 bf
    lda #0x00               ;270b  a9 00

lab_270d:
    cpx #0xb0               ;270d  e0 b0
    bcc lab_2715            ;270f  90 04
    cpx #0xb3               ;2711  e0 b3
    bcc lab_2717            ;2713  90 02

lab_2715:
    sta 0x40,x              ;2715  95 40

lab_2717:
    sta 0x0100,x            ;2717  9d 00 01
    dex                     ;271a  ca
    bne lab_270d            ;271b  d0 f0
    sta 0x40                ;271d  85 40
    sta 0x0100              ;271f  8d 00 01
    ldx #0x2f               ;2722  a2 2f

lab_2724:
    sta 0x01c0,x            ;2724  9d c0 01
    dex                     ;2727  ca
    bpl lab_2724            ;2728  10 fa
    rts                     ;272a  60


;Clear 0x0200 - 0x03FF
clear_0x0200_0x03ff:
    ldx #0x00               ;272b  a2 00
    lda #0x00               ;272d  a9 00
lab_272f_loop_0x2xx:
    sta 0x0200,x            ;272f  9d 00 02
    dex                     ;2732  ca
    bne lab_272f_loop_0x2xx ;2733  d0 fa
    ldx #0x00               ;2735  a2 00
    lda #0x00               ;2737  a9 00
lab_2739_loop_0x3xx:
    sta 0x0300,x            ;2739  9d 00 03
    dex                     ;273c  ca
    bne lab_2739_loop_0x3xx ;273d  d0 fa
    rts                     ;273f  60


;Clear 0x0400 - 0x04FF
clear_0x0400_0x04ff:
    ldx #0x00               ;2740  a2 00
    lda #0x00               ;2742  a9 00
lab_2744_loop:
    sta 0x0400,x            ;2744  9d 00 04
    dex                     ;2747  ca
    bne lab_2744_loop       ;2748  d0 fa
    rts                     ;274a  60


;Clear 0x0500 - 0x05FF
clear_0x0500_0x05ff:
    ldx #0x00               ;274b  a2 00
    lda #0x00               ;274d  a9 00
lab_274f_loop:
    sta 0x0500,x            ;274f  9d 00 05
    dex                     ;2752  ca
    bne lab_274f_loop       ;2753  d0 fa
    rts                     ;2755  60


;Clear 0x0600 - 0x06FF
clear_0x0600_0x06ff:
    ldx #0x00               ;2756  a2 00
    lda #0x00               ;2758  a9 00
lab_275a_loop:
    sta 0x0600,x            ;275a  9d 00 06
    dex                     ;275d  ca
    bne lab_275a_loop       ;275e  d0 fa
    rts                     ;2760  60


;Clear 0x0700 - 0x07FF
clear_0x0700_0x07ff:
    ldx #0x00               ;2761  a2 00
    lda #0x00               ;2763  a9 00
lab_2765:
    sta 0x0700,x            ;2765  9d 00 07
    dex                     ;2768  ca
    bne lab_2765            ;2769  d0 fa
    rts                     ;276b  60


;Clear 0x0800-0x083F
clear_0x0800_0x083f:
    ldx #0x3f               ;276c  a2 3f
    lda #0x00               ;276e  a9 00
lab_2770:
    sta 0x0800,x            ;2770  9d 00 08
    dex                     ;2773  ca
    bpl lab_2770            ;2774  10 fa
    rts                     ;2776  60


    .byte 0xa9              ;2777  a9          DATA 0xa9
    .byte 0x00              ;2778  00          DATA 0x00
    .byte 0x57              ;2779  57          DATA 0x57 'W'
    .byte 0xb0              ;277a  b0          DATA 0xb0
    .byte 0x01              ;277b  01          DATA 0x01
    .byte 0x3a              ;277c  3a          DATA 0x3a ':'
    .byte 0x37              ;277d  37          DATA 0x37 '7'
    .byte 0xb1              ;277e  b1          DATA 0xb1
    .byte 0x01              ;277f  01          DATA 0x01
    .byte 0x3a              ;2780  3a          DATA 0x3a ':'
    .byte 0x4a              ;2781  4a          DATA 0x4a 'J'
    .byte 0x26              ;2782  26          DATA 0x26 '&'
    .byte 0xb0              ;2783  b0          DATA 0xb0
    .byte 0x26              ;2784  26          DATA 0x26 '&'
    .byte 0xb1              ;2785  b1          DATA 0xb1
    .byte 0x60              ;2786  60          DATA 0x60 '`'

sub_2787:
    lda #0x00               ;2787  a9 00
    bbc 3,0xb0,lab_278d     ;2789  77 b0 01
    inc a                   ;278c  3a

lab_278d:
    bbc 6,0xb0,lab_2791     ;278d  d7 b0 01
    inc a                   ;2790  3a

lab_2791:
    bbc 0,0xb1,lab_2795     ;2791  17 b1 01
    inc a                   ;2794  3a

lab_2795:
    bbc 7,0xb1,lab_2799     ;2795  f7 b1 01
    inc a                   ;2798  3a

lab_2799:
    lsr a                   ;2799  4a
    rol 0xb0                ;279a  26 b0
    rol 0xb1                ;279c  26 b1
    rts                     ;279e  60

sub_279f:
    jsr sub_2787            ;279f  20 87 27
    ldx 0xb1                ;27a2  a6 b1
    lda 0xb0                ;27a4  a5 b0
    bne lab_27b0            ;27a6  d0 08
    cpx #0x00               ;27a8  e0 00
    bne lab_27b0            ;27aa  d0 04
    lda #0x01               ;27ac  a9 01
    sta 0xb0                ;27ae  85 b0

lab_27b0:
    rts                     ;27b0  60

sub_27b1:
    jsr sub_6f1c            ;27b1  20 1c 6f
    jsr sub_b40f_disconnect ;27b4  20 0f b4     Terminate KWP1281 or TechniSat session
    jsr sub_822c            ;27b7  20 2c 82
    clb 0,0xf7              ;27ba  1f f7
    ldm #0xff,0x72          ;27bc  3c ff 72
    bbc 7,P1,lab_27f2       ;27bf  f7 02 30
    seb 6,P0                ;27c2  cf 00
    jsr sub_27f6            ;27c4  20 f6 27
    jsr sub_46ce            ;27c7  20 ce 46     I2C related
    jsr sub_4d39            ;27ca  20 39 4d
    jsr sub_c9af            ;27cd  20 af c9
    seb 6,0xf1              ;27d0  cf f1
    clb 1,0xf4              ;27d2  3f f4
    clb 4,0xf4              ;27d4  9f f4
    clb 6,0xf0              ;27d6  df f0
    bbc 7,0xf0,lab_27de     ;27d8  f7 f0 03
    bbs 0,0xf1,lab_27e5     ;27db  07 f1 07

lab_27de:
    seb 7,0xf0              ;27de  ef f0
    seb 0,0xf1              ;27e0  0f f1
    jsr sub_4c63            ;27e2  20 63 4c     TODO unknown I2C activities

lab_27e5:
    jsr sub_b846            ;27e5  20 46 b8
    seb 7,0xf1              ;27e8  ef f1
    jsr sub_2b17            ;27ea  20 17 2b
    jsr sub_2b51            ;27ed  20 51 2b
    bra lab_27f5            ;27f0  80 03

lab_27f2:
    jsr sub_2ea2            ;27f2  20 a2 2e

lab_27f5:
    rts                     ;27f5  60

sub_27f6:
    sei                     ;27f6  78
    clb 1,ICON2             ;27f7  3f 3f
    cli                     ;27f9  58
    clb 2,0xe6              ;27fa  5f e6

lab_27fc:
    bbc 5,0xf8,lab_27fc     ;27fc  b7 f8 fd
    clb 5,0xf8              ;27ff  bf f8
    seb 3,P3                ;2801  6f 06
    seb 0,P8_P4I            ;2803  0f 10
    seb 1,P8_P4I            ;2805  2f 10
    jsr sub_82f1            ;2807  20 f1 82

lab_280a:
    bbc 5,0xf8,lab_280a     ;280a  b7 f8 fd
    clb 5,0xf8              ;280d  bf f8
    bbc 3,P4,lab_2814       ;280f  77 08 02
    clb 2,0xe6              ;2812  5f e6

lab_2814:
    lda #0x13               ;2814  a9 13

lab_2816:
    bbc 5,0xf8,lab_2816     ;2816  b7 f8 fd
    clb 5,0xf8              ;2819  bf f8
    bbs 2,0xe6,lab_2821     ;281b  47 e6 03
    dec a                   ;281e  1a
    bpl lab_2816            ;281f  10 f5

lab_2821:
    rts                     ;2821  60

sub_2822:
    clb 0,P8_P4I            ;2822  1f 10

    ldy #0x14               ;2824  a0 14
    jsr sub_f22c_delay      ;2826  20 2c f2     Delay an unknown time period for Y iterations

    clb 3,P3                ;2829  7f 06
    clb 2,P1                ;282b  5f 02
    clb 3,P1                ;282d  7f 02

    ldy #0x78               ;282f  a0 78
    jsr sub_f22c_delay      ;2831  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;2834  60

sub_2835:
    jsr sub_ae8d            ;2835  20 8d ae
    clb 2,0xf5              ;2838  5f f5
    clb 3,0xf3              ;283a  7f f3
    clb 1,0xf3              ;283c  3f f3
    clb 0,0xf9              ;283e  1f f9
    jsr sub_544b            ;2840  20 4b 54     Clears many registers
    clb 2,0xfa              ;2843  5f fa
    clb 7,0xfb              ;2845  ff fb
    clb 2,0xf4              ;2847  5f f4
    clb 6,0xfb              ;2849  df fb
    clb 3,0xfa              ;284b  7f fa
    jsr sub_44a7            ;284d  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;2850  20 0d 89
    seb 6,P0                ;2853  cf 00
    seb 7,P0                ;2855  ef 00
    clb 7,P2                ;2857  ff 04
    jsr sub_bebc            ;2859  20 bc be
    jsr sub_27f6            ;285c  20 f6 27
    jsr sub_822c            ;285f  20 2c 82
    jsr sub_46ce            ;2862  20 ce 46     I2C related
    jsr sub_7bdc            ;2865  20 dc 7b
    lda 0xf0                ;2868  a5 f0
    pha                     ;286a  48
    jsr sub_4bec            ;286b  20 ec 4b
    jsr sub_435d            ;286e  20 5d 43
    jsr sub_4979            ;2871  20 79 49
    jsr sub_773e            ;2874  20 3e 77
    seb 2,0xee              ;2877  4f ee
    clb 6,0xf1              ;2879  df f1
    clb 1,0xf4              ;287b  3f f4
    clb 6,0xf0              ;287d  df f0
    clb 5,0xf0              ;287f  bf f0
    clb 4,0xf1              ;2881  9f f1
    pla                     ;2883  68
    bbc 6,a,lab_288b        ;2884  d3 05
    seb 6,0xf0              ;2886  cf f0
    jsr sub_432b            ;2888  20 2b 43

lab_288b:
    jsr sub_3387            ;288b  20 87 33
    seb 6,0xf1              ;288e  cf f1
    jsr sub_4c63            ;2890  20 63 4c     TODO unknown I2C activities
    bbs 2,0xe6,lab_28d8     ;2893  47 e6 42
    ldy #0x0c               ;2896  a0 0c
    jsr sub_3300            ;2898  20 00 33
    ldy #0x0d               ;289b  a0 0d
    jsr sub_3300            ;289d  20 00 33
    ldy #0x0e               ;28a0  a0 0e
    jsr sub_3300            ;28a2  20 00 33
    jsr sub_4e8a            ;28a5  20 8a 4e
    jsr sub_6fab            ;28a8  20 ab 6f
    jsr sub_7673            ;28ab  20 73 76
    jsr sub_c929            ;28ae  20 29 c9
    bbc 3,0xf1,lab_28b9     ;28b1  77 f1 05
    ldy #0x36               ;28b4  a0 36
    jsr sub_3300            ;28b6  20 00 33

lab_28b9:
    jsr sub_84eb            ;28b9  20 eb 84
    jsr sub_d2df            ;28bc  20 df d2
    jsr sub_da72            ;28bf  20 72 da
    ldm #0x00,0xcb          ;28c2  3c 00 cb
    seb 1,0xef              ;28c5  2f ef
    jsr sub_bef0            ;28c7  20 f0 be
    seb 4,P3                ;28ca  8f 06
    jsr sub_c166            ;28cc  20 66 c1
    ldm #0x05,0x5a          ;28cf  3c 05 5a
    ldm #0x00,0x58          ;28d2  3c 00 58
    jsr sub_6e61            ;28d5  20 61 6e

lab_28d8:
    rts                     ;28d8  60

sub_28d9:
    clb 4,0x00f4            ;28d9  9f f4
    clb 0,0x00f9            ;28db  1f f9
    jsr sub_544b            ;28dd  20 4b 54
    lda #0x00               ;28e0  a9 00
    sta 0x0090              ;28e2  85 90
    lda #0x00               ;28e4  a9 00
    sta 0x0091              ;28e6  85 91
    clb 3,0x00fa            ;28e8  7f fa
    clb 2,0x00f4            ;28ea  5f f4
    clb 6,0x00fb            ;28ec  df fb
    jsr sub_890d            ;28ee  20 0d 89
    jsr sub_5211            ;28f1  20 11 52
    jsr sub_4979            ;28f4  20 79 49
    jsr sub_8afa            ;28f7  20 fa 8a
    jsr sub_8b8c            ;28fa  20 8c 8b
    jsr sub_7655            ;28fd  20 55 76
    jsr sub_4e8a            ;2900  20 8a 4e
    jsr sub_4dd1            ;2903  20 d1 4d
    bbs 0,0x00f2,lab_2911   ;2906  07 f2 08
    seb 4,0x00fa            ;2909  8f fa
    seb 5,0x00fa            ;290b  af fa
    seb 0,0x00f9            ;290d  0f f9
    bra lab_2915            ;290f  80 04

lab_2911:
    clb 4,0x00fa            ;2911  9f fa
    clb 5,0x00fa            ;2913  bf fa

lab_2915:
    ldy #0x04               ;2915  a0 04
    jsr sub_f22c_delay      ;2917  20 2c f2
    jsr sub_50a0            ;291a  20 a0 50
    jsr sub_7bb8            ;291d  20 b8 7b
    rts                     ;2920  60

sub_2921:
    bbs 0,0xee,lab_294a     ;2921  07 ee 26
    bbs 6,0xf1,lab_292a     ;2924  c7 f1 03
    jsr sub_2835            ;2927  20 35 28

lab_292a:
    clb 7,0xf1              ;292a  ff f1
    clb 1,0xf4              ;292c  3f f4
    bbs 1,0xee,lab_2940     ;292e  27 ee 0f
    lda #0x3c               ;2931  a9 3c
    sta 0x01af              ;2933  8d af 01
    ldy #0x09               ;2936  a0 09
    jsr sub_3300            ;2938  20 00 33
    lda #0x00               ;293b  a9 00
    sta 0x05be              ;293d  8d be 05

lab_2940:
    ldy #0x0e               ;2940  a0 0e
    jsr sub_3300            ;2942  20 00 33
    seb 3,0xf2              ;2945  6f f2
    jsr sub_4c63            ;2947  20 63 4c     TODO unknown I2C activities

lab_294a:
    rts                     ;294a  60

;XXX appears unused
sub_294b:
    jsr sub_8591            ;294b  20 91 85
    lda #0x00               ;294e  a9 00
    sta 0x02fc              ;2950  8d fc 02
    ldx #0x03               ;2953  a2 03

lab_2955:
    sta 0x02f0,x            ;2955  9d f0 02
    sta 0x02f4,x            ;2958  9d f4 02
    sta 0x02f8,x            ;295b  9d f8 02
    dex                     ;295e  ca
    bpl lab_2955            ;295f  10 f4
    clb 4,0x00e9            ;2961  9f e9
    clb 5,0x00e9            ;2963  bf e9
    clb 2,P5                ;2965  5f 0a
    seb 4,P8_P4I            ;2967  8f 10
    rts                     ;2969  60

;XXX appears unused
sub_296a:
    jsr sub_28d9            ;296a  20 d9 28
    lda #0x00               ;296d  a9 00
    sta 0x02d5              ;296f  8d d5 02
    clb 2,0x00ee            ;2972  5f ee
    jsr sub_d2fd            ;2974  20 fd d2
    rts                     ;2977  60

;XXX appears unused
sub_2978:
    seb 5,P8_P4I            ;2978  af 10
    seb 7,P2                ;297a  ef 04
    seb 6,P8_P4I            ;297c  cf 10
    lda 0x0295              ;297e  ad 95 02
    cmp #0x01               ;2981  c9 01
    bne lab_298c            ;2983  d0 07
    lda 0x02a5              ;2985  ad a5 02
    cmp #0x32               ;2988  c9 32
    bcs lab_298e            ;298a  b0 02

lab_298c:
    seb 1,P0                ;298c  2f 00

lab_298e:
    jsr sub_6e61            ;298e  20 61 6e
    bbs 3,0x00f2,lab_2999   ;2991  67 f2 05
    jsr sub_29a7            ;2994  20 a7 29
    bra lab_29a4            ;2997  80 0b

lab_2999:
    bbs 7,0x00f0  ,lab_29a1 ;2999  e7 f0 05
    jsr sub_29ae            ;299c  20 ae 29
    bra lab_29a4            ;299f  80 03

lab_29a1:
    jsr sub_2a12            ;29a1  20 12 2a

lab_29a4:
    clb 0,0x00e5            ;29a4  1f e5
    rts                     ;29a6  60

sub_29a7:
    bbc 6,0x00f0  ,lab_29ad ;29a7  d7 f0 03
    jsr sub_4688            ;29aa  20 88 46

lab_29ad:
    rts                     ;29ad  60

sub_29ae:
    bbc 6,0x00f0  ,lab_29b6 ;29ae  d7 f0 05
    jsr sub_4688            ;29b1  20 88 46
    bra lab_2a11            ;29b4  80 5b

lab_29b6:
    bbc 3,0x00f0  ,lab_29c4 ;29b6  77 f0 0b
    clb 4,0x00f0            ;29b9  9f f0
    lda #0x00               ;29bb  a9 00
    jsr sub_d33f            ;29bd  20 3f d3
    bcs lab_29c4            ;29c0  b0 02
    clb 3,0x00f0            ;29c2  7f f0

lab_29c4:
    bbc 4,0x00f0  ,lab_29ce ;29c4  97 f0 07
    jsr sub_d931            ;29c7  20 31 d9
    bcs lab_29ce            ;29ca  b0 02
    clb 4,0x00f0            ;29cc  9f f0

lab_29ce:
    bbc 0,0x00fc,lab_29df   ;29ce  17 fc 0e
    lda 0x00f0              ;29d1  a5 f0
    and #0xfc               ;29d3  29 fc
    bne lab_29df            ;29d5  d0 08
    ldm #0x2a,0x005b        ;29d7  3c 2a 5b
    jsr sub_4090            ;29da  20 90 40
    bra lab_29e8            ;29dd  80 09

lab_29df:
    jsr sub_437f            ;29df  20 7f 43
    jsr sub_43b9            ;29e2  20 b9 43
    jsr sub_664a            ;29e5  20 4a 66

lab_29e8:
    lda 0x00a0              ;29e8  a5 a0
    pha                     ;29ea  48
    ldm #0x00,0x00a0        ;29eb  3c 00 a0
    jsr sub_70bb            ;29ee  20 bb 70
    pla                     ;29f1  68
    sta 0x00a0              ;29f2  85 a0
    bbs 3,0x00f0  ,lab_29fd ;29f4  67 f0 06
    bbs 4,0x00f0  ,lab_29fd ;29f7  87 f0 03
    jsr sub_7694            ;29fa  20 94 76

lab_29fd:
    jsr sub_76f2            ;29fd  20 f2 76
    ldy #0x0b               ;2a00  a0 0b
    jsr sub_3300            ;2a02  20 00 33
    ldy #0x11               ;2a05  a0 11
    jsr sub_3300            ;2a07  20 00 33
    lda #0x00               ;2a0a  a9 00
    sta 0x02b7              ;2a0c  8d b7 02
    seb 2,0x00e5            ;2a0f  4f e5

lab_2a11:
    rts                     ;2a11  60

sub_2a12:
    bbc 6,0x00f0,lab_2a18   ;2a12  d7 f0 03
    jsr sub_4688            ;2a15  20 88 46

lab_2a18:
    bbc 0,0x00f1,lab_2a40   ;2a18  17 f1 25
    bbc 0,0x00e5,lab_2a38   ;2a1b  17 e5 1a
    lda #0x00               ;2a1e  a9 00
    sta 0x026c              ;2a20  8d 6c 02
    jsr sub_4d23            ;2a23  20 23 4d
    bcs lab_2a38            ;2a26  b0 10
    clb 7,0x00f0            ;2a28  ff f0
    clb 0,0x00f1            ;2a2a  1f f1
    seb 1,0x00f1            ;2a2c  2f f1
    jsr sub_29ae            ;2a2e  20 ae 29
    ldy #0x02               ;2a31  a0 02
    jsr sub_3300            ;2a33  20 00 33
    bra lab_2a45            ;2a36  80 0d

lab_2a38:
    jsr sub_4cd0            ;2a38  20 d0 4c
    jsr sub_2a46            ;2a3b  20 46 2a
    bra lab_2a45            ;2a3e  80 05

lab_2a40:
    clb 7,0x00f0            ;2a40  ff f0
    jsr sub_29ae            ;2a42  20 ae 29

lab_2a45:
    rts                     ;2a45  60

sub_2a46:
    jsr sub_664a            ;2a46  20 4a 66
    ldy #0x0f               ;2a49  a0 0f
    jsr sub_3300            ;2a4b  20 00 33
    jsr sub_b846            ;2a4e  20 46 b8
    rts                     ;2a51  60

sub_2a52:
    clb 4,0x00e8            ;2a52  9f e8
    bbs 0,0x00f1,lab_2a61   ;2a54  07 f1 0a

    lda 0x05a4              ;2a57  ad a4 05
    bne lab_2ab7_rts        ;2a5a  d0 5b

    jsr write_ee_cluster_id ;2a5c  20 3a 2e     Write a new Cluster ID to the EEPROM
    bra lab_2ab7_rts        ;2a5f  80 56        Branch always

lab_2a61:
    lda 0x05a4              ;2a61  ad a4 05
    bne lab_2a93_fail       ;2a64  d0 2d

    jsr read_ee_cluster_id  ;2a66  20 14 2e     Read the Cluster ID from the EEPROM
    bcs lab_2a93_fail       ;2a69  b0 28        Branch if EEPROM read failed

    ;Cluster ID check

    lda 0x0102              ;2a6b  ad 02 01     A = Cluster ID from EEPROM (low byte)
    cmp 0x05a0              ;2a6e  cd a0 05     Compare with Descrambled Cluster ID from cluster (low byte)
    bne lab_2a93_fail       ;2a71  d0 20        Branch if not equal

    lda 0x0103              ;2a73  ad 03 01     A = Cluster ID from EEPROM (high byte)
    cmp 0x05a1              ;2a76  cd a1 05     Compare with Descrambled Cluster ID from cluster (high byte)
    bne lab_2a93_fail       ;2a79  d0 18        Branch if not equal

    ;Descrambled Cluster ID matches the Cluster ID in the EEPROM

    jsr sub_2e8a            ;2a7b  20 8a 2e     Write SAFE code attempt count = 0 to EEPROM, possibly other stuff
    clb 7,0x00f0            ;2a7e  ff f0
    clb 0,0x00f1            ;2a80  1f f1
    clb 1,0x00f1            ;2a82  3f f1
    seb 1,P5                ;2a84  2f 0a
    jsr sub_4c63            ;2a86  20 63 4c     TODO unknown I2C activities
    clb 1,P5                ;2a89  3f 0a
    bbc 3,0x00f2,lab_2ab7_rts ;2a8b  77 f2 29
    jsr sub_9a75            ;2a8e  20 75 9a
    bra lab_2ab7_rts        ;2a91  80 24        Branch always to return

lab_2a93_fail:
    bbc 3,0x00f2,lab_2ab7_rts ;2a93  77 f2 21
    lda 0x05a4              ;2a96  ad a4 05
    beq lab_2a9f            ;2a99  f0 04
    cmp #0x04               ;2a9b  c9 04
    bne lab_2ab2            ;2a9d  d0 13

lab_2a9f:
    ldy #0x0e               ;2a9f  a0 0e
    jsr sub_33c6            ;2aa1  20 c6 33
    bcs lab_2ab7_rts        ;2aa4  b0 11
    ldy #0x0f               ;2aa6  a0 0f
    jsr sub_33c6            ;2aa8  20 c6 33
    bcs lab_2ab7_rts        ;2aab  b0 0a
    jsr sub_2ab8            ;2aad  20 b8 2a
    bra lab_2ab7_rts        ;2ab0  80 05

lab_2ab2:
    ldy #0x0f               ;2ab2  a0 0f
    jsr sub_3300            ;2ab4  20 00 33

lab_2ab7_rts:
    rts                     ;2ab7  60

sub_2ab8:
    bbs 4,0xe8,lab_2ae3_rts ;2ab8  87 e8 28
    jsr read_ee_safe        ;2abb  20 c9 2d     Read the SAFE code data from the EEPROM

    ;Result of read_ee_safe:
    ;  0x0102   SAFE code attempt count
    ;  0x0103   SAFE code as a decimal number in ASCII (thousands place)
    ;  0x0104   SAFE code as a decimal number in ASCII (hundreds place)
    ;  0x0105   SAFE code as a decimal number in ASCII (tens place)
    ;  0x0106   SAFE code as a decimal number in ASCII (ones place)

    lda 0x0102              ;2abe  ad 02 01
    cmp #0x03               ;2ac1  c9 03
    bcc lab_2ac7            ;2ac3  90 02
    lda #0x01               ;2ac5  a9 01

lab_2ac7:
    sta 0x026a              ;2ac7  8d 6a 02
    lda 0x026a              ;2aca  ad 6a 02
    bne lab_2ad4            ;2acd  d0 05
    jsr sub_2d19            ;2acf  20 19 2d
    bra lab_2ae3_rts        ;2ad2  80 0f

lab_2ad4:
    clb 1,0xf4              ;2ad4  3f f4
    jsr sub_6c83            ;2ad6  20 83 6c
    lda #0x06               ;2ad9  a9 06
    sta 0x0269              ;2adb  8d 69 02
    ldy #0x2d               ;2ade  a0 2d
    jsr sub_3300            ;2ae0  20 00 33

lab_2ae3_rts:
    rts                     ;2ae3  60

sub_2ae4:
    dec 0x0269              ;2ae4  ce 69 02
    lda 0x0269              ;2ae7  ad 69 02
    beq lab_2b00            ;2aea  f0 14
    lda 0x0269              ;2aec  ad 69 02
    bbc 0,a,lab_2af6        ;2aef  13 05
    jsr sub_6c83            ;2af1  20 83 6c
    bra lab_2af9            ;2af4  80 03

lab_2af6:
    jsr sub_664a            ;2af6  20 4a 66

lab_2af9:
    ldy #0x2d               ;2af9  a0 2d
    jsr sub_3300            ;2afb  20 00 33
    bra lab_2b16            ;2afe  80 16

lab_2b00:
    lda 0x026a              ;2b00  ad 6a 02
    cmp #0x02               ;2b03  c9 02
    bcs lab_2b0c            ;2b05  b0 05
    jsr sub_2d19            ;2b07  20 19 2d
    bra lab_2b16            ;2b0a  80 0a

lab_2b0c:
    seb 2,0xf1              ;2b0c  4f f1
    jsr sub_664a            ;2b0e  20 4a 66
    ldy #0x01               ;2b11  a0 01
    jsr sub_3300            ;2b13  20 00 33

lab_2b16:
    rts                     ;2b16  60

sub_2b17:
    jsr sub_c166            ;2b17  20 66 c1
    jsr sub_9dcd            ;2b1a  20 cd 9d
    jsr sub_7d9a            ;2b1d  20 9a 7d
    jsr sub_7c8b            ;2b20  20 8b 7c
    jsr sub_cb54            ;2b23  20 54 cb
    jsr sub_d3da            ;2b26  20 da d3
    jsr sub_db0d            ;2b29  20 0d db
    ldm #0x00,0x5d          ;2b2c  3c 00 5d
    clb 7,0xf8              ;2b2f  ff f8
    ldm #0x00,0x5c          ;2b31  3c 00 5c
    clb 0,0xf3              ;2b34  1f f3
    clb 6,0xf5              ;2b36  df f5
    clb 7,0xf5              ;2b38  ff f5
    clb 3,0xf2              ;2b3a  7f f2
    jsr sub_814d            ;2b3c  20 4d 81
    jsr sub_6c83            ;2b3f  20 83 6c
    bbc 1,0xf1,lab_2b4b     ;2b42  37 f1 06
    seb 7,0xf0              ;2b45  ef f0
    seb 0,0xf1              ;2b47  0f f1
    clb 1,0xf1              ;2b49  3f f1

lab_2b4b:
    clb 3,0xf2              ;2b4b  7f f2
    jsr sub_4c63            ;2b4d  20 63 4c     TODO unknown I2C activities
    rts                     ;2b50  60

sub_2b51:
    bbc 3,0xf2,lab_2b57     ;2b51  77 f2 03
    jsr sub_2b17            ;2b54  20 17 2b

lab_2b57:
    bbc 3,0xfe,lab_2b62     ;2b57  77 fe 08
    jsr sub_ca36            ;2b5a  20 36 ca
    clb 3,0xfe              ;2b5d  7f fe
    jsr sub_b388            ;2b5f  20 88 b3

lab_2b62:
    jsr sub_7717            ;2b62  20 17 77
    jsr sub_4319            ;2b65  20 19 43
    lda 0x028b              ;2b68  ad 8b 02
    sta 0xa0                ;2b6b  85 a0
    clb 2,0xfa              ;2b6d  5f fa
    clb 7,0xfb              ;2b6f  ff fb
    clb 2,0xf4              ;2b71  5f f4
    clb 6,0xfb              ;2b73  df fb
    jsr sub_7673            ;2b75  20 73 76
    clb 6,P8_P4I            ;2b78  df 10
    bbc 4,0xf1,lab_2b8b     ;2b7a  97 f1 0e
    jsr sub_3f6a            ;2b7d  20 6a 3f
    clb 4,0xf1              ;2b80  9f f1
    clb 3,0xf2              ;2b82  7f f2
    clb 6,0xf1              ;2b84  df f1
    jsr sub_4c63            ;2b86  20 63 4c     TODO unknown I2C activities
    bra lab_2b9b            ;2b89  80 10

lab_2b8b:
    clb 6,0xf1              ;2b8b  df f1
    jsr sub_4281            ;2b8d  20 81 42
    jsr sub_4c51            ;2b90  20 51 4c     TODO unknown I2C activities
    jsr sub_4b29            ;2b93  20 29 4b
    bcc lab_2b9b            ;2b96  90 03
    jsr sub_486d            ;2b98  20 6d 48

lab_2b9b:
    clb 0,0xf9              ;2b9b  1f f9
    jsr sub_3383            ;2b9d  20 83 33
    seb 1,0xf6              ;2ba0  2f f6
    bbc 1,0xee,lab_2ba7     ;2ba2  37 ee 02
    clb 1,0xf6              ;2ba5  3f f6

lab_2ba7:
    seb 0,0xf6              ;2ba7  0f f6
    jsr sub_6c83            ;2ba9  20 83 6c
    jsr sub_8316            ;2bac  20 16 83
    seb 1,0xe9              ;2baf  2f e9
    ldy #0x06               ;2bb1  a0 06
    jsr sub_3300            ;2bb3  20 00 33
    ldy #0x2f               ;2bb6  a0 2f
    jsr sub_3300            ;2bb8  20 00 33
    seb 5,0xeb              ;2bbb  af eb
    clb 4,P8_P4I            ;2bbd  9f 10
    clb 7,P8_P4I            ;2bbf  ff 10
    clb 1,P0                ;2bc1  3f 00
    clb 5,P8_P4I            ;2bc3  bf 10
    jsr sub_d311            ;2bc5  20 11 d3
    bcs lab_2bcd            ;2bc8  b0 03
    jsr sub_2822            ;2bca  20 22 28

lab_2bcd:
    lda #0x00               ;2bcd  a9 00
    sta 0x02b1              ;2bcf  8d b1 02
    bbs 3,0xe6,lab_2bf2     ;2bd2  67 e6 1d
    bbs 0,0xf1,lab_2bf2     ;2bd5  07 f1 1a
    bbs 0,0xee,lab_2bf2     ;2bd8  07 ee 17
    jsr sub_ac70            ;2bdb  20 70 ac
    bcc lab_2bea            ;2bde  90 0a
    lda 0x031d              ;2be0  ad 1d 03
    bbs 0,a,lab_2be8        ;2be3  03 03
    jsr sub_c9ce            ;2be5  20 ce c9

lab_2be8:
    bra lab_2bf5            ;2be8  80 0b

lab_2bea:
    jsr sub_c9ce            ;2bea  20 ce c9
    jsr sub_9a56            ;2bed  20 56 9a
    bra lab_2bf5            ;2bf0  80 03

lab_2bf2:
    jsr sub_c9ce            ;2bf2  20 ce c9

lab_2bf5:
    jsr sub_544b            ;2bf5  20 4b 54     Clears many registers
    clb 3,0xfa              ;2bf8  7f fa
    ldy #0x37               ;2bfa  a0 37
    jsr sub_3300            ;2bfc  20 00 33
    ldy #0x38               ;2bff  a0 38
    jsr sub_3300            ;2c01  20 00 33
    rts                     ;2c04  60

;XXX appears unused
sub_2c05:
    seb 2,P5                ;2c05  4f 0a
    rts                     ;2c07  60

;XXX appears unused
sub_2c08:
    bbs 6,0x00f4,lab_2c19   ;2c08  c7 f4 0e
    bbs 7,0x00f4,lab_2c19   ;2c0b  e7 f4 0b
    bbs 2,0x00f5,lab_2c19   ;2c0e  47 f5 08
    clb 2,P0                ;2c11  5f 00
    clb 6,P0                ;2c13  df 00
    clb 2,P2                ;2c15  5f 04
    clb 1,P8_P4I            ;2c17  3f 10

lab_2c19:
    rts                     ;2c19  60

sub_2c1a:
    clb 2,P0                ;2c1a  5f 00
    clb 6,P0                ;2c1c  df 00
    clb 2,P2                ;2c1e  5f 04
    clb 1,P8_P4I            ;2c20  3f 10
    rts                     ;2c22  60

sub_2c23:
    seb 7,0xf0              ;2c23  ef f0
    seb 0,0xf1              ;2c25  0f f1
    jsr sub_4c63            ;2c27  20 63 4c     TODO unknown I2C activities
    bbs 5,0xf4,lab_2c65     ;2c2a  a7 f4 38
    bbs 6,0xf1,lab_2c4d     ;2c2d  c7 f1 1d
    bbs 3,0xe6,lab_2c65     ;2c30  67 e6 32
    bbc 2,0xf5,lab_2c3b     ;2c33  57 f5 05
    jsr sub_9da1            ;2c36  20 a1 9d
    bra lab_2c43            ;2c39  80 08

lab_2c3b:
    lda 0x031d              ;2c3b  ad 1d 03
    bbc 0,a,lab_2c43        ;2c3e  13 03
    jsr sub_aea8            ;2c40  20 a8 ae

lab_2c43:
    jsr sub_ae94            ;2c43  20 94 ae
    seb 7,0xf1              ;2c46  ef f1
    jsr sub_4c63            ;2c48  20 63 4c     TODO unknown I2C activities
    bra lab_2c65            ;2c4b  80 18

lab_2c4d:
    bbs 3,0xe6,lab_2c5d     ;2c4d  67 e6 0d
    bbc 3,0xf2,lab_2c65     ;2c50  77 f2 12
    bbc 6,0xf0,lab_2c5d     ;2c53  d7 f0 07
    seb 7,0xf1              ;2c56  ef f1
    jsr sub_2b17            ;2c58  20 17 2b
    bra lab_2c65            ;2c5b  80 08

lab_2c5d:
    seb 7,0xf1              ;2c5d  ef f1
    jsr sub_2b17            ;2c5f  20 17 2b
    jsr sub_2b51            ;2c62  20 51 2b

lab_2c65:
    rts                     ;2c65  60

sub_2c66:
    bbc 5,0xf4,lab_2c73     ;2c66  b7 f4 0a
    bbs 3,0xe7,lab_2cc2     ;2c69  67 e7 56
    ldy #0x09               ;2c6c  a0 09
    jsr sub_3361            ;2c6e  20 61 33
    bra lab_2cc2            ;2c71  80 4f

lab_2c73:
    bbs 0,0xee,lab_2cc2     ;2c73  07 ee 4c
    ldy #0x33               ;2c76  a0 33
    jsr sub_3300            ;2c78  20 00 33
    bbs 6,0xf1,lab_2ca3     ;2c7b  c7 f1 25
    bbs 7,0xf1,lab_2c89     ;2c7e  e7 f1 08
    jsr sub_2835            ;2c81  20 35 28
    jsr sub_2921            ;2c84  20 21 29
    bra lab_2cc2            ;2c87  80 39

lab_2c89:
    bbs 2,0xf5,lab_2c97     ;2c89  47 f5 0b
    lda 0x031d              ;2c8c  ad 1d 03
    bbc 0,a,lab_2c94        ;2c8f  13 03
    jsr sub_aea8            ;2c91  20 a8 ae

lab_2c94:
    jsr sub_ae94            ;2c94  20 94 ae

lab_2c97:
    jsr sub_6e61            ;2c97  20 61 6e
    clb 1,0xf6              ;2c9a  3f f6
    seb 0,0xf6              ;2c9c  0f f6
    jsr sub_6c9a            ;2c9e  20 9a 6c
    bra lab_2cc2            ;2ca1  80 1f

lab_2ca3:
    bbs 3,0xf2,lab_2cb1     ;2ca3  67 f2 0b
    bbc 6,0xf0,lab_2cc2     ;2ca6  d7 f0 19
    bbs 7,0xf1,lab_2cc2     ;2ca9  e7 f1 16
    jsr sub_2921            ;2cac  20 21 29
    bra lab_2cc2            ;2caf  80 11

lab_2cb1:
    jsr sub_aebe            ;2cb1  20 be ae
    clb 4,0xf1              ;2cb4  9f f1
    clb 6,0xf4              ;2cb6  df f4
    clb 7,0xf4              ;2cb8  ff f4
    ldy #0x09               ;2cba  a0 09
    jsr sub_3361            ;2cbc  20 61 33
    ldm #0x0a,0x5d          ;2cbf  3c 0a 5d

lab_2cc2:
    rts                     ;2cc2  60

sub_2cc3:
    bbc 5,0xf4,lab_2cce     ;2cc3  b7 f4 08
    bbs 3,0xe7,lab_2d18     ;2cc6  67 e7 4f
    jsr kwp_06_disconnect   ;2cc9  20 33 9f     disconnect
    bra lab_2d18            ;2ccc  80 4a

lab_2cce:
    bbs 6,0xf1,lab_2d04     ;2cce  c7 f1 33
    bbs 3,0xe6,lab_2d18     ;2cd1  67 e6 44
    bbs 0,0xf1,lab_2cf8     ;2cd4  07 f1 21
    bbc 0,0xf0,lab_2cf8     ;2cd7  17 f0 1e
    lda 0x031d              ;2cda  ad 1d 03
    bbs 0,a,lab_2cf8        ;2cdd  03 19
    bbc 2,0xf5,lab_2ce5     ;2cdf  57 f5 03
    jsr sub_9da1            ;2ce2  20 a1 9d

lab_2ce5:
    seb 6,P0                ;2ce5  cf 00
    jsr sub_ad75            ;2ce7  20 75 ad
    jsr sub_4e8a            ;2cea  20 8a 4e
    jsr sub_4dd1            ;2ced  20 d1 4d
    jsr sub_ac70            ;2cf0  20 70 ac
    bcs lab_2cf8            ;2cf3  b0 03
    jsr sub_2c1a            ;2cf5  20 1a 2c

lab_2cf8:
    jsr sub_6e61            ;2cf8  20 61 6e
    seb 1,0xf6              ;2cfb  2f f6
    seb 0,0xf6              ;2cfd  0f f6
    jsr sub_6c9a            ;2cff  20 9a 6c
    bra lab_2d18            ;2d02  80 14

lab_2d04:
    bbs 3,0xe6,lab_2d12     ;2d04  67 e6 0b
    bbc 3,0xf2,lab_2d18     ;2d07  77 f2 0e
    bbc 6,0xf0,lab_2d12     ;2d0a  d7 f0 05
    jsr sub_2b17            ;2d0d  20 17 2b
    bra lab_2d18            ;2d10  80 06

lab_2d12:
    jsr sub_2b17            ;2d12  20 17 2b
    jsr sub_2b51            ;2d15  20 51 2b

lab_2d18:
    rts                     ;2d18  60

sub_2d19:
    lda #0x31               ;2d19  a9 31
    sta 0x012c              ;2d1b  8d 2c 01
    lda #0x30               ;2d1e  a9 30
    sta 0x012d              ;2d20  8d 2d 01
    sta 0x012e              ;2d23  8d 2e 01
    sta 0x012f              ;2d26  8d 2f 01
    seb 1,0xf4              ;2d29  2f f4

sub_2d2b:
    jsr sub_664a            ;2d2b  20 4a 66
    rts                     ;2d2e  60

sub_2d2f:
    ldx #0x07               ;2d2f  a2 07
    lda #0x20               ;2d31  a9 20

lab_2d33:
    sta 0x0114,x            ;2d33  9d 14 01
    dex                     ;2d36  ca
    bpl lab_2d33            ;2d37  10 fa
    ldx #0x03               ;2d39  a2 03

lab_2d3b:
    lda 0x012c,x            ;2d3b  bd 2c 01
    sta 0x0115,x            ;2d3e  9d 15 01
    dex                     ;2d41  ca
    bpl lab_2d3b            ;2d42  10 f7
    rts                     ;2d44  60

    .byte 0xa2              ;2d45  a2          DATA 0xa2
    .byte 0x03              ;2d46  03          DATA 0x03
    .byte 0xa9              ;2d47  a9          DATA 0xa9
    .byte 0x20              ;2d48  20          DATA 0x20 ' '
    .byte 0x9d              ;2d49  9d          DATA 0x9d
    .byte 0x2c              ;2d4a  2c          DATA 0x2c ','
    .byte 0x01              ;2d4b  01          DATA 0x01
    .byte 0xca              ;2d4c  ca          DATA 0xca
    .byte 0x10              ;2d4d  10          DATA 0x10
    .byte 0xfa              ;2d4e  fa          DATA 0xfa
    .byte 0x60              ;2d4f  60          DATA 0x60 '`'

sub_2d50:
    bbs 2,0xf1,lab_2dc8_rts ;2d50  47 f1 75
    bbc 1,0xf4,lab_2dc8_rts ;2d53  37 f4 72
    ldy #0xc8               ;2d56  a0 c8
    jsr sub_40a3            ;2d58  20 a3 40
    bcc lab_2dc8_rts        ;2d5b  90 6b
    jsr sub_74d2            ;2d5d  20 d2 74
    jsr read_ee_safe        ;2d60  20 c9 2d     Read the SAFE code data from the EEPROM

    ;Result of read_ee_safe:
    ;  0x0102   SAFE code attempt count
    ;  0x0103   SAFE code as a decimal number in ASCII (thousands place)
    ;  0x0104   SAFE code as a decimal number in ASCII (hundreds place)
    ;  0x0105   SAFE code as a decimal number in ASCII (tens place)
    ;  0x0106   SAFE code as a decimal number in ASCII (ones place)

    ldy #0x00               ;2d63  a0 00
lab_2d65_loop:
    lda 0x012c,y            ;2d65  b9 2c 01
    cmp 0x0103,y            ;2d68  d9 03 01
    bne lab_2db3_failed     ;2d6b  d0 46        SAFE code digit did not match
    iny                     ;2d6d  c8
    cpy #0x04               ;2d6e  c0 04
    bcc lab_2d65_loop       ;2d70  90 f3        Loop until all 4 bytes compared

    ;SAFE code matches

    jsr sub_4cd0            ;2d72  20 d0 4c     TODO probably some kind of I2C read
    cmp #0x33               ;2d75  c9 33
    bcs lab_2d81            ;2d77  b0 08
    lda #0x33               ;2d79  a9 33
    sta 0x026b              ;2d7b  8d 6b 02
    jsr sub_4cf9            ;2d7e  20 f9 4c     TODO probably some kind of I2C read

lab_2d81:
    bbs 4,0xe8,lab_2d8c     ;2d81  87 e8 08
    lda 0x05a4              ;2d84  ad a4 05
    bne lab_2d8c            ;2d87  d0 03
    jsr write_ee_cluster_id ;2d89  20 3a 2e     Write a new Cluster ID to the EEPROM

lab_2d8c:
    lda #0x00               ;2d8c  a9 00
    sta 0x0102              ;2d8e  8d 02 01     Store A as SAFE code attempt count to write to EEPROM
    ldy #0x01               ;2d91  a0 01        Y = 1 byte to write (SAFE code attempt count only)
    jsr write_ee_safe       ;2d93  20 e8 2d     Write the SAFE code data to the EEPROM
    clb 7,0xf0              ;2d96  ff f0
    clb 0,0xf1              ;2d98  1f f1
    clb 1,0xf1              ;2d9a  3f f1
    clb 1,0xf4              ;2d9c  3f f4
    seb 1,P5                ;2d9e  2f 0a
    jsr sub_4c63            ;2da0  20 63 4c     TODO unknown I2C activities
    clb 1,P5                ;2da3  3f 0a
    jsr sub_b846            ;2da5  20 46 b8
    jsr sub_9a75            ;2da8  20 75 9a
    jsr sub_40cf            ;2dab  20 cf 40
    ldm #0x0a,0x5b          ;2dae  3c 0a 5b
    bra lab_2dc8_rts        ;2db1  80 15

lab_2db3_failed:
;SAFE code does not match expected
    lda 0x0102              ;2db3  ad 02 01     A = SAFE code attempt count
    inc a                   ;2db6  3a           Increment it
    cmp #0x02               ;2db7  c9 02
    bcc lab_2dbd            ;2db9  90 02        Branch if < 2

    ;Attempt count < 2
    lda #0x02               ;2dbb  a9 02        Cap attempt count at 2

lab_2dbd:
    sta 0x0102              ;2dbd  8d 02 01     Store A as SAFE code attempt count to write to EEPROM
    ldy #0x01               ;2dc0  a0 01        Y = 1 byte to write (SAFE code attempt count only)
    jsr write_ee_safe       ;2dc2  20 e8 2d     Write the SAFE code data to the EEPROM

    jsr sub_2ab8            ;2dc5  20 b8 2a

lab_2dc8_rts:
    rts                     ;2dc8  60


read_ee_safe:
;Read the SAFE code data from the EEPROM
;
;Returns:
;  0x0102   SAFE code attempt count
;  0x0103   SAFE code as a decimal number in ASCII (thousands place)
;  0x0104   SAFE code as a decimal number in ASCII (hundreds place)
;  0x0105   SAFE code as a decimal number in ASCII (tens place)
;  0x0106   SAFE code as a decimal number in ASCII (ones place)
;
    ;I2C buffer byte 1 = EEPROM address 0x0B
    lda #0x0b               ;2dc9  a9 0b
    sta 0x0101              ;2dcb  8d 01 01

    ;I2C buffer byte 0 = I2C control byte: address 0x50, direction bit = 0 (read)
    lda #0x00               ;2dce  a9 00
    asl a                   ;2dd0  0a
    ora #0x50<<1            ;2dd1  09 a0
    sta 0x0100              ;2dd3  8d 00 01

    ;Set buffer pointer to 0x0100
    lda #0x00               ;2dd6  a9 00
    sta 0x4c                ;2dd8  85 4c        Store pointer low byte
    lda #0x01               ;2dda  a9 01
    sta 0x4d                ;2ddc  85 4d        Store pointer high byte

    ldm #0x02,0x4e          ;2dde  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x05,0x4f          ;2de1  3c 05 4f     Number of I2C bytes to read = 5
    jsr sub_46e5_i2c_wr_rd  ;2de4  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;2de7  60


write_ee_safe:
;Write the SAFE code data to the EEPROM
;Seems to always be called with Y=1
;
;Call with:
;  Y = number of bytes to write (first byte at 0x0102)
;  Buffer at 0x0102 = data to write
;
;Buffer at 0x0102:
;  0x0102   SAFE code attempt count
;  0x0103   SAFE code as a decimal number in ASCII (thousands place)
;  0x0104   SAFE code as a decimal number in ASCII (hundreds place)
;  0x0105   SAFE code as a decimal number in ASCII (tens place)
;  0x0106   SAFE code as a decimal number in ASCII (ones place)
;
    ;Check number of bytes to write
    tya                     ;2de8  98           A = number of bytes to write
    beq lab_2e13_rts        ;2de9  f0 28        Branch if number of bytes to write = 0
    cmp #0x06               ;2deb  c9 06
    bcs lab_2e13_rts        ;2ded  b0 24        Branch if number of bytes to write >= 6

    ;Set I2C number of bytes to write, read
    inc a                   ;2def  3a           +1 for I2C control byte
    inc a                   ;2df0  3a           +1 for EEPROM address
    sta 0x4e                ;2df1  85 4e        Number of I2C bytes to write = A
    ldm #0x00,0x4f          ;2df3  3c 00 4f     Number of I2C bytes to read = 0

    ;Set I2C buffer pointer
    lda #0x00               ;2df6  a9 00
    sta 0x4c                ;2df8  85 4c        Set I2C buffer pointer low
    lda #0x01               ;2dfa  a9 01
    sta 0x4d                ;2dfc  85 4d        Set I2C buffer pointer high

    ;Set I2C payload byte 1: EEPROM address
    lda #0x0b               ;2dfe  a9 0b
    sta 0x0101              ;2e00  8d 01 01     Store as EEPROM address

    ;Set I2C payload byte 0: I2C control byte
    lda #0x00               ;2e03  a9 00
    asl a                   ;2e05  0a
    ora #0xa0               ;2e06  09 a0
    sta 0x0100              ;2e08  8d 00 01     Store as control byte (address & direction)

    jsr sub_46e5_i2c_wr_rd  ;2e0b  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;2e0e  a0 0a
    jsr sub_f22c_delay      ;2e10  20 2c f2     Delay an unknown time period for Y iterations

lab_2e13_rts:
    rts                     ;2e13  60

;Read the Cluster ID from the EEPROM
;Returns carry clear = success
read_ee_cluster_id:
    lda #0x55               ;2e14  a9 55
    sta 0x0101              ;2e16  8d 01 01     Store as EEPROM address
    lda #0x03               ;2e19  a9 03
    asl a                   ;2e1b  0a
    ora #0xa0               ;2e1c  09 a0
    sta 0x0100              ;2e1e  8d 00 01
    lda #0x00               ;2e21  a9 00
    sta 0x004c              ;2e23  85 4c
    lda #0x01               ;2e25  a9 01
    sta 0x004d              ;2e27  85 4d
    ldm #0x02,0x004e        ;2e29  3c 02 4e
    ldm #0x03,0x004f        ;2e2c  3c 03 4f
    jsr sub_46e5_i2c_wr_rd  ;2e2f  20 e5 46
    clc                     ;2e32  18
    lda 0x0104              ;2e33  ad 04 01
    beq lab_2e39_rts        ;2e36  f0 01
    sec                     ;2e38  38
lab_2e39_rts:
    rts                     ;2e39  60

;Write a new Cluster ID to the EEPROM
write_ee_cluster_id:
    lda #0x00               ;2e3a  a9 00
    sta 0x0104              ;2e3c  8d 04 01

    lda 0x05a1              ;2e3f  ad a1 05     A = Descrambled Cluster ID from cluster (high byte)
    sta 0x0103              ;2e42  8d 03 01     Store in buffer as EEPROM Cluster ID (high byte)

    lda 0x05a0              ;2e45  ad a0 05     A = Descrambled Cluster ID from cluster (low byte)
    sta 0x0102              ;2e48  8d 02 01     Store in buffer as EEPROM Cluster ID (low byte)

    lda #0x55               ;2e4b  a9 55
    sta 0x0101              ;2e4d  8d 01 01     Store as EEPROM address

    lda #0x03               ;2e50  a9 03        A = 3 bytes to write (address + 2 more)
    asl a                   ;2e52  0a
    ora #0xa0               ;2e53  09 a0
    sta 0x0100              ;2e55  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;2e58  a9 00
    sta 0x4c                ;2e5a  85 4c        Store as I2C buffer pointer low
    lda #0x01               ;2e5c  a9 01
    sta 0x4d                ;2e5e  85 4d        Store as I2C buffer pointer high

    ldm #0x05,0x4e          ;2e60  3c 05 4e     Number of I2C bytes to write = 5
    ldm #0x00,0x4f          ;2e63  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;2e66  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;2e69  a0 0a
    jsr sub_f22c_delay      ;2e6b  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;2e6e  60

;XXX appears unused
sub_2e6f:
    lda #0x00               ;2e6f  a9 00
    sta 0x0102              ;2e71  8d 02 01
    lda #'1                 ;2e74  a9 31
    sta 0x0103              ;2e76  8d 03 01
    lda #'0                 ;2e79  a9 30
    sta 0x0104              ;2e7b  8d 04 01
    sta 0x0105              ;2e7e  8d 05 01
    sta 0x0106              ;2e81  8d 06 01
    ldy #0x05               ;2e84  a0 05
    jsr write_ee_safe       ;2e86  20 e8 2d
    rts                     ;2e89  60

;Write SAFE code attempt count = 0 to EEPROM, possibly other stuff
sub_2e8a:
    clb 2,0xf1              ;2e8a  5f f1
    jsr sub_4c63            ;2e8c  20 63 4c     TODO unknown I2C activities
    lda #0x00               ;2e8f  a9 00
    sta 0x026a              ;2e91  8d 6a 02
    sta 0x0102              ;2e94  8d 02 01     Store A as SAFE code attempt count to write to EEPROM
    ldy #0x01               ;2e97  a0 01        Y = 1 byte to write (SAFE code attempt count only)
    jsr write_ee_safe       ;2e99  20 e8 2d     Write the SAFE code data to the EEPROM
    ldy #0x01               ;2e9c  a0 01
    jsr sub_3361            ;2e9e  20 61 33
    rts                     ;2ea1  60

sub_2ea2:
    bbc 6,0xf1,lab_2ebf     ;2ea2  d7 f1 1a
    bbs 3,0xf2,lab_2eb0     ;2ea5  67 f2 08
    bbc 6,0xf0,lab_2ebf     ;2ea8  d7 f0 14
    jsr sub_2ecb            ;2eab  20 cb 2e
    bra lab_2eca            ;2eae  80 1a

lab_2eb0:
    bbc 4,0xf1,lab_2eb7     ;2eb0  97 f1 04
    clb 4,0xf1              ;2eb3  9f f1
    bra lab_2ebf            ;2eb5  80 08

lab_2eb7:
    jsr sub_2ecb            ;2eb7  20 cb 2e
    jsr sub_2f26            ;2eba  20 26 2f
    bra lab_2eca            ;2ebd  80 0b

lab_2ebf:
    seb 6,P0                ;2ebf  cf 00
    jsr sub_46ce            ;2ec1  20 ce 46     I2C related
    jsr sub_2b17            ;2ec4  20 17 2b
    jsr sub_2b51            ;2ec7  20 51 2b

lab_2eca:
    rts                     ;2eca  60

sub_2ecb:
    seb 1,0xe9              ;2ecb  2f e9
    ldy #0x06               ;2ecd  a0 06
    jsr sub_3300            ;2ecf  20 00 33
    seb 6,P0                ;2ed2  cf 00
    seb 7,P0                ;2ed4  ef 00
    clb 7,P2                ;2ed6  ff 04
    jsr sub_bebc            ;2ed8  20 bc be
    jsr sub_27f6            ;2edb  20 f6 27
    jsr sub_82f1            ;2ede  20 f1 82
    jsr sub_822c            ;2ee1  20 2c 82
    clb 5,0xf0              ;2ee4  bf f0
    bbs 2,0xe6,lab_2f25     ;2ee6  47 e6 3c
    ldy #0x0c               ;2ee9  a0 0c
    jsr sub_3300            ;2eeb  20 00 33
    ldy #0x0d               ;2eee  a0 0d
    jsr sub_3300            ;2ef0  20 00 33
    ldy #0x0e               ;2ef3  a0 0e
    jsr sub_3300            ;2ef5  20 00 33
    jsr sub_4e8a            ;2ef8  20 8a 4e
    jsr sub_6fab            ;2efb  20 ab 6f
    jsr sub_7673            ;2efe  20 73 76
    jsr sub_c9ce            ;2f01  20 ce c9
    jsr sub_c929            ;2f04  20 29 c9
    jsr sub_84eb            ;2f07  20 eb 84
    jsr sub_d2df            ;2f0a  20 df d2
    ldm #0x00,0xcb          ;2f0d  3c 00 cb
    seb 1,0xef              ;2f10  2f ef
    jsr sub_bef0            ;2f12  20 f0 be
    seb 4,P3                ;2f15  8f 06
    jsr sub_c166            ;2f17  20 66 c1
    ldm #0x05,0x5a          ;2f1a  3c 05 5a
    ldm #0x00,0x58          ;2f1d  3c 00 58
    jsr sub_6e61            ;2f20  20 61 6e
    seb 6,0xf1              ;2f23  cf f1

lab_2f25:
    rts                     ;2f25  60

sub_2f26:
    bbs 1,0xee,lab_2f38     ;2f26  27 ee 0f
    lda #0x3c               ;2f29  a9 3c
    sta 0x01af              ;2f2b  8d af 01
    ldy #0x09               ;2f2e  a0 09
    jsr sub_3300            ;2f30  20 00 33
    lda #0x00               ;2f33  a9 00
    sta 0x05be              ;2f35  8d be 05

lab_2f38:
    ldy #0x0e               ;2f38  a0 0e
    jsr sub_3300            ;2f3a  20 00 33
    seb 3,0xf2              ;2f3d  6f f2
    rts                     ;2f3f  60

sub_2f40:
    bbc 0,0xe8,lab_2f50     ;2f40  17 e8 0d
    bbs 1,0xe8,lab_2f4b     ;2f43  27 e8 05     Branch if TechniSat protocol is active
    jsr kwp_06_disconnect   ;2f46  20 33 9f     disconnect
    bra lab_2f50            ;2f49  80 05

lab_2f4b:
    jsr sub_b40f_disconnect ;2f4b  20 0f b4     Terminate KWP1281 or TechniSat session
    clb 6,0xe9              ;2f4e  df e9        Clear bit 6 = Enable EEPROM filtering

lab_2f50:
    rts                     ;2f50  60

sub_2f51:
    jsr sub_c9ce            ;2f51  20 ce c9
    clb 0,0xf3              ;2f54  1f f3
    clb 3,0xfa              ;2f56  7f fa
    clb 0,0xf9              ;2f58  1f f9
    jsr sub_544b            ;2f5a  20 4b 54     Clears many registers
    jsr sub_44a7            ;2f5d  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;2f60  20 0d 89
    jsr sub_9dcd            ;2f63  20 cd 9d
    ldm #0x00,0x5d          ;2f66  3c 00 5d
    clb 7,0xf8              ;2f69  ff f8
    jsr sub_4281            ;2f6b  20 81 42
    jsr sub_4c51            ;2f6e  20 51 4c     TODO unknown I2C activities
    rts                     ;2f71  60

    .byte 0x04              ;2f72  04          DATA 0x04
    .byte 0x00              ;2f73  00          DATA 0x00
    .byte 0x3c              ;2f74  3c          DATA 0x3c '<'
    .byte 0x00              ;2f75  00          DATA 0x00
    .byte 0xee              ;2f76  ee          DATA 0xee
    .byte 0x33              ;2f77  33          DATA 0x33 '3'
    .byte 0xf9              ;2f78  f9          DATA 0xf9
    .byte 0x33              ;2f79  33          DATA 0x33 '3'
    .byte 0x14              ;2f7a  14          DATA 0x14
    .byte 0x00              ;2f7b  00          DATA 0x00
    .byte 0x0f              ;2f7c  0f          DATA 0x0f
    .byte 0x00              ;2f7d  00          DATA 0x00
    .byte 0xf3              ;2f7e  f3          DATA 0xf3
    .byte 0x32              ;2f7f  32          DATA 0x32 '2'
    .byte 0x05              ;2f80  05          DATA 0x05
    .byte 0x34              ;2f81  34          DATA 0x34 '4'
    .byte 0x24              ;2f82  24          DATA 0x24 '$'
    .byte 0x00              ;2f83  00          DATA 0x00
    .byte 0x3c              ;2f84  3c          DATA 0x3c '<'
    .byte 0x00              ;2f85  00          DATA 0x00
    .byte 0xf3              ;2f86  f3          DATA 0xf3
    .byte 0x32              ;2f87  32          DATA 0x32 '2'
    .byte 0x29              ;2f88  29          DATA 0x29 ')'
    .byte 0x34              ;2f89  34          DATA 0x34 '4'
    .byte 0x04              ;2f8a  04          DATA 0x04
    .byte 0x00              ;2f8b  00          DATA 0x00
    .byte 0x3c              ;2f8c  3c          DATA 0x3c '<'
    .byte 0x00              ;2f8d  00          DATA 0x00
    .byte 0xf3              ;2f8e  f3          DATA 0xf3
    .byte 0x32              ;2f8f  32          DATA 0x32 '2'
    .byte 0x47              ;2f90  47          DATA 0x47 'G'
    .byte 0x34              ;2f91  34          DATA 0x34 '4'
    .byte 0x13              ;2f92  13          DATA 0x13
    .byte 0x00              ;2f93  00          DATA 0x00
    .byte 0x1e              ;2f94  1e          DATA 0x1e
    .byte 0x00              ;2f95  00          DATA 0x00
    .byte 0xf3              ;2f96  f3          DATA 0xf3
    .byte 0x32              ;2f97  32          DATA 0x32 '2'
    .byte 0x5c              ;2f98  5c          DATA 0x5c '\'
    .byte 0x34              ;2f99  34          DATA 0x34 '4'
    .byte 0x03              ;2f9a  03          DATA 0x03
    .byte 0x00              ;2f9b  00          DATA 0x00
    .byte 0x02              ;2f9c  02          DATA 0x02
    .byte 0x00              ;2f9d  00          DATA 0x00
    .byte 0xf3              ;2f9e  f3          DATA 0xf3
    .byte 0x32              ;2f9f  32          DATA 0x32 '2'
    .byte 0x63              ;2fa0  63          DATA 0x63 'c'
    .byte 0x34              ;2fa1  34          DATA 0x34 '4'
    .byte 0x13              ;2fa2  13          DATA 0x13
    .byte 0x80              ;2fa3  80          DATA 0x80
    .byte 0x14              ;2fa4  14          DATA 0x14
    .byte 0x00              ;2fa5  00          DATA 0x00
    .byte 0x07              ;2fa6  07          DATA 0x07
    .byte 0x8d              ;2fa7  8d          DATA 0x8d
    .byte 0x95              ;2fa8  95          DATA 0x95
    .byte 0x90              ;2fa9  90          DATA 0x90
    .byte 0x13              ;2faa  13          DATA 0x13
    .byte 0x00              ;2fab  00          DATA 0x00
    .byte 0x06              ;2fac  06          DATA 0x06
    .byte 0x00              ;2fad  00          DATA 0x00
    .byte 0xf3              ;2fae  f3          DATA 0xf3
    .byte 0x32              ;2faf  32          DATA 0x32 '2'
    .byte 0x66              ;2fb0  66          DATA 0x66 'f'
    .byte 0x34              ;2fb1  34          DATA 0x34 '4'
    .byte 0x14              ;2fb2  14          DATA 0x14
    .byte 0x80              ;2fb3  80          DATA 0x80
    .byte 0x3c              ;2fb4  3c          DATA 0x3c '<'
    .byte 0x00              ;2fb5  00          DATA 0x00
    .byte 0xf3              ;2fb6  f3          DATA 0xf3
    .byte 0x32              ;2fb7  32          DATA 0x32 '2'
    .byte 0x77              ;2fb8  77          DATA 0x77 'w'
    .byte 0x34              ;2fb9  34          DATA 0x34 '4'
    .byte 0x14              ;2fba  14          DATA 0x14
    .byte 0x00              ;2fbb  00          DATA 0x00
    .byte 0x05              ;2fbc  05          DATA 0x05
    .byte 0x00              ;2fbd  00          DATA 0x00
    .byte 0xf3              ;2fbe  f3          DATA 0xf3
    .byte 0x32              ;2fbf  32          DATA 0x32 '2'
    .byte 0xa8              ;2fc0  a8          DATA 0xa8
    .byte 0x34              ;2fc1  34          DATA 0x34 '4'
    .byte 0x13              ;2fc2  13          DATA 0x13
    .byte 0x00              ;2fc3  00          DATA 0x00
    .byte 0x03              ;2fc4  03          DATA 0x03
    .byte 0x00              ;2fc5  00          DATA 0x00
    .byte 0xf3              ;2fc6  f3          DATA 0xf3
    .byte 0x32              ;2fc7  32          DATA 0x32 '2'
    .byte 0xb3              ;2fc8  b3          DATA 0xb3
    .byte 0x34              ;2fc9  34          DATA 0x34 '4'
    .byte 0x12              ;2fca  12          DATA 0x12
    .byte 0x00              ;2fcb  00          DATA 0x00
    .byte 0x01              ;2fcc  01          DATA 0x01
    .byte 0x00              ;2fcd  00          DATA 0x00
    .byte 0xf3              ;2fce  f3          DATA 0xf3
    .byte 0x32              ;2fcf  32          DATA 0x32 '2'
    .byte 0x4b              ;2fd0  4b          DATA 0x4b 'K'
    .byte 0x29              ;2fd1  29          DATA 0x29 ')'
    .byte 0x12              ;2fd2  12          DATA 0x12
    .byte 0x00              ;2fd3  00          DATA 0x00
    .byte 0x03              ;2fd4  03          DATA 0x03
    .byte 0x00              ;2fd5  00          DATA 0x00
    .byte 0xf3              ;2fd6  f3          DATA 0xf3
    .byte 0x32              ;2fd7  32          DATA 0x32 '2'
    .byte 0x6a              ;2fd8  6a          DATA 0x6a 'j'
    .byte 0x29              ;2fd9  29          DATA 0x29 ')'
    .byte 0x12              ;2fda  12          DATA 0x12
    .byte 0x00              ;2fdb  00          DATA 0x00
    .byte 0x12              ;2fdc  12          DATA 0x12
    .byte 0x00              ;2fdd  00          DATA 0x00
    .byte 0xf3              ;2fde  f3          DATA 0xf3
    .byte 0x32              ;2fdf  32          DATA 0x32 '2'
    .byte 0x78              ;2fe0  78          DATA 0x78 'x'
    .byte 0x29              ;2fe1  29          DATA 0x29 ')'
    .byte 0x12              ;2fe2  12          DATA 0x12
    .byte 0x00              ;2fe3  00          DATA 0x00
    .byte 0x1e              ;2fe4  1e          DATA 0x1e
    .byte 0x00              ;2fe5  00          DATA 0x00
    .byte 0xf3              ;2fe6  f3          DATA 0xf3
    .byte 0x32              ;2fe7  32          DATA 0x32 '2'
    .byte 0xb8              ;2fe8  b8          DATA 0xb8
    .byte 0x2a              ;2fe9  2a          DATA 0x2a '*'
    .byte 0x12              ;2fea  12          DATA 0x12
    .byte 0x00              ;2feb  00          DATA 0x00
    .byte 0x02              ;2fec  02          DATA 0x02
    .byte 0x00              ;2fed  00          DATA 0x00
    .byte 0xf3              ;2fee  f3          DATA 0xf3
    .byte 0x32              ;2fef  32          DATA 0x32 '2'
    .byte 0xd6              ;2ff0  d6          DATA 0xd6
    .byte 0x34              ;2ff1  34          DATA 0x34 '4'
    .byte 0x13              ;2ff2  13          DATA 0x13
    .byte 0x00              ;2ff3  00          DATA 0x00
    .byte 0x07              ;2ff4  07          DATA 0x07
    .byte 0x00              ;2ff5  00          DATA 0x00
    .byte 0xf3              ;2ff6  f3          DATA 0xf3
    .byte 0x32              ;2ff7  32          DATA 0x32 '2'
    .byte 0x85              ;2ff8  85          DATA 0x85
    .byte 0xef              ;2ff9  ef          DATA 0xef
    .byte 0x12              ;2ffa  12          DATA 0x12
    .byte 0x00              ;2ffb  00          DATA 0x00
    .byte 0x06              ;2ffc  06          DATA 0x06
    .byte 0x00              ;2ffd  00          DATA 0x00
    .byte 0xf3              ;2ffe  f3          DATA 0xf3
    .byte 0x32              ;2fff  32          DATA 0x32 '2'
    .byte 0xa5              ;3000  a5          DATA 0xa5
    .byte 0xef              ;3001  ef          DATA 0xef
    .byte 0x13              ;3002  13          DATA 0x13
    .byte 0x00              ;3003  00          DATA 0x00
    .byte 0x1e              ;3004  1e          DATA 0x1e
    .byte 0x00              ;3005  00          DATA 0x00
    .byte 0xf3              ;3006  f3          DATA 0xf3
    .byte 0x32              ;3007  32          DATA 0x32 '2'
    .byte 0x1f              ;3008  1f          DATA 0x1f
    .byte 0xf0              ;3009  f0          DATA 0xf0
    .byte 0x12              ;300a  12          DATA 0x12
    .byte 0x00              ;300b  00          DATA 0x00
    .byte 0x14              ;300c  14          DATA 0x14
    .byte 0x00              ;300d  00          DATA 0x00
    .byte 0xf3              ;300e  f3          DATA 0xf3
    .byte 0x32              ;300f  32          DATA 0x32 '2'
    .byte 0x0e              ;3010  0e          DATA 0x0e
    .byte 0xc9              ;3011  c9          DATA 0xc9
    .byte 0x12              ;3012  12          DATA 0x12
    .byte 0x00              ;3013  00          DATA 0x00
    .byte 0x1f              ;3014  1f          DATA 0x1f
    .byte 0x00              ;3015  00          DATA 0x00
    .byte 0xf3              ;3016  f3          DATA 0xf3
    .byte 0x32              ;3017  32          DATA 0x32 '2'
    .byte 0xd9              ;3018  d9          DATA 0xd9
    .byte 0x34              ;3019  34          DATA 0x34 '4'
    .byte 0x13              ;301a  13          DATA 0x13
    .byte 0x00              ;301b  00          DATA 0x00
    .byte 0x06              ;301c  06          DATA 0x06
    .byte 0x00              ;301d  00          DATA 0x00
    .byte 0xf3              ;301e  f3          DATA 0xf3
    .byte 0x32              ;301f  32          DATA 0x32 '2'
    .byte 0x2b              ;3020  2b          DATA 0x2b '+'
    .byte 0xac              ;3021  ac          DATA 0xac
    .byte 0x22              ;3022  22          DATA 0x22 '"'
    .byte 0x00              ;3023  00          DATA 0x00
    .byte 0x05              ;3024  05          DATA 0x05
    .byte 0x00              ;3025  00          DATA 0x00
    .byte 0xf3              ;3026  f3          DATA 0xf3
    .byte 0x32              ;3027  32          DATA 0x32 '2'
    .byte 0xac              ;3028  ac          DATA 0xac
    .byte 0xac              ;3029  ac          DATA 0xac
    .byte 0x23              ;302a  23          DATA 0x23 '#'
    .byte 0x00              ;302b  00          DATA 0x00
    .byte 0x03              ;302c  03          DATA 0x03
    .byte 0x00              ;302d  00          DATA 0x00
    .byte 0xf3              ;302e  f3          DATA 0xf3
    .byte 0x32              ;302f  32          DATA 0x32 '2'
    .byte 0xbe              ;3030  be          DATA 0xbe
    .byte 0xac              ;3031  ac          DATA 0xac
    .byte 0x22              ;3032  22          DATA 0x22 '"'
    .byte 0x00              ;3033  00          DATA 0x00
    .byte 0x0e              ;3034  0e          DATA 0x0e
    .byte 0x00              ;3035  00          DATA 0x00
    .byte 0xf3              ;3036  f3          DATA 0xf3
    .byte 0x32              ;3037  32          DATA 0x32 '2'
    .byte 0xea              ;3038  ea          DATA 0xea
    .byte 0xac              ;3039  ac          DATA 0xac
    .byte 0x13              ;303a  13          DATA 0x13
    .byte 0x00              ;303b  00          DATA 0x00
    .byte 0x0a              ;303c  0a          DATA 0x0a
    .byte 0x00              ;303d  00          DATA 0x00
    .byte 0xf3              ;303e  f3          DATA 0xf3
    .byte 0x32              ;303f  32          DATA 0x32 '2'
    .byte 0x6a              ;3040  6a          DATA 0x6a 'j'
    .byte 0x90              ;3041  90          DATA 0x90
    .byte 0x12              ;3042  12          DATA 0x12
    .byte 0x80              ;3043  80          DATA 0x80
    .byte 0x05              ;3044  05          DATA 0x05
    .byte 0x00              ;3045  00          DATA 0x00
    .byte 0xf3              ;3046  f3          DATA 0xf3
    .byte 0x32              ;3047  32          DATA 0x32 '2'
    .byte 0x9c              ;3048  9c          DATA 0x9c
    .byte 0xe4              ;3049  e4          DATA 0xe4
    .byte 0x13              ;304a  13          DATA 0x13
    .byte 0x80              ;304b  80          DATA 0x80
    .byte 0x1e              ;304c  1e          DATA 0x1e
    .byte 0x00              ;304d  00          DATA 0x00
    .byte 0xf3              ;304e  f3          DATA 0xf3
    .byte 0x32              ;304f  32          DATA 0x32 '2'
    .byte 0xa0              ;3050  a0          DATA 0xa0
    .byte 0xe4              ;3051  e4          DATA 0xe4
    .byte 0x13              ;3052  13          DATA 0x13
    .byte 0x00              ;3053  00          DATA 0x00
    .byte 0x5a              ;3054  5a          DATA 0x5a 'Z'
    .byte 0x00              ;3055  00          DATA 0x00
    .byte 0xf3              ;3056  f3          DATA 0xf3
    .byte 0x32              ;3057  32          DATA 0x32 '2'
    .byte 0xfa              ;3058  fa          DATA 0xfa
    .byte 0x8a              ;3059  8a          DATA 0x8a
    .byte 0x13              ;305a  13          DATA 0x13
    .byte 0x00              ;305b  00          DATA 0x00
    .byte 0x0a              ;305c  0a          DATA 0x0a
    .byte 0x00              ;305d  00          DATA 0x00
    .byte 0xf3              ;305e  f3          DATA 0xf3
    .byte 0x32              ;305f  32          DATA 0x32 '2'
    .byte 0x5e              ;3060  5e          DATA 0x5e '^'
    .byte 0xd2              ;3061  d2          DATA 0xd2
    .byte 0x14              ;3062  14          DATA 0x14
    .byte 0x00              ;3063  00          DATA 0x00
    .byte 0x05              ;3064  05          DATA 0x05
    .byte 0x00              ;3065  00          DATA 0x00
    .byte 0xf3              ;3066  f3          DATA 0xf3
    .byte 0x32              ;3067  32          DATA 0x32 '2'
    .byte 0x6a              ;3068  6a          DATA 0x6a 'j'
    .byte 0xd2              ;3069  d2          DATA 0xd2
    .byte 0x13              ;306a  13          DATA 0x13
    .byte 0x00              ;306b  00          DATA 0x00
    .byte 0x0f              ;306c  0f          DATA 0x0f
    .byte 0x00              ;306d  00          DATA 0x00
    .byte 0xf3              ;306e  f3          DATA 0xf3
    .byte 0x32              ;306f  32          DATA 0x32 '2'
    .byte 0x73              ;3070  73          DATA 0x73 's'
    .byte 0xd2              ;3071  d2          DATA 0xd2
    .byte 0x11              ;3072  11          DATA 0x11
    .byte 0x00              ;3073  00          DATA 0x00
    .byte 0x14              ;3074  14          DATA 0x14
    .byte 0x00              ;3075  00          DATA 0x00
    .byte 0xf3              ;3076  f3          DATA 0xf3
    .byte 0x32              ;3077  32          DATA 0x32 '2'
    .byte 0x74              ;3078  74          DATA 0x74 't'
    .byte 0xd2              ;3079  d2          DATA 0xd2
    .byte 0x12              ;307a  12          DATA 0x12
    .byte 0x00              ;307b  00          DATA 0x00
    .byte 0x0f              ;307c  0f          DATA 0x0f
    .byte 0x00              ;307d  00          DATA 0x00
    .byte 0xf3              ;307e  f3          DATA 0xf3
    .byte 0x32              ;307f  32          DATA 0x32 '2'
    .byte 0x75              ;3080  75          DATA 0x75 'u'
    .byte 0xd2              ;3081  d2          DATA 0xd2
    .byte 0x23              ;3082  23          DATA 0x23 '#'
    .byte 0x00              ;3083  00          DATA 0x00
    .byte 0x03              ;3084  03          DATA 0x03
    .byte 0x00              ;3085  00          DATA 0x00
    .byte 0xf3              ;3086  f3          DATA 0xf3
    .byte 0x32              ;3087  32          DATA 0x32 '2'
    .byte 0x79              ;3088  79          DATA 0x79 'y'
    .byte 0xd2              ;3089  d2          DATA 0xd2
    .byte 0x13              ;308a  13          DATA 0x13
    .byte 0x00              ;308b  00          DATA 0x00
    .byte 0x1d              ;308c  1d          DATA 0x1d
    .byte 0x00              ;308d  00          DATA 0x00
    .byte 0xe9              ;308e  e9          DATA 0xe9
    .byte 0x94              ;308f  94          DATA 0x94
    .byte 0x6f              ;3090  6f          DATA 0x6f 'o'
    .byte 0x93              ;3091  93          DATA 0x93
    .byte 0x12              ;3092  12          DATA 0x12
    .byte 0x00              ;3093  00          DATA 0x00
    .byte 0x0b              ;3094  0b          DATA 0x0b
    .byte 0x00              ;3095  00          DATA 0x00
    .byte 0xf3              ;3096  f3          DATA 0xf3
    .byte 0x32              ;3097  32          DATA 0x32 '2'
    .byte 0x25              ;3098  25          DATA 0x25 '%'
    .byte 0xc9              ;3099  c9          DATA 0xc9
    .byte 0x12              ;309a  12          DATA 0x12
    .byte 0x00              ;309b  00          DATA 0x00
    .byte 0x09              ;309c  09          DATA 0x09
    .byte 0x00              ;309d  00          DATA 0x00
    .byte 0xf3              ;309e  f3          DATA 0xf3
    .byte 0x32              ;309f  32          DATA 0x32 '2'
    .byte 0x66              ;30a0  66          DATA 0x66 'f'
    .byte 0x22              ;30a1  22          DATA 0x22 '"'
    .byte 0x01              ;30a2  01          DATA 0x01
    .byte 0x80              ;30a3  80          DATA 0x80
    .byte 0x01              ;30a4  01          DATA 0x01
    .byte 0x00              ;30a5  00          DATA 0x00
    .byte 0xf3              ;30a6  f3          DATA 0xf3
    .byte 0x32              ;30a7  32          DATA 0x32 '2'
    .byte 0x0d              ;30a8  0d          DATA 0x0d
    .byte 0xb5              ;30a9  b5          DATA 0xb5
    .byte 0x01              ;30aa  01          DATA 0x01
    .byte 0x80              ;30ab  80          DATA 0x80
    .byte 0x06              ;30ac  06          DATA 0x06
    .byte 0x00              ;30ad  00          DATA 0x00
    .byte 0xf3              ;30ae  f3          DATA 0xf3
    .byte 0x32              ;30af  32          DATA 0x32 '2'
    .byte 0x26              ;30b0  26          DATA 0x26 '&'
    .byte 0xb6              ;30b1  b6          DATA 0xb6
    .byte 0x01              ;30b2  01          DATA 0x01
    .byte 0x80              ;30b3  80          DATA 0x80
    .byte 0x01              ;30b4  01          DATA 0x01
    .byte 0x00              ;30b5  00          DATA 0x00
    .byte 0xf3              ;30b6  f3          DATA 0xf3
    .byte 0x32              ;30b7  32          DATA 0x32 '2'
    .byte 0x84              ;30b8  84          DATA 0x84
    .byte 0xba              ;30b9  ba          DATA 0xba
    .byte 0x01              ;30ba  01          DATA 0x01
    .byte 0x80              ;30bb  80          DATA 0x80
    .byte 0x06              ;30bc  06          DATA 0x06
    .byte 0x00              ;30bd  00          DATA 0x00
    .byte 0xf3              ;30be  f3          DATA 0xf3
    .byte 0x32              ;30bf  32          DATA 0x32 '2'
    .byte 0x41              ;30c0  41          DATA 0x41 'A'
    .byte 0xba              ;30c1  ba          DATA 0xba
    .byte 0x03              ;30c2  03          DATA 0x03
    .byte 0x00              ;30c3  00          DATA 0x00
    .byte 0x07              ;30c4  07          DATA 0x07
    .byte 0x00              ;30c5  00          DATA 0x00
    .byte 0xf3              ;30c6  f3          DATA 0xf3
    .byte 0x32              ;30c7  32          DATA 0x32 '2'
    .byte 0x22              ;30c8  22          DATA 0x22 '"'
    .byte 0xba              ;30c9  ba          DATA 0xba
    .byte 0x02              ;30ca  02          DATA 0x02
    .byte 0x80              ;30cb  80          DATA 0x80
    .byte 0x18              ;30cc  18          DATA 0x18
    .byte 0x00              ;30cd  00          DATA 0x00
    .byte 0xf3              ;30ce  f3          DATA 0xf3
    .byte 0x32              ;30cf  32          DATA 0x32 '2'
    .byte 0x0a              ;30d0  0a          DATA 0x0a
    .byte 0xa6              ;30d1  a6          DATA 0xa6
    .byte 0x12              ;30d2  12          DATA 0x12
    .byte 0x00              ;30d3  00          DATA 0x00
    .byte 0x05              ;30d4  05          DATA 0x05
    .byte 0x00              ;30d5  00          DATA 0x00
    .byte 0xf3              ;30d6  f3          DATA 0xf3
    .byte 0x32              ;30d7  32          DATA 0x32 '2'
    .byte 0xe4              ;30d8  e4          DATA 0xe4
    .byte 0x2a              ;30d9  2a          DATA 0x2a '*'
    .byte 0x11              ;30da  11          DATA 0x11
    .byte 0x80              ;30db  80          DATA 0x80
    .byte 0x09              ;30dc  09          DATA 0x09
    .byte 0x00              ;30dd  00          DATA 0x00
    .byte 0xf3              ;30de  f3          DATA 0xf3
    .byte 0x32              ;30df  32          DATA 0x32 '2'
    .byte 0x57              ;30e0  57          DATA 0x57 'W'
    .byte 0x86              ;30e1  86          DATA 0x86
    .byte 0x24              ;30e2  24          DATA 0x24 '$'
    .byte 0x00              ;30e3  00          DATA 0x00
    .byte 0xff              ;30e4  ff          DATA 0xff
    .byte 0x00              ;30e5  00          DATA 0x00
    .byte 0xf3              ;30e6  f3          DATA 0xf3
    .byte 0x32              ;30e7  32          DATA 0x32 '2'
    .byte 0xe5              ;30e8  e5          DATA 0xe5
    .byte 0x34              ;30e9  34          DATA 0x34 '4'
    .byte 0x13              ;30ea  13          DATA 0x13
    .byte 0x00              ;30eb  00          DATA 0x00
    .byte 0x10              ;30ec  10          DATA 0x10
    .byte 0x00              ;30ed  00          DATA 0x00
    .byte 0xf3              ;30ee  f3          DATA 0xf3
    .byte 0x32              ;30ef  32          DATA 0x32 '2'
    .byte 0x35              ;30f0  35          DATA 0x35 '5'
    .byte 0xb1              ;30f1  b1          DATA 0xb1
    .byte 0x03              ;30f2  03          DATA 0x03
    .byte 0x00              ;30f3  00          DATA 0x00
    .byte 0x04              ;30f4  04          DATA 0x04
    .byte 0x00              ;30f5  00          DATA 0x00
    .byte 0xf3              ;30f6  f3          DATA 0xf3
    .byte 0x32              ;30f7  32          DATA 0x32 '2'
    .byte 0xce              ;30f8  ce          DATA 0xce
    .byte 0xb3              ;30f9  b3          DATA 0xb3
    .byte 0x03              ;30fa  03          DATA 0x03
    .byte 0x00              ;30fb  00          DATA 0x00
    .byte 0x14              ;30fc  14          DATA 0x14
    .byte 0x00              ;30fd  00          DATA 0x00
    .byte 0xf3              ;30fe  f3          DATA 0xf3
    .byte 0x32              ;30ff  32          DATA 0x32 '2'
    .byte 0x66              ;3100  66          DATA 0x66 'f'
    .byte 0x22              ;3101  22          DATA 0x22 '"'
    .byte 0x03              ;3102  03          DATA 0x03
    .byte 0x00              ;3103  00          DATA 0x00
    .byte 0x05              ;3104  05          DATA 0x05
    .byte 0x00              ;3105  00          DATA 0x00
    .byte 0xf3              ;3106  f3          DATA 0xf3
    .byte 0x32              ;3107  32          DATA 0x32 '2'
    .byte 0x46              ;3108  46          DATA 0x46 'F'
    .byte 0xb8              ;3109  b8          DATA 0xb8
    .byte 0x13              ;310a  13          DATA 0x13
    .byte 0x00              ;310b  00          DATA 0x00
    .byte 0x0a              ;310c  0a          DATA 0x0a
    .byte 0x00              ;310d  00          DATA 0x00
    .byte 0xf3              ;310e  f3          DATA 0xf3
    .byte 0x32              ;310f  32          DATA 0x32 '2'
    .byte 0x66              ;3110  66          DATA 0x66 'f'
    .byte 0x22              ;3111  22          DATA 0x22 '"'
    .byte 0x11              ;3112  11          DATA 0x11
    .byte 0x00              ;3113  00          DATA 0x00
    .byte 0x04              ;3114  04          DATA 0x04
    .byte 0x00              ;3115  00          DATA 0x00
    .byte 0xf3              ;3116  f3          DATA 0xf3
    .byte 0x32              ;3117  32          DATA 0x32 '2'
    .byte 0xff              ;3118  ff          DATA 0xff
    .byte 0x76              ;3119  76          DATA 0x76 'v'
    .byte 0x04              ;311a  04          DATA 0x04
    .byte 0x00              ;311b  00          DATA 0x00
    .byte 0x3c              ;311c  3c          DATA 0x3c '<'
    .byte 0x00              ;311d  00          DATA 0x00
    .byte 0xf0              ;311e  f0          DATA 0xf0
    .byte 0xaa              ;311f  aa          DATA 0xaa
    .byte 0xfb              ;3120  fb          DATA 0xfb
    .byte 0xaa              ;3121  aa          DATA 0xaa
    .byte 0x23              ;3122  23          DATA 0x23 '#'
    .byte 0x00              ;3123  00          DATA 0x00
    .byte 0x03              ;3124  03          DATA 0x03
    .byte 0x00              ;3125  00          DATA 0x00
    .byte 0xf3              ;3126  f3          DATA 0xf3
    .byte 0x32              ;3127  32          DATA 0x32 '2'
    .byte 0x05              ;3128  05          DATA 0x05
    .byte 0x2c              ;3129  2c          DATA 0x2c ','
    .byte 0x23              ;312a  23          DATA 0x23 '#'
    .byte 0x00              ;312b  00          DATA 0x00
    .byte 0x05              ;312c  05          DATA 0x05
    .byte 0x00              ;312d  00          DATA 0x00
    .byte 0xf3              ;312e  f3          DATA 0xf3
    .byte 0x32              ;312f  32          DATA 0x32 '2'
    .byte 0x08              ;3130  08          DATA 0x08
    .byte 0x2c              ;3131  2c          DATA 0x2c ','
    .byte 0x13              ;3132  13          DATA 0x13
    .byte 0x00              ;3133  00          DATA 0x00
    .byte 0x33              ;3134  33          DATA 0x33 '3'
    .byte 0x00              ;3135  00          DATA 0x00
    .byte 0xf3              ;3136  f3          DATA 0xf3
    .byte 0x32              ;3137  32          DATA 0x32 '2'
    .byte 0x53              ;3138  53          DATA 0x53 'S'
    .byte 0xe5              ;3139  e5          DATA 0xe5
    .byte 0x11              ;313a  11          DATA 0x11
    .byte 0x00              ;313b  00          DATA 0x00
    .byte 0x0d              ;313c  0d          DATA 0x0d
    .byte 0x00              ;313d  00          DATA 0x00
    .byte 0xf3              ;313e  f3          DATA 0xf3
    .byte 0x32              ;313f  32          DATA 0x32 '2'
    .byte 0x66              ;3140  66          DATA 0x66 'f'
    .byte 0x22              ;3141  22          DATA 0x22 '"'
    .byte 0x12              ;3142  12          DATA 0x12
    .byte 0x00              ;3143  00          DATA 0x00
    .byte 0x02              ;3144  02          DATA 0x02
    .byte 0x00              ;3145  00          DATA 0x00
    .byte 0xf3              ;3146  f3          DATA 0xf3
    .byte 0x32              ;3147  32          DATA 0x32 '2'
    .byte 0x9f              ;3148  9f          DATA 0x9f
    .byte 0x8d              ;3149  8d          DATA 0x8d
    .byte 0x13              ;314a  13          DATA 0x13
    .byte 0x00              ;314b  00          DATA 0x00
    .byte 0x07              ;314c  07          DATA 0x07
    .byte 0x00              ;314d  00          DATA 0x00
    .byte 0x07              ;314e  07          DATA 0x07
    .byte 0x8d              ;314f  8d          DATA 0x8d
    .byte 0x66              ;3150  66          DATA 0x66 'f'
    .byte 0x22              ;3151  22          DATA 0x22 '"'
    .byte 0x01              ;3152  01          DATA 0x01
    .byte 0x80              ;3153  80          DATA 0x80
    .byte 0x0a              ;3154  0a          DATA 0x0a
    .byte 0x00              ;3155  00          DATA 0x00
    .byte 0xf3              ;3156  f3          DATA 0xf3
    .byte 0x32              ;3157  32          DATA 0x32 '2'
    .byte 0x45              ;3158  45          DATA 0x45 'E'
    .byte 0xd9              ;3159  d9          DATA 0xd9

lab_315a:
    bbc 7,CPUM,lab_316e     ;315a  f7 3b 11     Main clock division ratio selection bit
    clb 5,CPUM              ;315d  bf 3b        Main clock stop bit
    nop                     ;315f  ea
    clb 7,CPUM              ;3160  ff 3b        Main clock division ratio selection bit
    nop                     ;3162  ea
    ldm #0x7c,PRE12         ;3163  3c 7c 20
    ldm #0x04,T1            ;3166  3c 04 21
    inc 0x64                ;3169  e6 64
    seb 0,0xf8              ;316b  0f f8
    rti                     ;316d  40

lab_316e:
    pha                     ;316e  48
    txa                     ;316f  8a
    pha                     ;3170  48
    tya                     ;3171  98
    pha                     ;3172  48
    dec 0x67                ;3173  c6 67
    bne lab_31eb            ;3175  d0 74
    seb 5,0xf8              ;3177  af f8
    lda 0x5e                ;3179  a5 5e
    beq lab_318e            ;317b  f0 11
    dec 0x5e                ;317d  c6 5e
    bne lab_318e            ;317f  d0 0d
    ldm #0xff,0x73          ;3181  3c ff 73
    clb 0,0xf7              ;3184  1f f7
    lda #0xc0               ;3186  a9 c0
    sta 0xc8                ;3188  85 c8
    lda #0xfb               ;318a  a9 fb
    sta 0xc9                ;318c  85 c9

lab_318e:
    lda 0x5f                ;318e  a5 5f
    beq lab_31c0            ;3190  f0 2e
    dec 0x5f                ;3192  c6 5f
    bne lab_31c0            ;3194  d0 2a
    bbc 5,P3,lab_31c0       ;3196  b7 06 27
    ldm #0x68,SIO2CON       ;3199  3c 68 1d
    ldm #0xff,SIO2          ;319c  3c ff 1f

lab_319f:
    bbc 2,IREQ2,lab_319f    ;319f  57 3d fd
    clb 2,IREQ2             ;31a2  5f 3d
    ldm #0x23,SIO2CON       ;31a4  3c 23 1d
    seb 3,PCTL2             ;31a7  6f 2f
    lda #0x0f               ;31a9  a9 0f

lab_31ab:
    bbs 2,P8D_P7I,lab_31b4  ;31ab  47 11 06
    inc 0x5f                ;31ae  e6 5f
    clb 3,PCTL2             ;31b0  7f 2f
    bra lab_31c0            ;31b2  80 0c

lab_31b4:
    dec a                   ;31b4  1a
    bne lab_31ab            ;31b5  d0 f4
    clb 3,PCTL2             ;31b7  7f 2f
    lda #0x00               ;31b9  a9 00
    sta 0x0270              ;31bb  8d 70 02
    seb 3,0xeb              ;31be  6f eb

lab_31c0:
    lda 0xb5                ;31c0  a5 b5
    beq lab_31ca            ;31c2  f0 06
    dec 0xb5                ;31c4  c6 b5
    bne lab_31ca            ;31c6  d0 02
    seb 4,0xfb              ;31c8  8f fb

lab_31ca:
    ldm #0x0a,0x67          ;31ca  3c 0a 67
    dec 0x66                ;31cd  c6 66
    bne lab_31eb            ;31cf  d0 1a
    seb 6,0xf8              ;31d1  cf f8
    lda 0x5d                ;31d3  a5 5d
    beq lab_31dd            ;31d5  f0 06
    dec 0x5d                ;31d7  c6 5d
    bne lab_31dd            ;31d9  d0 02
    seb 7,0xf8              ;31db  ef f8

lab_31dd:
    ldm #0x0a,0x66          ;31dd  3c 0a 66
    dec 0x65                ;31e0  c6 65
    bne lab_31eb            ;31e2  d0 07
    ldm #0x0a,0x65          ;31e4  3c 0a 65
    inc 0x64                ;31e7  e6 64
    seb 0,0xf8              ;31e9  0f f8

lab_31eb:
    jsr sub_bc83            ;31eb  20 83 bc
    jsr sub_bf19            ;31ee  20 19 bf
    pla                     ;31f1  68
    tay                     ;31f2  a8
    pla                     ;31f3  68
    tax                     ;31f4  aa
    pla                     ;31f5  68

lab_31f6:
    rti                     ;31f6  40

sub_31f7:
    ldm #0x08,0x60          ;31f7  3c 08 60
    ldm #0x0c,0x61          ;31fa  3c 0c 61
    lda #0x00               ;31fd  a9 00
    sta 0x62                ;31ff  85 62
    sta 0x63                ;3201  85 63
    lda 0x02d6              ;3203  ad d6 02
    sta 0x02d8              ;3206  8d d8 02
    lda 0x02d7              ;3209  ad d7 02
    and #0x7f               ;320c  29 7f
    sta 0x02d9              ;320e  8d d9 02
    rts                     ;3211  60

sub_3212:
    txa                     ;3212  8a
    pha                     ;3213  48
    jsr sub_3257            ;3214  20 57 32
    lda 0x64                ;3217  a5 64
    ldm #0x00,0x64          ;3219  3c 00 64
    ldx 0x60                ;321c  a6 60
    cpx #0x08               ;321e  e0 08
    bcs lab_3254            ;3220  b0 32
    adc 0x63                ;3222  65 63
    sta 0x63                ;3224  85 63
    cmp #0x3c               ;3226  c9 3c
    bcc lab_3254            ;3228  90 2a
    sbc #0x3c               ;322a  e9 3c
    sta 0x63                ;322c  85 63
    seb 1,0xf8              ;322e  2f f8
    lda 0x62                ;3230  a5 62
    inc a                   ;3232  3a
    sta 0x62                ;3233  85 62
    cmp #0x3c               ;3235  c9 3c
    bcc lab_3254            ;3237  90 1b
    ldm #0x00,0x62          ;3239  3c 00 62
    lda 0x61                ;323c  a5 61
    inc a                   ;323e  3a
    sta 0x61                ;323f  85 61
    cmp #0x18               ;3241  c9 18
    bcc lab_3254            ;3243  90 0f
    ldm #0x00,0x61          ;3245  3c 00 61
    lda 0x60                ;3248  a5 60
    inc a                   ;324a  3a
    sta 0x60                ;324b  85 60
    cmp #0x08               ;324d  c9 08
    bcc lab_3254            ;324f  90 03
    ldm #0x01,0x60          ;3251  3c 01 60

lab_3254:
    pla                     ;3254  68
    tax                     ;3255  aa
    rts                     ;3256  60

sub_3257:
    bbs 4,0xf5,lab_3293     ;3257  87 f5 39
    lda 0x02d7              ;325a  ad d7 02
    cmp #0xff               ;325d  c9 ff
    bne lab_3268            ;325f  d0 07
    lda 0x02d6              ;3261  ad d6 02
    cmp #0xff               ;3264  c9 ff
    beq lab_3293            ;3266  f0 2b

lab_3268:
    lda 0x02d8              ;3268  ad d8 02
    bne lab_3270            ;326b  d0 03
    dec 0x02d9              ;326d  ce d9 02

lab_3270:
    dec 0x02d8              ;3270  ce d8 02
    bne lab_3293            ;3273  d0 1e
    lda 0x02d9              ;3275  ad d9 02
    bne lab_3293            ;3278  d0 19
    lda 0x02d6              ;327a  ad d6 02
    sta 0x02d8              ;327d  8d d8 02
    lda 0x02d7              ;3280  ad d7 02
    and #0x7f               ;3283  29 7f
    sta 0x02d9              ;3285  8d d9 02
    lda 0x02d7              ;3288  ad d7 02
    bbs 7,a,lab_3291        ;328b  e3 04
    inc 0x64                ;328d  e6 64
    bra lab_3293            ;328f  80 02

lab_3291:
    dec 0x64                ;3291  c6 64

lab_3293:
    rts                     ;3293  60

sub_3294:
    sty 0x4f                ;3294  84 4f
    ldx #0x00               ;3296  a2 00

lab_3298:
    lda 0x0190,x            ;3298  bd 90 01
    beq lab_32ed            ;329b  f0 50
    lda 0x0190,x            ;329d  bd 90 01
    dec a                   ;32a0  1a
    ldm #0x00,0x41          ;32a1  3c 00 41
    asl a                   ;32a4  0a
    rol 0x41                ;32a5  26 41
    asl a                   ;32a7  0a
    rol 0x41                ;32a8  26 41
    asl a                   ;32aa  0a
    rol 0x41                ;32ab  26 41
    clc                     ;32ad  18
    adc #0x72               ;32ae  69 72
    sta 0x40                ;32b0  85 40
    lda 0x41                ;32b2  a5 41
    adc #0x2f               ;32b4  69 2f
    sta 0x41                ;32b6  85 41
    ldy #0x00               ;32b8  a0 00
    lda [0x40],y            ;32ba  b1 40
    and #0x07               ;32bc  29 07
    cmp 0x4f                ;32be  c5 4f
    bne lab_32ed            ;32c0  d0 2b
    ldy #0x04               ;32c2  a0 04
    lda [0x40],y            ;32c4  b1 40
    sta 0x42                ;32c6  85 42
    iny                     ;32c8  c8
    lda [0x40],y            ;32c9  b1 40
    sta 0x43                ;32cb  85 43
    jsr [0x42]              ;32cd  02 42
    bcc lab_32ed            ;32cf  90 1c
    lda #0x00               ;32d1  a9 00
    sta 0x0190,x            ;32d3  9d 90 01
    ldy #0x06               ;32d6  a0 06
    lda [0x40],y            ;32d8  b1 40
    sta 0x42                ;32da  85 42
    iny                     ;32dc  c8
    lda [0x40],y            ;32dd  b1 40
    sta 0x43                ;32df  85 43
    txa                     ;32e1  8a
    pha                     ;32e2  48
    lda 0x4f                ;32e3  a5 4f
    pha                     ;32e5  48
    jsr [0x42]              ;32e6  02 42
    pla                     ;32e8  68
    sta 0x4f                ;32e9  85 4f
    pla                     ;32eb  68
    tax                     ;32ec  aa

lab_32ed:
    inx                     ;32ed  e8
    cpx #0x0c               ;32ee  e0 0c
    bcc lab_3298            ;32f0  90 a6
    rts                     ;32f2  60

sub_32f3:
    clc                     ;32f3  18
    lda 0x01a0,x            ;32f4  bd a0 01
    beq lab_32ff            ;32f7  f0 06
    dec 0x01a0,x            ;32f9  de a0 01
    bne lab_32ff            ;32fc  d0 01
    sec                     ;32fe  38

lab_32ff:
    rts                     ;32ff  60

sub_3300:
    lda 0x40                ;3300  a5 40
    pha                     ;3302  48
    lda 0x41                ;3303  a5 41
    pha                     ;3305  48
    ldx #0x00               ;3306  a2 00

lab_3308:
    tya                     ;3308  98
    cmp 0x0190,x            ;3309  dd 90 01
    bne lab_3318            ;330c  d0 0a
    lda #0x00               ;330e  a9 00
    sta 0x0190,x            ;3310  9d 90 01
    sta 0x01a0,x            ;3313  9d a0 01
    ldx #0x0c               ;3316  a2 0c

lab_3318:
    inx                     ;3318  e8
    cpx #0x0c               ;3319  e0 0c
    bcc lab_3308            ;331b  90 eb
    ldx #0x00               ;331d  a2 00

lab_331f:
    lda 0x0190,x            ;331f  bd 90 01
    bne lab_3355            ;3322  d0 31
    tya                     ;3324  98
    sta 0x0190,x            ;3325  9d 90 01
    dec a                   ;3328  1a
    ldm #0x00,0x41          ;3329  3c 00 41
    asl a                   ;332c  0a
    rol 0x41                ;332d  26 41
    asl a                   ;332f  0a
    rol 0x41                ;3330  26 41
    asl a                   ;3332  0a
    rol 0x41                ;3333  26 41
    clc                     ;3335  18
    adc #0x72               ;3336  69 72
    sta 0x40                ;3338  85 40
    lda 0x41                ;333a  a5 41
    adc #0x2f               ;333c  69 2f
    sta 0x41                ;333e  85 41
    ldy #0x01               ;3340  a0 01
    lda [0x40],y            ;3342  b1 40
    bbc 7,a,lab_334b        ;3344  f3 05
    lda 0x01af              ;3346  ad af 01
    bne lab_334f            ;3349  d0 04

lab_334b:
    ldy #0x02               ;334b  a0 02
    lda [0x40],y            ;334d  b1 40

lab_334f:
    sta 0x01a0,x            ;334f  9d a0 01
    clc                     ;3352  18
    bra lab_335a            ;3353  80 05

lab_3355:
    inx                     ;3355  e8
    cpx #0x0c               ;3356  e0 0c
    bcc lab_331f            ;3358  90 c5

lab_335a:
    pla                     ;335a  68
    sta 0x41                ;335b  85 41
    pla                     ;335d  68
    sta 0x40                ;335e  85 40
    rts                     ;3360  60

sub_3361:
    lda 0x40                ;3361  a5 40
    pha                     ;3363  48
    sty 0x40                ;3364  84 40
    ldx #0x00               ;3366  a2 00

lab_3368:
    lda 0x0190,x            ;3368  bd 90 01
    cmp 0x40                ;336b  c5 40
    bne lab_337a            ;336d  d0 0b
    lda #0x00               ;336f  a9 00
    sta 0x0190,x            ;3371  9d 90 01
    sta 0x01a0,x            ;3374  9d a0 01
    clc                     ;3377  18
    bra lab_337f            ;3378  80 05

lab_337a:
    inx                     ;337a  e8
    cpx #0x0c               ;337b  e0 0c
    bcc lab_3368            ;337d  90 e9

lab_337f:
    pla                     ;337f  68
    sta 0x40                ;3380  85 40
    rts                     ;3382  60

sub_3383:
    ldx #0x04               ;3383  a2 04
    bra lab_3389            ;3385  80 02

sub_3387:
    ldx #0x05               ;3387  a2 05

lab_3389:
    lda 0x6641,x            ;3389  bd 41 66
    sta 0x42                ;338c  85 42
    ldx #0x00               ;338e  a2 00

lab_3390:
    lda 0x0190,x            ;3390  bd 90 01
    beq lab_33c0            ;3393  f0 2b
    lda 0x0190,x            ;3395  bd 90 01
    dec a                   ;3398  1a
    ldm #0x00,0x41          ;3399  3c 00 41
    asl a                   ;339c  0a
    rol 0x41                ;339d  26 41
    asl a                   ;339f  0a
    rol 0x41                ;33a0  26 41
    asl a                   ;33a2  0a
    rol 0x41                ;33a3  26 41
    clc                     ;33a5  18
    adc #0x72               ;33a6  69 72
    sta 0x40                ;33a8  85 40
    lda 0x41                ;33aa  a5 41
    adc #0x2f               ;33ac  69 2f
    sta 0x41                ;33ae  85 41
    ldy #0x00               ;33b0  a0 00
    lda [0x40],y            ;33b2  b1 40
    and 0x42                ;33b4  25 42
    beq lab_33c0            ;33b6  f0 08
    lda #0x00               ;33b8  a9 00
    sta 0x0190,x            ;33ba  9d 90 01
    sta 0x01a0,x            ;33bd  9d a0 01

lab_33c0:
    inx                     ;33c0  e8
    cpx #0x0c               ;33c1  e0 0c
    bcc lab_3390            ;33c3  90 cb
    rts                     ;33c5  60

sub_33c6:
    ldx #0x00               ;33c6  a2 00

lab_33c8:
    lda 0x0190,x            ;33c8  bd 90 01
    beq lab_33d9            ;33cb  f0 0c
    tya                     ;33cd  98
    cmp 0x0190,x            ;33ce  dd 90 01
    bne lab_33d9            ;33d1  d0 06
    lda 0x01a0,x            ;33d3  bd a0 01
    sec                     ;33d6  38
    bra lab_33df            ;33d7  80 06

lab_33d9:
    inx                     ;33d9  e8
    cpx #0x0c               ;33da  e0 0c
    bcc lab_33c8            ;33dc  90 ea
    clc                     ;33de  18

lab_33df:
    rts                     ;33df  60
    jsr sub_33c6            ;33e0  20 c6 33
    bcs lab_33ea            ;33e3  b0 05
    jsr sub_3300            ;33e5  20 00 33
    bra lab_33ed            ;33e8  80 03

lab_33ea:
    jsr sub_3361            ;33ea  20 61 33

lab_33ed:
    rts                     ;33ed  60
    clc                     ;33ee  18
    bbc 2,0xf1,lab_33f8     ;33ef  57 f1 06
    bbc 6,0xf1,lab_33f8     ;33f2  d7 f1 03
    jsr sub_32f3            ;33f5  20 f3 32

lab_33f8:
    rts                     ;33f8  60

lab_33f9:
    jsr sub_2e8a            ;33f9  20 8a 2e     Write SAFE code attempt count = 0 to EEPROM, possibly other stuff
    lda #0x01               ;33fc  a9 01
    sta 0x0269              ;33fe  8d 69 02
    jsr sub_2ae4            ;3401  20 e4 2a
    rts                     ;3404  60

lab_3405:
    seb 7,0xf0              ;3405  ef f0
    seb 0,0xf1              ;3407  0f f1
    jsr sub_4c63            ;3409  20 63 4c     TODO unknown I2C activities
    bbs 3,0xe6,lab_3422     ;340c  67 e6 13
    bbc 3,0xf2,lab_3422     ;340f  77 f2 10
    jsr sub_2b17            ;3412  20 17 2b
    jsr sub_2b51            ;3415  20 51 2b
    jsr sub_2835            ;3418  20 35 28
    jsr sub_2921            ;341b  20 21 29
    seb 1,0xf1              ;341e  2f f1
    bra lab_3428            ;3420  80 06

lab_3422:
    jsr sub_2b17            ;3422  20 17 2b
    jsr sub_2b51            ;3425  20 51 2b

lab_3428:
    rts                     ;3428  60
    dec 0x02b2              ;3429  ce b2 02
    beq lab_3435            ;342c  f0 07
    ldy #0x03               ;342e  a0 03
    jsr sub_3300            ;3430  20 00 33
    bra lab_3446            ;3433  80 11

lab_3435:
    lda 0x031d              ;3435  ad 1d 03
    bbc 0,a,lab_343d        ;3438  13 03
    jsr sub_aea8            ;343a  20 a8 ae

lab_343d:
    clb 6,0xf4              ;343d  df f4
    clb 7,0xf4              ;343f  ff f4
    ldy #0x19               ;3441  a0 19
    jsr sub_3361            ;3443  20 61 33

lab_3446:
    rts                     ;3446  60
    lda 0x031d              ;3447  ad 1d 03
    bbs 0,a,lab_3451        ;344a  03 05
    dec 0x02b3              ;344c  ce b3 02
    beq lab_3458            ;344f  f0 07

lab_3451:
    ldy #0x04               ;3451  a0 04
    jsr sub_3300            ;3453  20 00 33
    bra lab_345b            ;3456  80 03

lab_3458:
    jsr sub_c9af            ;3458  20 af c9

lab_345b:
    rts                     ;345b  60
    jsr sub_7d25            ;345c  20 25 7d
    jsr sub_7c8b            ;345f  20 8b 7c
    rts                     ;3462  60
    clb 1,0xe9              ;3463  3f e9
    rts                     ;3465  60
    bbs 0,0xf2,lab_346c     ;3466  07 f2 03
    jsr sub_def2            ;3469  20 f2 de

lab_346c:
    ldy #0x20               ;346c  a0 20
    jsr sub_f2ac            ;346e  20 ac f2
    seb 0,0xf4              ;3471  0f f4
    jsr sub_9adf            ;3473  20 df 9a
    rts                     ;3476  60
    bbs 5,0xf4,lab_3481     ;3477  a7 f4 07
    ldy #0x01               ;347a  a0 01
    jsr sub_33c6            ;347c  20 c6 33
    bcc lab_348d            ;347f  90 0c

lab_3481:
    lda #0x02               ;3481  a9 02
    sta 0x01af              ;3483  8d af 01
    ldy #0x09               ;3486  a0 09
    jsr sub_3300            ;3488  20 00 33
    bra lab_34a7            ;348b  80 1a

lab_348d:
    bbs 1,0xee,lab_34a7     ;348d  27 ee 17
    bbc 6,0xf1,lab_34a7     ;3490  d7 f1 14
    bbs 3,0xe6,lab_34a1     ;3493  67 e6 0b
    bbc 3,0xf2,lab_34a7     ;3496  77 f2 0e
    bbc 6,0xf0,lab_34a1     ;3499  d7 f0 05
    jsr sub_2b17            ;349c  20 17 2b
    bra lab_34a7            ;349f  80 06

lab_34a1:
    jsr sub_2b17            ;34a1  20 17 2b
    jsr sub_2b51            ;34a4  20 51 2b

lab_34a7:
    rts                     ;34a7  60
    jsr sub_8ecb            ;34a8  20 cb 8e
    bcc lab_34b2            ;34ab  90 05
    ldy #0x0a               ;34ad  a0 0a
    jsr sub_3300            ;34af  20 00 33

lab_34b2:
    rts                     ;34b2  60
    bbs 2,0xfb,lab_34d5     ;34b3  47 fb 1f
    lda 0x69                ;34b6  a5 69
    sta 0x41                ;34b8  85 41
    lda 0x68                ;34ba  a5 68
    lsr 0x41                ;34bc  46 41
    ror a                   ;34be  6a
    lsr 0x41                ;34bf  46 41
    ror a                   ;34c1  6a
    lsr 0x41                ;34c2  46 41
    ror a                   ;34c4  6a
    cmp #0x32               ;34c5  c9 32
    bcs lab_34d5            ;34c7  b0 0c
    jsr sub_44a7            ;34c9  20 a7 44     Clears several buffers and flags
    jsr sub_437f            ;34cc  20 7f 43
    jsr sub_43b9            ;34cf  20 b9 43
    jsr sub_664a            ;34d2  20 4a 66

lab_34d5:
    rts                     ;34d5  60
    clb 2,0xee              ;34d6  5f ee
    rts                     ;34d8  60

sub_34d9:
    bbc 2,0xed,lab_34e4     ;34d9  57 ed 08
    jsr sub_c2cd            ;34dc  20 cd c2
    ldy #0x15               ;34df  a0 15
    jsr sub_3300            ;34e1  20 00 33

lab_34e4:
    rts                     ;34e4  60
    bbs 6,0xf4,lab_34ef     ;34e5  c7 f4 07
    bbs 7,0xf4,lab_34ef     ;34e8  e7 f4 04
    clb 3,0xf8              ;34eb  7f f8
    bra lab_34f4            ;34ed  80 05

lab_34ef:
    ldy #0x2f               ;34ef  a0 2f
    jsr sub_3300            ;34f1  20 00 33

lab_34f4:
    rts                     ;34f4  60

;TechniSat protocol related (commands?)
;used by lab_3618
mem_34f5:
    .byte 0x3f              ;34f5  3f          DATA 0x3f '?'
    .byte 0x1a              ;34f6  1a          DATA 0x1a
    .byte 0x1b              ;34f7  1b          DATA 0x1b
    .byte 0x15              ;34f8  15          DATA 0x15
    .byte 0x0f              ;34f9  0f          DATA 0x0f
    .byte 0x04              ;34fa  04          DATA 0x04
    .byte 0x0a              ;34fb  0a          DATA 0x0a
    .byte 0x7f              ;34fc  7f          DATA 0x7f
    .byte 0x16              ;34fd  16          DATA 0x16
    .byte 0x10              ;34fe  10          DATA 0x10
    .byte 0x12              ;34ff  12          DATA 0x12
    .byte 0x11              ;3500  11          DATA 0x11
    .byte 0x25              ;3501  25          DATA 0x25 '%'
    .byte 0x24              ;3502  24          DATA 0x24 '$'
    .byte 0x27              ;3503  27          DATA 0x27 '''
    .byte 0x26              ;3504  26          DATA 0x26 '&'
    .byte 0x05              ;3505  05          DATA 0x05
    .byte 0x0b              ;3506  0b          DATA 0x0b
    .byte 0x14              ;3507  14          DATA 0x14
    .byte 0x0e              ;3508  0e          DATA 0x0e
    .byte 0x0d              ;3509  0d          DATA 0x0d
    .byte 0x1c              ;350a  1c          DATA 0x1c
    .byte 0x03              ;350b  03          DATA 0x03
    .byte 0x06              ;350c  06          DATA 0x06
    .byte 0x17              ;350d  17          DATA 0x17
    .byte 0x1e              ;350e  1e          DATA 0x1e
    .byte 0x18              ;350f  18          DATA 0x18
    .byte 0x1d              ;3510  1d          DATA 0x1d
    .byte 0x21              ;3511  21          DATA 0x21 '!'
    .byte 0x20              ;3512  20          DATA 0x20 ' '
    .byte 0x23              ;3513  23          DATA 0x23 '#'
    .byte 0x22              ;3514  22          DATA 0x22 '"'
    .byte 0x09              ;3515  09          DATA 0x09
    .byte 0x08              ;3516  08          DATA 0x08
    .byte 0x07              ;3517  07          DATA 0x07
    .byte 0x02              ;3518  02          DATA 0x02
    .byte 0x7c              ;3519  7c          DATA 0x7c '|'
    .byte 0x3d              ;351a  3d          DATA 0x3d '='
    .byte 0x3e              ;351b  3e          DATA 0x3e '>'
    .byte 0x3c              ;351c  3c          DATA 0x3c '<'
    .byte 0x3b              ;351d  3b          DATA 0x3b ';'

;TechniSat protocol handlers
;same order as table of bytes at 0x34f5
;used by lab_3624
mem_351e:
    .word lab_3703          ;351e  03 37       VECTOR
    .word lab_3758          ;3520  58 37       VECTOR
    .word lab_3758          ;3522  58 37       VECTOR
    .word lab_3758          ;3524  58 37       VECTOR
    .word lab_3758          ;3526  58 37       VECTOR
    .word lab_3758          ;3528  58 37       VECTOR
    .word lab_3758          ;352a  58 37       VECTOR
    .word sub_2266_rts      ;352c  66 22       VECTOR
    .word lab_3b98          ;352e  98 3b       VECTOR
    .word lab_3c02          ;3530  02 3c       VECTOR
    .word lab_3c15          ;3532  15 3c       VECTOR
    .word lab_3e41          ;3534  41 3e       VECTOR
    .word lab_3a2e          ;3536  2e 3a       VECTOR
    .word lab_3a38          ;3538  38 3a       VECTOR
    .word lab_3a8b          ;353a  8b 3a       VECTOR
    .word lab_3a95          ;353c  95 3a       VECTOR
    .word sub_383a          ;353e  3a 38       VECTOR
    .word sub_3846          ;3540  46 38       VECTOR
    .word sub_397c          ;3542  7c 39       VECTOR
    .word sub_3988          ;3544  88 39       VECTOR
    .word lab_3eca          ;3546  ca 3e       VECTOR
    .word lab_3dd5          ;3548  d5 3d       VECTOR
    .word lab_3fa1          ;354a  a1 3f       VECTOR
    .word lab_401e          ;354c  1e 40       VECTOR
    .word lab_3ad2          ;354e  d2 3a       VECTOR
    .word lab_3aeb          ;3550  eb 3a       VECTOR
    .word lab_3b00          ;3552  00 3b       VECTOR
    .word lab_3b26          ;3554  26 3b       VECTOR
    .word lab_3a2e          ;3556  2e 3a       VECTOR
    .word lab_3a38          ;3558  38 3a       VECTOR
    .word lab_3a01          ;355a  01 3a       VECTOR
    .word lab_3a13          ;355c  13 3a       VECTOR
    .word lab_3e88          ;355e  88 3e       VECTOR
    .word lab_3ec0          ;3560  c0 3e       VECTOR
    .word lab_405d          ;3562  5d 40       VECTOR
    .word lab_400c          ;3564  0c 40       VECTOR
    .word lab_5b1d          ;3566  1d 5b       VECTOR
    .word lab_3f82          ;3568  82 3f       VECTOR
    .word sub_2266_rts      ;356a  66 22       VECTOR
    .word lab_3ea3          ;356c  a3 3e       VECTOR
    .word lab_40ef          ;356e  ef 40       VECTOR

;TechniSat protocol related (command bytes)
;used by lab_3634
;
;Request block: 10 01 02 45 62 14 41
;                        ^^
;                        command byte from this table
;
mem_3570:
    .byte 0x5e              ;3570  5e          DATA 0x5e '^'
    .byte 0x5f              ;3571  5f          DATA 0x5f '_'
    .byte 0x42              ;3572  42          DATA 0x42 'B'
    .byte 0x43              ;3573  43          DATA 0x43 'C'
    .byte 0x44              ;3574  44          DATA 0x44 'D'
    .byte 0x45              ;3575  45          DATA 0x45 'E'
    .byte 0x46              ;3576  46          DATA 0x46 'F'
    .byte 0x47              ;3577  47          DATA 0x47 'G'
    .byte 0x4a              ;3578  4a          DATA 0x4a 'J'
    .byte 0x4b              ;3579  4b          DATA 0x4b 'K'
    .byte 0x4c              ;357a  4c          DATA 0x4c 'L'
    .byte 0x4d              ;357b  4d          DATA 0x4d 'M'
    .byte 0x48              ;357c  48          DATA 0x48 'H'
    .byte 0x49              ;357d  49          DATA 0x49 'I'
    .byte 0x7f              ;357e  7f          DATA 0x7f
    .byte 0x7f              ;357f  7f          DATA 0x7f
    .byte 0x50              ;3580  50          DATA 0x50 'P'
    .byte 0x51              ;3581  51          DATA 0x51 'Q'
    .byte 0x52              ;3582  52          DATA 0x52 'R'
    .byte 0x53              ;3583  53          DATA 0x53 'S'
    .byte 0x58              ;3584  58          DATA 0x58 'X'
    .byte 0x59              ;3585  59          DATA 0x59 'Y'
    .byte 0x5a              ;3586  5a          DATA 0x5a 'Z'
    .byte 0x7f              ;3587  7f          DATA 0x7f

;TechniSat protocol handlers
;same order as table of bytes at 0x3570
;used by lab_3640
mem_3588:
    .word sub_5adf_stat_resp;3588  df 5a       VECTOR   cmd=5e   Send 10 01 5E <0x0344> CS status response
    .word sub_5b37_cmd_5f   ;358a  37 5b       VECTOR   cmd=5f   Disconnect (terminate session)
    .word sub_5b4a_cmd_42   ;358c  4a 5b       VECTOR   cmd=42   Perform an I2C write-then-read transaction
    .word sub_5bbb_cmd_43   ;358e  bb 5b       VECTOR   cmd=43   Perform an I2C write-only transaction
    .word sub_5beb_cmd_44   ;3590  eb 5b       VECTOR   cmd=44   Read RAM in allowed range
    .word sub_5c2e_cmd_45   ;3592  2e 5c       VECTOR   cmd=45   Write RAM in allowed range or disable EEPROM filtering
    .word sub_5c7e_cmd_46   ;3594  7e 5c       VECTOR   cmd=46   AND memory in allowed ranges with complement of a value
    .word sub_5cb2_cmd_47   ;3596  b2 5c       VECTOR   cmd=47   OR memory in allowed ranges with a value
    .word sub_5ce4_cmd_4a   ;3598  e4 5c       VECTOR   cmd=4a   ? mem_59fd read bytes [0x4c],y
    .word sub_5d22_cmd_4b   ;359a  22 5d       VECTOR   cmd=4b   ? mem_59fd write bytes [0x4c,x]
    .word sub_5d69_cmd_4c   ;359c  69 5d       VECTOR   cmd=4c   ? mem_59fd AND bytes [0x4c],y
    .word sub_5db3_cmd_4d   ;359e  b3 5d       VECTOR   cmd=4d   Disables EEPROM filtering based on payload
    .word sub_5e97_cmd_48   ;35a0  97 5e       VECTOR   cmd=48   Read EEPROM data
    .word sub_5f4d_cmd_49   ;35a2  4d 5f       VECTOR   cmd=49   Write EEPROM data
    .word sub_2266_rts      ;35a4  66 22       VECTOR   cmd=7f   Bad command (does RTS only)
    .word sub_2266_rts      ;35a6  66 22       VECTOR   cmd=7f   Bad command (does RTS only)
    .word sub_5fe4_cmd_50   ;35a8  e4 5f       VECTOR   cmd=50
    .word sub_6070_cmd_51   ;35aa  70 60       VECTOR   cmd=51
    .word sub_60a3_cmd_52   ;35ac  a3 60       VECTOR   cmd=52
    .word sub_619a_cmd_53   ;35ae  9a 61       VECTOR   cmd=53
    .word sub_611a_cmd_58   ;35b0  1a 61       VECTOR   cmd=58   Set the value of location 0x0342 (TODO what does this do?)
    .word sub_60f6_cmd_59   ;35b2  f6 60       VECTOR   cmd=59   Change baud rate
    .word sub_613f_cmd_5a   ;35b4  3f 61       VECTOR   cmd=5a   Write to buffer at 0x0110 and call sub_6cc0 to do unknown I/O
    .word sub_2266_rts      ;35b6  66 22       VECTOR   cmd=7f   Bad command (does RTS only)

sub_35b8:
    ldy #0x0e               ;35b8  a0 0e
    pha                     ;35ba  48
    jsr sub_33c6            ;35bb  20 c6 33
    pla                     ;35be  68
    bcc lab_35ca            ;35bf  90 09
    jsr sub_3697            ;35c1  20 97 36
    bcc lab_360e            ;35c4  90 48
    ldx #0x00               ;35c6  a2 00
    bra lab_3634            ;35c8  80 6a

lab_35ca:
    bbc 3,0xe6,lab_35d4     ;35ca  77 e6 07
    jsr sub_3697            ;35cd  20 97 36
    bcc lab_360e            ;35d0  90 3c
    bra lab_360c            ;35d2  80 38

lab_35d4:
    bbc 5,0xf4,lab_35de     ;35d4  b7 f4 07
    jsr sub_36a9            ;35d7  20 a9 36
    bcc lab_360e            ;35da  90 32
    bra lab_360c            ;35dc  80 2e

lab_35de:
    bbc 6,0xf0,lab_35f0     ;35de  d7 f0 0f
    bbc 3,0xf2,lab_35e7     ;35e1  77 f2 03
    bbs 0,0xf1,lab_35f0     ;35e4  07 f1 09

lab_35e7:
    jsr sub_36c5            ;35e7  20 c5 36
    bcc lab_360e            ;35ea  90 22
    ldx #0x00               ;35ec  a2 00
    bra lab_3634            ;35ee  80 44

lab_35f0:
    bbc 0,0xf1,lab_35fa     ;35f0  17 f1 07
    jsr sub_3661            ;35f3  20 61 36
    bcc lab_360e            ;35f6  90 16
    bra lab_360c            ;35f8  80 12

lab_35fa:
    bbc 4,0xf4,lab_3604     ;35fa  97 f4 07
    jsr sub_3685            ;35fd  20 85 36
    bcc lab_360e            ;3600  90 0c
    bra lab_360c            ;3602  80 08

lab_3604:
    bbc 4,0xf1,lab_360e     ;3604  97 f1 07
    jsr sub_36ee            ;3607  20 ee 36
    bcc lab_360e            ;360a  90 02

lab_360c:
    bra lab_3650            ;360c  80 42

lab_360e:
    ldx #0x00               ;360e  a2 00
    cmp #0x40               ;3610  c9 40
    bcc lab_3618            ;3612  90 04
    cmp #0x60               ;3614  c9 60
    bcc lab_3634            ;3616  90 1c

lab_3618:
    cmp mem_34f5,x          ;3618  dd f5 34
    beq lab_3624            ;361b  f0 07
    inx                     ;361d  e8
    cpx #0x29               ;361e  e0 29
    bcc lab_3618            ;3620  90 f6
    bra lab_3632            ;3622  80 0e

lab_3624:
    txa                     ;3624  8a
    asl a                   ;3625  0a
    tay                     ;3626  a8
    lda mem_351e,y          ;3627  b9 1e 35
    sta 0x40                ;362a  85 40
    lda mem_351e+1,y        ;362c  b9 1f 35
    sta 0x41                ;362f  85 41
    clc                     ;3631  18

lab_3632:
    bra lab_3650            ;3632  80 1c

lab_3634:
    cmp mem_3570,x          ;3634  dd 70 35
    beq lab_3640            ;3637  f0 07
    inx                     ;3639  e8
    cpx #0x18               ;363a  e0 18
    bcc lab_3634            ;363c  90 f6
    bra lab_364e            ;363e  80 0e

lab_3640:
    txa                     ;3640  8a
    asl a                   ;3641  0a
    tay                     ;3642  a8
    lda mem_3588,y          ;3643  b9 88 35
    sta 0x40                ;3646  85 40
    lda mem_3588+1,y        ;3648  b9 89 35
    sta 0x41                ;364b  85 41
    clc                     ;364d  18

lab_364e:
    clb 0,0xf7              ;364e  1f f7

lab_3650:
    rts                     ;3650  60

;unknown table of bytes used by lab_3663
    .byte 0x3f              ;3651  3f          DATA 0x3f '?'
    .byte 0x1a              ;3652  1a          DATA 0x1a
    .byte 0x1b              ;3653  1b          DATA 0x1b
    .byte 0x15              ;3654  15          DATA 0x15
    .byte 0x0f              ;3655  0f          DATA 0x0f
    .byte 0x05              ;3656  05          DATA 0x05
    .byte 0x14              ;3657  14          DATA 0x14
    .byte 0x09              ;3658  09          DATA 0x09
    .byte 0x7c              ;3659  7c          DATA 0x7c '|'
    .byte 0x5e              ;365a  5e          DATA 0x5e '^'
    .byte 0x25              ;365b  25          DATA 0x25 '%'
    .byte 0x24              ;365c  24          DATA 0x24 '$'
    .byte 0x27              ;365d  27          DATA 0x27 '''
    .byte 0x26              ;365e  26          DATA 0x26 '&'
    .byte 0x23              ;365f  23          DATA 0x23 '#'
    .byte 0x3b              ;3660  3b          DATA 0x3b ';'

sub_3661:
    ldx #0x00               ;3661  a2 00

lab_3663:
    cmp 0x3651,x            ;3663  dd 51 36
    beq lab_3678            ;3666  f0 10
    inx                     ;3668  e8
    cpx #0x10               ;3669  e0 10
    bcc lab_3663            ;366b  90 f6
    cmp #0x40               ;366d  c9 40
    bcc lab_3675            ;366f  90 04
    cmp #0x60               ;3671  c9 60
    bcc lab_3678            ;3673  90 03

lab_3675:
    sec                     ;3675  38
    bra lab_3679            ;3676  80 01

lab_3678:
    clc                     ;3678  18

lab_3679:
    rts                     ;3679  60

;unknown table of bytes used by lab_3687
    .byte 0x3f              ;367a  3f          DATA 0x3f '?'
    .byte 0x24              ;367b  24          DATA 0x24 '$'
    .byte 0x25              ;367c  25          DATA 0x25 '%'
    .byte 0x0b              ;367d  0b          DATA 0x0b
    .byte 0x05              ;367e  05          DATA 0x05
    .byte 0x0e              ;367f  0e          DATA 0x0e
    .byte 0x14              ;3680  14          DATA 0x14
    .byte 0x16              ;3681  16          DATA 0x16
    .byte 0x23              ;3682  23          DATA 0x23 '#'
    .byte 0x22              ;3683  22          DATA 0x22 '"'
    .byte 0x3b              ;3684  3b          DATA 0x3b ';'

sub_3685:
    ldx #0x00               ;3685  a2 00

lab_3687:
    cmp 0x367a,x            ;3687  dd 7a 36
    beq lab_3693            ;368a  f0 07
    inx                     ;368c  e8
    cpx #0x0b               ;368d  e0 0b
    bcc lab_3687            ;368f  90 f6
    bra lab_3694            ;3691  80 01

lab_3693:
    clc                     ;3693  18

lab_3694:
    rts                     ;3694  60

;unknown table of bytes used by lab_3699
    .byte 0x3f              ;3695  3f          DATA 0x3f '?'
    .byte 0x3b              ;3696  3b          DATA 0x3b ';'

sub_3697:
    ldx #0x00               ;3697  a2 00

lab_3699:
    cmp 0x3695,x            ;3699  dd 95 36
    beq lab_36a5            ;369c  f0 07
    inx                     ;369e  e8
    cpx #0x02               ;369f  e0 02
    bcc lab_3699            ;36a1  90 f6
    bra lab_36a6            ;36a3  80 01

lab_36a5:
    clc                     ;36a5  18

lab_36a6:
    rts                     ;36a6  60

;unknown table of bytes used by lab_36ab
    .byte 0x3f              ;36a7  3f          DATA 0x3f '?'
    .byte 0x3b              ;36a8  3b          DATA 0x3b ';'

sub_36a9:
    ldx #0x00               ;36a9  a2 00

lab_36ab:
    cmp 0x36a7,x            ;36ab  dd a7 36
    beq lab_36b7            ;36ae  f0 07
    inx                     ;36b0  e8
    cpx #0x02               ;36b1  e0 02
    bcc lab_36ab            ;36b3  90 f6
    bra lab_36b8            ;36b5  80 01

lab_36b7:
    clc                     ;36b7  18

lab_36b8:
    rts                     ;36b8  60

;unknown table of bytes used by lab_36c7
    .byte 0x3f              ;36b9  3f          DATA 0x3f '?'
    .byte 0x17              ;36ba  17          DATA 0x17
    .byte 0x1e              ;36bb  1e          DATA 0x1e
    .byte 0x18              ;36bc  18          DATA 0x18
    .byte 0x1d              ;36bd  1d          DATA 0x1d
    .byte 0x25              ;36be  25          DATA 0x25 '%'
    .byte 0x24              ;36bf  24          DATA 0x24 '$'
    .byte 0x27              ;36c0  27          DATA 0x27 '''
    .byte 0x26              ;36c1  26          DATA 0x26 '&'
    .byte 0x7c              ;36c2  7c          DATA 0x7c '|'
    .byte 0x5e              ;36c3  5e          DATA 0x5e '^'
    .byte 0x3b              ;36c4  3b          DATA 0x3b ';'

sub_36c5:
    ldx #0x00               ;36c5  a2 00

lab_36c7:
    cmp 0x36b9,x            ;36c7  dd b9 36
    beq lab_36d3            ;36ca  f0 07
    inx                     ;36cc  e8
    cpx #0x0c               ;36cd  e0 0c
    bcc lab_36c7            ;36cf  90 f6
    bra lab_36d4            ;36d1  80 01

lab_36d3:
    clc                     ;36d3  18

lab_36d4:
    rts                     ;36d4  60

;unknown table of bytes used by lab_36f5
mem_36d5:
    .byte 0x3f              ;36d5  3f          DATA 0x3f '?'
    .byte 0x1a              ;36d6  1a          DATA 0x1a
    .byte 0x1b              ;36d7  1b          DATA 0x1b
    .byte 0x15              ;36d8  15          DATA 0x15
    .byte 0x0f              ;36d9  0f          DATA 0x0f
    .byte 0x04              ;36da  04          DATA 0x04
    .byte 0x0a              ;36db  0a          DATA 0x0a
    .byte 0x16              ;36dc  16          DATA 0x16
    .byte 0x10              ;36dd  10          DATA 0x10
    .byte 0x25              ;36de  25          DATA 0x25 '%'
    .byte 0x24              ;36df  24          DATA 0x24 '$'
    .byte 0x27              ;36e0  27          DATA 0x27 '''
    .byte 0x26              ;36e1  26          DATA 0x26 '&'
    .byte 0x05              ;36e2  05          DATA 0x05
    .byte 0x0b              ;36e3  0b          DATA 0x0b
    .byte 0x14              ;36e4  14          DATA 0x14
    .byte 0x0e              ;36e5  0e          DATA 0x0e
    .byte 0x21              ;36e6  21          DATA 0x21 '!'
    .byte 0x20              ;36e7  20          DATA 0x20 ' '
    .byte 0x23              ;36e8  23          DATA 0x23 '#'
    .byte 0x22              ;36e9  22          DATA 0x22 '"'
    .byte 0x09              ;36ea  09          DATA 0x09
    .byte 0x07              ;36eb  07          DATA 0x07
    .byte 0x7c              ;36ec  7c          DATA 0x7c '|'
    .byte 0x3b              ;36ed  3b          DATA 0x3b ';'

sub_36ee:
    pha                     ;36ee  48
    jsr sub_aeb4            ;36ef  20 b4 ae
    pla                     ;36f2  68
    ldx #0x00               ;36f3  a2 00

lab_36f5:
    cmp mem_36d5,x          ;36f5  dd d5 36
    beq lab_3701            ;36f8  f0 07
    inx                     ;36fa  e8
    cpx #0x19               ;36fb  e0 19
    bcc lab_36f5            ;36fd  90 f6
    bra lab_3702            ;36ff  80 01

lab_3701:
    clc                     ;3701  18

lab_3702:
    rts                     ;3702  60

lab_3703:
    clb 0,0xf7              ;3703  1f f7
    ldm #0xff,0x72          ;3705  3c ff 72
    bbs 6,0xf1,lab_3731     ;3708  c7 f1 26
    bbs 3,0xe6,lab_372a     ;370b  67 e6 1c
    bbs 0,0xee,lab_372a     ;370e  07 ee 19
    lda 0x026c              ;3711  ad 6c 02
    bbc 1,a,lab_3718        ;3714  33 02
    seb 0,0xe5              ;3716  0f e5

lab_3718:
    jsr sub_2f40            ;3718  20 40 2f
    jsr sub_2835            ;371b  20 35 28
    jsr sub_2921            ;371e  20 21 29
    bra lab_3757            ;3721  80 34

    .byte 0x2f              ;3723  2f          DATA 0x2f '/'
    .byte 0xf6              ;3724  f6          DATA 0xf6
    .byte 0x37              ;3725  37          DATA 0x37 '7'
    .byte 0xee              ;3726  ee          DATA 0xee
    .byte 0x02              ;3727  02          DATA 0x02
    .byte 0x3f              ;3728  3f          DATA 0x3f '?'
    .byte 0xf6              ;3729  f6          DATA 0xf6

lab_372a:
    seb 0,0xf6              ;372a  0f f6
    jsr sub_6c83            ;372c  20 83 6c
    bra lab_3757            ;372f  80 26

lab_3731:
    bbs 3,0xe6,lab_374c     ;3731  67 e6 18
    bbs 3,0xf2,lab_3742     ;3734  67 f2 0b
    bbc 6,0xf0,lab_374c     ;3737  d7 f0 12
    bbs 0,0xee,lab_3757     ;373a  07 ee 1a
    jsr sub_2921            ;373d  20 21 29
    bra lab_3757            ;3740  80 15

lab_3742:
    bbc 6,0xf0,lab_374c     ;3742  d7 f0 07
    seb 7,0xf1              ;3745  ef f1
    jsr sub_2b17            ;3747  20 17 2b
    bra lab_3757            ;374a  80 0b

lab_374c:
    seb 7,0xf1              ;374c  ef f1
    jsr sub_2f40            ;374e  20 40 2f
    jsr sub_2b17            ;3751  20 17 2b
    jsr sub_2b51            ;3754  20 51 2b

lab_3757:
    rts                     ;3757  60

lab_3758:
    bbc 7,0xf0,lab_375e     ;3758  f7 f0 03
    jmp lab_3812            ;375b  4c 12 38

lab_375e:
    bbs 2,0xf4,lab_3770     ;375e  47 f4 0f
    bbc 4,0xf0,lab_3767     ;3761  97 f0 03
    jmp lab_3805            ;3764  4c 05 38

lab_3767:
    lda 0xf0                ;3767  a5 f0
    and #0xf8               ;3769  29 f8
    beq lab_3770            ;376b  f0 03
    jmp lab_3839            ;376d  4c 39 38

lab_3770:
    txa                     ;3770  8a
    pha                     ;3771  48
    bbc 3,0xfe,lab_377a     ;3772  77 fe 05
    clb 3,0xfe              ;3775  7f fe
    jsr sub_b388            ;3777  20 88 b3

lab_377a:
    jsr sub_d935            ;377a  20 35 d9
    jsr sub_d3a7            ;377d  20 a7 d3
    jsr sub_c9ce            ;3780  20 ce c9
    jsr sub_9dcd            ;3783  20 cd 9d
    clb 0,0xf3              ;3786  1f f3
    ldm #0x00,0x5d          ;3788  3c 00 5d
    ldm #0x00,0x5c          ;378b  3c 00 5c
    pla                     ;378e  68
    sta 0x78                ;378f  85 78
    cmp #0x07               ;3791  c9 07
    bcs lab_3802            ;3793  b0 6d
    cmp #0x01               ;3795  c9 01
    bcc lab_3802            ;3797  90 69
    lda 0x50                ;3799  a5 50
    pha                     ;379b  48
    lda 0x78                ;379c  a5 78
    sta 0x50                ;379e  85 50
    lda 0x59                ;37a0  a5 59
    sta 0x5a                ;37a2  85 5a
    jsr sub_664a            ;37a4  20 4a 66
    pla                     ;37a7  68
    sta 0x50                ;37a8  85 50
    ldy #0xc8               ;37aa  a0 c8
    jsr sub_40a3            ;37ac  20 a3 40
    bcs lab_37d6            ;37af  b0 25
    jsr sub_7673            ;37b1  20 73 76
    jsr sub_ed57            ;37b4  20 57 ed
    jsr sub_4b29            ;37b7  20 29 4b
    bcc lab_37bf            ;37ba  90 03
    jsr sub_486d            ;37bc  20 6d 48

lab_37bf:
    lda 0x78                ;37bf  a5 78
    sta 0x50                ;37c1  85 50
    lda 0x59                ;37c3  a5 59
    sta 0x5a                ;37c5  85 5a
    seb 3,0xfc              ;37c7  6f fc
    jsr sub_40f8            ;37c9  20 f8 40
    clb 3,0xfc              ;37cc  7f fc
    jsr sub_4281            ;37ce  20 81 42
    jsr sub_4c51            ;37d1  20 51 4c     TODO unknown I2C activities
    bra lab_3802            ;37d4  80 2c

lab_37d6:
    bbs 4,0xf1,lab_3802     ;37d6  87 f1 29
    jsr sub_7673            ;37d9  20 73 76
    jsr sub_74d2            ;37dc  20 d2 74
    lda 0x78                ;37df  a5 78
    sta 0x50                ;37e1  85 50
    lda 0x59                ;37e3  a5 59
    sta 0x5a                ;37e5  85 5a
    jsr sub_664a            ;37e7  20 4a 66
    seb 3,0xfc              ;37ea  6f fc
    jsr sub_486d            ;37ec  20 6d 48
    clb 3,0xfc              ;37ef  7f fc
    jsr sub_40cf            ;37f1  20 cf 40
    jsr sub_ed57            ;37f4  20 57 ed
    ldy #0x11               ;37f7  a0 11
    jsr sub_3300            ;37f9  20 00 33
    jsr sub_71bc            ;37fc  20 bc 71
    jsr sub_7694            ;37ff  20 94 76

lab_3802:
    jmp lab_3839            ;3802  4c 39 38

lab_3805:
    txa                     ;3805  8a
    pha                     ;3806  48
    jsr sub_cb54            ;3807  20 54 cb
    pla                     ;380a  68
    tax                     ;380b  aa
    jsr sub_db89            ;380c  20 89 db
    jmp lab_3839            ;380f  4c 39 38

lab_3812:
    bbc 0,0xf1,lab_3839     ;3812  17 f1 24
    bbs 2,0xf1,lab_3839     ;3815  47 f1 21
    bbc 1,0xf4,lab_3839     ;3818  37 f4 1e
    txa                     ;381b  8a
    tay                     ;381c  a8
    dey                     ;381d  88
    lda 0x012c,y            ;381e  b9 2c 01
    sta 0xa6                ;3821  85 a6
    ldm #0x0c,0x57          ;3823  3c 0c 57
    lda #0x01               ;3826  a9 01
    sta 0x78                ;3828  85 78
    lda #0x00               ;382a  a9 00
    sta 0x79                ;382c  85 79
    jsr sub_43e9            ;382e  20 e9 43
    lda 0xa6                ;3831  a5 a6
    sta 0x012c,y            ;3833  99 2c 01
    jsr sub_2d2b            ;3836  20 2b 2d

lab_3839:
    rts                     ;3839  60

sub_383a:
    lda #0x01               ;383a  a9 01
    sta 0x78                ;383c  85 78
    lda #0x00               ;383e  a9 00
    sta 0x79                ;3840  85 79
    seb 0,0xf4              ;3842  0f f4
    bra lab_3850            ;3844  80 0a

sub_3846:
    lda #0xff               ;3846  a9 ff
    sta 0x78                ;3848  85 78
    lda #0xff               ;384a  a9 ff
    sta 0x79                ;384c  85 79
    clb 0,0xf4              ;384e  1f f4

lab_3850:
    bbs 7,0xf0,lab_3861     ;3850  e7 f0 0e
    bbs 2,0xf4,lab_38b8     ;3853  47 f4 62
    bbs 5,0xf0,lab_388c     ;3856  a7 f0 33
    bbs 3,0xf0,lab_386f     ;3859  67 f0 13
    bbs 4,0xf0,lab_386a     ;385c  87 f0 0b
    bra lab_38b8            ;385f  80 57

lab_3861:
    bbs 4,0xf4,lab_38b2     ;3861  87 f4 4e
    bbs 0,0xf1,lab_38a9     ;3864  07 f1 42
    jmp lab_397b            ;3867  4c 7b 39

lab_386a:
    jsr sub_db1b            ;386a  20 1b db
    bra lab_3889            ;386d  80 1a

lab_386f:
    bbc 0,0xf4,lab_3877     ;386f  17 f4 05
    jsr sub_d434            ;3872  20 34 d4
    bra lab_3882            ;3875  80 0b

lab_3877:
    bbs 3,0x5c,lab_387f     ;3877  67 5c 05
    jsr sub_d43a            ;387a  20 3a d4
    bra lab_3882            ;387d  80 03

lab_387f:
    jsr sub_d440            ;387f  20 40 d4

lab_3882:
    seb 3,0x5c              ;3882  6f 5c
    ldm #0x0a,0x5d          ;3884  3c 0a 5d
    clb 7,0xf8              ;3887  ff f8

lab_3889:
    jmp lab_397b            ;3889  4c 7b 39

lab_388c:
    bbc 0,0xf4,lab_3894     ;388c  17 f4 05
    jsr sub_cb22            ;388f  20 22 cb
    bra lab_389f            ;3892  80 0b

lab_3894:
    bbs 4,0x5c,lab_389c     ;3894  87 5c 05
    jsr sub_caca            ;3897  20 ca ca
    bra lab_389f            ;389a  80 03

lab_389c:
    jsr sub_caec            ;389c  20 ec ca

lab_389f:
    seb 4,0x5c              ;389f  8f 5c
    ldm #0x14,0x5d          ;38a1  3c 14 5d
    clb 7,0xf8              ;38a4  ff f8
    jmp lab_397b            ;38a6  4c 7b 39

lab_38a9:
    bbc 0,0xf4,lab_38af     ;38a9  17 f4 03
    jsr sub_2d50            ;38ac  20 50 2d

lab_38af:
    jmp lab_397b            ;38af  4c 7b 39

lab_38b2:
    jsr sub_7cd7            ;38b2  20 d7 7c
    jmp lab_397b            ;38b5  4c 7b 39

lab_38b8:
    jsr sub_9dcd            ;38b8  20 cd 9d
    bbs 0,0xf3,lab_38d4     ;38bb  07 f3 16
    seb 0,0xf3              ;38be  0f f3
    bbs 0,0xf2,lab_38d4     ;38c0  07 f2 11
    lda #0x08               ;38c3  a9 08
    sta 0x5a                ;38c5  85 5a
    jsr sub_664a            ;38c7  20 4a 66
    ldy #0x32               ;38ca  a0 32
    jsr sub_40a3            ;38cc  20 a3 40
    bcs lab_3910            ;38cf  b0 3f
    jmp lab_3966            ;38d1  4c 66 39

lab_38d4:
    jsr sub_4dc4            ;38d4  20 c4 4d
    jsr sub_4a72            ;38d7  20 72 4a
    jsr sub_4594            ;38da  20 94 45
    jsr sub_d935            ;38dd  20 35 d9
    jsr sub_d3a7            ;38e0  20 a7 d3
    clb 0,0xf9              ;38e3  1f f9
    clb 3,0xfa              ;38e5  7f fa
    lda #0x00               ;38e7  a9 00
    sta 0x02b7              ;38e9  8d b7 02
    clb 5,0xf5              ;38ec  bf f5
    jsr sub_44a7            ;38ee  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;38f1  20 0d 89
    jsr sub_9043            ;38f4  20 43 90
    lda #0x00               ;38f7  a9 00
    sta 0x50                ;38f9  85 50
    sta 0x5d                ;38fb  85 5d
    ldm #0x00,0x5c          ;38fd  3c 00 5c
    jsr sub_7673            ;3900  20 73 76
    jsr sub_71bc            ;3903  20 bc 71
    jsr sub_9b99            ;3906  20 99 9b
    ldy #0x32               ;3909  a0 32
    jsr sub_40a3            ;390b  20 a3 40
    bcc lab_3966            ;390e  90 56

lab_3910:
    jsr sub_4dc4            ;3910  20 c4 4d
    jsr sub_4a72            ;3913  20 72 4a
    jsr sub_4594            ;3916  20 94 45
    jsr sub_d935            ;3919  20 35 d9
    jsr sub_d3a7            ;391c  20 a7 d3
    clb 0,0xf9              ;391f  1f f9
    clb 3,0xfa              ;3921  7f fa
    lda #0x00               ;3923  a9 00
    sta 0x02b7              ;3925  8d b7 02
    clb 5,0xf5              ;3928  bf f5
    jsr sub_44a7            ;392a  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;392d  20 0d 89
    jsr sub_9043            ;3930  20 43 90
    lda #0x00               ;3933  a9 00
    sta 0x50                ;3935  85 50
    sta 0x5d                ;3937  85 5d
    ldm #0x00,0x5c          ;3939  3c 00 5c
    jsr sub_7673            ;393c  20 73 76
    jsr sub_71bc            ;393f  20 bc 71

lab_3942:
    bbs 2,0xe6,lab_3966     ;3942  47 e6 21
    bbs 3,0xf7,lab_3966     ;3945  67 f7 1e
    bbs 1,0xe8,lab_394e     ;3948  27 e8 03     Branch if TechniSat protocol is active
    bbs 0,0xe8,lab_3966     ;394b  07 e8 18

lab_394e:
    lda 0x5e                ;394e  a5 5e
    beq lab_3966            ;3950  f0 14
    bbc 0,0xf7,lab_3942     ;3952  17 f7 ed
    lda 0x73                ;3955  a5 73
    cmp #0x0b               ;3957  c9 0b
    beq lab_395f            ;3959  f0 04
    cmp #0x05               ;395b  c9 05
    bne lab_3966            ;395d  d0 07

lab_395f:
    clb 0,0xf7              ;395f  1f f7
    jsr sub_9b99            ;3961  20 99 9b
    bra lab_3942            ;3964  80 dc

lab_3966:
    jsr sub_7694            ;3966  20 94 76
    seb 0,0x5c              ;3969  0f 5c
    bbs 0,0xf2,lab_3977     ;396b  07 f2 09
    seb 0,0xf3              ;396e  0f f3
    seb 0,0xf9              ;3970  0f f9
    ldm #0x32,0x5d          ;3972  3c 32 5d
    bra lab_397b            ;3975  80 04

lab_3977:
    clb 0,0xf3              ;3977  1f f3
    seb 7,0xf8              ;3979  ef f8

lab_397b:
    rts                     ;397b  60

sub_397c:
    lda #0x01               ;397c  a9 01
    sta 0x78                ;397e  85 78
    lda #0x00               ;3980  a9 00
    sta 0x79                ;3982  85 79
    seb 0,0xf4              ;3984  0f f4
    bra lab_3992            ;3986  80 0a

sub_3988:
    lda #0xff               ;3988  a9 ff
    sta 0x78                ;398a  85 78
    lda #0xff               ;398c  a9 ff
    sta 0x79                ;398e  85 79
    clb 0,0xf4              ;3990  1f f4

lab_3992:
    bbs 7,0xf0,lab_39a3     ;3992  e7 f0 0e
    bbs 2,0xf4,lab_39ab     ;3995  47 f4 13
    bbs 5,0xf0,lab_39ee     ;3998  a7 f0 53
    bbs 3,0xf0,lab_39e9     ;399b  67 f0 4b
    bbs 4,0xf0,lab_39e4     ;399e  87 f0 43
    bra lab_39ab            ;39a1  80 08

lab_39a3:
    bbs 4,0xf4,lab_39fb     ;39a3  87 f4 55
    bbs 0,0xf1,lab_39f3     ;39a6  07 f1 4a
    bra lab_3a00            ;39a9  80 55

lab_39ab:
    jsr sub_4594            ;39ab  20 94 45
    jsr sub_d935            ;39ae  20 35 d9
    jsr sub_d3a7            ;39b1  20 a7 d3
    lda 0x59                ;39b4  a5 59
    sta 0x5a                ;39b6  85 5a
    jsr sub_e427            ;39b8  20 27 e4
    lda #0x00               ;39bb  a9 00
    bbs 2,0xf3,lab_39c7     ;39bd  47 f3 07
    bbs 3,0xf3,lab_39c7     ;39c0  67 f3 04
    bbc 1,0xf3,lab_39c7     ;39c3  37 f3 01
    seb 0,a                 ;39c6  0b

lab_39c7:
    pha                     ;39c7  48
    jsr sub_9dcd            ;39c8  20 cd 9d
    pla                     ;39cb  68
    bbs 0,0xf2,lab_39d4     ;39cc  07 f2 05
    jsr sub_e349            ;39cf  20 49 e3
    bra lab_39e2            ;39d2  80 0e

lab_39d4:
    bbs 0,a,lab_39d9        ;39d4  03 03
    jsr sub_9adf            ;39d6  20 df 9a

lab_39d9:
    jsr sub_437f            ;39d9  20 7f 43
    jsr sub_43b9            ;39dc  20 b9 43
    jsr sub_664a            ;39df  20 4a 66

lab_39e2:
    bra lab_3a00            ;39e2  80 1c

lab_39e4:
    jsr sub_db5d            ;39e4  20 5d db
    bra lab_39ec            ;39e7  80 03

lab_39e9:
    jsr sub_d443            ;39e9  20 43 d4

lab_39ec:
    bra lab_3a00            ;39ec  80 12

lab_39ee:
    jsr sub_cb9b            ;39ee  20 9b cb
    bra lab_3a00            ;39f1  80 0d

lab_39f3:
    bbc 0,0xf4,lab_39f9     ;39f3  17 f4 03
    jsr sub_2d50            ;39f6  20 50 2d

lab_39f9:
    bra lab_3a00            ;39f9  80 05

lab_39fb:
    jsr sub_7cd7            ;39fb  20 d7 7c
    bra lab_3a00            ;39fe  80 00

lab_3a00:
    rts                     ;3a00  60

lab_3a01:
    bbs 5,0xf0,lab_3a0f     ;3a01  a7 f0 0b
    bbs 3,0xf0,lab_3a0f     ;3a04  67 f0 08
    bbs 4,0xf0,lab_3a0f     ;3a07  87 f0 05
    jsr sub_397c            ;3a0a  20 7c 39
    bra lab_3a12            ;3a0d  80 03

lab_3a0f:
    jsr sub_383a            ;3a0f  20 3a 38

lab_3a12:
    rts                     ;3a12  60

lab_3a13:
    bbs 5,0xf0,lab_3a21     ;3a13  a7 f0 0b
    bbs 3,0xf0,lab_3a21     ;3a16  67 f0 08
    bbs 4,0xf0,lab_3a21     ;3a19  87 f0 05
    jsr sub_3988            ;3a1c  20 88 39
    bra lab_3a24            ;3a1f  80 03

lab_3a21:
    jsr sub_3846            ;3a21  20 46 38

lab_3a24:
    rts                     ;3a24  60

;unknown table of bytes used by lab_3a54
    .byte 0x17              ;3a25  17          DATA 0x17
    .byte 0x18              ;3a26  18          DATA 0x18
    .byte 0x19              ;3a27  19          DATA 0x19
    .byte 0x1a              ;3a28  1a          DATA 0x1a
    .byte 0x0a              ;3a29  0a          DATA 0x0a
    .byte 0x0b              ;3a2a  0b          DATA 0x0b
    .byte 0x08              ;3a2b  08          DATA 0x08
    .byte 0x09              ;3a2c  09          DATA 0x09
    .byte 0x07              ;3a2d  07          DATA 0x07

lab_3a2e:
    lda #0x01               ;3a2e  a9 01
    sta 0x78                ;3a30  85 78
    lda #0x00               ;3a32  a9 00
    sta 0x79                ;3a34  85 79
    bra lab_3a40            ;3a36  80 08

lab_3a38:
    lda #0xff               ;3a38  a9 ff
    sta 0x78                ;3a3a  85 78
    lda #0xff               ;3a3c  a9 ff
    sta 0x79                ;3a3e  85 79

lab_3a40:
    bbs 0,0xf1,lab_3a75     ;3a40  07 f1 32
    bbc 6,P8_P4I,lab_3a8a   ;3a43  d7 10 44
    bbs 4,0xf4,lab_3a70     ;3a46  87 f4 27
    seb 2,0x5c              ;3a49  4f 5c
    clb 3,0x5c              ;3a4b  7f 5c
    ldm #0x32,0x5d          ;3a4d  3c 32 5d
    ldy #0x00               ;3a50  a0 00
    lda 0x5a                ;3a52  a5 5a

lab_3a54:
    cmp 0x3a25,y            ;3a54  d9 25 3a
    beq lab_3a66            ;3a57  f0 0d
    iny                     ;3a59  c8
    cpy #0x04               ;3a5a  c0 04
    bcc lab_3a54            ;3a5c  90 f6
    clb 0,0xf3              ;3a5e  1f f3
    jsr sub_437f            ;3a60  20 7f 43
    ldm #0x14,0x5d          ;3a63  3c 14 5d

lab_3a66:
    lda 0x3a29,y            ;3a66  b9 29 3a
    sta 0x57                ;3a69  85 57
    jsr sub_3b87            ;3a6b  20 87 3b
    bra lab_3a8a            ;3a6e  80 1a

lab_3a70:
    jsr sub_7d04            ;3a70  20 04 7d
    bra lab_3a8a            ;3a73  80 15

lab_3a75:
    bbc 6,0xf0,lab_3a8a     ;3a75  d7 f0 12
    lda 0x0283              ;3a78  ad 83 02
    beq lab_3a8a            ;3a7b  f0 0d
    seb 2,0x5c              ;3a7d  4f 5c
    clb 3,0x5c              ;3a7f  7f 5c
    ldm #0x14,0x5d          ;3a81  3c 14 5d
    ldm #0x07,0x57          ;3a84  3c 07 57
    jsr sub_3b87            ;3a87  20 87 3b

lab_3a8a:
    rts                     ;3a8a  60

lab_3a8b:
    lda #0x02               ;3a8b  a9 02
    sta 0x78                ;3a8d  85 78
    lda #0x00               ;3a8f  a9 00
    sta 0x79                ;3a91  85 79
    bra lab_3a9d            ;3a93  80 08

lab_3a95:
    lda #0xfc               ;3a95  a9 fc
    sta 0x78                ;3a97  85 78
    lda #0xff               ;3a99  a9 ff
    sta 0x79                ;3a9b  85 79

lab_3a9d:
    bbs 0,0xf1,lab_3abc     ;3a9d  07 f1 1c
    bbs 4,0xf4,lab_3ad1     ;3aa0  87 f4 2e
    ldy 0x5a                ;3aa3  a4 5a
    cpy #0x17               ;3aa5  c0 17
    bcc lab_3aad            ;3aa7  90 04
    cpy #0x1b               ;3aa9  c0 1b
    bcc lab_3ad1            ;3aab  90 24

lab_3aad:
    seb 2,0x5c              ;3aad  4f 5c
    clb 3,0x5c              ;3aaf  7f 5c
    ldm #0x14,0x5d          ;3ab1  3c 14 5d
    ldm #0x07,0x57          ;3ab4  3c 07 57
    jsr sub_3b87            ;3ab7  20 87 3b
    bra lab_3ad1            ;3aba  80 15

lab_3abc:
    bbc 6,0xf0,lab_3ad1     ;3abc  d7 f0 12
    lda 0x0283              ;3abf  ad 83 02
    beq lab_3ad1            ;3ac2  f0 0d
    seb 2,0x5c              ;3ac4  4f 5c
    clb 3,0x5c              ;3ac6  7f 5c
    ldm #0x14,0x5d          ;3ac8  3c 14 5d
    ldm #0x07,0x57          ;3acb  3c 07 57
    jsr sub_3b87            ;3ace  20 87 3b

lab_3ad1:
    rts                     ;3ad1  60

lab_3ad2:
    bbc 3,0xf2,lab_3b3e     ;3ad2  77 f2 69
    bbs 5,0xf3,lab_3b3e     ;3ad5  a7 f3 66
    clb 0,0xf3              ;3ad8  1f f3
    jsr sub_9dcd            ;3ada  20 cd 9d
    clb 7,0xf5              ;3add  ff f5
    lda #0x17               ;3adf  a9 17
    cmp 0x5a                ;3ae1  c5 5a
    beq lab_3b4f            ;3ae3  f0 6a
    sta 0x5a                ;3ae5  85 5a
    seb 6,0xf5              ;3ae7  cf f5
    bra lab_3b40            ;3ae9  80 55

lab_3aeb:
    bbc 3,0xf2,lab_3b3e     ;3aeb  77 f2 50
    bbs 5,0xf3,lab_3b3e     ;3aee  a7 f3 4d
    clb 0,0xf3              ;3af1  1f f3
    jsr sub_9dcd            ;3af3  20 cd 9d
    lda #0x18               ;3af6  a9 18
    cmp 0x5a                ;3af8  c5 5a
    beq lab_3b4f            ;3afa  f0 53
    sta 0x5a                ;3afc  85 5a
    bra lab_3b40            ;3afe  80 40

lab_3b00:
    bbc 3,0xf2,lab_3b3e     ;3b00  77 f2 3b
    bbs 5,0xf3,lab_3b3e     ;3b03  a7 f3 38
    bbs 6,0xf7,lab_3b3b     ;3b06  c7 f7 32
    lda #0x00               ;3b09  a9 00
    sta 0x0369              ;3b0b  8d 69 03
    ldm #0xff,0x73          ;3b0e  3c ff 73
    clb 0,0xf7              ;3b11  1f f7
    clb 0,0xf3              ;3b13  1f f3
    jsr sub_9dcd            ;3b15  20 cd 9d
    clb 6,0xf5              ;3b18  df f5
    lda #0x19               ;3b1a  a9 19
    cmp 0x5a                ;3b1c  c5 5a
    beq lab_3b4f            ;3b1e  f0 2f
    sta 0x5a                ;3b20  85 5a
    seb 7,0xf5              ;3b22  ef f5
    bra lab_3b40            ;3b24  80 1a

lab_3b26:
    bbc 3,0xf2,lab_3b3e     ;3b26  77 f2 15
    bbs 5,0xf3,lab_3b3e     ;3b29  a7 f3 12
    clb 0,0xf3              ;3b2c  1f f3
    jsr sub_9dcd            ;3b2e  20 cd 9d
    lda #0x1a               ;3b31  a9 1a
    cmp 0x5a                ;3b33  c5 5a
    beq lab_3b4f            ;3b35  f0 18
    sta 0x5a                ;3b37  85 5a
    bra lab_3b40            ;3b39  80 05

lab_3b3b:
    jsr sub_3b68            ;3b3b  20 68 3b

lab_3b3e:
    bra lab_3b67            ;3b3e  80 27

lab_3b40:
    bbs 0,0xed,lab_3b4d     ;3b40  07 ed 0a
    jsr sub_664a            ;3b43  20 4a 66
    seb 2,0x5c              ;3b46  4f 5c
    clb 3,0x5c              ;3b48  7f 5c
    ldm #0x32,0x5d          ;3b4a  3c 32 5d

lab_3b4d:
    bra lab_3b67            ;3b4d  80 18

lab_3b4f:
    bbs 0,0xed,lab_3b67     ;3b4f  07 ed 15
    ldm #0x00,0x5c          ;3b52  3c 00 5c
    ldm #0x00,0x5d          ;3b55  3c 00 5d
    clb 0,0xf3              ;3b58  1f f3
    clb 6,0xf5              ;3b5a  df f5
    clb 7,0xf5              ;3b5c  ff f5
    jsr sub_437f            ;3b5e  20 7f 43
    jsr sub_43b9            ;3b61  20 b9 43
    jsr sub_664a            ;3b64  20 4a 66

lab_3b67:
    rts                     ;3b67  60

sub_3b68:
    inc 0x0369              ;3b68  ee 69 03
    lda 0x0369              ;3b6b  ad 69 03
    cmp #0x2e               ;3b6e  c9 2e
    bcc lab_3b81            ;3b70  90 0f
    bbs 0,0xed,lab_3b79     ;3b72  07 ed 04
    cmp #0x5c               ;3b75  c9 5c
    bcc lab_3b81            ;3b77  90 08

lab_3b79:
    jsr sub_c1a7            ;3b79  20 a7 c1
    jsr sub_74d2            ;3b7c  20 d2 74
    bra lab_3b86            ;3b7f  80 05

lab_3b81:
    ldm #0xff,0x73          ;3b81  3c ff 73
    clb 0,0xf7              ;3b84  1f f7

lab_3b86:
    rts                     ;3b86  60

sub_3b87:
    jsr sub_43e9            ;3b87  20 e9 43
    ldy #0x08               ;3b8a  a0 08
    lda [0x4a],y            ;3b8c  b1 4a
    sta 0x40                ;3b8e  85 40
    iny                     ;3b90  c8
    lda [0x4a],y            ;3b91  b1 4a
    sta 0x41                ;3b93  85 41
    jsr [0x40]              ;3b95  02 40
    rts                     ;3b97  60

lab_3b98:
    bbs 5,0xf0,lab_3c01     ;3b98  a7 f0 66
    jsr sub_9dcd            ;3b9b  20 cd 9d
    bbs 2,0xf4,lab_3bf0     ;3b9e  47 f4 4f
    seb 6,0xfe              ;3ba1  cf fe
    ldy #0x31               ;3ba3  a0 31
    jsr sub_3300            ;3ba5  20 00 33
    ldy #0xc8               ;3ba8  a0 c8
    jsr sub_40a3            ;3baa  20 a3 40
    bcs lab_3bd7            ;3bad  b0 28
    bbs 4,0xf4,lab_3bc0     ;3baf  87 f4 0e
    jsr sub_4281            ;3bb2  20 81 42
    jsr sub_3c28            ;3bb5  20 28 3c
    jsr sub_4281            ;3bb8  20 81 42
    jsr sub_4c51            ;3bbb  20 51 4c     TODO unknown I2C activities
    bra lab_3c01            ;3bbe  80 41

lab_3bc0:
    lda 0x028a              ;3bc0  ad 8a 02
    cmp #0x07               ;3bc3  c9 07
    bcc lab_3bd2            ;3bc5  90 0b
    jsr sub_7d25            ;3bc7  20 25 7d
    jsr sub_7c8b            ;3bca  20 8b 7c
    jsr sub_74d2            ;3bcd  20 d2 74
    bra lab_3bee            ;3bd0  80 1c

lab_3bd2:
    jsr sub_7cb9            ;3bd2  20 b9 7c
    bra lab_3bee            ;3bd5  80 17

lab_3bd7:
    bbs 0,0xed,lab_3bee     ;3bd7  07 ed 14
    bbs 4,0xf1,lab_3bee     ;3bda  87 f1 11
    bbs 4,0xf4,lab_3be5     ;3bdd  87 f4 05
    jsr sub_7c4e            ;3be0  20 4e 7c
    bra lab_3bee            ;3be3  80 09

lab_3be5:
    jsr sub_7d25            ;3be5  20 25 7d
    jsr sub_7c8b            ;3be8  20 8b 7c
    jsr sub_74d2            ;3beb  20 d2 74

lab_3bee:
    bra lab_3c01            ;3bee  80 11

lab_3bf0:
    jsr sub_4567            ;3bf0  20 67 45
    seb 6,0xfe              ;3bf3  cf fe
    ldy #0x31               ;3bf5  a0 31
    jsr sub_3300            ;3bf7  20 00 33
    ldy #0xc8               ;3bfa  a0 c8
    jsr sub_40a3            ;3bfc  20 a3 40
    bcs lab_3bd7            ;3bff  b0 d6

lab_3c01:
    rts                     ;3c01  60

lab_3c02:
    bbs 5,0xf0,lab_3c14     ;3c02  a7 f0 0f
    jsr sub_9dcd            ;3c05  20 cd 9d
    jsr sub_4281            ;3c08  20 81 42
    jsr sub_3cb5            ;3c0b  20 b5 3c
    jsr sub_4281            ;3c0e  20 81 42
    jsr sub_4c51            ;3c11  20 51 4c     TODO unknown I2C activities

lab_3c14:
    rts                     ;3c14  60

lab_3c15:
    bbs 5,0xf0,lab_3c27     ;3c15  a7 f0 0f
    jsr sub_9dcd            ;3c18  20 cd 9d
    jsr sub_4281            ;3c1b  20 81 42
    jsr sub_3d64            ;3c1e  20 64 3d
    jsr sub_4281            ;3c21  20 81 42
    jsr sub_4c51            ;3c24  20 51 4c     TODO unknown I2C activities

lab_3c27:
    rts                     ;3c27  60

sub_3c28:
    clb 0,0xf2              ;3c28  1f f2
    clb 0,0xf3              ;3c2a  1f f3
    lda #0x00               ;3c2c  a9 00
    sta 0x59                ;3c2e  85 59
    sta 0x5a                ;3c30  85 5a
    lda 0xf0                ;3c32  a5 f0
    and #0xf8               ;3c34  29 f8
    beq lab_3c44            ;3c36  f0 0c
    jsr sub_7673            ;3c38  20 73 76
    jsr sub_d3a7            ;3c3b  20 a7 d3
    jsr sub_d935            ;3c3e  20 35 d9
    jsr sub_70bb            ;3c41  20 bb 70

lab_3c44:
    lda 0xf0                ;3c44  a5 f0
    cmp #0x01               ;3c46  c9 01
    bne lab_3c52            ;3c48  d0 08
    jsr sub_664a            ;3c4a  20 4a 66
    jsr sub_7694            ;3c4d  20 94 76
    bra lab_3cb4            ;3c50  80 62

lab_3c52:
    cmp #0x02               ;3c52  c9 02
    bne lab_3c97            ;3c54  d0 41
    ldm #0x01,0xf0          ;3c56  3c 01 f0
    bbs 0,0xfa,lab_3c65     ;3c59  07 fa 09
    bbs 1,0xfa,lab_3c65     ;3c5c  27 fa 06
    jsr sub_e519            ;3c5f  20 19 e5
    tya                     ;3c62  98
    bbc 0,a,lab_3c8b        ;3c63  13 26

lab_3c65:
    jsr sub_4173            ;3c65  20 73 41
    jsr sub_664a            ;3c68  20 4a 66
    bbc 0,0xfe,lab_3c72     ;3c6b  17 fe 04
    clb 2,0xfe              ;3c6e  5f fe
    clb 2,0xfa              ;3c70  5f fa

lab_3c72:
    clb 2,0xfd              ;3c72  5f fd
    seb 0,0xf9              ;3c74  0f f9
    jsr sub_7694            ;3c76  20 94 76
    ldm #0x00,0x5d          ;3c79  3c 00 5d
    clb 7,0xf8              ;3c7c  ff f8
    bbc 2,0xfa,lab_3c84     ;3c7e  57 fa 03
    jsr sub_44ce            ;3c81  20 ce 44

lab_3c84:
    ldy #0x11               ;3c84  a0 11
    jsr sub_3300            ;3c86  20 00 33
    bra lab_3cb4            ;3c89  80 29

lab_3c8b:
    jsr sub_42ee            ;3c8b  20 ee 42
    seb 3,0xfc              ;3c8e  6f fc
    jsr sub_40f8            ;3c90  20 f8 40
    clb 3,0xfc              ;3c93  7f fc
    bra lab_3cb4            ;3c95  80 1d

lab_3c97:
    jsr sub_7673            ;3c97  20 73 76
    lda #0x00               ;3c9a  a9 00
    sta 0x6a                ;3c9c  85 6a
    lda #0x00               ;3c9e  a9 00
    sta 0x6b                ;3ca0  85 6b
    jsr sub_c2a0            ;3ca2  20 a0 c2
    ldm #0x01,0xf0          ;3ca5  3c 01 f0
    jsr sub_4e8a            ;3ca8  20 8a 4e
    jsr sub_6fab            ;3cab  20 ab 6f
    jsr sub_42ee            ;3cae  20 ee 42
    jsr sub_40f8            ;3cb1  20 f8 40

lab_3cb4:
    rts                     ;3cb4  60

sub_3cb5:
    clb 0,0xf2              ;3cb5  1f f2
    clb 0,0xf3              ;3cb7  1f f3
    bbc 3,0xfe,lab_3cc4     ;3cb9  77 fe 08
    clb 3,0xfe              ;3cbc  7f fe
    jsr sub_b388            ;3cbe  20 88 b3
    jsr sub_ca36            ;3cc1  20 36 ca

lab_3cc4:
    bbs 3,0xf0,lab_3cca     ;3cc4  67 f0 03
    bbc 4,0xf0,lab_3ce7     ;3cc7  97 f0 1d

lab_3cca:
    jsr sub_7673            ;3cca  20 73 76
    jsr sub_d3a7            ;3ccd  20 a7 d3
    jsr sub_d935            ;3cd0  20 35 d9
    jsr sub_70bb            ;3cd3  20 bb 70
    bbc 1,0xf0,lab_3ce7     ;3cd6  37 f0 0e
    jsr sub_7694            ;3cd9  20 94 76
    jsr sub_437f            ;3cdc  20 7f 43
    jsr sub_43b9            ;3cdf  20 b9 43
    jsr sub_664a            ;3ce2  20 4a 66
    bra lab_3d63            ;3ce5  80 7c

lab_3ce7:
    lda 0xf0                ;3ce7  a5 f0
    cmp #0x01               ;3ce9  c9 01
    bne lab_3d0c            ;3ceb  d0 1f
    jsr sub_4567            ;3ced  20 67 45
    ldm #0x02,0xf0          ;3cf0  3c 02 f0
    jsr sub_435d            ;3cf3  20 5d 43
    sta 0x5a                ;3cf6  85 5a
    jsr sub_4173            ;3cf8  20 73 41
    jsr sub_664a            ;3cfb  20 4a 66
    clb 2,0xfd              ;3cfe  5f fd
    seb 0,0xf9              ;3d00  0f f9
    jsr sub_7694            ;3d02  20 94 76
    ldm #0x00,0x5d          ;3d05  3c 00 5d
    clb 7,0xf8              ;3d08  ff f8
    bra lab_3d63            ;3d0a  80 57

lab_3d0c:
    cmp #0x02               ;3d0c  c9 02
    bne lab_3d3b            ;3d0e  d0 2b
    jsr sub_7673            ;3d10  20 73 76
    jsr sub_4524            ;3d13  20 24 45
    jsr sub_4b29            ;3d16  20 29 4b
    bcc lab_3d1e            ;3d19  90 03
    jsr sub_486d            ;3d1b  20 6d 48

lab_3d1e:
    lda 0xf2                ;3d1e  a5 f2
    eor #0x02               ;3d20  49 02
    sta 0xf2                ;3d22  85 f2
    lda #0x01               ;3d24  a9 01
    bbc 1,0xf2,lab_3d2b     ;3d26  37 f2 02
    lda #0x02               ;3d29  a9 02

lab_3d2b:
    sta 0x59                ;3d2b  85 59
    sta 0x5a                ;3d2d  85 5a
    jsr sub_42ee            ;3d2f  20 ee 42
    seb 3,0xfc              ;3d32  6f fc
    jsr sub_40f8            ;3d34  20 f8 40
    clb 3,0xfc              ;3d37  7f fc
    bra lab_3d63            ;3d39  80 28

lab_3d3b:
    jsr sub_7673            ;3d3b  20 73 76
    lda #0x00               ;3d3e  a9 00
    sta 0x6a                ;3d40  85 6a
    lda #0x00               ;3d42  a9 00
    sta 0x6b                ;3d44  85 6b
    jsr sub_c2a0            ;3d46  20 a0 c2
    ldm #0x02,0xf0          ;3d49  3c 02 f0
    jsr sub_4e8a            ;3d4c  20 8a 4e
    jsr sub_6fab            ;3d4f  20 ab 6f
    lda #0x01               ;3d52  a9 01
    bbc 1,0xf2,lab_3d59     ;3d54  37 f2 02
    lda #0x02               ;3d57  a9 02

lab_3d59:
    sta 0x59                ;3d59  85 59
    sta 0x5a                ;3d5b  85 5a
    jsr sub_42ee            ;3d5d  20 ee 42
    jsr sub_40f8            ;3d60  20 f8 40

lab_3d63:
    rts                     ;3d63  60

sub_3d64:
    seb 0,0xf2              ;3d64  0f f2
    clb 0,0xf9              ;3d66  1f f9
    clb 0,0xf3              ;3d68  1f f3
    bbc 3,0xfe,lab_3d75     ;3d6a  77 fe 08
    clb 3,0xfe              ;3d6d  7f fe
    jsr sub_b388            ;3d6f  20 88 b3
    jsr sub_ca36            ;3d72  20 36 ca

lab_3d75:
    bbs 3,0xf0,lab_3d7b     ;3d75  67 f0 03
    bbc 4,0xf0,lab_3d98     ;3d78  97 f0 1d

lab_3d7b:
    jsr sub_7673            ;3d7b  20 73 76
    jsr sub_d3a7            ;3d7e  20 a7 d3
    jsr sub_d935            ;3d81  20 35 d9
    jsr sub_70bb            ;3d84  20 bb 70
    bbc 2,0xf0,lab_3d98     ;3d87  57 f0 0e
    jsr sub_7694            ;3d8a  20 94 76
    jsr sub_437f            ;3d8d  20 7f 43
    jsr sub_43b9            ;3d90  20 b9 43
    jsr sub_664a            ;3d93  20 4a 66
    bra lab_3dd4            ;3d96  80 3c

lab_3d98:
    lda 0xf0                ;3d98  a5 f0
    cmp #0x04               ;3d9a  c9 04
    bne lab_3da9            ;3d9c  d0 0b
    jsr sub_7673            ;3d9e  20 73 76
    lda 0xf2                ;3da1  a5 f2
    eor #0x04               ;3da3  49 04
    sta 0xf2                ;3da5  85 f2
    bra lab_3dc3            ;3da7  80 1a

lab_3da9:
    jsr sub_7673            ;3da9  20 73 76
    jsr sub_4524            ;3dac  20 24 45
    jsr sub_4b29            ;3daf  20 29 4b
    bcc lab_3db7            ;3db2  90 03
    jsr sub_486d            ;3db4  20 6d 48

lab_3db7:
    jsr sub_c28a            ;3db7  20 8a c2
    ldm #0x04,0xf0          ;3dba  3c 04 f0
    jsr sub_4e8a            ;3dbd  20 8a 4e
    jsr sub_6fab            ;3dc0  20 ab 6f

lab_3dc3:
    lda #0x03               ;3dc3  a9 03
    bbc 2,0xf2,lab_3dca     ;3dc5  57 f2 02
    lda #0x04               ;3dc8  a9 04

lab_3dca:
    sta 0x59                ;3dca  85 59
    sta 0x5a                ;3dcc  85 5a
    jsr sub_42ee            ;3dce  20 ee 42
    jsr sub_40f8            ;3dd1  20 f8 40

lab_3dd4:
    rts                     ;3dd4  60

lab_3dd5:
    bbs 0,0xed,lab_3e31     ;3dd5  07 ed 59
    bbs 5,0xf0,lab_3e40     ;3dd8  a7 f0 65
    bbc 2,0xf4,lab_3de4     ;3ddb  57 f4 06
    jsr sub_4567            ;3dde  20 67 45
    bbs 4,0xf0,lab_3e40     ;3de1  87 f0 5c

lab_3de4:
    jsr sub_4281            ;3de4  20 81 42
    jsr sub_9dcd            ;3de7  20 cd 9d
    jsr sub_cb54            ;3dea  20 54 cb
    seb 4,0xf0              ;3ded  8f f0
    jsr sub_da9f            ;3def  20 9f da
    bcc lab_3e02            ;3df2  90 0e
    jsr sub_d3a7            ;3df4  20 a7 d3
    jsr sub_70bb            ;3df7  20 bb 70
    jsr sub_437f            ;3dfa  20 7f 43
    jsr sub_664a            ;3dfd  20 4a 66
    bra lab_3e40            ;3e00  80 3e

lab_3e02:
    cmp #0x01               ;3e02  c9 01
    bne lab_3e13            ;3e04  d0 0d
    jsr sub_ddee            ;3e06  20 ee dd
    ldm #0x1e,0x5d          ;3e09  3c 1e 5d
    clb 7,0xf8              ;3e0c  ff f8
    jsr sub_74d2            ;3e0e  20 d2 74
    bra lab_3e40            ;3e11  80 2d

lab_3e13:
    cmp #0x02               ;3e13  c9 02
    bne lab_3e24            ;3e15  d0 0d
    jsr sub_ddc8            ;3e17  20 c8 dd
    ldm #0x1e,0x5d          ;3e1a  3c 1e 5d
    clb 7,0xf8              ;3e1d  ff f8
    jsr sub_74d2            ;3e1f  20 d2 74
    bra lab_3e40            ;3e22  80 1c

lab_3e24:
    jsr sub_dddb            ;3e24  20 db dd
    ldm #0x1e,0x5d          ;3e27  3c 1e 5d
    clb 7,0xf8              ;3e2a  ff f8
    jsr sub_74d2            ;3e2c  20 d2 74
    bra lab_3e40            ;3e2f  80 0f

lab_3e31:
    ldy #0xc8               ;3e31  a0 c8
    jsr sub_40a3            ;3e33  20 a3 40
    bcs lab_3e3d            ;3e36  b0 05
    jsr sub_c218            ;3e38  20 18 c2
    bra lab_3e40            ;3e3b  80 03

lab_3e3d:
    jsr sub_c247            ;3e3d  20 47 c2

lab_3e40:
    rts                     ;3e40  60

lab_3e41:
    bbs 0,0xed,lab_3e78     ;3e41  07 ed 34
    bbs 5,0xf0,lab_3e87     ;3e44  a7 f0 40
    bbc 2,0xf4,lab_3e50     ;3e47  57 f4 06
    jsr sub_4567            ;3e4a  20 67 45
    bbs 3,0xf0,lab_3e87     ;3e4d  67 f0 37

lab_3e50:
    jsr sub_9dcd            ;3e50  20 cd 9d
    lda 0xab                ;3e53  a5 ab
    cmp #0x03               ;3e55  c9 03
    beq lab_3e66            ;3e57  f0 0d
    jsr sub_d90b            ;3e59  20 0b d9
    ldm #0x1e,0x5d          ;3e5c  3c 1e 5d
    clb 7,0xf8              ;3e5f  ff f8
    jsr sub_74d2            ;3e61  20 d2 74
    bra lab_3e87            ;3e64  80 21

lab_3e66:
    jsr sub_4281            ;3e66  20 81 42
    jsr sub_cb54            ;3e69  20 54 cb
    jsr sub_d935            ;3e6c  20 35 d9
    seb 3,0xf0              ;3e6f  6f f0
    lda #0x01               ;3e71  a9 01
    jsr sub_d33f            ;3e73  20 3f d3
    bra lab_3e87            ;3e76  80 0f

lab_3e78:
    ldy #0xc8               ;3e78  a0 c8
    jsr sub_40a3            ;3e7a  20 a3 40
    bcs lab_3e84            ;3e7d  b0 05
    jsr sub_c1c3            ;3e7f  20 c3 c1
    bra lab_3e87            ;3e82  80 03

lab_3e84:
    jsr sub_c1f2            ;3e84  20 f2 c1

lab_3e87:
    rts                     ;3e87  60

lab_3e88:
    bbs 0,0xf1,lab_3ebc     ;3e88  07 f1 31
    bbs 4,0xf1,lab_3ea3     ;3e8b  87 f1 15
    bbs 5,0xf0,lab_3ea3     ;3e8e  a7 f0 12
    bbc 3,0xf0,lab_3ea3     ;3e91  77 f0 0f
    bbs 2,0xf4,lab_3ea3     ;3e94  47 f4 0c
    ldy #0xc8               ;3e97  a0 c8
    jsr sub_40a3            ;3e99  20 a3 40
    bcs lab_3ea3            ;3e9c  b0 05
    jsr sub_d4c1            ;3e9e  20 c1 d4
    bra lab_3ebf            ;3ea1  80 1c

lab_3ea3:
    jsr sub_9dcd            ;3ea3  20 cd 9d
    jsr sub_d403            ;3ea6  20 03 d4
    bcc lab_3ebf            ;3ea9  90 14
    jsr sub_70bb            ;3eab  20 bb 70
    jsr sub_7694            ;3eae  20 94 76
    jsr sub_437f            ;3eb1  20 7f 43
    jsr sub_43b9            ;3eb4  20 b9 43
    jsr sub_664a            ;3eb7  20 4a 66
    bra lab_3ebf            ;3eba  80 03

lab_3ebc:
    jsr sub_d403            ;3ebc  20 03 d4

lab_3ebf:
    rts                     ;3ebf  60

lab_3ec0:
    bbs 2,0xf4,lab_3ec9     ;3ec0  47 f4 06
    bbs 5,0xf0,lab_3ec9     ;3ec3  a7 f0 03
    jsr sub_d508            ;3ec6  20 08 d5

lab_3ec9:
    rts                     ;3ec9  60

lab_3eca:
    bbc 6,0xf1,lab_3f0c     ;3eca  d7 f1 3f
    bbs 0,0xed,lab_3f0a     ;3ecd  07 ed 3a
    ldm #0x00,0x5c          ;3ed0  3c 00 5c
    ldm #0x00,0x5d          ;3ed3  3c 00 5d
    clb 7,0xf8              ;3ed6  ff f8
    clb 0,0xf3              ;3ed8  1f f3
    bbs 5,0xf0,lab_3ef2     ;3eda  a7 f0 15
    jsr sub_9dcd            ;3edd  20 cd 9d
    lda 0x031d              ;3ee0  ad 1d 03
    bbs 0,a,lab_3ef7        ;3ee3  03 12
    jsr sub_ca89            ;3ee5  20 89 ca
    bcc lab_3f2b            ;3ee8  90 41
    jsr sub_d3e8            ;3eea  20 e8 d3
    jsr sub_d939            ;3eed  20 39 d9
    bra lab_3f2b            ;3ef0  80 39

lab_3ef2:
    jsr sub_c9ce            ;3ef2  20 ce c9
    bra lab_3f2b            ;3ef5  80 34

lab_3ef7:
    jsr sub_4524            ;3ef7  20 24 45
    jsr sub_ca82            ;3efa  20 82 ca
    jsr sub_d3e8            ;3efd  20 e8 d3
    jsr sub_d939            ;3f00  20 39 d9
    bra lab_3f2b            ;3f03  80 26

    .byte 0x20              ;3f05  20          DATA 0x20 ' '
    .byte 0x82              ;3f06  82          DATA 0x82
    .byte 0x3f              ;3f07  3f          DATA 0x3f '?'
    .byte 0x80              ;3f08  80          DATA 0x80
    .byte 0x21              ;3f09  21          DATA 0x21 '!'

lab_3f0a:
    bra lab_3f2b            ;3f0a  80 1f

lab_3f0c:
    bbs 3,0xe6,lab_3f1a     ;3f0c  67 e6 0b
    bbs 0,0xf1,lab_3f1a     ;3f0f  07 f1 08
    bbs 1,0xee,lab_3f1a     ;3f12  27 ee 05
    jsr sub_3f2c            ;3f15  20 2c 3f
    bra lab_3f2b            ;3f18  80 11

lab_3f1a:
    jsr sub_6e61            ;3f1a  20 61 6e
    seb 1,0xf6              ;3f1d  2f f6
    bbc 1,0xee,lab_3f24     ;3f1f  37 ee 02
    clb 1,0xf6              ;3f22  3f f6

lab_3f24:
    seb 0,0xf6              ;3f24  0f f6
    jsr sub_6c9a            ;3f26  20 9a 6c
    clb 6,0xf1              ;3f29  df f1

lab_3f2b:
    rts                     ;3f2b  60

sub_3f2c:
    jsr sub_6c83            ;3f2c  20 83 6c
    jsr sub_2835            ;3f2f  20 35 28
    jsr sub_2921            ;3f32  20 21 29
    jsr sub_3f52            ;3f35  20 52 3f
    seb 4,0xf1              ;3f38  8f f1
    lda 0xf0                ;3f3a  a5 f0
    and #0x87               ;3f3c  29 87
    sta 0xf0                ;3f3e  85 f0
    lda 0xf0                ;3f40  a5 f0
    and #0x07               ;3f42  29 07
    cmp #0x04               ;3f44  c9 04
    bne lab_3f4b            ;3f46  d0 03
    jsr sub_3cb5            ;3f48  20 b5 3c

lab_3f4b:
    jsr sub_aeb4            ;3f4b  20 b4 ae
    rts                     ;3f4e  60

;unknown table used by sub_3f52
    .byte 0xf0              ;3f4f  f0          DATA 0xf0
    .byte 0xf1              ;3f50  f1          DATA 0xf1
    .byte 0xf2              ;3f51  f2          DATA 0xf2

sub_3f52:
    lda #0x4f               ;3f52  a9 4f
    sta 0x40                ;3f54  85 40
    lda #0x3f               ;3f56  a9 3f
    sta 0x41                ;3f58  85 41
    ldy #0x00               ;3f5a  a0 00

lab_3f5c:
    lda [0x40],y            ;3f5c  b1 40
    tax                     ;3f5e  aa
    lda P0,x                ;3f5f  b5 00
    sta 0x02b4,y            ;3f61  99 b4 02
    iny                     ;3f64  c8
    cpy #0x03               ;3f65  c0 03
    bcc lab_3f5c            ;3f67  90 f3
    rts                     ;3f69  60

sub_3f6a:
    lda #0x4f               ;3f6a  a9 4f
    sta 0x40                ;3f6c  85 40
    lda #0x3f               ;3f6e  a9 3f
    sta 0x41                ;3f70  85 41
    ldy #0x00               ;3f72  a0 00

lab_3f74:
    lda [0x40],y            ;3f74  b1 40
    tax                     ;3f76  aa
    lda 0x02b4,y            ;3f77  b9 b4 02
    sta P0,x                ;3f7a  95 00
    iny                     ;3f7c  c8
    cpy #0x03               ;3f7d  c0 03
    bcc lab_3f74            ;3f7f  90 f3
    rts                     ;3f81  60

lab_3f82:
    jsr sub_74d2            ;3f82  20 d2 74
    lda 0x031d              ;3f85  ad 1d 03
    bbs 0,a,lab_3f95        ;3f88  03 0b
    jsr sub_d3e8            ;3f8a  20 e8 d3
    jsr sub_d939            ;3f8d  20 39 d9
    jsr sub_c9f2            ;3f90  20 f2 c9
    bra lab_3fa0            ;3f93  80 0b

lab_3f95:
    jsr sub_c9ce            ;3f95  20 ce c9
    lda #0x00               ;3f98  a9 00
    jsr sub_d33f            ;3f9a  20 3f d3
    jsr sub_d931            ;3f9d  20 31 d9

lab_3fa0:
    rts                     ;3fa0  60

lab_3fa1:
    bbs 0,0xed,lab_400b     ;3fa1  07 ed 67
    bbs 2,0xf4,lab_400b     ;3fa4  47 f4 64
    lda 0xf0                ;3fa7  a5 f0
    and #0xf8               ;3fa9  29 f8
    bne lab_400b            ;3fab  d0 5e
    ldm #0x14,0x78          ;3fad  3c 14 78

lab_3fb0:
    ldy #0x32               ;3fb0  a0 32
    jsr sub_40a3            ;3fb2  20 a3 40
    bcc lab_3fd6            ;3fb5  90 1f
    lda 0x78                ;3fb7  a5 78
    cmp #0x14               ;3fb9  c9 14
    bne lab_3fd0            ;3fbb  d0 13
    bbs 3,0xf3,lab_3fd0     ;3fbd  67 f3 10
    jsr sub_7673            ;3fc0  20 73 76
    jsr sub_74d2            ;3fc3  20 d2 74
    seb 3,0xf3              ;3fc6  6f f3
    ldm #0x00,0x50          ;3fc8  3c 00 50
    jsr sub_664a            ;3fcb  20 4a 66
    clb 3,0xf3              ;3fce  7f f3

lab_3fd0:
    dec 0x78                ;3fd0  c6 78
    lda 0x78                ;3fd2  a5 78
    bne lab_3fb0            ;3fd4  d0 da

lab_3fd6:
    lda 0x78                ;3fd6  a5 78
    beq lab_3ffc            ;3fd8  f0 22
    cmp #0x14               ;3fda  c9 14
    beq lab_3fec            ;3fdc  f0 0e
    bbs 3,0xf3,lab_3fec     ;3fde  67 f3 0b
    jsr sub_9dcd            ;3fe1  20 cd 9d
    jsr sub_4a72            ;3fe4  20 72 4a
    jsr sub_9ab4            ;3fe7  20 b4 9a
    bra lab_400b            ;3fea  80 1f

lab_3fec:
    jsr sub_9dcd            ;3fec  20 cd 9d
    seb 0,0xf9              ;3fef  0f f9
    jsr sub_437f            ;3ff1  20 7f 43
    jsr sub_43b9            ;3ff4  20 b9 43
    jsr sub_664a            ;3ff7  20 4a 66
    bra lab_400b            ;3ffa  80 0f

lab_3ffc:
    bbs 4,0xf3,lab_400b     ;3ffc  87 f3 0c
    jsr sub_9dcd            ;3fff  20 cd 9d
    jsr sub_74d2            ;4002  20 d2 74
    jsr sub_4a72            ;4005  20 72 4a
    jsr sub_9a9b            ;4008  20 9b 9a

lab_400b:
    rts                     ;400b  60

lab_400c:
    bbs 2,0xf4,lab_401d     ;400c  47 f4 0e
    bbs 5,0xf0,lab_401d     ;400f  a7 f0 0b
    bbs 3,0xf0,lab_401d     ;4012  67 f0 08
    bbc 4,0xf0,lab_401d     ;4015  97 f0 05
    jsr sub_d941            ;4018  20 41 d9
    bra lab_401d            ;401b  80 00

lab_401d:
    rts                     ;401d  60

lab_401e:
    bbs 5,0xf0,lab_405c     ;401e  a7 f0 3b
    bbc 0,0xed,lab_4029     ;4021  17 ed 05
    jsr sub_c26d            ;4024  20 6d c2
    bcs lab_405c            ;4027  b0 33

lab_4029:
    bbs 2,0xf4,lab_4032     ;4029  47 f4 06
    bbs 3,0xf0,lab_4059     ;402c  67 f0 2a
    bbs 4,0xf0,lab_4054     ;402f  87 f0 22

lab_4032:
    bbs 2,0xf3,lab_404f     ;4032  47 f3 1a
    jsr sub_4594            ;4035  20 94 45
    jsr sub_d935            ;4038  20 35 d9
    jsr sub_d3a7            ;403b  20 a7 d3
    jsr sub_9dcd            ;403e  20 cd 9d
    jsr sub_4dc4            ;4041  20 c4 4d
    jsr sub_4a72            ;4044  20 72 4a
    ldm #0x07,0x5a          ;4047  3c 07 5a
    jsr sub_9ad7            ;404a  20 d7 9a
    bra lab_405c            ;404d  80 0d

lab_404f:
    jsr sub_9d1d            ;404f  20 1d 9d
    bra lab_405c            ;4052  80 08

lab_4054:
    jsr sub_d93d            ;4054  20 3d d9
    bra lab_405c            ;4057  80 03

lab_4059:
    jsr sub_d48d            ;4059  20 8d d4

lab_405c:
    rts                     ;405c  60

lab_405d:
    bbs 5,0xf3,lab_40a2     ;405d  a7 f3 42
    bbs 5,0xf0,lab_40a2     ;4060  a7 f0 3f
    bbs 3,0xf0,lab_40a2     ;4063  67 f0 3c
    bbs 4,0xf0,lab_40a2     ;4066  87 f0 39
    bbs 0,0xf2,lab_40a2     ;4069  07 f2 36
    jsr sub_9dcd            ;406c  20 cd 9d
    ldm #0x00,0x50          ;406f  3c 00 50
    ldm #0x00,0x5d          ;4072  3c 00 5d
    ldm #0x00,0x5c          ;4075  3c 00 5c
    seb 1,0x5c              ;4078  2f 5c
    bbc 0,0xf3,lab_4081     ;407a  17 f3 04
    clb 0,0xf3              ;407d  1f f3
    bra lab_408b            ;407f  80 0a

lab_4081:
    bbs 0,0xfc,lab_408b     ;4081  07 fc 07
    seb 0,0xfc              ;4084  0f fc
    ldm #0x2a,0x5b          ;4086  3c 2a 5b
    bra sub_4090            ;4089  80 05

lab_408b:
    clb 0,0xfc              ;408b  1f fc
    ldm #0x29,0x5b          ;408d  3c 29 5b

sub_4090:
    jsr sub_437f            ;4090  20 7f 43
    jsr sub_672d            ;4093  20 2d 67
    jsr sub_686e            ;4096  20 6e 68
    jsr sub_6cc0            ;4099  20 c0 6c
    jsr sub_becf            ;409c  20 cf be
    ldm #0x1e,0x5d          ;409f  3c 1e 5d

lab_40a2:
    rts                     ;40a2  60

sub_40a3:
    pha                     ;40a3  48

lab_40a4:
    bbs 2,0xe6,lab_40cc     ;40a4  47 e6 25
    bbs 3,0xf7,lab_40cc     ;40a7  67 f7 22
    bbs 1,0xe8,lab_40b0     ;40aa  27 e8 03     Branch if TechniSat protocol is active
    bbs 0,0xe8,lab_40cc     ;40ad  07 e8 1c

lab_40b0:
    bbc 5,0xf8,lab_40a4     ;40b0  b7 f8 f1
    clb 5,0xf8              ;40b3  bf f8
    bbc 0,0xf8,lab_40bd     ;40b5  17 f8 05
    clb 0,0xf8              ;40b8  1f f8
    jsr sub_6f45            ;40ba  20 45 6f

lab_40bd:
    bbc 0,0xf7,lab_40cc     ;40bd  17 f7 0c
    lda 0x73                ;40c0  a5 73
    cmp 0x72                ;40c2  c5 72
    bne lab_40cc            ;40c4  d0 06
    dey                     ;40c6  88
    bne lab_40a4            ;40c7  d0 db
    sec                     ;40c9  38
    bra lab_40cd            ;40ca  80 01

lab_40cc:
    clc                     ;40cc  18

lab_40cd:
    pla                     ;40cd  68
    rts                     ;40ce  60

sub_40cf:
    lda 0x72                ;40cf  a5 72

lab_40d1:
    bbs 2,0xe6,lab_40ee     ;40d1  47 e6 1a
    bbs 3,0xf7,lab_40ee     ;40d4  67 f7 17
    bbs 1,0xe8,lab_40dd     ;40d7  27 e8 03     Branch if TechniSat protocol is active
    bbs 0,0xe8,lab_40ee     ;40da  07 e8 11

lab_40dd:
    bbc 0,0xf8,lab_40e7     ;40dd  17 f8 07
    clb 0,0xf8              ;40e0  1f f8
    pha                     ;40e2  48
    jsr sub_6f45            ;40e3  20 45 6f
    pla                     ;40e6  68

lab_40e7:
    cmp 0x72                ;40e7  c5 72
    bne lab_40ee            ;40e9  d0 03
    bbs 0,0xf7,lab_40d1     ;40eb  07 f7 e3

lab_40ee:
    rts                     ;40ee  60

lab_40ef:
    lda #0x01               ;40ef  a9 01
    ldx #0x0b               ;40f1  a2 0b
    jsr sub_ab15            ;40f3  20 15 ab
    rts                     ;40f6  60

    .byte 0x60              ;40f7  60          DATA 0x60 '`'

sub_40f8:
    jsr sub_c9ce            ;40f8  20 ce c9
    clb 0,0xf9              ;40fb  1f f9
    jsr sub_544b            ;40fd  20 4b 54     Clears many registers
    lda #0x00               ;4100  a9 00
    sta 0x02b7              ;4102  8d b7 02
    clb 5,0xf5              ;4105  bf f5
    lda #0x00               ;4107  a9 00
    sta 0x90                ;4109  85 90
    lda #0x00               ;410b  a9 00
    sta 0x91                ;410d  85 91
    clb 3,0xfa              ;410f  7f fa
    clb 2,0xf4              ;4111  5f f4
    clb 6,0xfb              ;4113  df fb
    jsr sub_890d            ;4115  20 0d 89
    jsr sub_9043            ;4118  20 43 90
    jsr sub_5211            ;411b  20 11 52
    ldm #0x00,0xbd          ;411e  3c 00 bd
    jsr sub_7673            ;4121  20 73 76
    jsr sub_4979            ;4124  20 79 49
    jsr sub_8afa            ;4127  20 fa 8a
    jsr sub_8b8c            ;412a  20 8c 8b
    jsr sub_7655            ;412d  20 55 76
    jsr sub_4dd1            ;4130  20 d1 4d
    bbs 0,0xf2,lab_4141     ;4133  07 f2 0b
    bbc 0,0xfc,lab_4141     ;4136  17 fc 08
    ldm #0x2a,0x5b          ;4139  3c 2a 5b
    jsr sub_4090            ;413c  20 90 40
    bra lab_4144            ;413f  80 03

lab_4141:
    jsr sub_664a            ;4141  20 4a 66

lab_4144:
    bbs 0,0xf2,lab_414f     ;4144  07 f2 08
    seb 4,0xfa              ;4147  8f fa
    seb 5,0xfa              ;4149  af fa
    seb 0,0xf9              ;414b  0f f9
    bra lab_4153            ;414d  80 04

lab_414f:
    clb 4,0xfa              ;414f  9f fa
    clb 5,0xfa              ;4151  bf fa

lab_4153:
    ldy #0x04               ;4153  a0 04
    jsr sub_f22c_delay      ;4155  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_50a0            ;4158  20 a0 50
    jsr sub_7bb8            ;415b  20 b8 7b
    ldy #0x11               ;415e  a0 11
    jsr sub_3300            ;4160  20 00 33
    jsr sub_70bb            ;4163  20 bb 70
    jsr sub_ed57            ;4166  20 57 ed
    jsr sub_77a6            ;4169  20 a6 77
    jsr sub_c2b2            ;416c  20 b2 c2
    jsr sub_7694            ;416f  20 94 76
    rts                     ;4172  60

sub_4173:
    bbs 1,0xed,lab_41b4     ;4173  27 ed 3e
    ldm #0x01,0x50          ;4176  3c 01 50
    lda 0x90                ;4179  a5 90
    bne lab_41b7            ;417b  d0 3a
    lda 0x91                ;417d  a5 91
    bne lab_41b7            ;417f  d0 36

lab_4181:
    ldy #0x00               ;4181  a0 00
    jsr sub_4826            ;4183  20 26 48
    lda #0x00               ;4186  a9 00
    sta 0x4c                ;4188  85 4c
    lda #0x01               ;418a  a9 01
    sta 0x4d                ;418c  85 4d
    ldm #0x02,0x4e          ;418e  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;4191  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;4194  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;4197  ad 02 01
    bbs 7,a,lab_41a3        ;419a  e3 07
    lda 0x0103              ;419c  ad 03 01
    cmp 0x71                ;419f  c5 71
    beq lab_41ae            ;41a1  f0 0b

lab_41a3:
    inc 0x50                ;41a3  e6 50
    lda 0x50                ;41a5  a5 50
    cmp #0x07               ;41a7  c9 07
    bcc lab_4181            ;41a9  90 d6
    jmp lab_4275            ;41ab  4c 75 42

lab_41ae:
    jsr sub_4979            ;41ae  20 79 49
    jsr sub_71bc            ;41b1  20 bc 71

lab_41b4:
    jmp lab_4280            ;41b4  4c 80 42

lab_41b7:
    ldy #0x00               ;41b7  a0 00
    jsr sub_4826            ;41b9  20 26 48
    lda #0x00               ;41bc  a9 00
    sta 0x4c                ;41be  85 4c
    lda #0x01               ;41c0  a9 01
    sta 0x4d                ;41c2  85 4d
    ldm #0x02,0x4e          ;41c4  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x04,0x4f          ;41c7  3c 04 4f     Number of I2C bytes to read = 4
    jsr sub_46e5_i2c_wr_rd  ;41ca  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;41cd  ad 02 01
    bbs 7,a,lab_41f9        ;41d0  e3 27
    lda 0x0104              ;41d2  ad 04 01
    cmp 0x90                ;41d5  c5 90
    bne lab_41f9            ;41d7  d0 20
    lda 0x0105              ;41d9  ad 05 01
    cmp 0x91                ;41dc  c5 91
    bne lab_41f9            ;41de  d0 19
    lda 0x0102              ;41e0  ad 02 01
    bbs 0,0xfc,lab_41ea     ;41e3  07 fc 04
    bbs 3,a,lab_41f9        ;41e6  63 11
    bra lab_41ec            ;41e8  80 02

lab_41ea:
    bbc 3,a,lab_41f9        ;41ea  73 0d

lab_41ec:
    ldx 0x028c              ;41ec  ae 8c 02
    beq lab_41f5            ;41ef  f0 04
    bbc 4,a,lab_41f9        ;41f1  93 06
    bra lab_41f7            ;41f3  80 02

lab_41f5:
    bbs 4,a,lab_41f9        ;41f5  83 02

lab_41f7:
    bra lab_4203            ;41f7  80 0a

lab_41f9:
    inc 0x50                ;41f9  e6 50
    lda 0x50                ;41fb  a5 50
    cmp #0x07               ;41fd  c9 07
    bcc lab_41b7            ;41ff  90 b6
    bra lab_4211            ;4201  80 0e

lab_4203:
    lda 0x71                ;4203  a5 71
    pha                     ;4205  48
    jsr sub_4979            ;4206  20 79 49
    pla                     ;4209  68
    sta 0x71                ;420a  85 71
    jsr sub_71bc            ;420c  20 bc 71
    bra lab_4280            ;420f  80 6f

lab_4211:
    bbs 2,0xfb,lab_4275     ;4211  47 fb 61
    ldm #0x00,0x59          ;4214  3c 00 59

lab_4217:
    ldm #0x01,0x50          ;4217  3c 01 50

lab_421a:
    ldy #0x00               ;421a  a0 00
    jsr sub_4826            ;421c  20 26 48
    lda #0x00               ;421f  a9 00
    sta 0x4c                ;4221  85 4c
    lda #0x01               ;4223  a9 01
    sta 0x4d                ;4225  85 4d
    ldm #0x02,0x4e          ;4227  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x04,0x4f          ;422a  3c 04 4f     Number of I2C bytes to read = 4
    jsr sub_46e5_i2c_wr_rd  ;422d  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;4230  ad 02 01
    bbs 7,a,lab_4262        ;4233  e3 2d
    bbc 0,a,lab_4262        ;4235  13 2b
    lda 0x0104              ;4237  ad 04 01
    cmp 0x90                ;423a  c5 90
    bne lab_4262            ;423c  d0 24
    lda 0x0105              ;423e  ad 05 01
    cmp 0x91                ;4241  c5 91
    bne lab_4262            ;4243  d0 1d
    ldy #0x00               ;4245  a0 00
    jsr sub_4826            ;4247  20 26 48
    lda #0x00               ;424a  a9 00
    sta 0x4c                ;424c  85 4c
    lda #0x01               ;424e  a9 01
    sta 0x4d                ;4250  85 4d
    ldm #0x02,0x4e          ;4252  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x0e,0x4f          ;4255  3c 0e 4f     Number of I2C bytes to read = 14
    jsr sub_46e5_i2c_wr_rd  ;4258  20 e5 46     Perform an I2C write-then-read transaction
    jsr sub_4a7c            ;425b  20 7c 4a
    seb 2,0xfb              ;425e  4f fb
    bra lab_4272            ;4260  80 10

lab_4262:
    inc 0x50                ;4262  e6 50
    lda 0x50                ;4264  a5 50
    cmp #0x07               ;4266  c9 07
    bcc lab_421a            ;4268  90 b0
    inc 0x59                ;426a  e6 59
    lda 0x59                ;426c  a5 59
    cmp #0x03               ;426e  c9 03
    bcc lab_4217            ;4270  90 a5

lab_4272:
    jsr sub_435d            ;4272  20 5d 43

lab_4275:
    ldm #0x00,0x50          ;4275  3c 00 50
    bbs 0,0xfd,lab_4280     ;4278  07 fd 05
    ldy #0x1d               ;427b  a0 1d
    jsr sub_3300            ;427d  20 00 33

lab_4280:
    rts                     ;4280  60

sub_4281:
    lda 0xf0                ;4281  a5 f0
    and #0xf8               ;4283  29 f8
    bne lab_42be            ;4285  d0 37
    bbc 0,0xf3,lab_428f     ;4287  17 f3 05
    clb 0,0xf3              ;428a  1f f3
    jsr sub_4173            ;428c  20 73 41

lab_428f:
    ldx 0x50                ;428f  a6 50
    lda 0xf0                ;4291  a5 f0
    cmp #0x01               ;4293  c9 01
    bne lab_429b            ;4295  d0 04
    stx 0x51                ;4297  86 51
    bra lab_42b7            ;4299  80 1c

lab_429b:
    cmp #0x02               ;429b  c9 02
    bne lab_42aa            ;429d  d0 0b
    bbs 1,0xf2,lab_42a6     ;429f  27 f2 04
    stx 0x52                ;42a2  86 52
    bra lab_42b7            ;42a4  80 11

lab_42a6:
    stx 0x53                ;42a6  86 53
    bra lab_42b7            ;42a8  80 0d

lab_42aa:
    cmp #0x04               ;42aa  c9 04
    bne lab_42be            ;42ac  d0 10
    bbs 2,0xf2,lab_42b5     ;42ae  47 f2 04
    stx 0x54                ;42b1  86 54
    bra lab_42b7            ;42b3  80 02

lab_42b5:
    stx 0x55                ;42b5  86 55

lab_42b7:
    lda 0x50                ;42b7  a5 50
    bne lab_42be            ;42b9  d0 03
    jsr sub_486d            ;42bb  20 6d 48

lab_42be:
    rts                     ;42be  60

sub_42bf:
    lda 0xf0                ;42bf  a5 f0
    and #0xf8               ;42c1  29 f8
    bne lab_42ed            ;42c3  d0 28
    ldx 0x50                ;42c5  a6 50
    lda 0xf0                ;42c7  a5 f0
    cmp #0x01               ;42c9  c9 01
    bne lab_42d1            ;42cb  d0 04
    stx 0x51                ;42cd  86 51
    bra lab_42ed            ;42cf  80 1c

lab_42d1:
    cmp #0x02               ;42d1  c9 02
    bne lab_42e0            ;42d3  d0 0b
    bbs 1,0xf2,lab_42dc     ;42d5  27 f2 04
    stx 0x52                ;42d8  86 52
    bra lab_42ed            ;42da  80 11

lab_42dc:
    stx 0x53                ;42dc  86 53
    bra lab_42ed            ;42de  80 0d

lab_42e0:
    cmp #0x04               ;42e0  c9 04
    bne lab_42ed            ;42e2  d0 09
    bbs 2,0xf2,lab_42eb     ;42e4  47 f2 04
    stx 0x54                ;42e7  86 54
    bra lab_42ed            ;42e9  80 02

lab_42eb:
    stx 0x55                ;42eb  86 55

lab_42ed:
    rts                     ;42ed  60

sub_42ee:
    lda 0xf0                ;42ee  a5 f0
    and #0x07               ;42f0  29 07
    cmp #0x01               ;42f2  c9 01
    bne lab_42fa            ;42f4  d0 04
    ldx 0x51                ;42f6  a6 51
    bra lab_4316            ;42f8  80 1c

lab_42fa:
    cmp #0x02               ;42fa  c9 02
    bne lab_4309            ;42fc  d0 0b
    bbs 1,0xf2,lab_4305     ;42fe  27 f2 04
    ldx 0x52                ;4301  a6 52
    bra lab_4316            ;4303  80 11

lab_4305:
    ldx 0x53                ;4305  a6 53
    bra lab_4316            ;4307  80 0d

lab_4309:
    cmp #0x04               ;4309  c9 04
    bne lab_4318            ;430b  d0 0b
    bbs 2,0xf2,lab_4314     ;430d  47 f2 04
    ldx 0x54                ;4310  a6 54
    bra lab_4316            ;4312  80 02

lab_4314:
    ldx 0x55                ;4314  a6 55

lab_4316:
    stx 0x50                ;4316  86 50

lab_4318:
    rts                     ;4318  60

sub_4319:
    lda 0x028b              ;4319  ad 8b 02
    bbs 6,0xf0,lab_4327     ;431c  c7 f0 08
    bbs 2,0xf4,lab_4327     ;431f  47 f4 05
    bbs 5,0xf0,lab_4327     ;4322  a7 f0 02
    lda 0xa0                ;4325  a5 a0

lab_4327:
    sta 0x028b              ;4327  8d 8b 02
    rts                     ;432a  60

sub_432b:
    lda 0xf0                ;432b  a5 f0
    and #0xfc               ;432d  29 fc
    bne lab_4337            ;432f  d0 06
    seb 4,0xfa              ;4331  8f fa
    seb 5,0xfa              ;4333  af fa
    bra lab_433b            ;4335  80 04

lab_4337:
    clb 4,0xfa              ;4337  9f fa
    clb 5,0xfa              ;4339  bf fa

lab_433b:
    bbc 6,0xf0,lab_4346     ;433b  d7 f0 08
    lda 0x0283              ;433e  ad 83 02
    clc                     ;4341  18
    adc #0x07               ;4342  69 07
    bra lab_435a            ;4344  80 14

lab_4346:
    bbs 2,0xf4,lab_434c     ;4346  47 f4 03
    bbc 5,0xf0,lab_4357     ;4349  b7 f0 0b

lab_434c:
    ldx 0x0282              ;434c  ae 82 02
    lda 0x7b10,x            ;434f  bd 10 7b
    cmp 0x028b              ;4352  cd 8b 02
    bcs lab_435a            ;4355  b0 03

lab_4357:
    lda 0x028b              ;4357  ad 8b 02

lab_435a:
    sta 0xa0                ;435a  85 a0
    rts                     ;435c  60

sub_435d:
    lda #0x01               ;435d  a9 01
    bbc 0,0xf0,lab_4366     ;435f  17 f0 04
    lda #0x00               ;4362  a9 00
    bra lab_437c            ;4364  80 16

lab_4366:
    bbc 1,0xf0,lab_4372     ;4366  37 f0 09
    lda #0x01               ;4369  a9 01
    bbc 1,0xf2,lab_437c     ;436b  37 f2 0e
    lda #0x02               ;436e  a9 02
    bra lab_437c            ;4370  80 0a

lab_4372:
    bbc 2,0xf0,lab_437e     ;4372  57 f0 09
    lda #0x03               ;4375  a9 03
    bbc 2,0xf2,lab_437c     ;4377  57 f2 02
    lda #0x04               ;437a  a9 04

lab_437c:
    sta 0x59                ;437c  85 59

lab_437e:
    rts                     ;437e  60

sub_437f:
    lda #0x0e               ;437f  a9 0e
    bbs 6,0xfb,lab_43b6     ;4381  c7 fb 32
    lda #0x0f               ;4384  a9 0f
    bbs 6,0xf0,lab_43b6     ;4386  c7 f0 2d
    lda #0x05               ;4389  a9 05
    bbs 5,0xf4,lab_43b6     ;438b  a7 f4 28
    lda #0x1b               ;438e  a9 1b
    bbs 2,0xf4,lab_43b6     ;4390  47 f4 23
    lda #0x1f               ;4393  a9 1f
    bbs 5,0xf0,lab_43b6     ;4395  a7 f0 1e
    lda #0x0d               ;4398  a9 0d
    bbs 3,0xf0,lab_43b6     ;439a  67 f0 19
    bbc 4,0xf0,lab_43a5     ;439d  97 f0 05
    jsr sub_da7f            ;43a0  20 7f da
    bra lab_43b6            ;43a3  80 11

lab_43a5:
    lda #0x07               ;43a5  a9 07
    bbs 2,0xf3,lab_43b6     ;43a7  47 f3 0c
    lda #0x08               ;43aa  a9 08
    bbs 0,0xf3,lab_43b6     ;43ac  07 f3 07
    lda #0x06               ;43af  a9 06
    bbs 5,0xf5,lab_43b6     ;43b1  a7 f5 02
    lda 0x59                ;43b4  a5 59

lab_43b6:
    sta 0x5a                ;43b6  85 5a
    rts                     ;43b8  60

sub_43b9:
    bbs 6,0xf0,lab_43cc     ;43b9  c7 f0 10
    bbs 3,0xf0,lab_43c4     ;43bc  67 f0 05
    bbs 4,0xf0,lab_43cc     ;43bf  87 f0 0a
    bra lab_43cc            ;43c2  80 08

lab_43c4:
    jsr sub_d286            ;43c4  20 86 d2
    lda 0xd2d7,x            ;43c7  bd d7 d2
    sta 0x5b                ;43ca  85 5b

lab_43cc:
    rts                     ;43cc  60

    .byte 0xa9              ;43cd  a9          DATA 0xa9
    .byte 0x01              ;43ce  01          DATA 0x01
    .byte 0x85              ;43cf  85          DATA 0x85
    .byte 0x78              ;43d0  78          DATA 0x78 'x'
    .byte 0xa9              ;43d1  a9          DATA 0xa9
    .byte 0x00              ;43d2  00          DATA 0x00
    .byte 0x85              ;43d3  85          DATA 0x85
    .byte 0x79              ;43d4  79          DATA 0x79 'y'
    .byte 0x80              ;43d5  80          DATA 0x80
    .byte 0x12              ;43d6  12          DATA 0x12
    .byte 0xa9              ;43d7  a9          DATA 0xa9
    .byte 0xff              ;43d8  ff          DATA 0xff
    .byte 0x85              ;43d9  85          DATA 0x85
    .byte 0x78              ;43da  78          DATA 0x78 'x'
    .byte 0xa9              ;43db  a9          DATA 0xa9
    .byte 0xff              ;43dc  ff          DATA 0xff
    .byte 0x85              ;43dd  85          DATA 0x85
    .byte 0x79              ;43de  79          DATA 0x79 'y'
    .byte 0x80              ;43df  80          DATA 0x80
    .byte 0x08              ;43e0  08          DATA 0x08
    .byte 0xa9              ;43e1  a9          DATA 0xa9
    .byte 0x00              ;43e2  00          DATA 0x00
    .byte 0x85              ;43e3  85          DATA 0x85
    .byte 0x78              ;43e4  78          DATA 0x78 'x'
    .byte 0xa9              ;43e5  a9          DATA 0xa9
    .byte 0x00              ;43e6  00          DATA 0x00
    .byte 0x85              ;43e7  85          DATA 0x85
    .byte 0x79              ;43e8  79          DATA 0x79 'y'

sub_43e9:
    tya                     ;43e9  98
    pha                     ;43ea  48
    ldx #0x00               ;43eb  a2 00
    lda #0x0a               ;43ed  a9 0a
    mul 0x57,x              ;43ef  62 57
    ldy #0x00               ;43f1  a0 00
    clc                     ;43f3  18
    adc #0xed               ;43f4  69 ed
    sta 0x4a                ;43f6  85 4a
    pla                     ;43f8  68
    adc #0x62               ;43f9  69 62
    sta 0x4b                ;43fb  85 4b
    ldy #0x03               ;43fd  a0 03
    lda [0x4a],y            ;43ff  b1 4a
    bbc 7,a,lab_4406        ;4401  f3 03
    jsr sub_4485            ;4403  20 85 44

lab_4406:
    ldy #0x00               ;4406  a0 00

lab_4408:
    lda [0x4a],y            ;4408  b1 4a
    sta 0x0042,y            ;440a  99 42 00
    iny                     ;440d  c8
    cpy #0x08               ;440e  c0 08
    bcc lab_4408            ;4410  90 f6
    ldm #0x00,0x41          ;4412  3c 00 41
    ldy #0x00               ;4415  a0 00
    lda [0x42],y            ;4417  b1 42
    sta 0x40                ;4419  85 40
    bbc 0,0x44,lab_4423     ;441b  17 44 05
    iny                     ;441e  c8
    lda [0x42],y            ;441f  b1 42
    sta 0x41                ;4421  85 41

lab_4423:
    clc                     ;4423  18
    lda 0x40                ;4424  a5 40
    adc 0x78                ;4426  65 78
    sta 0x40                ;4428  85 40
    lda 0x41                ;442a  a5 41
    adc 0x79                ;442c  65 79
    sta 0x41                ;442e  85 41
    lda 0x41                ;4430  a5 41
    cmp 0x47                ;4432  c5 47
    bmi lab_445e            ;4434  30 28
    bcc lab_445e            ;4436  90 26
    bne lab_4440            ;4438  d0 06
    lda 0x40                ;443a  a5 40
    cmp 0x46                ;443c  c5 46
    bcc lab_445e            ;443e  90 1e

lab_4440:
    lda 0x41                ;4440  a5 41
    cmp 0x49                ;4442  c5 49
    bcc lab_446c            ;4444  90 26
    bne lab_4450            ;4446  d0 08
    lda 0x40                ;4448  a5 40
    cmp 0x48                ;444a  c5 48
    bcc lab_446c            ;444c  90 1e
    beq lab_446c            ;444e  f0 1c

lab_4450:
    bbc 1,0x44,lab_4461     ;4450  37 44 0e

lab_4453:
    lda 0x46                ;4453  a5 46
    sta 0x40                ;4455  85 40
    lda 0x47                ;4457  a5 47
    sta 0x41                ;4459  85 41
    sec                     ;445b  38
    bra lab_446d            ;445c  80 0f

lab_445e:
    bbc 1,0x44,lab_4453     ;445e  37 44 f2

lab_4461:
    lda 0x48                ;4461  a5 48
    sta 0x40                ;4463  85 40
    lda 0x49                ;4465  a5 49
    sta 0x41                ;4467  85 41
    sec                     ;4469  38
    bra lab_446d            ;446a  80 01

lab_446c:
    clc                     ;446c  18

lab_446d:
    ldy #0x00               ;446d  a0 00
    lda 0x40                ;446f  a5 40
    sta [0x42],y            ;4471  91 42
    bbc 0,0x44,lab_447b     ;4473  17 44 05
    iny                     ;4476  c8
    lda 0x41                ;4477  a5 41
    sta [0x42],y            ;4479  91 42

lab_447b:
    pla                     ;447b  68
    tay                     ;447c  a8
    rts                     ;447d  60

;unknown table of bytes used by sub_4485
    .byte 0x02              ;447e  02          DATA 0x02
    .byte 0x02              ;447f  02          DATA 0x02
    .byte 0x02              ;4480  02          DATA 0x02
    .byte 0x03              ;4481  03          DATA 0x03
    .byte 0x03              ;4482  03          DATA 0x03
    .byte 0x04              ;4483  04          DATA 0x04
    .byte 0x05              ;4484  05          DATA 0x05

sub_4485:
    and #0x7f               ;4485  29 7f
    cmp #0x00               ;4487  c9 00
    bne lab_44a6            ;4489  d0 1b
    ldy 0x59                ;448b  a4 59
    lda 0x447e,y            ;448d  b9 7e 44
    sta 0x4a                ;4490  85 4a
    ldx #0x00               ;4492  a2 00
    lda #0x0a               ;4494  a9 0a
    mul 0x4a,x              ;4496  62 4a
    ldy #0x00               ;4498  a0 00
    clc                     ;449a  18
    adc #0xed               ;449b  69 ed
    sta 0x4a                ;449d  85 4a
    pla                     ;449f  68
    adc #0x62               ;44a0  69 62
    sta 0x4b                ;44a2  85 4b
    bra lab_44a6            ;44a4  80 00

lab_44a6:
    rts                     ;44a6  60

;Clears several buffers and flags
sub_44a7:
    ldx #0x07               ;44a7  a2 07
lab_44a9_loop:
    lda #0x00               ;44a9  a9 00
    sta 0x0138,x            ;44ab  9d 38 01
    sta 0x0140,x            ;44ae  9d 40 01
    sta 0x05d4,x            ;44b1  9d d4 05
    lda #0x01               ;44b4  a9 01
    sta 0x0130,x            ;44b6  9d 30 01
    dex                     ;44b9  ca
    bpl lab_44a9_loop       ;44ba  10 ed
    clb 2,0xfb              ;44bc  5f fb
    clb 3,0xfb              ;44be  7f fb
    rts                     ;44c0  60

sub_44c1:
    ldx #0x07               ;44c1  a2 07
    lda #0x00               ;44c3  a9 00

lab_44c5:
    sta 0x0138,x            ;44c5  9d 38 01
    dex                     ;44c8  ca
    bpl lab_44c5            ;44c9  10 fa
    clb 3,0xfb              ;44cb  7f fb
    rts                     ;44cd  60

sub_44ce:
    bbs 2,0xf3,lab_4523     ;44ce  47 f3 52
    bbs 2,0xf0,lab_4523     ;44d1  47 f0 4f
    bbc 3,0xf2,lab_44e3     ;44d4  77 f2 0c
    bbs 4,0xf4,lab_44e3     ;44d7  87 f4 09
    bbs 6,0xfb,lab_44ed     ;44da  c7 fb 10
    bbs 6,0xf0,lab_44e3     ;44dd  c7 f0 03
    bbs 0,0xf0,lab_44ed     ;44e0  07 f0 0a

lab_44e3:
    clb 6,0xfb              ;44e3  df fb
    bbs 5,0xf0,lab_4523     ;44e5  a7 f0 3b
    jsr sub_ca14            ;44e8  20 14 ca
    bra lab_4523            ;44eb  80 36

lab_44ed:
    jsr sub_d3e8            ;44ed  20 e8 d3
    jsr sub_d939            ;44f0  20 39 d9
    jsr sub_4319            ;44f3  20 19 43
    seb 2,0xf4              ;44f6  4f f4
    jsr sub_ca14            ;44f8  20 14 ca
    lda 0xa0                ;44fb  a5 a0
    pha                     ;44fd  48
    jsr sub_432b            ;44fe  20 2b 43
    lda 0xa0                ;4501  a5 a0
    sta 0x0384              ;4503  8d 84 03
    pla                     ;4506  68
    sta 0xa0                ;4507  85 a0
    ldx #0x06               ;4509  a2 06
    jsr sub_70db            ;450b  20 db 70
    jsr sub_76ff            ;450e  20 ff 76
    jsr sub_777d            ;4511  20 7d 77
    jsr sub_77b2            ;4514  20 b2 77
    jsr sub_7694            ;4517  20 94 76
    jsr sub_437f            ;451a  20 7f 43
    jsr sub_43b9            ;451d  20 b9 43
    jsr sub_664a            ;4520  20 4a 66

lab_4523:
    rts                     ;4523  60

sub_4524:
    bbs 2,0xf3,lab_4566     ;4524  47 f3 3f
    bbs 2,0xf0,lab_4566     ;4527  47 f0 3c
    bbs 6,0xfb,lab_4535     ;452a  c7 fb 08
    bbs 0,0xf0,lab_4535     ;452d  07 f0 05
    jsr sub_ca36            ;4530  20 36 ca
    bra lab_4566            ;4533  80 31

lab_4535:
    clb 6,0xfb              ;4535  df fb
    jsr sub_ca36            ;4537  20 36 ca
    bbc 2,0xf4,lab_4566     ;453a  57 f4 29
    bbc 3,0xfe,lab_4545     ;453d  77 fe 05
    clb 3,0xfe              ;4540  7f fe
    jsr sub_b388            ;4542  20 88 b3

lab_4545:
    clb 2,0xf4              ;4545  5f f4
    ldy #0x35               ;4547  a0 35
    jsr sub_3361            ;4549  20 61 33
    jsr sub_432b            ;454c  20 2b 43
    jsr sub_70bb            ;454f  20 bb 70
    bbs 6,0xf0,lab_455d     ;4552  c7 f0 08
    lda #0x00               ;4555  a9 00
    jsr sub_d33f            ;4557  20 3f d3
    jsr sub_d931            ;455a  20 31 d9

lab_455d:
    jsr sub_437f            ;455d  20 7f 43
    jsr sub_43b9            ;4560  20 b9 43
    jsr sub_664a            ;4563  20 4a 66

lab_4566:
    rts                     ;4566  60

sub_4567:
    bbc 2,0xf4,lab_4593     ;4567  57 f4 29
    bbc 3,0xfe,lab_4575     ;456a  77 fe 08
    jsr sub_ca36            ;456d  20 36 ca
    clb 3,0xfe              ;4570  7f fe
    jsr sub_b388            ;4572  20 88 b3

lab_4575:
    clb 2,0xf4              ;4575  5f f4
    jsr sub_432b            ;4577  20 2b 43
    jsr sub_70bb            ;457a  20 bb 70
    bbs 6,0xf0,lab_4588     ;457d  c7 f0 08
    lda #0x00               ;4580  a9 00
    jsr sub_d33f            ;4582  20 3f d3
    jsr sub_d931            ;4585  20 31 d9

lab_4588:
    clb 6,0xfb              ;4588  df fb
    jsr sub_437f            ;458a  20 7f 43
    jsr sub_43b9            ;458d  20 b9 43
    jsr sub_664a            ;4590  20 4a 66

lab_4593:
    rts                     ;4593  60

sub_4594:
    bbs 2,0xf3,lab_45ba     ;4594  47 f3 23
    bbs 2,0xf0,lab_45ba     ;4597  47 f0 20
    bbs 6,0xfb,lab_45a5     ;459a  c7 fb 08
    bbs 0,0xf0,lab_45a5     ;459d  07 f0 05
    jsr sub_ca36            ;45a0  20 36 ca
    bra lab_45ba            ;45a3  80 15

lab_45a5:
    jsr sub_ca36            ;45a5  20 36 ca
    bbc 2,0xf4,lab_45ba     ;45a8  57 f4 0f
    bbc 3,0xfe,lab_45b3     ;45ab  77 fe 05
    clb 3,0xfe              ;45ae  7f fe
    jsr sub_b388            ;45b0  20 88 b3

lab_45b3:
    clb 2,0xf4              ;45b3  5f f4
    clb 6,0xfb              ;45b5  df fb
    jsr sub_432b            ;45b7  20 2b 43

lab_45ba:
    rts                     ;45ba  60

sub_45bb:
    bbs 2,0xf3,lab_45fc     ;45bb  47 f3 3e
    bbc 6,0xfb,lab_45c6     ;45be  d7 fb 05
    bbs 2,0xf0,lab_45fc     ;45c1  47 f0 38
    bra lab_45c9            ;45c4  80 03

lab_45c6:
    bbc 0,0xf0,lab_45fc     ;45c6  17 f0 33

lab_45c9:
    jsr sub_b1e2            ;45c9  20 e2 b1
    bcc lab_45fc            ;45cc  90 2e
    jsr sub_7655            ;45ce  20 55 76
    jsr sub_b289            ;45d1  20 89 b2
    jsr sub_b2d5            ;45d4  20 d5 b2
    bcs lab_45e7            ;45d7  b0 0e
    clb 2,0xfa              ;45d9  5f fa
    bbc 2,0xfe,lab_45f9     ;45db  57 fe 1b
    seb 2,0xfa              ;45de  4f fa
    ldy #0x31               ;45e0  a0 31
    jsr sub_3300            ;45e2  20 00 33
    bra lab_45f9            ;45e5  80 12

lab_45e7:
    jsr sub_7673            ;45e7  20 73 76
    lda 0x05fc              ;45ea  ad fc 05
    sta 0x05d0              ;45ed  8d d0 05
    jsr sub_b33b            ;45f0  20 3b b3
    jsr sub_44ce            ;45f3  20 ce 44
    jsr sub_7694            ;45f6  20 94 76

lab_45f9:
    jsr sub_7664            ;45f9  20 64 76

lab_45fc:
    rts                     ;45fc  60

    .byte 0x47              ;45fd  47          DATA 0x47 'G'
    .byte 0xf3              ;45fe  f3          DATA 0xf3
    .byte 0x1d              ;45ff  1d          DATA 0x1d
    .byte 0x47              ;4600  47          DATA 0x47 'G'
    .byte 0xf0              ;4601  f0          DATA 0xf0
    .byte 0x1a              ;4602  1a          DATA 0x1a
    .byte 0x20              ;4603  20          DATA 0x20 ' '
    .byte 0x55              ;4604  55          DATA 0x55 'U'
    .byte 0x76              ;4605  76          DATA 0x76 'v'
    .byte 0x20              ;4606  20          DATA 0x20 ' '
    .byte 0x73              ;4607  73          DATA 0x73 's'
    .byte 0x76              ;4608  76          DATA 0x76 'v'
    .byte 0x20              ;4609  20          DATA 0x20 ' '
    .byte 0x88              ;460a  88          DATA 0x88
    .byte 0xb3              ;460b  b3          DATA 0xb3
    .byte 0x7f              ;460c  7f          DATA 0x7f
    .byte 0xfe              ;460d  fe          DATA 0xfe
    .byte 0x0f              ;460e  0f          DATA 0x0f
    .byte 0xfe              ;460f  fe          DATA 0xfe
    .byte 0x5f              ;4610  5f          DATA 0x5f '_'
    .byte 0xfe              ;4611  fe          DATA 0xfe
    .byte 0x5f              ;4612  5f          DATA 0x5f '_'
    .byte 0xfa              ;4613  fa          DATA 0xfa
    .byte 0x20              ;4614  20          DATA 0x20 ' '
    .byte 0x24              ;4615  24          DATA 0x24 '$'
    .byte 0x45              ;4616  45          DATA 0x45 'E'
    .byte 0x20              ;4617  20          DATA 0x20 ' '
    .byte 0x94              ;4618  94          DATA 0x94
    .byte 0x76              ;4619  76          DATA 0x76 'v'
    .byte 0x20              ;461a  20          DATA 0x20 ' '
    .byte 0x64              ;461b  64          DATA 0x64 'd'
    .byte 0x76              ;461c  76          DATA 0x76 'v'
    .byte 0x60              ;461d  60          DATA 0x60 '`'

sub_461e:
    bbs 6,0xf1,lab_4628     ;461e  c7 f1 07
    seb 6,0xf0              ;4621  cf f0
    jsr sub_2835            ;4623  20 35 28
    bra lab_4636            ;4626  80 0e

lab_4628:
    bbc 3,0xf2,lab_4633     ;4628  77 f2 08
    bbc 4,0xf1,lab_4633     ;462b  97 f1 05
    clb 4,0xf1              ;462e  9f f1
    jsr sub_aebe            ;4630  20 be ae

lab_4633:
    jsr sub_4646            ;4633  20 46 46

lab_4636:
    rts                     ;4636  60

sub_4637:
    bbs 3,0xf2,lab_4642     ;4637  67 f2 08
    jsr sub_469a            ;463a  20 9a 46
    jsr sub_2b51            ;463d  20 51 2b
    bra lab_4645            ;4640  80 03

lab_4642:
    jsr sub_469a            ;4642  20 9a 46

lab_4645:
    rts                     ;4645  60

sub_4646:
    seb 6,0xf0              ;4646  cf f0
    jsr sub_9dcd            ;4648  20 cd 9d
    jsr sub_7c8b            ;464b  20 8b 7c
    jsr sub_cb54            ;464e  20 54 cb
    ldm #0x0f,0x5a          ;4651  3c 0f 5a
    bbc 0,0xf1,lab_465a     ;4654  17 f1 03
    ldm #0x0a,0x5b          ;4657  3c 0a 5b

lab_465a:
    jsr sub_664a            ;465a  20 4a 66
    jsr sub_d3e8            ;465d  20 e8 d3
    jsr sub_d939            ;4660  20 39 d9
    lda 0x0283              ;4663  ad 83 02
    beq lab_467d            ;4666  f0 15
    jsr sub_7673            ;4668  20 73 76
    clb 6,0xf0              ;466b  df f0
    jsr sub_4319            ;466d  20 19 43
    seb 6,0xf0              ;4670  cf f0
    jsr sub_432b            ;4672  20 2b 43
    jsr sub_70bb            ;4675  20 bb 70
    jsr sub_7694            ;4678  20 94 76
    bra lab_4687            ;467b  80 0a

lab_467d:
    jsr sub_7673            ;467d  20 73 76
    clb 6,0xf0              ;4680  df f0
    jsr sub_4319            ;4682  20 19 43
    seb 6,0xf0              ;4685  cf f0

lab_4687:
    rts                     ;4687  60

sub_4688:
    seb 6,0x00f0            ;4688  cf f0
    jsr sub_437f            ;468a  20 7f 43
    jsr sub_43b9            ;468d  20 b9 43
    jsr sub_664a            ;4690  20 4a 66
    jsr sub_70bb            ;4693  20 bb 70
    jsr sub_7694            ;4696  20 94 76
    rts                     ;4699  60

sub_469a:
    clb 6,0xf0              ;469a  df f0
    bbs 3,0xf2,lab_46a4     ;469c  67 f2 05
    jsr sub_432b            ;469f  20 2b 43
    bra lab_46cd            ;46a2  80 29

lab_46a4:
    jsr sub_7673            ;46a4  20 73 76
    jsr sub_432b            ;46a7  20 2b 43
    jsr sub_70bb            ;46aa  20 bb 70
    bbc 2,0xfa,lab_46b6     ;46ad  57 fa 06
    bbs 2,0xf4,lab_46b6     ;46b0  47 f4 03
    jsr sub_44ce            ;46b3  20 ce 44

lab_46b6:
    jsr sub_437f            ;46b6  20 7f 43
    jsr sub_43b9            ;46b9  20 b9 43
    jsr sub_664a            ;46bc  20 4a 66
    bbs 2,0xf4,lab_46ca     ;46bf  47 f4 08
    lda #0x00               ;46c2  a9 00
    jsr sub_d33f            ;46c4  20 3f d3
    jsr sub_d931            ;46c7  20 31 d9

lab_46ca:
    jsr sub_7694            ;46ca  20 94 76

lab_46cd:
    rts                     ;46cd  60

;I2C related
sub_46ce:
    ldm #0x18,S0D           ;46ce  3c 18 13     I2C address register = 0x18
    ldm #0x87,S2            ;46d1  3c 87 16     Set I2C clock control register
    ldm #0x1e,S2D           ;46d4  3c 1e 17     Set I2C start/stop condition control register
    ldm #0x10,S1            ;46d7  3c 10 14     Set I2C status register
    ldm #0x00,S1D           ;46da  3c 00 15     Set I2C control register
    seb 3,S1D               ;46dd  6f 15
    ldm #0xd0,S1            ;46df  3c d0 14
    clb 1,0xff              ;46e2  3f ff
    rts                     ;46e4  60

;Perform an I2C write-then-read transaction
;
;Call with:
;  0x004C-0x004D pointer to an I2C data buffer
;                first byte of buffer contains I2C control byte (address & direction)
;  0x004E = number of bytes to write to the I2C device (read from pointer + 1...)
;  0x004F = number of bytes to read from the I2C device (written to pointer + 2...)
;
sub_46e5_i2c_wr_rd:
    bbc 1,0xff,lab_46e9     ;46e5  37 ff 01
    rts                     ;46e8  60

lab_46e9:
    pha                     ;46e9  48
    tya                     ;46ea  98
    pha                     ;46eb  48
    ldm #0x00,S1            ;46ec  3c 00 14     Set ... I2C status register
    seb 3,S1D               ;46ef  6f 15

lab_46f1:
    bbs 5,S1,lab_46f1       ;46f1  a7 14 fd     Wait for ... I2C status register
    lda 0x4e                ;46f4  a5 4e
    bne lab_46fb            ;46f6  d0 03
    ;0x004e = 0
    jmp lab_477e            ;46f8  4c 7e 47

lab_46fb:
    ;0x004e != 0
    cmp #0x01               ;46fb  c9 01
    bne lab_4703            ;46fd  d0 04
    ;0x004e = 1
    lda 0x4f                ;46ff  a5 4f
    bne lab_473c            ;4701  d0 39

    ;0x004e != 1, 0x004f = 0

lab_4703:
    ;0x004e != 0,1
    seb 0,0xff              ;4703  0f ff

    ldy #0x00               ;4705  a0 00
    lda [0x4c],y            ;4707  b1 4c        A = first byte from buffer (control/address byte)
    clb 0,a                 ;4709  1b           Clear bit 0

    sei                     ;470a  78
    sta S0                  ;470b  85 12        Store in I2C data shift register
    ldm #0xf0,S1            ;470d  3c f0 14     Set I2C status register
    cli                     ;4710  58

lab_4711:
    bbs 4,S1,lab_4711       ;4711  87 14 fd     Wait for ... I2C status register
    bbs 0,S1,lab_477e       ;4714  07 14 67     Branch if ... I2C status register
    clb 0,0xff              ;4717  1f ff

    lda 0x4e                ;4719  a5 4e
    cmp #0x01               ;471b  c9 01
    bne lab_4723            ;471d  d0 04

    lda 0x4f                ;471f  a5 4f
    beq lab_477e            ;4721  f0 5b

lab_4723:
    seb 0,0xff              ;4723  0f ff
    ldy #0x01               ;4725  a0 01

lab_4727:
    lda [0x4c],y            ;4727  b1 4c        Read from buffer
    sta S0                  ;4729  85 12        Store in I2C data shift register

lab_472b:
    bbs 4,S1,lab_472b       ;472b  87 14 fd     Wait for ... I2C status register
    bbs 0,S1,lab_477e       ;472e  07 14 4d     Branch if ... I2C status register
    iny                     ;4731  c8
    cpy 0x4e                ;4732  c4 4e
    bcc lab_4727            ;4734  90 f1
    clb 0,0xff              ;4736  1f ff
    lda 0x4f                ;4738  a5 4f
    beq lab_477e            ;473a  f0 42

lab_473c:
    ;0x004e = 1, 0x004f != 0
    seb 0,0xff              ;473c  0f ff

    ldy #0x00               ;473e  a0 00
    lda [0x4c],y            ;4740  b1 4c        A = first byte from buffer (control/address byte)
    seb 0,a                 ;4742  0b           Set bit 0

    sei                     ;4743  78
    sta S0                  ;4744  85 12        Store in I2C data shift register
    ldm #0xf0,S1            ;4746  3c f0 14     Set I2C status register
    cli                     ;4749  58

lab_474a:
    bbs 4,S1,lab_474a       ;474a  87 14 fd     Check I2C status register
    bbs 0,S1,lab_477e       ;474d  07 14 2e     Check I2C status register

    clc                     ;4750  18
    lda 0x4f                ;4751  a5 4f
    pha                     ;4753  48
    adc 0x4e                ;4754  65 4e
    dec a                   ;4756  1a
    sta 0x4f                ;4757  85 4f

    clb 6,S2                ;4759  df 16        Set I2C clock control register
    ldm #0xb0,S1            ;475b  3c b0 14     Set I2C status register

    ldy 0x4e                ;475e  a4 4e
    cpy 0x4f                ;4760  c4 4f
    bne lab_4766            ;4762  d0 02

lab_4764:
    seb 6,S2                ;4764  cf 16        Set I2C clock control register

lab_4766:
    ldm #0xff,S0            ;4766  3c ff 12     Write 0xFF to I2C data shift register

lab_4769:
    bbs 4,S1,lab_4769       ;4769  87 14 fd     Wait for I2C status register

    lda S0                  ;476c  a5 12        A = I2C data shift register
    sta [0x4c],y            ;476e  91 4c        Store it in the buffer
    iny                     ;4770  c8
    cpy 0x4f                ;4771  c4 4f

    bcc lab_4766            ;4773  90 f1
    beq lab_4764            ;4775  f0 ed
    clb 6,S2                ;4777  df 16        Set I2C clock control register
    pla                     ;4779  68
    sta 0x4f                ;477a  85 4f
    clb 0,0xff              ;477c  1f ff

lab_477e:
    sei                     ;477e  78
    ldm #0xc0,S1            ;477f  3c c0 14     Set I2C status register
    nop                     ;4782  ea
    ldm #0xd0,S1            ;4783  3c d0 14     Set I2C status register
    cli                     ;4786  58

lab_4787:
    bbs 5,S1,lab_4787       ;4787  a7 14 fd     Wait for I2C status register
    pla                     ;478a  68
    tay                     ;478b  a8
    pla                     ;478c  68
    rts                     ;478d  60

    .byte 0x27              ;478e  27          DATA 0x27 '''
    .byte 0xff              ;478f  ff          DATA 0xff
    .byte 0x76              ;4790  76          DATA 0x76 'v'
    .byte 0x48              ;4791  48          DATA 0x48 'H'
    .byte 0x98              ;4792  98          DATA 0x98
    .byte 0x48              ;4793  48          DATA 0x48 'H'
    .byte 0x3c              ;4794  3c          DATA 0x3c '<'
    .byte 0x00              ;4795  00          DATA 0x00
    .byte 0x14              ;4796  14          DATA 0x14
    .byte 0x6f              ;4797  6f          DATA 0x6f 'o'
    .byte 0x15              ;4798  15          DATA 0x15
    .byte 0xa7              ;4799  a7          DATA 0xa7
    .byte 0x14              ;479a  14          DATA 0x14
    .byte 0xfd              ;479b  fd          DATA 0xfd
    .byte 0xa5              ;479c  a5          DATA 0xa5
    .byte 0x4f              ;479d  4f          DATA 0x4f 'O'
    .byte 0xd0              ;479e  d0          DATA 0xd0
    .byte 0x18              ;479f  18          DATA 0x18
    .byte 0x0f              ;47a0  0f          DATA 0x0f
    .byte 0xff              ;47a1  ff          DATA 0xff
    .byte 0xa0              ;47a2  a0          DATA 0xa0
    .byte 0x00              ;47a3  00          DATA 0x00
    .byte 0xb1              ;47a4  b1          DATA 0xb1
    .byte 0x4c              ;47a5  4c          DATA 0x4c 'L'
    .byte 0x1b              ;47a6  1b          DATA 0x1b
    .byte 0x78              ;47a7  78          DATA 0x78 'x'
    .byte 0x85              ;47a8  85          DATA 0x85
    .byte 0x12              ;47a9  12          DATA 0x12
    .byte 0x3c              ;47aa  3c          DATA 0x3c '<'
    .byte 0xf0              ;47ab  f0          DATA 0xf0
    .byte 0x14              ;47ac  14          DATA 0x14
    .byte 0x58              ;47ad  58          DATA 0x58 'X'
    .byte 0x87              ;47ae  87          DATA 0x87
    .byte 0x14              ;47af  14          DATA 0x14
    .byte 0xfd              ;47b0  fd          DATA 0xfd
    .byte 0x07              ;47b1  07          DATA 0x07
    .byte 0x14              ;47b2  14          DATA 0x14
    .byte 0x44              ;47b3  44          DATA 0x44 'D'
    .byte 0x1f              ;47b4  1f          DATA 0x1f
    .byte 0xff              ;47b5  ff          DATA 0xff
    .byte 0x80              ;47b6  80          DATA 0x80
    .byte 0x40              ;47b7  40          DATA 0x40 '@'
    .byte 0x0f              ;47b8  0f          DATA 0x0f
    .byte 0xff              ;47b9  ff          DATA 0xff
    .byte 0xa0              ;47ba  a0          DATA 0xa0
    .byte 0x00              ;47bb  00          DATA 0x00
    .byte 0xb1              ;47bc  b1          DATA 0xb1
    .byte 0x4c              ;47bd  4c          DATA 0x4c 'L'
    .byte 0x0b              ;47be  0b          DATA 0x0b
    .byte 0x78              ;47bf  78          DATA 0x78 'x'
    .byte 0x85              ;47c0  85          DATA 0x85
    .byte 0x12              ;47c1  12          DATA 0x12
    .byte 0x3c              ;47c2  3c          DATA 0x3c '<'
    .byte 0xf0              ;47c3  f0          DATA 0xf0
    .byte 0x14              ;47c4  14          DATA 0x14
    .byte 0x58              ;47c5  58          DATA 0x58 'X'
    .byte 0x87              ;47c6  87          DATA 0x87
    .byte 0x14              ;47c7  14          DATA 0x14
    .byte 0xfd              ;47c8  fd          DATA 0xfd
    .byte 0x07              ;47c9  07          DATA 0x07
    .byte 0x14              ;47ca  14          DATA 0x14
    .byte 0x2c              ;47cb  2c          DATA 0x2c ','
    .byte 0x18              ;47cc  18          DATA 0x18
    .byte 0xa5              ;47cd  a5          DATA 0xa5
    .byte 0x4f              ;47ce  4f          DATA 0x4f 'O'
    .byte 0x48              ;47cf  48          DATA 0x48 'H'
    .byte 0x65              ;47d0  65          DATA 0x65 'e'
    .byte 0x4e              ;47d1  4e          DATA 0x4e 'N'
    .byte 0x1a              ;47d2  1a          DATA 0x1a
    .byte 0x85              ;47d3  85          DATA 0x85
    .byte 0x4f              ;47d4  4f          DATA 0x4f 'O'
    .byte 0xdf              ;47d5  df          DATA 0xdf
    .byte 0x16              ;47d6  16          DATA 0x16
    .byte 0x3c              ;47d7  3c          DATA 0x3c '<'
    .byte 0xb0              ;47d8  b0          DATA 0xb0
    .byte 0x14              ;47d9  14          DATA 0x14
    .byte 0xa4              ;47da  a4          DATA 0xa4
    .byte 0x4e              ;47db  4e          DATA 0x4e 'N'
    .byte 0xc4              ;47dc  c4          DATA 0xc4
    .byte 0x4f              ;47dd  4f          DATA 0x4f 'O'
    .byte 0xd0              ;47de  d0          DATA 0xd0
    .byte 0x00              ;47df  00          DATA 0x00
    .byte 0x3c              ;47e0  3c          DATA 0x3c '<'
    .byte 0xff              ;47e1  ff          DATA 0xff
    .byte 0x12              ;47e2  12          DATA 0x12
    .byte 0x87              ;47e3  87          DATA 0x87
    .byte 0x14              ;47e4  14          DATA 0x14
    .byte 0xfd              ;47e5  fd          DATA 0xfd
    .byte 0xa5              ;47e6  a5          DATA 0xa5
    .byte 0x12              ;47e7  12          DATA 0x12
    .byte 0x91              ;47e8  91          DATA 0x91
    .byte 0x4c              ;47e9  4c          DATA 0x4c 'L'
    .byte 0xc8              ;47ea  c8          DATA 0xc8
    .byte 0xc4              ;47eb  c4          DATA 0xc4
    .byte 0x4f              ;47ec  4f          DATA 0x4f 'O'
    .byte 0x90              ;47ed  90          DATA 0x90
    .byte 0xf1              ;47ee  f1          DATA 0xf1
    .byte 0xf0              ;47ef  f0          DATA 0xf0
    .byte 0xef              ;47f0  ef          DATA 0xef
    .byte 0xdf              ;47f1  df          DATA 0xdf
    .byte 0x16              ;47f2  16          DATA 0x16
    .byte 0x68              ;47f3  68          DATA 0x68 'h'
    .byte 0x85              ;47f4  85          DATA 0x85
    .byte 0x4f              ;47f5  4f          DATA 0x4f 'O'
    .byte 0x1f              ;47f6  1f          DATA 0x1f
    .byte 0xff              ;47f7  ff          DATA 0xff
    .byte 0x78              ;47f8  78          DATA 0x78 'x'
    .byte 0x3c              ;47f9  3c          DATA 0x3c '<'
    .byte 0xc0              ;47fa  c0          DATA 0xc0
    .byte 0x14              ;47fb  14          DATA 0x14
    .byte 0xea              ;47fc  ea          DATA 0xea
    .byte 0x3c              ;47fd  3c          DATA 0x3c '<'
    .byte 0xd0              ;47fe  d0          DATA 0xd0
    .byte 0x14              ;47ff  14          DATA 0x14
    .byte 0x58              ;4800  58          DATA 0x58 'X'
    .byte 0xa7              ;4801  a7          DATA 0xa7
    .byte 0x14              ;4802  14          DATA 0x14
    .byte 0xfd              ;4803  fd          DATA 0xfd
    .byte 0x68              ;4804  68          DATA 0x68 'h'
    .byte 0xa8              ;4805  a8          DATA 0xa8
    .byte 0x68              ;4806  68          DATA 0x68 'h'
    .byte 0x60              ;4807  60          DATA 0x60 '`'
    .byte 0x20              ;4808  20          DATA 0x20 ' '
    .byte 0x00              ;4809  00          DATA 0x00
    .byte 0x2e              ;480a  2e          DATA 0x2e '.'
    .byte 0x00              ;480b  00          DATA 0x00
    .byte 0x20              ;480c  20          DATA 0x20 ' '
    .byte 0x00              ;480d  00          DATA 0x00
    .byte 0x00              ;480e  00          DATA 0x00
    .byte 0x01              ;480f  01          DATA 0x01
    .byte 0x0e              ;4810  0e          DATA 0x0e
    .byte 0x01              ;4811  01          DATA 0x01
    .byte 0x20              ;4812  20          DATA 0x20 ' '
    .byte 0x00              ;4813  00          DATA 0x00
    .byte 0xe0              ;4814  e0          DATA 0xe0
    .byte 0x01              ;4815  01          DATA 0x01
    .byte 0xee              ;4816  ee          DATA 0xee
    .byte 0x01              ;4817  01          DATA 0x01
    .byte 0x20              ;4818  20          DATA 0x20 ' '
    .byte 0x00              ;4819  00          DATA 0x00
    .byte 0xc0              ;481a  c0          DATA 0xc0
    .byte 0x02              ;481b  02          DATA 0x02
    .byte 0xc0              ;481c  c0          DATA 0xc0
    .byte 0x02              ;481d  02          DATA 0x02
    .byte 0x02              ;481e  02          DATA 0x02
    .byte 0x00              ;481f  00          DATA 0x00
    .byte 0xce              ;4820  ce          DATA 0xce
    .byte 0x02              ;4821  02          DATA 0x02
    .byte 0xce              ;4822  ce          DATA 0xce
    .byte 0x02              ;4823  02          DATA 0x02
    .byte 0x02              ;4824  02          DATA 0x02
    .byte 0x00              ;4825  00          DATA 0x00

sub_4826:
    lda 0x40                ;4826  a5 40
    pha                     ;4828  48
    lda 0x41                ;4829  a5 41
    pha                     ;482b  48
    lda 0x42                ;482c  a5 42
    pha                     ;482e  48
    sty 0x42                ;482f  84 42
    lda 0x59                ;4831  a5 59
    asl a                   ;4833  0a
    adc 0x59                ;4834  65 59
    asl a                   ;4836  0a
    clc                     ;4837  18
    adc #0x08               ;4838  69 08
    sta 0x40                ;483a  85 40
    lda #0x00               ;483c  a9 00
    adc #0x48               ;483e  69 48
    sta 0x41                ;4840  85 41
    ldx #0x00               ;4842  a2 00
    ldy #0x04               ;4844  a0 04
    lda [0x40],y            ;4846  b1 40
    mul 0x50,x              ;4848  62 50
    ldy 0x42                ;484a  a4 42
    clc                     ;484c  18
    adc [0x40],y            ;484d  71 40
    sta 0x0101              ;484f  8d 01 01     Store as EEPROM address
    sta 0x4a                ;4852  85 4a
    pla                     ;4854  68
    and #0x07               ;4855  29 07
    ldy #0x01               ;4857  a0 01
    adc [0x40],y            ;4859  71 40
    sta 0x4b                ;485b  85 4b
    asl a                   ;485d  0a
    ora #0xa0               ;485e  09 a0
    sta 0x0100              ;4860  8d 00 01
    pla                     ;4863  68
    sta 0x42                ;4864  85 42
    pla                     ;4866  68
    sta 0x41                ;4867  85 41
    pla                     ;4869  68
    sta 0x40                ;486a  85 40
    rts                     ;486c  60

sub_486d:
    tya                     ;486d  98
    pha                     ;486e  48
    bbc 4,0xf1,lab_4875     ;486f  97 f1 03
    jmp lab_4976            ;4872  4c 76 49

lab_4875:
    bbc 0,0xf2,lab_4898     ;4875  17 f2 20
    lda #0x00               ;4878  a9 00
    sta 0x0102              ;487a  8d 02 01
    lda 0x71                ;487d  a5 71
    sta 0x0103              ;487f  8d 03 01
    ldm #0x02,0x4e          ;4882  3c 02 4e
    ldy #0x00               ;4885  a0 00
    jsr sub_4826            ;4887  20 26 48
    lda #0x00               ;488a  a9 00
    sta 0x4c                ;488c  85 4c
    lda #0x01               ;488e  a9 01
    sta 0x4d                ;4890  85 4d
    jsr sub_4b4e_i2c_write  ;4892  20 4e 4b     TODO probably writes to an I2C device
    jmp lab_4976            ;4895  4c 76 49

lab_4898:
    bbc 3,0xfc,lab_48a6     ;4898  77 fc 0b
    jsr sub_4a42            ;489b  20 42 4a
    ldm #0x10,0x48          ;489e  3c 10 48
    sta 0x0102              ;48a1  8d 02 01
    bra lab_48cd            ;48a4  80 27

lab_48a6:
    ldy #0x00               ;48a6  a0 00
    jsr sub_4826            ;48a8  20 26 48

    lda #0x00               ;48ab  a9 00
    sta 0x4c                ;48ad  85 4c
    lda #0x01               ;48af  a9 01
    sta 0x4d                ;48b1  85 4d
    ldm #0x02,0x4e          ;48b3  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x06,0x4f          ;48b6  3c 06 4f     Number of I2C bytes to read = 6
    jsr sub_46e5_i2c_wr_rd  ;48b9  20 e5 46     Perform an I2C write-then-read transaction

    lda 0x0102              ;48bc  ad 02 01
    sta 0x48                ;48bf  85 48
    and #0x3c               ;48c1  29 3c
    ldy 0x50                ;48c3  a4 50
    bne lab_48ca            ;48c5  d0 03
    clb 2,a                 ;48c7  5b
    clb 3,a                 ;48c8  7b
    seb 4,a                 ;48c9  8b

lab_48ca:
    sta 0x0102              ;48ca  8d 02 01

lab_48cd:
    lda 0x0102              ;48cd  ad 02 01
    bbc 2,0xfb,lab_48d4     ;48d0  57 fb 01
    seb 0,a                 ;48d3  0b

lab_48d4:
    bbc 0,0xfd,lab_48d8     ;48d4  17 fd 01
    seb 1,a                 ;48d7  2b

lab_48d8:
    bbc 3,0xfa,lab_48dc     ;48d8  77 fa 01
    seb 2,a                 ;48db  4b

lab_48dc:
    sta 0x0102              ;48dc  8d 02 01
    jsr sub_4a4f            ;48df  20 4f 4a
    lda 0x71                ;48e2  a5 71
    sta 0x0103              ;48e4  8d 03 01
    lda 0x90                ;48e7  a5 90
    sta 0x0104              ;48e9  8d 04 01
    sta 0x0260              ;48ec  8d 60 02
    lda 0x91                ;48ef  a5 91
    sta 0x0105              ;48f1  8d 05 01
    sta 0x0261              ;48f4  8d 61 02
    ldy 0x0106              ;48f7  ac 06 01
    jsr sub_ee50            ;48fa  20 50 ee
    bbc 3,0xfc,lab_4905     ;48fd  77 fc 05
    ldy #0xff               ;4900  a0 ff
    jsr sub_eeb7            ;4902  20 b7 ee

lab_4905:
    sty 0x0106              ;4905  8c 06 01
    ldm #0x06,0x4e          ;4908  3c 06 4e
    bbc 2,0xfb,lab_492a     ;490b  57 fb 1c
    ldy 0x0286              ;490e  ac 86 02
    bne lab_491a            ;4911  d0 07
    ldy 0x50                ;4913  a4 50
    beq lab_491a            ;4915  f0 03
    bbs 0,0x48,lab_492a     ;4917  07 48 10

lab_491a:
    ldy #0x00               ;491a  a0 00

lab_491c:
    lda 0x0140,y            ;491c  b9 40 01
    sta 0x0108,y            ;491f  99 08 01
    iny                     ;4922  c8
    cpy #0x08               ;4923  c0 08
    bcc lab_491c            ;4925  90 f5
    ldm #0x0e,0x4e          ;4927  3c 0e 4e

lab_492a:
    ldy #0x00               ;492a  a0 00
    jsr sub_4826            ;492c  20 26 48
    lda #0x00               ;492f  a9 00
    sta 0x4c                ;4931  85 4c
    lda #0x01               ;4933  a9 01
    sta 0x4d                ;4935  85 4d
    jsr sub_4b4e_i2c_write  ;4937  20 4e 4b     TODO probably writes to an I2C device
    bbc 0,0xfd,lab_4976     ;493a  17 fd 39
    ldx #0x01               ;493d  a2 01
    lda 0xb8                ;493f  a5 b8
    beq lab_4952            ;4941  f0 0f

lab_4943:
    lda 0x0150,x            ;4943  bd 50 01
    sta 0x0101,x            ;4946  9d 01 01
    inx                     ;4949  e8
    cpx #0x11               ;494a  e0 11
    bcs lab_4952            ;494c  b0 04
    cpx 0xb8                ;494e  e4 b8
    bcc lab_4943            ;4950  90 f1

lab_4952:
    lda #0xf1               ;4952  a9 f1
    bbs 1,0xfd,lab_4959     ;4954  27 fd 02
    lda #0xf0               ;4957  a9 f0

lab_4959:
    sta 0x0101,x            ;4959  9d 01 01
    lda #0xff               ;495c  a9 ff
    inx                     ;495e  e8
    cpx #0x11               ;495f  e0 11
    bcc lab_4959            ;4961  90 f6
    dex                     ;4963  ca
    stx 0x4e                ;4964  86 4e
    ldy #0x02               ;4966  a0 02
    jsr sub_4826            ;4968  20 26 48
    lda #0x00               ;496b  a9 00
    sta 0x4c                ;496d  85 4c
    lda #0x01               ;496f  a9 01
    sta 0x4d                ;4971  85 4d
    jsr sub_4b4e_i2c_write  ;4973  20 4e 4b     TODO probably writes to an I2C device

lab_4976:
    pla                     ;4976  68
    tay                     ;4977  a8
    rts                     ;4978  60

sub_4979:
    tya                     ;4979  98
    pha                     ;497a  48
    ldy #0x00               ;497b  a0 00
    jsr sub_4826            ;497d  20 26 48
    bbc 0,0xf2,lab_49ae     ;4980  17 f2 2b
    lda #0x00               ;4983  a9 00
    sta 0x4c                ;4985  85 4c
    lda #0x01               ;4987  a9 01
    sta 0x4d                ;4989  85 4d
    ldm #0x02,0x4e          ;498b  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;498e  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;4991  20 e5 46     Perform an I2C write-then-read transaction
    bbs 0,0xff,lab_49bf     ;4994  07 ff 28
    lda 0x0102              ;4997  ad 02 01
    bbs 7,a,lab_49a1        ;499a  e3 05
    lda 0x0103              ;499c  ad 03 01
    bra lab_49a3            ;499f  80 02

lab_49a1:
    lda #0x10               ;49a1  a9 10

lab_49a3:
    sta 0x71                ;49a3  85 71
    jsr sub_44a7            ;49a5  20 a7 44   Clears several buffers and flags
    jsr sub_890d            ;49a8  20 0d 89
    jmp lab_4a3f            ;49ab  4c 3f 4a

lab_49ae:
    lda #0x00               ;49ae  a9 00
    sta 0x4c                ;49b0  85 4c
    lda #0x01               ;49b2  a9 01
    sta 0x4d                ;49b4  85 4d
    ldm #0x02,0x4e          ;49b6  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x0e,0x4f          ;49b9  3c 0e 4f     Number of I2C bytes to read = 14
    jsr sub_46e5_i2c_wr_rd  ;49bc  20 e5 46     Perform an I2C write-then-read transaction

lab_49bf:
    bbs 0,0xff,lab_4a3b     ;49bf  07 ff 79
    lda 0x0102              ;49c2  ad 02 01
    bbs 7,a,lab_4a27        ;49c5  e3 60
    clb 2,0xfb              ;49c7  5f fb
    bbc 0,a,lab_49cd        ;49c9  13 02
    seb 2,0xfb              ;49cb  4f fb

lab_49cd:
    jsr sub_4a4f            ;49cd  20 4f 4a
    lda 0x0103              ;49d0  ad 03 01
    sta 0x71                ;49d3  85 71
    cmp #0xce               ;49d5  c9 ce
    bcs lab_4a27            ;49d7  b0 4e
    lda 0x0104              ;49d9  ad 04 01
    sta 0x90                ;49dc  85 90
    sta 0x92                ;49de  85 92
    sta 0x0260              ;49e0  8d 60 02
    lda 0x0105              ;49e3  ad 05 01
    sta 0x91                ;49e6  85 91
    sta 0x93                ;49e8  85 93
    sta 0x0261              ;49ea  8d 61 02
    ldy 0x0106              ;49ed  ac 06 01
    jsr sub_eeb7            ;49f0  20 b7 ee
    bbc 2,0xfb,lab_49fb     ;49f3  57 fb 05
    jsr sub_4a7c            ;49f6  20 7c 4a
    bra lab_49fe            ;49f9  80 03

lab_49fb:
    jsr sub_44a7            ;49fb  20 a7 44     Clears several buffers and flags

lab_49fe:
    lda 0x0102              ;49fe  ad 02 01
    bbc 1,a,lab_4a10        ;4a01  33 0d
    lda 0x90                ;4a03  a5 90
    sta 0xb2                ;4a05  85 b2
    lda 0x91                ;4a07  a5 91
    sta 0xb3                ;4a09  85 b3
    jsr sub_4a9d            ;4a0b  20 9d 4a
    bra lab_4a16            ;4a0e  80 06

lab_4a10:
    bbs 0,0xfd,lab_4a16     ;4a10  07 fd 03
    jsr sub_890d            ;4a13  20 0d 89

lab_4a16:
    bbs 0,0xfd,lab_4a20     ;4a16  07 fd 07
    ldy #0x1d               ;4a19  a0 1d
    jsr sub_3300            ;4a1b  20 00 33
    bra lab_4a3f            ;4a1e  80 1f

lab_4a20:
    ldy #0x1d               ;4a20  a0 1d
    jsr sub_3361            ;4a22  20 61 33
    bra lab_4a3f            ;4a25  80 18

lab_4a27:
    ldm #0x00,0x71          ;4a27  3c 00 71
    lda #0x00               ;4a2a  a9 00
    sta 0x90                ;4a2c  85 90
    sta 0x91                ;4a2e  85 91
    jsr sub_44a7            ;4a30  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;4a33  20 0d 89
    jsr sub_4a72            ;4a36  20 72 4a
    bra lab_4a3f            ;4a39  80 04

lab_4a3b:
    clb 0,0xff              ;4a3b  1f ff
    seb 1,0x76              ;4a3d  2f 76

lab_4a3f:
    pla                     ;4a3f  68
    tay                     ;4a40  a8
    rts                     ;4a41  60

sub_4a42:
    lda #0x00               ;4a42  a9 00
    bbc 0,0xfc,lab_4a48     ;4a44  17 fc 01
    seb 3,a                 ;4a47  6b

lab_4a48:
    ldy 0x028c              ;4a48  ac 8c 02
    beq lab_4a4e            ;4a4b  f0 01
    seb 4,a                 ;4a4d  8b

lab_4a4e:
    rts                     ;4a4e  60

sub_4a4f:
    bbc 3,0xfc,lab_4a71     ;4a4f  77 fc 1f
    clb 0,0xfc              ;4a52  1f fc
    ldy #0x01               ;4a54  a0 01
    sty 0x028c              ;4a56  8c 8c 02
    clb 2,0xfc              ;4a59  5f fc
    bbc 3,a,lab_4a5f        ;4a5b  73 02
    seb 0,0xfc              ;4a5d  0f fc

lab_4a5f:
    bbs 4,a,lab_4a66        ;4a5f  83 05
    ldy #0x00               ;4a61  a0 00
    sty 0x028c              ;4a63  8c 8c 02

lab_4a66:
    ldy 0x50                ;4a66  a4 50
    beq lab_4a71            ;4a68  f0 07
    ldy 0x0286              ;4a6a  ac 86 02
    bne lab_4a71            ;4a6d  d0 02
    seb 2,0xfc              ;4a6f  4f fc

lab_4a71:
    rts                     ;4a71  60

sub_4a72:
    clb 0,0xfc              ;4a72  1f fc
    lda #0x01               ;4a74  a9 01
    sta 0x028c              ;4a76  8d 8c 02
    clb 2,0xfc              ;4a79  5f fc
    rts                     ;4a7b  60

sub_4a7c:
    ldy #0x00               ;4a7c  a0 00

lab_4a7e:
    lda 0x0108,y            ;4a7e  b9 08 01
    bbs 7,a,lab_4a87        ;4a81  e3 04
    cmp #0x20               ;4a83  c9 20
    bcs lab_4a89            ;4a85  b0 02

lab_4a87:
    clb 2,0xfb              ;4a87  5f fb

lab_4a89:
    sta 0x0140,y            ;4a89  99 40 01
    sta 0x0130,y            ;4a8c  99 30 01
    sta 0x0138,y            ;4a8f  99 38 01
    lda #0x00               ;4a92  a9 00
    sta 0x05d4,y            ;4a94  99 d4 05
    iny                     ;4a97  c8
    cpy #0x08               ;4a98  c0 08
    bcc lab_4a7e            ;4a9a  90 e2
    rts                     ;4a9c  60

sub_4a9d:
    ldy #0x00               ;4a9d  a0 00
    jsr sub_4826            ;4a9f  20 26 48
    lda #0x00               ;4aa2  a9 00
    sta 0x4c                ;4aa4  85 4c
    lda #0x01               ;4aa6  a9 01
    sta 0x4d                ;4aa8  85 4d
    ldm #0x02,0x4e          ;4aaa  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;4aad  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;4ab0  20 e5 46     Perform an I2C write-then-read transaction
    bbs 0,0xff,lab_4b24     ;4ab3  07 ff 6e
    lda 0x0103              ;4ab6  ad 03 01
    pha                     ;4ab9  48
    ldy #0x02               ;4aba  a0 02
    jsr sub_4826            ;4abc  20 26 48
    lda #0x00               ;4abf  a9 00
    sta 0x4c                ;4ac1  85 4c
    lda #0x01               ;4ac3  a9 01
    sta 0x4d                ;4ac5  85 4d
    ldm #0x02,0x4e          ;4ac7  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x11,0x4f          ;4aca  3c 11 4f     Number of I2C bytes to read = 17
    jsr sub_46e5_i2c_wr_rd  ;4acd  20 e5 46     Perform an I2C write-then-read transaction
    pla                     ;4ad0  68
    bbs 0,0xff,lab_4b24     ;4ad1  07 ff 50
    tay                     ;4ad4  a8
    ldx #0x00               ;4ad5  a2 00

lab_4ad7:
    lda 0x0102,x            ;4ad7  bd 02 01
    cmp #0xcd               ;4ada  c9 cd
    bcs lab_4ae3            ;4adc  b0 05
    inx                     ;4ade  e8
    cpx #0x11               ;4adf  e0 11
    bcc lab_4ad7            ;4ae1  90 f4

lab_4ae3:
    seb 1,0xfd              ;4ae3  2f fd
    bbs 0,a,lab_4ae9        ;4ae5  03 02
    clb 1,0xfd              ;4ae7  3f fd

lab_4ae9:
    tya                     ;4ae9  98
    sta 0x0102,x            ;4aea  9d 02 01
    stx 0x44                ;4aed  86 44
    ldy 0xb8                ;4aef  a4 b8
    bne lab_4afb            ;4af1  d0 08
    sta 0x0150              ;4af3  8d 50 01
    sta 0xb4                ;4af6  85 b4
    iny                     ;4af8  c8
    sty 0xb8                ;4af9  84 b8

lab_4afb:
    sty 0x016e              ;4afb  8c 6e 01

lab_4afe:
    lda 0x0102,x            ;4afe  bd 02 01
    ldy 0x016e              ;4b01  ac 6e 01
    jsr sub_8aa1            ;4b04  20 a1 8a
    ldx 0x44                ;4b07  a6 44
    dex                     ;4b09  ca
    stx 0x44                ;4b0a  86 44
    bpl lab_4afe            ;4b0c  10 f0
    ldx 0xb8                ;4b0e  a6 b8

lab_4b10:
    lda #0xcd               ;4b10  a9 cd
    sta 0x0150,x            ;4b12  9d 50 01
    lda #0x00               ;4b15  a9 00
    sta 0x0170,x            ;4b17  9d 70 01
    inx                     ;4b1a  e8
    cpx #0x1a               ;4b1b  e0 1a
    bcc lab_4b10            ;4b1d  90 f1
    jsr sub_8a41            ;4b1f  20 41 8a
    bra lab_4b28            ;4b22  80 04

lab_4b24:
    clb 0,0xff              ;4b24  1f ff
    seb 1,0x76              ;4b26  2f 76

lab_4b28:
    rts                     ;4b28  60

sub_4b29:
    bbs 0,0xf2,lab_4b4c     ;4b29  07 f2 20
    lda 0x0260              ;4b2c  ad 60 02
    beq lab_4b49            ;4b2f  f0 18
    sta 0x4c                ;4b31  85 4c
    lda 0x0261              ;4b33  ad 61 02
    beq lab_4b49            ;4b36  f0 11
    sta 0x4d                ;4b38  85 4d
    lda 0x90                ;4b3a  a5 90
    sta 0x4e                ;4b3c  85 4e
    lda 0x91                ;4b3e  a5 91
    sta 0x4f                ;4b40  85 4f
    jsr sub_8f89            ;4b42  20 89 8f
    cpy #0x01               ;4b45  c0 01
    bne lab_4b4c            ;4b47  d0 03

lab_4b49:
    sec                     ;4b49  38
    bra lab_4b4d            ;4b4a  80 01

lab_4b4c:
    clc                     ;4b4c  18

lab_4b4d:
    rts                     ;4b4d  60

;TODO probably writes to an I2C device
;0x004A-0x004B: EEPROM address
;0x004C-0x004D: pointer to buffer with data to write to EEPROM
;0x004E = number of bytes to write to the EEPROM
sub_4b4e_i2c_write:
    lda 0x49                ;4b4e  a5 49
    pha                     ;4b50  48
    ldm #0x00,0x4f          ;4b51  3c 00 4f
    lda 0x4e                ;4b54  a5 4e
    sta 0x49                ;4b56  85 49
    lda 0x4a                ;4b58  a5 4a
    eor #0xff               ;4b5a  49 ff
    and #0x0f               ;4b5c  29 0f
    inc a                   ;4b5e  3a
    cmp 0x49                ;4b5f  c5 49
    bcc lab_4b65            ;4b61  90 02
    lda 0x49                ;4b63  a5 49

lab_4b65:
    sta 0x4e                ;4b65  85 4e

lab_4b67:
    lda 0x4a                ;4b67  a5 4a
    sta 0x0101              ;4b69  8d 01 01
    lda 0x4b                ;4b6c  a5 4b
    asl a                   ;4b6e  0a
    ora #0xa0               ;4b6f  09 a0
    sta 0x0100              ;4b71  8d 00 01
    lda 0x4e                ;4b74  a5 4e
    pha                     ;4b76  48
    inc 0x4e                ;4b77  e6 4e
    inc 0x4e                ;4b79  e6 4e
    jsr sub_46e5_i2c_wr_rd  ;4b7b  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;4b7e  a0 0a
    jsr sub_f22c_delay      ;4b80  20 2c f2     Delay an unknown time period for Y iterations

    pla                     ;4b83  68
    sta 0x4e                ;4b84  85 4e
    sec                     ;4b86  38
    lda 0x49                ;4b87  a5 49
    sbc 0x4e                ;4b89  e5 4e
    sta 0x49                ;4b8b  85 49
    beq lab_4bac            ;4b8d  f0 1d
    ldx 0x4e                ;4b8f  a6 4e
    ldy #0x00               ;4b91  a0 00

lab_4b93:
    lda 0x0102,x            ;4b93  bd 02 01
    sta 0x0102,y            ;4b96  99 02 01
    inx                     ;4b99  e8
    iny                     ;4b9a  c8
    cpy 0x49                ;4b9b  c4 49
    bcc lab_4b93            ;4b9d  90 f4
    clc                     ;4b9f  18
    lda 0x4a                ;4ba0  a5 4a
    adc 0x4e                ;4ba2  65 4e
    sta 0x4a                ;4ba4  85 4a
    lda 0x4b                ;4ba6  a5 4b
    adc #0x00               ;4ba8  69 00
    sta 0x4b                ;4baa  85 4b

lab_4bac:
    lda 0x49                ;4bac  a5 49
    cmp #0x10               ;4bae  c9 10
    bcc lab_4bb4            ;4bb0  90 02
    lda #0x10               ;4bb2  a9 10

lab_4bb4:
    sta 0x4e                ;4bb4  85 4e
    cmp #0x01               ;4bb6  c9 01
    bcs lab_4b67            ;4bb8  b0 ad
    pla                     ;4bba  68
    sta 0x49                ;4bbb  85 49
    rts                     ;4bbd  60

    .byte 0xf0              ;4bbe  f0          DATA 0xf0
    .byte 0xf1              ;4bbf  f1          DATA 0xf1
    .byte 0xf2              ;4bc0  f2          DATA 0xf2
    .byte 0x51              ;4bc1  51          DATA 0x51 'Q'
    .byte 0x52              ;4bc2  52          DATA 0x52 'R'
    .byte 0x53              ;4bc3  53          DATA 0x53 'S'
    .byte 0x54              ;4bc4  54          DATA 0x54 'T'
    .byte 0x55              ;4bc5  55          DATA 0x55 'U'
    .byte 0xa0              ;4bc6  a0          DATA 0xa0
    .byte 0xa3              ;4bc7  a3          DATA 0xa3
    .byte 0xa4              ;4bc8  a4          DATA 0xa4
    .byte 0xaf              ;4bc9  af          DATA 0xaf
    .byte 0xaf              ;4bca  af          DATA 0xaf
    .byte 0xaf              ;4bcb  af          DATA 0xaf
    .byte 0xb0              ;4bcc  b0          DATA 0xb0
    .byte 0xb1              ;4bcd  b1          DATA 0xb1
    .byte 0x82              ;4bce  82          DATA 0x82
    .byte 0x01              ;4bcf  01          DATA 0x01
    .byte 0x00              ;4bd0  00          DATA 0x00
    .byte 0x00              ;4bd1  00          DATA 0x00
    .byte 0x00              ;4bd2  00          DATA 0x00
    .byte 0x00              ;4bd3  00          DATA 0x00
    .byte 0x00              ;4bd4  00          DATA 0x00
    .byte 0x00              ;4bd5  00          DATA 0x00
    .byte 0x10              ;4bd6  10          DATA 0x10
    .byte 0x09              ;4bd7  09          DATA 0x09
    .byte 0x09              ;4bd8  09          DATA 0x09
    .byte 0x00              ;4bd9  00          DATA 0x00
    .byte 0x00              ;4bda  00          DATA 0x00
    .byte 0x00              ;4bdb  00          DATA 0x00
    .byte 0x47              ;4bdc  47          DATA 0x47 'G'
    .byte 0xec              ;4bdd  ec          DATA 0xec

;TODO seems to set up a buffer for I2C
sub_4bde:
    lda #0x10               ;4bde  a9 10
    sta 0x0101              ;4be0  8d 01 01
    lda #0x00               ;4be3  a9 00
    asl a                   ;4be5  0a
    ora #0xa0               ;4be6  09 a0
    sta 0x0100              ;4be8  8d 00 01
    rts                     ;4beb  60

sub_4bec:
    jsr sub_4bde            ;4bec  20 de 4b     TODO seems to set up a buffer for I2C

    lda #0x00               ;4bef  a9 00
    sta 0x4c                ;4bf1  85 4c
    lda #0x01               ;4bf3  a9 01
    sta 0x4d                ;4bf5  85 4d
    ldm #0x02,0x4e          ;4bf7  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x10,0x4f          ;4bfa  3c 10 4f     Number of I2C bytes to read = 16
    jsr sub_46e5_i2c_wr_rd  ;4bfd  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x03               ;4c00  a0 03
    lda 0x0102,y            ;4c02  b9 02 01
    cmp #0x07               ;4c05  c9 07
    bcs lab_4c33            ;4c07  b0 2a
    lda 0x0102              ;4c09  ad 02 01
    and #0x07               ;4c0c  29 07
    cmp #0x01               ;4c0e  c9 01
    beq lab_4c1a            ;4c10  f0 08
    cmp #0x02               ;4c12  c9 02
    beq lab_4c1a            ;4c14  f0 04
    cmp #0x04               ;4c16  c9 04
    bne lab_4c33            ;4c18  d0 19

lab_4c1a:
    lda #0xbe               ;4c1a  a9 be
    sta 0x40                ;4c1c  85 40
    lda #0x4b               ;4c1e  a9 4b
    sta 0x41                ;4c20  85 41
    ldy #0x00               ;4c22  a0 00

lab_4c24:
    lda [0x40],y            ;4c24  b1 40
    tax                     ;4c26  aa
    lda 0x0102,y            ;4c27  b9 02 01
    sta P0,x                ;4c2a  95 00
    iny                     ;4c2c  c8
    cpy #0x10               ;4c2d  c0 10
    bcc lab_4c24            ;4c2f  90 f3
    bra lab_4c4a            ;4c31  80 17

lab_4c33:
    lda #0xbe               ;4c33  a9 be
    sta 0x40                ;4c35  85 40
    lda #0x4b               ;4c37  a9 4b
    sta 0x41                ;4c39  85 41
    ldy #0x00               ;4c3b  a0 00

lab_4c3d:
    lda [0x40],y            ;4c3d  b1 40
    tax                     ;4c3f  aa
    lda 0x4bce,y            ;4c40  b9 ce 4b
    sta P0,x                ;4c43  95 00
    iny                     ;4c45  c8
    cpy #0x10               ;4c46  c0 10
    bcc lab_4c3d            ;4c48  90 f3

lab_4c4a:
    jsr sub_7947            ;4c4a  20 47 79
    jsr sub_42ee            ;4c4d  20 ee 42
    rts                     ;4c50  60

;TODO unknown I2C activities
sub_4c51:
    ldm #0x10,0x4e          ;4c51  3c 10 4e
    lda #0xbe               ;4c54  a9 be
    sta 0x40                ;4c56  85 40
    lda #0x4b               ;4c58  a9 4b
    sta 0x41                ;4c5a  85 41
    jsr sub_4bde            ;4c5c  20 de 4b     TODO seems to set up a buffer for I2C
    jsr sub_4ca9            ;4c5f  20 a9 4c     TODO probably some kind of I2C read
    rts                     ;4c62  60

;TODO unknown I2C activities
sub_4c63:
    ldm #0x03,0x4e          ;4c63  3c 03 4e
    lda #0xbe               ;4c66  a9 be
    sta 0x40                ;4c68  85 40
    lda #0x4b               ;4c6a  a9 4b
    sta 0x41                ;4c6c  85 41
    jsr sub_4bde            ;4c6e  20 de 4b     TODO seems to set up a buffer for I2C
    jsr sub_4ca9            ;4c71  20 a9 4c     TODO probably some kind of I2C read
    rts                     ;4c74  60

    .byte 0xa5              ;4c75  a5          DATA 0xa5
    .byte 0x57              ;4c76  57          DATA 0x57 'W'
    .byte 0xc9              ;4c77  c9          DATA 0xc9
    .byte 0x0a              ;4c78  0a          DATA 0x0a
    .byte 0xb0              ;4c79  b0          DATA 0xb0
    .byte 0x2d              ;4c7a  2d          DATA 0x2d '-'
    .byte 0xc9              ;4c7b  c9          DATA 0xc9
    .byte 0x07              ;4c7c  07          DATA 0x07
    .byte 0x90              ;4c7d  90          DATA 0x90
    .byte 0x29              ;4c7e  29          DATA 0x29 ')'
    .byte 0xe9              ;4c7f  e9          DATA 0xe9
    .byte 0x07              ;4c80  07          DATA 0x07
    .byte 0x8d              ;4c81  8d          DATA 0x8d
    .byte 0x01              ;4c82  01          DATA 0x01
    .byte 0x01              ;4c83  01          DATA 0x01
    .byte 0x18              ;4c84  18          DATA 0x18
    .byte 0x69              ;4c85  69          DATA 0x69 'i'
    .byte 0xc6              ;4c86  c6          DATA 0xc6
    .byte 0x85              ;4c87  85          DATA 0x85
    .byte 0x40              ;4c88  40          DATA 0x40 '@'
    .byte 0xa9              ;4c89  a9          DATA 0xa9
    .byte 0x00              ;4c8a  00          DATA 0x00
    .byte 0x69              ;4c8b  69          DATA 0x69 'i'
    .byte 0x4b              ;4c8c  4b          DATA 0x4b 'K'
    .byte 0x85              ;4c8d  85          DATA 0x85
    .byte 0x41              ;4c8e  41          DATA 0x41 'A'
    .byte 0x3c              ;4c8f  3c          DATA 0x3c '<'
    .byte 0x01              ;4c90  01          DATA 0x01
    .byte 0x4e              ;4c91  4e          DATA 0x4e 'N'
    .byte 0x18              ;4c92  18          DATA 0x18
    .byte 0xa9              ;4c93  a9          DATA 0xa9
    .byte 0x18              ;4c94  18          DATA 0x18
    .byte 0x6d              ;4c95  6d          DATA 0x6d 'm'
    .byte 0x01              ;4c96  01          DATA 0x01
    .byte 0x01              ;4c97  01          DATA 0x01
    .byte 0x8d              ;4c98  8d          DATA 0x8d
    .byte 0x01              ;4c99  01          DATA 0x01
    .byte 0x01              ;4c9a  01          DATA 0x01
    .byte 0xa9              ;4c9b  a9          DATA 0xa9
    .byte 0x00              ;4c9c  00          DATA 0x00
    .byte 0x69              ;4c9d  69          DATA 0x69 'i'
    .byte 0x00              ;4c9e  00          DATA 0x00
    .byte 0x0a              ;4c9f  0a          DATA 0x0a
    .byte 0x09              ;4ca0  09          DATA 0x09
    .byte 0xa0              ;4ca1  a0          DATA 0xa0
    .byte 0x8d              ;4ca2  8d          DATA 0x8d
    .byte 0x00              ;4ca3  00          DATA 0x00
    .byte 0x01              ;4ca4  01          DATA 0x01
    .byte 0x20              ;4ca5  20          DATA 0x20 ' '
    .byte 0xa9              ;4ca6  a9          DATA 0xa9
    .byte 0x4c              ;4ca7  4c          DATA 0x4c 'L'
    .byte 0x60              ;4ca8  60          DATA 0x60 '`'

;TODO probably some kind of I2C read
sub_4ca9:
    ldy #0x00               ;4ca9  a0 00

lab_4cab:
    lda [0x40],y            ;4cab  b1 40
    tax                     ;4cad  aa
    lda P0,x                ;4cae  b5 00
    sta 0x0102,y            ;4cb0  99 02 01
    iny                     ;4cb3  c8
    cpy 0x4e                ;4cb4  c4 4e
    bcc lab_4cab            ;4cb6  90 f3
    lda #0x00               ;4cb8  a9 00
    sta 0x4c                ;4cba  85 4c
    lda #0x01               ;4cbc  a9 01
    sta 0x4d                ;4cbe  85 4d
    inc 0x4e                ;4cc0  e6 4e
    inc 0x4e                ;4cc2  e6 4e
    ldm #0x00,0x4f          ;4cc4  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4cc7  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;4cca  a0 0a
    jsr sub_f22c_delay      ;4ccc  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;4ccf  60

;TODO probably some kind of I2C read
sub_4cd0:
    lda #0x0a               ;4cd0  a9 0a
    sta 0x0101              ;4cd2  8d 01 01
    lda #0x00               ;4cd5  a9 00
    asl a                   ;4cd7  0a
    ora #0xa0               ;4cd8  09 a0
    sta 0x0100              ;4cda  8d 00 01
    lda #0x00               ;4cdd  a9 00
    sta 0x4c                ;4cdf  85 4c
    lda #0x01               ;4ce1  a9 01
    sta 0x4d                ;4ce3  85 4d
    ldm #0x02,0x4e          ;4ce5  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;4ce8  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;4ceb  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;4cee  ad 02 01
    bbc 7,a,lab_4cf5        ;4cf1  f3 02
    lda #0x00               ;4cf3  a9 00

lab_4cf5:
    sta 0x026b              ;4cf5  8d 6b 02
    rts                     ;4cf8  60

;TODO probably some kind of I2C read
sub_4cf9:
    lda 0x026b              ;4cf9  ad 6b 02
    sta 0x0102              ;4cfc  8d 02 01
    lda #0x0a               ;4cff  a9 0a
    sta 0x0101              ;4d01  8d 01 01
    lda #0x00               ;4d04  a9 00
    asl a                   ;4d06  0a
    ora #0xa0               ;4d07  09 a0
    sta 0x0100              ;4d09  8d 00 01
    lda #0x00               ;4d0c  a9 00
    sta 0x4c                ;4d0e  85 4c
    lda #0x01               ;4d10  a9 01
    sta 0x4d                ;4d12  85 4d
    ldm #0x03,0x4e          ;4d14  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;4d17  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4d1a  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;4d1d  a0 0a
    jsr sub_f22c_delay      ;4d1f  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;4d22  60

sub_4d23:
    jsr sub_4cd0            ;4d23  20 d0 4c
    lda 0x026b              ;4d26  ad 6b 02
    inc a                   ;4d29  3a
    sta 0x026b              ;4d2a  8d 6b 02
    cmp #0x33               ;4d2d  c9 33
    bcs lab_4d38            ;4d2f  b0 07
    jsr sub_4cf9            ;4d31  20 f9 4c
    lda 0x026b              ;4d34  ad 6b 02
    clc                     ;4d37  18

lab_4d38:
    rts                     ;4d38  60

sub_4d39:
    jsr sub_4da5            ;4d39  20 a5 4d     TODO writes 2 bytes, reads 4 bytes to an unknown I2C device
    ldx #0x06               ;4d3c  a2 06

lab_4d3e:
    lda 0xffb6,x            ;4d3e  bd b6 ff
    bbc 6,a,lab_4d46        ;4d41  d3 03
    clc                     ;4d43  18
    adc #0x09               ;4d44  69 09

lab_4d46:
    and #0x0f               ;4d46  29 0f
    sta 0x40,x              ;4d48  95 40
    dex                     ;4d4a  ca
    bpl lab_4d3e            ;4d4b  10 f1
    rrf 0x40                ;4d4d  82 40
    lda 0x40                ;4d4f  a5 40
    ora 0x41                ;4d51  05 41
    sta 0x40                ;4d53  85 40
    rrf 0x42                ;4d55  82 42
    lda 0x42                ;4d57  a5 42
    ora 0x43                ;4d59  05 43
    sta 0x41                ;4d5b  85 41
    rrf 0x45                ;4d5d  82 45
    lda 0x45                ;4d5f  a5 45
    ora 0x46                ;4d61  05 46
    sta 0x42                ;4d63  85 42
    lda 0x026d              ;4d65  ad 6d 02
    and #0x3f               ;4d68  29 3f
    sta 0x43                ;4d6a  85 43
    ldx #0x03               ;4d6c  a2 03

lab_4d6e:
    lda 0x40,x              ;4d6e  b5 40
    cmp 0x0102,x            ;4d70  dd 02 01
    bne lab_4d7a            ;4d73  d0 05
    dex                     ;4d75  ca
    bpl lab_4d6e            ;4d76  10 f6
    bra lab_4da4            ;4d78  80 2a

lab_4d7a:
    lda 0x40                ;4d7a  a5 40
    sta 0x0102              ;4d7c  8d 02 01
    lda 0x41                ;4d7f  a5 41
    sta 0x0103              ;4d81  8d 03 01
    lda 0x42                ;4d84  a5 42
    sta 0x0104              ;4d86  8d 04 01
    lda 0x43                ;4d89  a5 43
    sta 0x0105              ;4d8b  8d 05 01
    lda #0x00               ;4d8e  a9 00
    sta 0x4c                ;4d90  85 4c
    lda #0x01               ;4d92  a9 01
    sta 0x4d                ;4d94  85 4d
    ldm #0x06,0x4e          ;4d96  3c 06 4e     Number of I2C bytes to write = 6
    ldm #0x00,0x4f          ;4d99  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4d9c  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;4d9f  a0 0a
    jsr sub_f22c_delay      ;4da1  20 2c f2     Delay an unknown time period for Y iterations

lab_4da4:
    rts                     ;4da4  60

;TODO writes 2 bytes, reads 4 bytes to an unknown I2C device
sub_4da5:
    lda #0x00               ;4da5  a9 00
    sta 0x0101              ;4da7  8d 01 01     Store as EEPROM address
    lda #0x00               ;4daa  a9 00
    asl a                   ;4dac  0a
    ora #0xa0               ;4dad  09 a0
    sta 0x0100              ;4daf  8d 00 01
    lda #0x00               ;4db2  a9 00
    sta 0x4c                ;4db4  85 4c
    lda #0x01               ;4db6  a9 01
    sta 0x4d                ;4db8  85 4d
    ldm #0x02,0x4e          ;4dba  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x04,0x4f          ;4dbd  3c 04 4f     Number of I2C bytes to read = 4
    jsr sub_46e5_i2c_wr_rd  ;4dc0  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;4dc3  60

sub_4dc4:
    lda 0x50                ;4dc4  a5 50
    beq lab_4dd0            ;4dc6  f0 08
    jsr sub_4b29            ;4dc8  20 29 4b
    bcc lab_4dd0            ;4dcb  90 03
    jsr sub_486d            ;4dcd  20 6d 48

lab_4dd0:
    rts                     ;4dd0  60

sub_4dd1:
    lda 0x40                ;4dd1  a5 40
    pha                     ;4dd3  48
    lda 0x41                ;4dd4  a5 41
    pha                     ;4dd6  48
    lda #0xc4               ;4dd7  a9 c4
    sta 0x0100              ;4dd9  8d 00 01
    lda #0x22               ;4ddc  a9 22
    sta 0x0101              ;4dde  8d 01 01     Store as EEPROM address
    bbs 0,0xf2,lab_4e2b     ;4de1  07 f2 47
    ldx #0x00               ;4de4  a2 00
    lda #0x02               ;4de6  a9 02
    mul 0x71,x              ;4de8  62 71
    clc                     ;4dea  18
    adc #0xb6               ;4deb  69 b6
    sta 0x40                ;4ded  85 40
    pla                     ;4def  68
    adc #0x06               ;4df0  69 06
    sta 0x41                ;4df2  85 41
    lda 0x0249              ;4df4  ad 49 02
    and #0x1f               ;4df7  29 1f
    clc                     ;4df9  18
    adc #0xa5               ;4dfa  69 a5
    sta 0x0102              ;4dfc  8d 02 01
    lda #0x00               ;4dff  a9 00
    adc #0x06               ;4e01  69 06
    lsr a                   ;4e03  4a
    ror 0x0102              ;4e04  6e 02 01
    lsr a                   ;4e07  4a
    ror 0x0102              ;4e08  6e 02 01
    lsr a                   ;4e0b  4a
    ror 0x0102              ;4e0c  6e 02 01
    sta 0x0103              ;4e0f  8d 03 01
    clc                     ;4e12  18
    lda 0x0102              ;4e13  ad 02 01
    adc 0x40                ;4e16  65 40
    sta 0x0102              ;4e18  8d 02 01
    sta 0x0242              ;4e1b  8d 42 02
    lda 0x0103              ;4e1e  ad 03 01
    adc 0x41                ;4e21  65 41
    sta 0x0103              ;4e23  8d 03 01
    sta 0x0243              ;4e26  8d 43 02
    bra lab_4e6b            ;4e29  80 40

lab_4e2b:
    ldx #0x00               ;4e2b  a2 00
    lda #0x09               ;4e2d  a9 09
    mul 0x71,x              ;4e2f  62 71
    ldx 0x71                ;4e31  a6 71
    cpx #0x10               ;4e33  e0 10
    bcs lab_4e45            ;4e35  b0 0e
    clc                     ;4e37  18
    adc #0x31               ;4e38  69 31
    sta 0x0102              ;4e3a  8d 02 01
    pla                     ;4e3d  68
    adc #0x2a               ;4e3e  69 2a
    sta 0x0103              ;4e40  8d 03 01
    bra lab_4e51            ;4e43  80 0c

lab_4e45:
    clc                     ;4e45  18
    adc #0x24               ;4e46  69 24
    sta 0x0102              ;4e48  8d 02 01
    pla                     ;4e4b  68
    adc #0x2b               ;4e4c  69 2b
    sta 0x0103              ;4e4e  8d 03 01

lab_4e51:
    lda 0x0249              ;4e51  ad 49 02
    and #0x1f               ;4e54  29 1f
    clc                     ;4e56  18
    adc 0x0102              ;4e57  6d 02 01
    sta 0x0102              ;4e5a  8d 02 01
    sta 0x0242              ;4e5d  8d 42 02
    lda #0x00               ;4e60  a9 00
    adc 0x0103              ;4e62  6d 03 01
    sta 0x0103              ;4e65  8d 03 01
    sta 0x0243              ;4e68  8d 43 02

lab_4e6b:
    lda #0x00               ;4e6b  a9 00
    sta 0x4c                ;4e6d  85 4c
    lda #0x01               ;4e6f  a9 01
    sta 0x4d                ;4e71  85 4d
    ldm #0x04,0x4e          ;4e73  3c 04 4e     Number of I2C bytes to write = 4
    ldm #0x00,0x4f          ;4e76  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4e79  20 e5 46     Perform an I2C write-then-read transaction
    bbc 0,0xff,lab_4e83     ;4e7c  17 ff 04
    clb 0,0xff              ;4e7f  1f ff
    seb 0,0x76              ;4e81  0f 76

lab_4e83:
    pla                     ;4e83  68
    sta 0x41                ;4e84  85 41
    pla                     ;4e86  68
    sta 0x40                ;4e87  85 40
    rts                     ;4e89  60

sub_4e8a:
    jsr sub_4ea5            ;4e8a  20 a5 4e
    jsr sub_4f4b            ;4e8d  20 4b 4f
    jsr sub_5092            ;4e90  20 92 50
    jsr sub_4f7e            ;4e93  20 7e 4f     TODO writes 31 bytes to an unknown I2C device
    lda #0x00               ;4e96  a9 00
    sta 0x0267              ;4e98  8d 67 02
    bbs 0,0xf2,lab_4ea2     ;4e9b  07 f2 04
    clb 3,P0                ;4e9e  7f 00
    bra lab_4ea4            ;4ea0  80 02

lab_4ea2:
    seb 3,P0                ;4ea2  6f 00

lab_4ea4:
    rts                     ;4ea4  60

sub_4ea5:
    lda #0x1d               ;4ea5  a9 1d
    sta 0x0101              ;4ea7  8d 01 01     Store as EEPROM address
    lda #0x04               ;4eaa  a9 04
    bbc 0,0xf2,lab_4eb6     ;4eac  17 f2 07
    lda #0x3d               ;4eaf  a9 3d
    sta 0x0101              ;4eb1  8d 01 01     Store as EEPROM address
    lda #0x04               ;4eb4  a9 04

lab_4eb6:
    asl a                   ;4eb6  0a
    ora #0xa0               ;4eb7  09 a0
    sta 0x0100              ;4eb9  8d 00 01
    lda #0x00               ;4ebc  a9 00
    sta 0x4c                ;4ebe  85 4c
    lda #0x01               ;4ec0  a9 01
    sta 0x4d                ;4ec2  85 4d
    ldm #0x02,0x4e          ;4ec4  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;4ec7  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;4eca  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;4ecd  ad 02 01
    beq lab_4ef3            ;4ed0  f0 21
    ldy #0x00               ;4ed2  a0 00
    lda #0x2a               ;4ed4  a9 2a
    sta 0x40                ;4ed6  85 40
    lda #0x52               ;4ed8  a9 52
    sta 0x41                ;4eda  85 41
    bbc 0,0xf2,lab_4ee7     ;4edc  17 f2 08
    lda #0x47               ;4edf  a9 47
    sta 0x40                ;4ee1  85 40
    lda #0x52               ;4ee3  a9 52
    sta 0x41                ;4ee5  85 41

lab_4ee7:
    lda [0x40],y            ;4ee7  b1 40
    sta 0x0240,y            ;4ee9  99 40 02
    iny                     ;4eec  c8
    cpy #0x1d               ;4eed  c0 1d
    bcc lab_4ee7            ;4eef  90 f6
    bra lab_4f48            ;4ef1  80 55

lab_4ef3:
    lda #0x00               ;4ef3  a9 00
    sta 0x0101              ;4ef5  8d 01 01     Store as EEPROM address
    lda #0x04               ;4ef8  a9 04
    bbc 0,0xf2,lab_4f04     ;4efa  17 f2 07
    lda #0x20               ;4efd  a9 20
    sta 0x0101              ;4eff  8d 01 01     Store as EEPROM address
    lda #0x04               ;4f02  a9 04

lab_4f04:
    asl a                   ;4f04  0a
    ora #0xa0               ;4f05  09 a0
    sta 0x0100              ;4f07  8d 00 01
    lda #0x00               ;4f0a  a9 00
    sta 0x4c                ;4f0c  85 4c
    lda #0x01               ;4f0e  a9 01
    sta 0x4d                ;4f10  85 4d
    ldm #0x02,0x4e          ;4f12  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x1d,0x4f          ;4f15  3c 1d 4f     Number of I2C bytes to read = 29
    jsr sub_46e5_i2c_wr_rd  ;4f18  20 e5 46     Perform an I2C write-then-read transaction
    ldy #0x00               ;4f1b  a0 00

lab_4f1d:
    lda 0x0102,y            ;4f1d  b9 02 01
    sta 0x0240,y            ;4f20  99 40 02
    iny                     ;4f23  c8
    cpy #0x1d               ;4f24  c0 1d
    bcc lab_4f1d            ;4f26  90 f5
    ldy #0x04               ;4f28  a0 04
    lda #0x2a               ;4f2a  a9 2a
    sta 0x40                ;4f2c  85 40
    lda #0x52               ;4f2e  a9 52
    sta 0x41                ;4f30  85 41
    bbc 0,0xf2,lab_4f3d     ;4f32  17 f2 08
    lda #0x47               ;4f35  a9 47
    sta 0x40                ;4f37  85 40
    lda #0x52               ;4f39  a9 52
    sta 0x41                ;4f3b  85 41

lab_4f3d:
    lda [0x40],y            ;4f3d  b1 40
    sta 0x0240,y            ;4f3f  99 40 02
    iny                     ;4f42  c8
    lda [0x40],y            ;4f43  b1 40
    sta 0x0240,y            ;4f45  99 40 02

lab_4f48:
    rts                     ;4f48  60

    .byte 0x06              ;4f49  06          DATA 0x06
    .byte 0x05              ;4f4a  05          DATA 0x05

sub_4f4b:
    lda #0xd4               ;4f4b  a9 d4
    sta 0x0101              ;4f4d  8d 01 01     Store as EEPROM address
    lda #0x04               ;4f50  a9 04
    asl a                   ;4f52  0a
    ora #0xa0               ;4f53  09 a0
    sta 0x0100              ;4f55  8d 00 01
    lda #0x00               ;4f58  a9 00
    sta 0x4c                ;4f5a  85 4c
    lda #0x01               ;4f5c  a9 01
    sta 0x4d                ;4f5e  85 4d
    ldm #0x02,0x4e          ;4f60  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;4f63  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;4f66  20 e5 46     Perform an I2C write-then-read transaction
    ldx #0x00               ;4f69  a2 00
    bbc 0,0xf2,lab_4f70     ;4f6b  17 f2 02
    ldx #0x01               ;4f6e  a2 01
lab_4f70:
    lda 0x0102,x            ;4f70  bd 02 01
    cmp #0x20               ;4f73  c9 20
    bcc lab_4f7a            ;4f75  90 03
    lda 0x4f49,x            ;4f77  bd 49 4f
lab_4f7a:
    sta 0x025d              ;4f7a  8d 5d 02
    rts                     ;4f7d  60

;TODO writes 31 bytes to an unknown I2C device
sub_4f7e:
    lda #0xc4               ;4f7e  a9 c4
    sta 0x0100              ;4f80  8d 00 01
    lda #0x20               ;4f83  a9 20
    sta 0x0101              ;4f85  8d 01 01     Store as EEPROM address
    ldy #0x00               ;4f88  a0 00
lab_4f8a_loop:
    lda 0x0240,y            ;4f8a  b9 40 02
    sta 0x0102,y            ;4f8d  99 02 01
    iny                     ;4f90  c8
    cpy #0x1d               ;4f91  c0 1d
    bcc lab_4f8a_loop       ;4f93  90 f5
    jsr sub_504d            ;4f95  20 4d 50
    ldy #0x16               ;4f98  a0 16
    sta 0x0102,y            ;4f9a  99 02 01
    lda #0x00               ;4f9d  a9 00
    sta 0x4c                ;4f9f  85 4c
    lda #0x01               ;4fa1  a9 01
    sta 0x4d                ;4fa3  85 4d
    ldm #0x1f,0x4e          ;4fa5  3c 1f 4e     Number of I2C bytes to write = 31
    ldm #0x00,0x4f          ;4fa8  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4fab  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;4fae  60

;TODO writes 3 bytes to an unknown I2C device
sub_4faf:
    lda #0xc4               ;4faf  a9 c4
    sta 0x0100              ;4fb1  8d 00 01
    lda #0x09               ;4fb4  a9 09
    sta 0x0101              ;4fb6  8d 01 01     Store as EEPROM address
    lda 0x0249              ;4fb9  ad 49 02
    and #0x1f               ;4fbc  29 1f
    sta 0x0102              ;4fbe  8d 02 01
    lda #0x00               ;4fc1  a9 00
    sta 0x4c                ;4fc3  85 4c
    lda #0x01               ;4fc5  a9 01
    sta 0x4d                ;4fc7  85 4d
    ldm #0x03,0x4e          ;4fc9  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;4fcc  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4fcf  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;4fd2  60

;TODO writes 3 bytes to an unknown I2C device
sub_4fd3:
    lda #0xc4               ;4fd3  a9 c4
    sta 0x0100              ;4fd5  8d 00 01
    lda #0x09               ;4fd8  a9 09
    sta 0x0101              ;4fda  8d 01 01     Store as EEPROM address
    lda 0x0249              ;4fdd  ad 49 02
    ora #0x80               ;4fe0  09 80
    sta 0x0102              ;4fe2  8d 02 01
    lda #0x00               ;4fe5  a9 00
    sta 0x4c                ;4fe7  85 4c
    lda #0x01               ;4fe9  a9 01
    sta 0x4d                ;4feb  85 4d
    ldm #0x03,0x4e          ;4fed  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;4ff0  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;4ff3  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;4ff6  60

;TODO writes 3 bytes to an unknown I2C device
sub_4ff7:
    lda #0xc4               ;4ff7  a9 c4
    sta 0x0100              ;4ff9  8d 00 01
    lda #0x12               ;4ffc  a9 12
    sta 0x0101              ;4ffe  8d 01 01     Store as EEPROM address
    lda 0x0252              ;5001  ad 52 02
    clb 0,a                 ;5004  1b
    sta 0x0102              ;5005  8d 02 01
    lda #0x00               ;5008  a9 00
    sta 0x4c                ;500a  85 4c
    lda #0x01               ;500c  a9 01
    sta 0x4d                ;500e  85 4d
    ldm #0x03,0x4e          ;5010  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;5013  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;5016  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;5019  60

;TODO writes 3 bytes to an unknown I2C device
sub_501a:
    bbc 0,0xf2,lab_503f_done;501a  17 f2 22
    lda #0xc4               ;501d  a9 c4
    sta 0x0100              ;501f  8d 00 01
    lda #0x12               ;5022  a9 12
    sta 0x0101              ;5024  8d 01 01     Store as EEPROM address
    lda 0x0252              ;5027  ad 52 02
    seb 0,a                 ;502a  0b
    sta 0x0102              ;502b  8d 02 01
    lda #0x00               ;502e  a9 00
    sta 0x4c                ;5030  85 4c
    lda #0x01               ;5032  a9 01
    sta 0x4d                ;5034  85 4d
    ldm #0x03,0x4e          ;5036  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;5039  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;503c  20 e5 46     Perform an I2C write-then-read transaction
lab_503f_done:
    rts                     ;503f  60

    .byte 0x20              ;5040  20          DATA 0x20 ' '
    .byte 0xd1              ;5041  d1          DATA 0xd1
    .byte 0x4d              ;5042  4d          DATA 0x4d 'M'
    .byte 0x67              ;5043  67          DATA 0x67 'g'
    .byte 0xf3              ;5044  f3          DATA 0xf3
    .byte 0x06              ;5045  06          DATA 0x06
    .byte 0x07              ;5046  07          DATA 0x07
    .byte 0xf5              ;5047  f5          DATA 0xf5
    .byte 0x03              ;5048  03          DATA 0x03
    .byte 0x20              ;5049  20          DATA 0x20 ' '
    .byte 0x4a              ;504a  4a          DATA 0x4a 'J'
    .byte 0x66              ;504b  66          DATA 0x66 'f'
    .byte 0x60              ;504c  60          DATA 0x60 '`'

sub_504d:
    lda 0x0256              ;504d  ad 56 02
    bbc 2,P0,lab_506f_rts   ;5050  57 00 1c
    bbc 5,0xef,lab_506f_rts ;5053  b7 ef 19
    and #0x3f               ;5056  29 3f
    bbc 5,a,lab_5065        ;5058  b3 0b
    sec                     ;505a  38
    sbc 0x025d              ;505b  ed 5d 02
    bbs 5,a,lab_506f_rts    ;505e  a3 0f
    eor #0x1f               ;5060  49 1f
    inc a                   ;5062  3a
    bra lab_506f_rts        ;5063  80 0a

lab_5065:
    clc                     ;5065  18
    adc 0x025d              ;5066  6d 5d 02
    cmp #0x1f               ;5069  c9 1f
    bcc lab_506f_rts        ;506b  90 02
    lda #0x1f               ;506d  a9 1f

lab_506f_rts:
    rts                     ;506f  60

    .byte 0xa9              ;5070  a9          DATA 0xa9
    .byte 0xc4              ;5071  c4          DATA 0xc4
    .byte 0x8d              ;5072  8d          DATA 0x8d
    .byte 0x00              ;5073  00          DATA 0x00
    .byte 0x01              ;5074  01          DATA 0x01
    .byte 0xa9              ;5075  a9          DATA 0xa9
    .byte 0x16              ;5076  16          DATA 0x16
    .byte 0x8d              ;5077  8d          DATA 0x8d
    .byte 0x01              ;5078  01          DATA 0x01
    .byte 0x01              ;5079  01          DATA 0x01
    .byte 0x20              ;507a  20          DATA 0x20 ' '
    .byte 0x4d              ;507b  4d          DATA 0x4d 'M'
    .byte 0x50              ;507c  50          DATA 0x50 'P'
    .byte 0x8d              ;507d  8d          DATA 0x8d
    .byte 0x02              ;507e  02          DATA 0x02
    .byte 0x01              ;507f  01          DATA 0x01
    .byte 0xa9              ;5080  a9          DATA 0xa9
    .byte 0x00              ;5081  00          DATA 0x00
    .byte 0x85              ;5082  85          DATA 0x85
    .byte 0x4c              ;5083  4c          DATA 0x4c 'L'
    .byte 0xa9              ;5084  a9          DATA 0xa9
    .byte 0x01              ;5085  01          DATA 0x01
    .byte 0x85              ;5086  85          DATA 0x85
    .byte 0x4d              ;5087  4d          DATA 0x4d 'M'
    .byte 0x3c              ;5088  3c          DATA 0x3c '<'
    .byte 0x03              ;5089  03          DATA 0x03
    .byte 0x4e              ;508a  4e          DATA 0x4e 'N'
    .byte 0x3c              ;508b  3c          DATA 0x3c '<'
    .byte 0x00              ;508c  00          DATA 0x00
    .byte 0x4f              ;508d  4f          DATA 0x4f 'O'
    .byte 0x20              ;508e  20          DATA 0x20 ' '
    .byte 0xe5              ;508f  e5          DATA 0xe5
    .byte 0x46              ;5090  46          DATA 0x46 'F'
    .byte 0x60              ;5091  60          DATA 0x60 '`'

sub_5092:
    bbs 6,0xf4,lab_5098     ;5092  c7 f4 03
    bbc 7,0xf4,lab_509f     ;5095  f7 f4 07

lab_5098:
    lda 0x0254              ;5098  ad 54 02
    clb 4,a                 ;509b  9b
    sta 0x0254              ;509c  8d 54 02

lab_509f:
    rts                     ;509f  60

sub_50a0:
    jsr sub_8eb2            ;50a0  20 b2 8e
    sta 0x6c                ;50a3  85 6c
    tax                     ;50a5  aa
    lda #0x68               ;50a6  a9 68
    sta 0x40                ;50a8  85 40
    lda #0x00               ;50aa  a9 00
    sta 0x41                ;50ac  85 41
    jsr sub_512b            ;50ae  20 2b 51
    lda 0x69                ;50b1  a5 69
    sta 0x41                ;50b3  85 41
    lda 0x68                ;50b5  a5 68
    lsr 0x41                ;50b7  46 41
    ror a                   ;50b9  6a
    lsr 0x41                ;50ba  46 41
    ror a                   ;50bc  6a
    lsr 0x41                ;50bd  46 41
    ror a                   ;50bf  6a
    jsr sub_51a7            ;50c0  20 a7 51
    sta 0x6e                ;50c3  85 6e
    lda #0x03               ;50c5  a9 03
    jsr sub_26d8            ;50c7  20 d8 26
    sta 0x6d                ;50ca  85 6d
    tax                     ;50cc  aa
    lda #0x6a               ;50cd  a9 6a
    sta 0x40                ;50cf  85 40
    lda #0x00               ;50d1  a9 00
    sta 0x41                ;50d3  85 41
    jsr sub_512b            ;50d5  20 2b 51
    lda 0x6b                ;50d8  a5 6b
    sta 0x41                ;50da  85 41
    lda 0x6a                ;50dc  a5 6a
    lsr 0x41                ;50de  46 41
    ror a                   ;50e0  6a
    lsr 0x41                ;50e1  46 41
    ror a                   ;50e3  6a
    lsr 0x41                ;50e4  46 41
    ror a                   ;50e6  6a
    jsr sub_51c7            ;50e7  20 c7 51
    sta 0x6f                ;50ea  85 6f
    tax                     ;50ec  aa
    lda 0x6e                ;50ed  a5 6e
    jsr sub_5197            ;50ef  20 97 51
    sta 0x70                ;50f2  85 70
    bbc 0,0xfd,lab_512a     ;50f4  17 fd 33
    bbs 5,0xfd,lab_512a     ;50f7  a7 fd 30
    bbs 3,0xfe,lab_512a     ;50fa  67 fe 2d
    lda 0x70                ;50fd  a5 70
    beq lab_5107            ;50ff  f0 06
    inc a                   ;5101  3a
    cmp 0x0170              ;5102  cd 70 01
    bcs lab_5125            ;5105  b0 1e

lab_5107:
    ldy #0x07               ;5107  a0 07
    jsr sub_33c6            ;5109  20 c6 33
    bcc lab_511b            ;510c  90 0d
    cmp #0x04               ;510e  c9 04
    bcc lab_511b            ;5110  90 09
    lsr a                   ;5112  4a
    sta 0x01af              ;5113  8d af 01
    ldy #0x07               ;5116  a0 07
    jsr sub_3300            ;5118  20 00 33

lab_511b:
    lda 0x0170              ;511b  ad 70 01
    beq lab_512a            ;511e  f0 0a
    dec 0x0170              ;5120  ce 70 01
    bra lab_512a            ;5123  80 05

lab_5125:
    lda 0x70                ;5125  a5 70
    sta 0x0170              ;5127  8d 70 01

lab_512a:
    rts                     ;512a  60

sub_512b:
    lda 0x42                ;512b  a5 42
    pha                     ;512d  48
    lda 0x43                ;512e  a5 43
    pha                     ;5130  48
    txa                     ;5131  8a
    pha                     ;5132  48
    ldy #0x00               ;5133  a0 00
    lda [0x40],y            ;5135  b1 40
    iny                     ;5137  c8
    sta 0x42                ;5138  85 42
    lda [0x40],y            ;513a  b1 40
    sta 0x43                ;513c  85 43
    ldx #0x00               ;513e  a2 00
    lda #0x07               ;5140  a9 07
    mul 0x42,x              ;5142  62 42
    tay                     ;5144  a8
    pla                     ;5145  68
    sta 0x42                ;5146  85 42
    lda #0x07               ;5148  a9 07
    mul 0x43,x              ;514a  62 43
    clc                     ;514c  18
    adc 0x42                ;514d  65 42
    sta 0x43                ;514f  85 43
    sty 0x42                ;5151  84 42
    pla                     ;5153  68
    lsr 0x43                ;5154  46 43
    ror 0x42                ;5156  66 42
    lsr 0x43                ;5158  46 43
    ror 0x42                ;515a  66 42
    lsr 0x43                ;515c  46 43
    ror 0x42                ;515e  66 42
    clc                     ;5160  18
    pla                     ;5161  68
    adc 0x42                ;5162  65 42
    sta 0x42                ;5164  85 42
    lda 0x43                ;5166  a5 43
    adc #0x00               ;5168  69 00
    sta 0x43                ;516a  85 43
    ldy #0x00               ;516c  a0 00
    lda 0x42                ;516e  a5 42
    sta [0x40],y            ;5170  91 40
    iny                     ;5172  c8
    lda 0x43                ;5173  a5 43
    sta [0x40],y            ;5175  91 40
    pla                     ;5177  68
    sta 0x43                ;5178  85 43
    pla                     ;517a  68
    sta 0x42                ;517b  85 42
    rts                     ;517d  60

    .byte 0x60              ;517e  60          DATA 0x60 '`'
    .byte 0xe0              ;517f  e0          DATA 0xe0
    .byte 0x05              ;5180  05          DATA 0x05
    .byte 0xb0              ;5181  b0          DATA 0xb0
    .byte 0x11              ;5182  11          DATA 0x11
    .byte 0x85              ;5183  85          DATA 0x85
    .byte 0xca              ;5184  ca          DATA 0xca
    .byte 0x0a              ;5185  0a          DATA 0x0a
    .byte 0x0a              ;5186  0a          DATA 0x0a
    .byte 0x65              ;5187  65          DATA 0x65 'e'
    .byte 0xca              ;5188  ca          DATA 0xca
    .byte 0x86              ;5189  86          DATA 0x86
    .byte 0xca              ;518a  ca          DATA 0xca
    .byte 0x18              ;518b  18          DATA 0x18
    .byte 0x65              ;518c  65          DATA 0x65 'e'
    .byte 0xca              ;518d  ca          DATA 0xca
    .byte 0xaa              ;518e  aa          DATA 0xaa
    .byte 0xbd              ;518f  bd          DATA 0xbd
    .byte 0x94              ;5190  94          DATA 0x94
    .byte 0x52              ;5191  52          DATA 0x52 'R'
    .byte 0x80              ;5192  80          DATA 0x80
    .byte 0x02              ;5193  02          DATA 0x02
    .byte 0xa9              ;5194  a9          DATA 0xa9
    .byte 0x00              ;5195  00          DATA 0x00
    .byte 0x60              ;5196  60          DATA 0x60 '`'

sub_5197:
    stx 0xca                ;5197  86 ca
    lsr 0xca                ;5199  46 ca
    cmp 0xca                ;519b  c5 ca
    bcc lab_51a4            ;519d  90 05
    sec                     ;519f  38
    sbc 0xca                ;51a0  e5 ca
    bra lab_51a6            ;51a2  80 02

lab_51a4:
    lda #0x00               ;51a4  a9 00

lab_51a6:
    rts                     ;51a6  60

sub_51a7:
    bbs 0,0xf2,lab_51b9     ;51a7  07 f2 0f
    ldy #0x00               ;51aa  a0 00

lab_51ac:
    cmp 0x5264,y            ;51ac  d9 64 52
    bcc lab_51b6            ;51af  90 05
    iny                     ;51b1  c8
    cpy #0x0f               ;51b2  c0 0f
    bcc lab_51ac            ;51b4  90 f6

lab_51b6:
    tya                     ;51b6  98
    bra lab_51c6            ;51b7  80 0d

lab_51b9:
    ldy #0x00               ;51b9  a0 00

lab_51bb:
    cmp 0x5274,y            ;51bb  d9 74 52
    bcc lab_51c5            ;51be  90 05
    iny                     ;51c0  c8
    cpy #0x0f               ;51c1  c0 0f
    bcc lab_51bb            ;51c3  90 f6

lab_51c5:
    tya                     ;51c5  98

lab_51c6:
    rts                     ;51c6  60

sub_51c7:
    ldy #0x00               ;51c7  a0 00
    bbs 0,0xf2,lab_51d6     ;51c9  07 f2 0a

lab_51cc:
    cmp 0x5284,y            ;51cc  d9 84 52
    bcc lab_51d6            ;51cf  90 05
    iny                     ;51d1  c8
    cpy #0x10               ;51d2  c0 10
    bcc lab_51cc            ;51d4  90 f6

lab_51d6:
    tya                     ;51d6  98
    rts                     ;51d7  60

sub_51d8:
    lda 0x41                ;51d8  a5 41
    pha                     ;51da  48
    lda #0x02               ;51db  a9 02
    jsr sub_26d8            ;51dd  20 d8 26
    sta 0x6c                ;51e0  85 6c
    ldm #0x00,0x41          ;51e2  3c 00 41
    asl a                   ;51e5  0a
    rol 0x41                ;51e6  26 41
    asl a                   ;51e8  0a
    rol 0x41                ;51e9  26 41
    asl a                   ;51eb  0a
    rol 0x41                ;51ec  26 41
    sta 0x68                ;51ee  85 68
    lda 0x41                ;51f0  a5 41
    sta 0x69                ;51f2  85 69
    lda #0x03               ;51f4  a9 03
    jsr sub_26d8            ;51f6  20 d8 26
    sta 0x6d                ;51f9  85 6d
    ldm #0x00,0x41          ;51fb  3c 00 41
    asl a                   ;51fe  0a
    rol 0x41                ;51ff  26 41
    asl a                   ;5201  0a
    rol 0x41                ;5202  26 41
    asl a                   ;5204  0a
    rol 0x41                ;5205  26 41
    sta 0x6a                ;5207  85 6a
    lda 0x41                ;5209  a5 41
    sta 0x6b                ;520b  85 6b
    pla                     ;520d  68
    sta 0x41                ;520e  85 41
    rts                     ;5210  60

sub_5211:
    lda #0x00               ;5211  a9 00
    sta 0x6e                ;5213  85 6e
    sta 0x6f                ;5215  85 6f
    sta 0x70                ;5217  85 70
    lda #0x00               ;5219  a9 00
    sta 0x68                ;521b  85 68
    lda #0x00               ;521d  a9 00
    sta 0x69                ;521f  85 69
    lda #0x00               ;5221  a9 00
    sta 0x6a                ;5223  85 6a
    lda #0x00               ;5225  a9 00
    sta 0x6b                ;5227  85 6b
    rts                     ;5229  60

;XXX appears unused
;does not disassemble cleanly
mem_522a:
    .byte 0x68              ;522a  68          DATA 0x68 'h'
    .byte 0x78              ;522b  78          DATA 0x78 'x'
    .byte 0x22              ;522c  22          DATA 0x22 '"'
    .byte 0x08              ;522d  08          DATA 0x08
    .byte 0xcc              ;522e  cc          DATA 0xcc
    .byte 0x00              ;522f  00          DATA 0x00
    .byte 0x00              ;5230  00          DATA 0x00
    .byte 0x00              ;5231  00          DATA 0x00
    .byte 0xfe              ;5232  fe          DATA 0xfe
    .byte 0xaf              ;5233  af          DATA 0xaf
    .byte 0x67              ;5234  67          DATA 0x67 'g'
    .byte 0x46              ;5235  46          DATA 0x46 'F'
    .byte 0x0e              ;5236  0e          DATA 0x0e
    .byte 0xf0              ;5237  f0          DATA 0xf0
    .byte 0x96              ;5238  96          DATA 0x96
    .byte 0x84              ;5239  84          DATA 0x84
    .byte 0x23              ;523a  23          DATA 0x23 '#'
    .byte 0x80              ;523b  80          DATA 0x80
    .byte 0xd0              ;523c  d0          DATA 0xd0
    .byte 0x00              ;523d  00          DATA 0x00
    .byte 0xdf              ;523e  df          DATA 0xdf
    .byte 0xfe              ;523f  fe          DATA 0xfe
    .byte 0x22              ;5240  22          DATA 0x22 '"'
    .byte 0x3c              ;5241  3c          DATA 0x3c '<'
    .byte 0x10              ;5242  10          DATA 0x10
    .byte 0x40              ;5243  40          DATA 0x40 '@'
    .byte 0x06              ;5244  06          DATA 0x06
    .byte 0x00              ;5245  00          DATA 0x00
    .byte 0x00              ;5246  00          DATA 0x00
    .byte 0x91              ;5247  91          DATA 0x91
    .byte 0x7c              ;5248  7c          DATA 0x7c '|'
    .byte 0xc0              ;5249  c0          DATA 0xc0
    .byte 0x2d              ;524a  2d          DATA 0x2d '-'
    .byte 0x00              ;524b  00          DATA 0x00
    .byte 0x04              ;524c  04          DATA 0x04
    .byte 0x00              ;524d  00          DATA 0x00
    .byte 0x00              ;524e  00          DATA 0x00
    .byte 0x0d              ;524f  0d          DATA 0x0d
    .byte 0xab              ;5250  ab          DATA 0xab
    .byte 0x09              ;5251  09          DATA 0x09
    .byte 0xe8              ;5252  e8          DATA 0xe8
    .byte 0x03              ;5253  03          DATA 0x03
    .byte 0xf0              ;5254  f0          DATA 0xf0
    .byte 0x00              ;5255  00          DATA 0x00
    .byte 0x00              ;5256  00          DATA 0x00
    .byte 0x00              ;5257  00          DATA 0x00
    .byte 0x81              ;5258  81          DATA 0x81
    .byte 0xc0              ;5259  c0          DATA 0xc0
    .byte 0x04              ;525a  04          DATA 0x04
    .byte 0x3f              ;525b  3f          DATA 0x3f '?'
    .byte 0xf8              ;525c  f8          DATA 0xf8
    .byte 0x2d              ;525d  2d          DATA 0x2d '-'
    .byte 0x3c              ;525e  3c          DATA 0x3c '<'
    .byte 0x10              ;525f  10          DATA 0x10
    .byte 0x00              ;5260  00          DATA 0x00
    .byte 0x06              ;5261  06          DATA 0x06
    .byte 0x00              ;5262  00          DATA 0x00
    .byte 0x00              ;5263  00          DATA 0x00
    .byte 0x22              ;5264  22          DATA 0x22 '"'
    .byte 0x3c              ;5265  3c          DATA 0x3c '<'
    .byte 0x50              ;5266  50          DATA 0x50 'P'
    .byte 0x6a              ;5267  6a          DATA 0x6a 'j'
    .byte 0x7a              ;5268  7a          DATA 0x7a 'z'
    .byte 0x7c              ;5269  7c          DATA 0x7c '|'
    .byte 0x85              ;526a  85          DATA 0x85
    .byte 0x8d              ;526b  8d          DATA 0x8d
    .byte 0x97              ;526c  97          DATA 0x97
    .byte 0xa3              ;526d  a3          DATA 0xa3
    .byte 0xae              ;526e  ae          DATA 0xae
    .byte 0xb7              ;526f  b7          DATA 0xb7
    .byte 0xbe              ;5270  be          DATA 0xbe
    .byte 0xc3              ;5271  c3          DATA 0xc3
    .byte 0xc8              ;5272  c8          DATA 0xc8
    .byte 0xff              ;5273  ff          DATA 0xff
    .byte 0x2c              ;5274  2c          DATA 0x2c ','
    .byte 0x3e              ;5275  3e          DATA 0x3e '>'
    .byte 0x4f              ;5276  4f          DATA 0x4f 'O'
    .byte 0x5e              ;5277  5e          DATA 0x5e '^'
    .byte 0x6c              ;5278  6c          DATA 0x6c 'l'
    .byte 0x7a              ;5279  7a          DATA 0x7a 'z'
    .byte 0x88              ;527a  88          DATA 0x88
    .byte 0x96              ;527b  96          DATA 0x96
    .byte 0xa6              ;527c  a6          DATA 0xa6
    .byte 0xb7              ;527d  b7          DATA 0xb7
    .byte 0xc9              ;527e  c9          DATA 0xc9
    .byte 0xd8              ;527f  d8          DATA 0xd8
    .byte 0xe0              ;5280  e0          DATA 0xe0
    .byte 0xe7              ;5281  e7          DATA 0xe7
    .byte 0xee              ;5282  ee          DATA 0xee
    .byte 0xff              ;5283  ff          DATA 0xff
    .byte 0x08              ;5284  08          DATA 0x08
    .byte 0x0f              ;5285  0f          DATA 0x0f
    .byte 0x15              ;5286  15          DATA 0x15
    .byte 0x1c              ;5287  1c          DATA 0x1c
    .byte 0x23              ;5288  23          DATA 0x23 '#'
    .byte 0x2a              ;5289  2a          DATA 0x2a '*'
    .byte 0x31              ;528a  31          DATA 0x31 '1'
    .byte 0x38              ;528b  38          DATA 0x38 '8'
    .byte 0x3f              ;528c  3f          DATA 0x3f '?'
    .byte 0x46              ;528d  46          DATA 0x46 'F'
    .byte 0x4d              ;528e  4d          DATA 0x4d 'M'
    .byte 0x53              ;528f  53          DATA 0x53 'S'
    .byte 0x5a              ;5290  5a          DATA 0x5a 'Z'
    .byte 0x61              ;5291  61          DATA 0x61 'a'
    .byte 0x68              ;5292  68          DATA 0x68 'h'
    .byte 0xff              ;5293  ff          DATA 0xff
    .byte 0x00              ;5294  00          DATA 0x00
    .byte 0x00              ;5295  00          DATA 0x00
    .byte 0x00              ;5296  00          DATA 0x00
    .byte 0x00              ;5297  00          DATA 0x00
    .byte 0x00              ;5298  00          DATA 0x00
    .byte 0x00              ;5299  00          DATA 0x00
    .byte 0x00              ;529a  00          DATA 0x00
    .byte 0x00              ;529b  00          DATA 0x00
    .byte 0x00              ;529c  00          DATA 0x00
    .byte 0x00              ;529d  00          DATA 0x00
    .byte 0x00              ;529e  00          DATA 0x00
    .byte 0x00              ;529f  00          DATA 0x00
    .byte 0x00              ;52a0  00          DATA 0x00
    .byte 0x00              ;52a1  00          DATA 0x00
    .byte 0x00              ;52a2  00          DATA 0x00
    .byte 0x01              ;52a3  01          DATA 0x01
    .byte 0x00              ;52a4  00          DATA 0x00
    .byte 0x00              ;52a5  00          DATA 0x00
    .byte 0x00              ;52a6  00          DATA 0x00
    .byte 0x00              ;52a7  00          DATA 0x00
    .byte 0x01              ;52a8  01          DATA 0x01
    .byte 0x01              ;52a9  01          DATA 0x01
    .byte 0x00              ;52aa  00          DATA 0x00
    .byte 0x00              ;52ab  00          DATA 0x00
    .byte 0x00              ;52ac  00          DATA 0x00
    .byte 0x03              ;52ad  03          DATA 0x03
    .byte 0x02              ;52ae  02          DATA 0x02
    .byte 0x02              ;52af  02          DATA 0x02
    .byte 0x01              ;52b0  01          DATA 0x01
    .byte 0x01              ;52b1  01          DATA 0x01
    .byte 0x04              ;52b2  04          DATA 0x04
    .byte 0x03              ;52b3  03          DATA 0x03
    .byte 0x03              ;52b4  03          DATA 0x03
    .byte 0x02              ;52b5  02          DATA 0x02
    .byte 0x02              ;52b6  02          DATA 0x02
    .byte 0x05              ;52b7  05          DATA 0x05
    .byte 0x04              ;52b8  04          DATA 0x04
    .byte 0x04              ;52b9  04          DATA 0x04
    .byte 0x03              ;52ba  03          DATA 0x03
    .byte 0x02              ;52bb  02          DATA 0x02
    .byte 0x06              ;52bc  06          DATA 0x06
    .byte 0x05              ;52bd  05          DATA 0x05
    .byte 0x05              ;52be  05          DATA 0x05
    .byte 0x04              ;52bf  04          DATA 0x04
    .byte 0x03              ;52c0  03          DATA 0x03
    .byte 0x08              ;52c1  08          DATA 0x08
    .byte 0x07              ;52c2  07          DATA 0x07
    .byte 0x05              ;52c3  05          DATA 0x05
    .byte 0x04              ;52c4  04          DATA 0x04
    .byte 0x03              ;52c5  03          DATA 0x03
    .byte 0x09              ;52c6  09          DATA 0x09
    .byte 0x08              ;52c7  08          DATA 0x08
    .byte 0x06              ;52c8  06          DATA 0x06
    .byte 0x05              ;52c9  05          DATA 0x05
    .byte 0x04              ;52ca  04          DATA 0x04
    .byte 0x0a              ;52cb  0a          DATA 0x0a
    .byte 0x09              ;52cc  09          DATA 0x09
    .byte 0x07              ;52cd  07          DATA 0x07
    .byte 0x06              ;52ce  06          DATA 0x06
    .byte 0x04              ;52cf  04          DATA 0x04
    .byte 0x0b              ;52d0  0b          DATA 0x0b
    .byte 0x0a              ;52d1  0a          DATA 0x0a
    .byte 0x08              ;52d2  08          DATA 0x08
    .byte 0x07              ;52d3  07          DATA 0x07
    .byte 0x05              ;52d4  05          DATA 0x05
    .byte 0x0d              ;52d5  0d          DATA 0x0d
    .byte 0x0b              ;52d6  0b          DATA 0x0b
    .byte 0x09              ;52d7  09          DATA 0x09
    .byte 0x07              ;52d8  07          DATA 0x07
    .byte 0x05              ;52d9  05          DATA 0x05
    .byte 0x0e              ;52da  0e          DATA 0x0e
    .byte 0x0c              ;52db  0c          DATA 0x0c
    .byte 0x0a              ;52dc  0a          DATA 0x0a
    .byte 0x08              ;52dd  08          DATA 0x08
    .byte 0x06              ;52de  06          DATA 0x06
    .byte 0x0f              ;52df  0f          DATA 0x0f
    .byte 0x0d              ;52e0  0d          DATA 0x0d
    .byte 0x0b              ;52e1  0b          DATA 0x0b
    .byte 0x09              ;52e2  09          DATA 0x09
    .byte 0x07              ;52e3  07          DATA 0x07
    .byte 0xf6              ;52e4  f6          DATA 0xf6
    .byte 0xf5              ;52e5  f5          DATA 0xf5
    .byte 0x97              ;52e6  97          DATA 0x97
    .byte 0x96              ;52e7  96          DATA 0x96
    .byte 0xf3              ;52e8  f3          DATA 0xf3
    .byte 0x3f              ;52e9  3f          DATA 0x3f '?'
    .byte 0x66              ;52ea  66          DATA 0x66 'f'
    .byte 0x5a              ;52eb  5a          DATA 0x5a 'Z'
    .byte 0x6d              ;52ec  6d          DATA 0x6d 'm'
    .byte 0xd4              ;52ed  d4          DATA 0xd4
    .byte 0x1b              ;52ee  1b          DATA 0x1b
    .byte 0x03              ;52ef  03          DATA 0x03
    .byte 0x8f              ;52f0  8f          DATA 0x8f
    .byte 0x03              ;52f1  03          DATA 0x03
    .byte 0xa7              ;52f2  a7          DATA 0xa7
    .byte 0x02              ;52f3  02          DATA 0x02
    .byte 0xf7              ;52f4  f7          DATA 0xf7
    .byte 0x00              ;52f5  00          DATA 0x00
    .byte 0xee              ;52f6  ee          DATA 0xee
    .byte 0x01              ;52f7  01          DATA 0x01
    .byte 0xdc              ;52f8  dc          DATA 0xdc
    .byte 0x03              ;52f9  03          DATA 0x03
    .byte 0x01              ;52fa  01          DATA 0x01
    .byte 0x02              ;52fb  02          DATA 0x02
    .byte 0xbb              ;52fc  bb          DATA 0xbb
    .byte 0x01              ;52fd  01          DATA 0x01
    .byte 0x76              ;52fe  76          DATA 0x76 'v'
    .byte 0x03              ;52ff  03          DATA 0x03
    .byte 0x55              ;5300  55          DATA 0x55 'U'
    .byte 0x03              ;5301  03          DATA 0x03
    .byte 0x13              ;5302  13          DATA 0x13
    .byte 0x03              ;5303  03          DATA 0x03
    .byte 0x9f              ;5304  9f          DATA 0x9f
    .byte 0x03              ;5305  03          DATA 0x03
    .byte 0x87              ;5306  87          DATA 0x87
    .byte 0x02              ;5307  02          DATA 0x02
    .byte 0xb7              ;5308  b7          DATA 0xb7
    .byte 0x00              ;5309  00          DATA 0x00
    .byte 0x6e              ;530a  6e          DATA 0x6e 'n'
    .byte 0x01              ;530b  01          DATA 0x01
    .byte 0xdc              ;530c  dc          DATA 0xdc
    .byte 0x02              ;530d  02          DATA 0x02
    .byte 0x01              ;530e  01          DATA 0x01
    .byte 0x00              ;530f  00          DATA 0x00
    .byte 0x02              ;5310  02          DATA 0x02
    .byte 0x00              ;5311  00          DATA 0x00
    .byte 0x04              ;5312  04          DATA 0x04
    .byte 0x00              ;5313  00          DATA 0x00
    .byte 0x08              ;5314  08          DATA 0x08
    .byte 0x00              ;5315  00          DATA 0x00
    .byte 0x10              ;5316  10          DATA 0x10
    .byte 0x00              ;5317  00          DATA 0x00
    .byte 0x20              ;5318  20          DATA 0x20 ' '
    .byte 0x00              ;5319  00          DATA 0x00
    .byte 0x40              ;531a  40          DATA 0x40 '@'
    .byte 0x00              ;531b  00          DATA 0x00
    .byte 0x80              ;531c  80          DATA 0x80
    .byte 0x00              ;531d  00          DATA 0x00
    .byte 0x00              ;531e  00          DATA 0x00
    .byte 0x01              ;531f  01          DATA 0x01
    .byte 0x00              ;5320  00          DATA 0x00
    .byte 0x02              ;5321  02          DATA 0x02
    .byte 0x00              ;5322  00          DATA 0x00
    .byte 0x01              ;5323  01          DATA 0x01
    .byte 0x01              ;5324  01          DATA 0x01
    .byte 0x02              ;5325  02          DATA 0x02
    .byte 0x01              ;5326  01          DATA 0x01
    .byte 0x02              ;5327  02          DATA 0x02
    .byte 0x02              ;5328  02          DATA 0x02
    .byte 0x03              ;5329  03          DATA 0x03
    .byte 0x01              ;532a  01          DATA 0x01
    .byte 0x02              ;532b  02          DATA 0x02
    .byte 0x02              ;532c  02          DATA 0x02
    .byte 0x03              ;532d  03          DATA 0x03
    .byte 0x02              ;532e  02          DATA 0x02
    .byte 0x03              ;532f  03          DATA 0x03
    .byte 0x03              ;5330  03          DATA 0x03
    .byte 0x04              ;5331  04          DATA 0x04
    .byte 0x01              ;5332  01          DATA 0x01
    .byte 0x02              ;5333  02          DATA 0x02
    .byte 0x02              ;5334  02          DATA 0x02
    .byte 0x03              ;5335  03          DATA 0x03
    .byte 0x02              ;5336  02          DATA 0x02
    .byte 0x03              ;5337  03          DATA 0x03
    .byte 0x03              ;5338  03          DATA 0x03
    .byte 0x04              ;5339  04          DATA 0x04
    .byte 0x02              ;533a  02          DATA 0x02
    .byte 0x03              ;533b  03          DATA 0x03
    .byte 0x03              ;533c  03          DATA 0x03
    .byte 0x04              ;533d  04          DATA 0x04
    .byte 0x03              ;533e  03          DATA 0x03
    .byte 0x04              ;533f  04          DATA 0x04
    .byte 0x04              ;5340  04          DATA 0x04
    .byte 0x05              ;5341  05          DATA 0x05

lab_5342:
    pha                     ;5342  48
    tya                     ;5343  98
    pha                     ;5344  48
    bbc 0,0xf9,lab_53ad     ;5345  17 f9 65
    clc                     ;5348  18
    bbc 5,P7,lab_534d       ;5349  b7 0e 01
    sec                     ;534c  38

lab_534d:
    rol 0x83                ;534d  26 83
    rol 0x82                ;534f  26 82
    rol 0x81                ;5351  26 81
    rol 0x80                ;5353  26 80
    bbc 1,0xf9,lab_539f     ;5355  37 f9 47
    bbc 2,0xf9,lab_5375     ;5358  57 f9 1a
    lda 0x8c                ;535b  a5 8c
    inc a                   ;535d  3a
    cmp #0x1a               ;535e  c9 1a
    bcc lab_5364            ;5360  90 02
    lda #0x00               ;5362  a9 00

lab_5364:
    sta 0x8c                ;5364  85 8c
    bne lab_53d9            ;5366  d0 71
    lda 0x97                ;5368  a5 97
    inc a                   ;536a  3a
    cmp #0x04               ;536b  c9 04
    bcc lab_5371            ;536d  90 02
    lda #0x00               ;536f  a9 00

lab_5371:
    sta 0x97                ;5371  85 97
    bra lab_53be            ;5373  80 49

lab_5375:
    lda 0x8c                ;5375  a5 8c
    inc a                   ;5377  3a
    cmp #0x1a               ;5378  c9 1a
    bcc lab_537e            ;537a  90 02
    lda #0x00               ;537c  a9 00

lab_537e:
    sta 0x8c                ;537e  85 8c
    bne lab_53d9            ;5380  d0 57
    jsr sub_53dd            ;5382  20 dd 53
    bcc lab_53ad            ;5385  90 26
    lda 0x97                ;5387  a5 97
    inc a                   ;5389  3a
    cmp #0x04               ;538a  c9 04
    bcc lab_5390            ;538c  90 02
    lda #0x00               ;538e  a9 00

lab_5390:
    sta 0x97                ;5390  85 97
    cpy 0x97                ;5392  c4 97
    bne lab_53ad            ;5394  d0 17
    seb 2,0xf9              ;5396  4f f9
    seb 1,0xfb              ;5398  2f fb
    ldm #0xff,0x8f          ;539a  3c ff 8f
    bra lab_53be            ;539d  80 1f

lab_539f:
    jsr sub_53dd            ;539f  20 dd 53
    bcc lab_53ad            ;53a2  90 09
    sty 0x97                ;53a4  84 97
    seb 1,0xf9              ;53a6  2f f9
    ldm #0x00,0x8c          ;53a8  3c 00 8c
    bra lab_53d9            ;53ab  80 2c

lab_53ad:
    clb 1,0xf9              ;53ad  3f f9
    clb 2,0xf9              ;53af  5f f9
    clb 2,0xfd              ;53b1  5f fd
    ldm #0x00,0x8c          ;53b3  3c 00 8c
    ldm #0x00,0x99          ;53b6  3c 00 99
    ldm #0x00,0x98          ;53b9  3c 00 98
    bra lab_53d9            ;53bc  80 1b

lab_53be:
    bbs 3,0xf9,lab_53d9     ;53be  67 f9 18
    lda 0x80                ;53c1  a5 80
    and #0x03               ;53c3  29 03
    sta 0x7c                ;53c5  85 7c
    lda 0x81                ;53c7  a5 81
    sta 0x7d                ;53c9  85 7d
    lda 0x82                ;53cb  a5 82
    sta 0x7e                ;53cd  85 7e
    lda 0x83                ;53cf  a5 83
    sta 0x7f                ;53d1  85 7f
    lda 0x97                ;53d3  a5 97
    sta 0x8e                ;53d5  85 8e
    seb 3,0xf9              ;53d7  6f f9

lab_53d9:
    pla                     ;53d9  68
    tay                     ;53da  a8
    pla                     ;53db  68
    rti                     ;53dc  40

sub_53dd:
    lda 0x80                ;53dd  a5 80
    sta 0x84                ;53df  85 84
    lda 0x81                ;53e1  a5 81
    sta 0x85                ;53e3  85 85
    lda 0x82                ;53e5  a5 82
    sta 0x86                ;53e7  85 86
    lda 0x83                ;53e9  a5 83
    sta 0x87                ;53eb  85 87
    lda #0x00               ;53ed  a9 00
    sta 0x8a                ;53ef  85 8a
    sta 0x8b                ;53f1  85 8b
    sta 0x8d                ;53f3  85 8d

lab_53f5:
    ror 0x84                ;53f5  66 84
    ror 0x85                ;53f7  66 85
    ror 0x86                ;53f9  66 86
    ror 0x87                ;53fb  66 87
    bcc lab_5411            ;53fd  90 12
    lda 0x8d                ;53ff  a5 8d
    asl a                   ;5401  0a
    tay                     ;5402  a8
    lda 0x52ee,y            ;5403  b9 ee 52
    eor 0x8a                ;5406  45 8a
    sta 0x8a                ;5408  85 8a
    lda 0x52ef,y            ;540a  b9 ef 52
    eor 0x8b                ;540d  45 8b
    sta 0x8b                ;540f  85 8b

lab_5411:
    lda 0x8d                ;5411  a5 8d
    inc a                   ;5413  3a
    sta 0x8d                ;5414  85 8d
    cmp #0x1a               ;5416  c9 1a
    bcc lab_53f5            ;5418  90 db
    lsr 0x8b                ;541a  46 8b
    ror 0x8a                ;541c  66 8a
    bcs lab_5444            ;541e  b0 24
    lsr 0x8b                ;5420  46 8b
    ror 0x8a                ;5422  66 8a
    bcs lab_5444            ;5424  b0 1e
    lda 0x8a                ;5426  a5 8a
    ldy #0x00               ;5428  a0 00
    cmp #0xf6               ;542a  c9 f6
    beq lab_5449            ;542c  f0 1b
    ldy #0x01               ;542e  a0 01
    cmp #0xf5               ;5430  c9 f5
    beq lab_5449            ;5432  f0 15
    ldy #0x02               ;5434  a0 02
    cmp #0x97               ;5436  c9 97
    beq lab_5449            ;5438  f0 0f
    cmp #0xf3               ;543a  c9 f3
    beq lab_5449            ;543c  f0 0b
    ldy #0x03               ;543e  a0 03
    cmp #0x96               ;5440  c9 96
    beq lab_5449            ;5442  f0 05

lab_5444:
    ldy #0xff               ;5444  a0 ff
    clc                     ;5446  18
    bra lab_544a            ;5447  80 01

lab_5449:
    sec                     ;5449  38

lab_544a:
    rts                     ;544a  60

sub_544b:
    clb 1,0xf9              ;544b  3f f9
    clb 2,0xf9              ;544d  5f f9
    clb 3,0xf9              ;544f  7f f9
    clb 0,0xfa              ;5451  1f fa
    clb 1,0xfa              ;5453  3f fa
    clb 2,0xfd              ;5455  5f fd
    clb 5,0xfd              ;5457  bf fd
    clb 1,0xfd              ;5459  3f fd
    clb 0,0xfe              ;545b  1f fe
    clb 1,0xfe              ;545d  3f fe
    clb 2,0xfe              ;545f  5f fe
    clb 3,0xfe              ;5461  7f fe
    lda #0x00               ;5463  a9 00
    sta 0x9c                ;5465  85 9c
    sta 0x9d                ;5467  85 9d
    sta 0x80                ;5469  85 80
    sta 0x81                ;546b  85 81
    sta 0x82                ;546d  85 82
    sta 0x83                ;546f  85 83
    sta 0x05d0              ;5471  8d d0 05
    sta 0x05d2              ;5474  8d d2 05
    sta 0x05d3              ;5477  8d d3 05
    sta 0x9a                ;547a  85 9a
    sta 0x9b                ;547c  85 9b
    sta 0x05d1              ;547e  8d d1 05
    sta 0x94                ;5481  85 94
    sta 0xbe                ;5483  85 be
    ldm #0xa0,0x99          ;5485  3c a0 99
    rts                     ;5488  60

sub_5489:
    lda 0x7c                ;5489  a5 7c
    sta 0x46                ;548b  85 46
    lda 0x7d                ;548d  a5 7d
    sta 0x47                ;548f  85 47
    lda 0x7e                ;5491  a5 7e
    sta 0x48                ;5493  85 48
    lda 0x7f                ;5495  a5 7f
    sta 0x49                ;5497  85 49
    lda #0x00               ;5499  a9 00
    sta 0x44                ;549b  85 44
    sta 0x45                ;549d  85 45
    sta 0x43                ;549f  85 43

lab_54a1:
    ror 0x46                ;54a1  66 46
    ror 0x47                ;54a3  66 47
    ror 0x48                ;54a5  66 48
    ror 0x49                ;54a7  66 49
    bcc lab_54bd            ;54a9  90 12
    lda 0x43                ;54ab  a5 43
    asl a                   ;54ad  0a
    tay                     ;54ae  a8
    lda 0x52ee,y            ;54af  b9 ee 52
    eor 0x44                ;54b2  45 44
    sta 0x44                ;54b4  85 44
    lda 0x52ef,y            ;54b6  b9 ef 52
    eor 0x45                ;54b9  45 45
    sta 0x45                ;54bb  85 45

lab_54bd:
    lda 0x43                ;54bd  a5 43
    inc a                   ;54bf  3a
    sta 0x43                ;54c0  85 43
    cmp #0x1a               ;54c2  c9 1a
    bcc lab_54a1            ;54c4  90 db
    lsr 0x45                ;54c6  46 45
    ror 0x44                ;54c8  66 44
    bcs lab_54f8            ;54ca  b0 2c
    lsr 0x45                ;54cc  46 45
    ror 0x44                ;54ce  66 44
    bcs lab_54f8            ;54d0  b0 26
    lda 0x44                ;54d2  a5 44
    ldy #0x00               ;54d4  a0 00
    cmp #0xf6               ;54d6  c9 f6
    beq lab_54f0            ;54d8  f0 16
    ldy #0x01               ;54da  a0 01
    cmp #0xf5               ;54dc  c9 f5
    beq lab_54f0            ;54de  f0 10
    ldy #0x02               ;54e0  a0 02
    cmp #0x97               ;54e2  c9 97
    beq lab_54f0            ;54e4  f0 0a
    cmp #0xf3               ;54e6  c9 f3
    beq lab_54f0            ;54e8  f0 06
    ldy #0x03               ;54ea  a0 03
    cmp #0x96               ;54ec  c9 96
    bne lab_54f8            ;54ee  d0 08

lab_54f0:
    cpy 0x8e                ;54f0  c4 8e
    bne lab_54f8            ;54f2  d0 04
    clb 0,0xfb              ;54f4  1f fb
    bra lab_54fc            ;54f6  80 04

lab_54f8:
    ldy #0xff               ;54f8  a0 ff
    seb 0,0xfb              ;54fa  0f fb

lab_54fc:
    rts                     ;54fc  60

sub_54fd:
    tya                     ;54fd  98
    pha                     ;54fe  48
    ldy 0x7c                ;54ff  a4 7c
    lda 0x7d                ;5501  a5 7d
    sta 0x46                ;5503  85 46
    lda 0x7e                ;5505  a5 7e
    sta 0x47                ;5507  85 47
    lda 0x7f                ;5509  a5 7f
    sta 0x48                ;550b  85 48
    sty 0x49                ;550d  84 49
    clb 3,0xf9              ;550f  7f f9
    bbc 0,0xfb,lab_551b     ;5511  17 fb 07
    ldm #0x06,0x98          ;5514  3c 06 98
    sec                     ;5517  38
    jmp lab_5613            ;5518  4c 13 56

lab_551b:
    lsr 0x49                ;551b  46 49
    ror 0x46                ;551d  66 46
    ror 0x47                ;551f  66 47
    ror 0x48                ;5521  66 48
    ror 0x49                ;5523  66 49
    ror 0x46                ;5525  66 46
    ror 0x47                ;5527  66 47
    ror 0x48                ;5529  66 48
    ror 0x49                ;552b  66 49
    lda 0x46                ;552d  a5 46
    sta 0x88                ;552f  85 88
    lda 0x47                ;5531  a5 47
    sta 0x89                ;5533  85 89
    ldy 0x8e                ;5535  a4 8e
    cpy #0x02               ;5537  c0 02
    bne lab_5540            ;5539  d0 05
    bbc 4,0xf9,lab_5540     ;553b  97 f9 02
    ldy #0x04               ;553e  a0 04

lab_5540:
    lda 0x48                ;5540  a5 48
    eor 0x52e9,y            ;5542  59 e9 52
    sta 0x48                ;5545  85 48
    lda #0x00               ;5547  a9 00
    sta 0x44                ;5549  85 44
    sta 0x45                ;554b  85 45
    sta 0x43                ;554d  85 43

lab_554f:
    clb 6,0xf9              ;554f  df f9
    bbc 1,0x44,lab_5556     ;5551  37 44 02
    seb 6,0xf9              ;5554  cf f9

lab_5556:
    clb 7,0xf9              ;5556  ff f9
    bbc 7,0x46,lab_555d     ;5558  f7 46 02
    seb 7,0xf9              ;555b  ef f9

lab_555d:
    asl 0x49                ;555d  06 49
    rol 0x48                ;555f  26 48
    rol 0x47                ;5561  26 47
    rol 0x46                ;5563  26 46
    asl 0x45                ;5565  06 45
    rol 0x44                ;5567  26 44
    bbc 7,0xf9,lab_558f     ;5569  f7 f9 23
    bbc 6,0xf9,lab_5581     ;556c  d7 f9 12
    lda 0x45                ;556f  a5 45
    eor #0x1b               ;5571  49 1b
    eor #0xb9               ;5573  49 b9
    sta 0x45                ;5575  85 45
    lda 0x44                ;5577  a5 44
    eor #0x03               ;5579  49 03
    eor #0x01               ;557b  49 01
    sta 0x44                ;557d  85 44
    bra lab_559e            ;557f  80 1d

lab_5581:
    lda 0x45                ;5581  a5 45
    eor #0x1b               ;5583  49 1b
    sta 0x45                ;5585  85 45
    lda 0x44                ;5587  a5 44
    eor #0x03               ;5589  49 03
    sta 0x44                ;558b  85 44
    bra lab_559e            ;558d  80 0f

lab_558f:
    bbc 6,0xf9,lab_559e     ;558f  d7 f9 0c
    lda 0x45                ;5592  a5 45
    eor #0xb9               ;5594  49 b9
    sta 0x45                ;5596  85 45
    lda 0x44                ;5598  a5 44
    eor #0x01               ;559a  49 01
    sta 0x44                ;559c  85 44

lab_559e:
    lda 0x43                ;559e  a5 43
    inc a                   ;55a0  3a
    sta 0x43                ;55a1  85 43
    cmp #0x1a               ;55a3  c9 1a
    bcc lab_554f            ;55a5  90 a8
    ldm #0x00,0x43          ;55a7  3c 00 43

lab_55aa:
    lda 0x45                ;55aa  a5 45
    and #0x1f               ;55ac  29 1f
    beq lab_55ce            ;55ae  f0 1e
    asl 0x45                ;55b0  06 45
    rol 0x44                ;55b2  26 44
    bbc 2,0x44,lab_55c3     ;55b4  57 44 0c
    lda 0x44                ;55b7  a5 44
    eor #0x01               ;55b9  49 01
    sta 0x44                ;55bb  85 44
    lda 0x45                ;55bd  a5 45
    eor #0xb9               ;55bf  49 b9
    sta 0x45                ;55c1  85 45

lab_55c3:
    lda 0x43                ;55c3  a5 43
    inc a                   ;55c5  3a
    sta 0x43                ;55c6  85 43
    cmp #0x10               ;55c8  c9 10
    bcc lab_55aa            ;55ca  90 de
    bra lab_560b            ;55cc  80 3d

lab_55ce:
    ldy #0x05               ;55ce  a0 05

lab_55d0:
    lsr 0x44                ;55d0  46 44
    ror 0x45                ;55d2  66 45
    dey                     ;55d4  88
    bne lab_55d0            ;55d5  d0 f9
    ldm #0x00,0x44          ;55d7  3c 00 44
    lda 0x45                ;55da  a5 45
    and #0x1f               ;55dc  29 1f
    sta 0x45                ;55de  85 45
    tay                     ;55e0  a8
    lda 0x5322,y            ;55e1  b9 22 53
    sta 0x98                ;55e4  85 98
    beq lab_5613            ;55e6  f0 2b
    lda 0x43                ;55e8  a5 43
    cmp #0x0b               ;55ea  c9 0b
    beq lab_55fc            ;55ec  f0 0e
    bcs lab_560b            ;55ee  b0 1b
    sec                     ;55f0  38
    lda #0x0b               ;55f1  a9 0b
    sbc 0x43                ;55f3  e5 43

lab_55f5:
    asl 0x45                ;55f5  06 45
    rol 0x44                ;55f7  26 44
    dec a                   ;55f9  1a
    bne lab_55f5            ;55fa  d0 f9

lab_55fc:
    lda 0x88                ;55fc  a5 88
    eor 0x44                ;55fe  45 44
    sta 0x88                ;5600  85 88
    lda 0x89                ;5602  a5 89
    eor 0x45                ;5604  45 45
    sta 0x89                ;5606  85 89
    clc                     ;5608  18
    bra lab_5613            ;5609  80 08

lab_560b:
    ldm #0x05,0x98          ;560b  3c 05 98
    seb 0,0xfb              ;560e  0f fb
    sec                     ;5610  38
    bra lab_5613            ;5611  80 00

lab_5613:
    pla                     ;5613  68
    tay                     ;5614  a8
    rts                     ;5615  60

sub_5616:
    lda 0x8e                ;5616  a5 8e
    bbc 0,0xfb,lab_5621     ;5618  17 fb 06
    jsr sub_58fd            ;561b  20 fd 58
    jmp lab_56a0            ;561e  4c a0 56

lab_5621:
    cmp #0x00               ;5621  c9 00
    bne lab_562b            ;5623  d0 06
    jsr sub_5931            ;5625  20 31 59
    jmp lab_56a0            ;5628  4c a0 56

lab_562b:
    cmp #0x01               ;562b  c9 01
    bne lab_5656            ;562d  d0 27
    jsr sub_56b3            ;562f  20 b3 56
    jsr sub_56ea            ;5632  20 ea 56
    jsr sub_56a1            ;5635  20 a1 56
    lda 0x8f                ;5638  a5 8f
    cmp #0x00               ;563a  c9 00
    bne lab_5643            ;563c  d0 05
    jsr sub_5727            ;563e  20 27 57
    bra lab_5653            ;5641  80 10

lab_5643:
    cmp #0x02               ;5643  c9 02
    bne lab_564c            ;5645  d0 05
    jsr sub_578e            ;5647  20 8e 57
    bra lab_5653            ;564a  80 07

lab_564c:
    cmp #0x0e               ;564c  c9 0e
    bne lab_5653            ;564e  d0 03
    jsr sub_afba            ;5650  20 ba af

lab_5653:
    jmp lab_56a0            ;5653  4c a0 56

lab_5656:
    cmp #0x02               ;5656  c9 02
    bne lab_5681            ;5658  d0 27
    bbc 4,0xf9,lab_5663     ;565a  97 f9 06
    jsr sub_5931            ;565d  20 31 59
    jmp lab_567e            ;5660  4c 7e 56

lab_5663:
    lda 0x8f                ;5663  a5 8f
    cmp #0x00               ;5665  c9 00
    bne lab_566e            ;5667  d0 05
    jsr sub_5790            ;5669  20 90 57
    bra lab_567e            ;566c  80 10

lab_566e:
    cmp #0x04               ;566e  c9 04
    bne lab_5677            ;5670  d0 05
    jsr sub_57ed            ;5672  20 ed 57
    bra lab_567e            ;5675  80 07

lab_5677:
    cmp #0x0e               ;5677  c9 0e
    bne lab_567e            ;5679  d0 03
    jsr sub_afc5            ;567b  20 c5 af

lab_567e:
    jmp lab_56a0            ;567e  4c a0 56

lab_5681:
    cmp #0x03               ;5681  c9 03
    bne lab_56a0            ;5683  d0 1b
    lda 0x8f                ;5685  a5 8f
    cmp #0x00               ;5687  c9 00
    bne lab_5690            ;5689  d0 05
    jsr sub_57f8            ;568b  20 f8 57
    bra lab_56a0            ;568e  80 10

lab_5690:
    cmp #0x04               ;5690  c9 04
    bne lab_5699            ;5692  d0 05
    jsr sub_5882            ;5694  20 82 58
    bra lab_56a0            ;5697  80 07

lab_5699:
    cmp #0x0e               ;5699  c9 0e
    bne lab_56a0            ;569b  d0 03
    jsr sub_afd0            ;569d  20 d0 af

lab_56a0:
    rts                     ;56a0  60

sub_56a1:
    lda 0x88                ;56a1  a5 88
    and #0xf0               ;56a3  29 f0
    sta 0x8f                ;56a5  85 8f
    rrf 0x8f                ;56a7  82 8f
    clb 1,0xfb              ;56a9  3f fb
    clb 4,0xf9              ;56ab  9f f9
    bbc 3,0x88,lab_56b2     ;56ad  77 88 02
    seb 4,0xf9              ;56b0  8f f9

lab_56b2:
    rts                     ;56b2  60

sub_56b3:
    bbs 5,0xfd,lab_56e9     ;56b3  a7 fd 33
    bbs 1,0xe5,lab_56e0     ;56b6  27 e5 27
    bbs 1,0xf3,lab_56e0     ;56b9  27 f3 24
    bbs 3,0xfe,lab_56e0     ;56bc  67 fe 21
    bbc 2,0x88,lab_56d1     ;56bf  57 88 0f
    ldy 0x9c                ;56c2  a4 9c
    cpy #0x08               ;56c4  c0 08
    bcs lab_56cd            ;56c6  b0 05
    iny                     ;56c8  c8
    cpy #0x06               ;56c9  c0 06
    bcc lab_56dc            ;56cb  90 0f

lab_56cd:
    seb 0,0xfa              ;56cd  0f fa
    bra lab_56dc            ;56cf  80 0b

lab_56d1:
    ldy 0x9c                ;56d1  a4 9c
    beq lab_56da            ;56d3  f0 05
    dey                     ;56d5  88
    cpy #0x02               ;56d6  c0 02
    bcs lab_56dc            ;56d8  b0 02

lab_56da:
    clb 0,0xfa              ;56da  1f fa

lab_56dc:
    sty 0x9c                ;56dc  84 9c
    bra lab_56e9            ;56de  80 09

lab_56e0:
    bbc 2,0x88,lab_56e7     ;56e0  57 88 04
    seb 0,0xfa              ;56e3  0f fa
    bra lab_56e9            ;56e5  80 02

lab_56e7:
    clb 0,0xfa              ;56e7  1f fa

lab_56e9:
    rts                     ;56e9  60

sub_56ea:
    bbs 5,0xfd,lab_571e     ;56ea  a7 fd 31
    lda 0x89                ;56ed  a5 89
    pha                     ;56ef  48
    lda 0x88                ;56f0  a5 88
    asl 0x89                ;56f2  06 89
    rol a                   ;56f4  2a
    asl 0x89                ;56f5  06 89
    rol a                   ;56f7  2a
    asl 0x89                ;56f8  06 89
    rol a                   ;56fa  2a
    and #0x1f               ;56fb  29 1f
    cmp 0x94                ;56fd  c5 94
    beq lab_5714            ;56ff  f0 13
    ldy 0x9e                ;5701  a4 9e
    iny                     ;5703  c8
    cpy #0x08               ;5704  c0 08
    bcc lab_5710            ;5706  90 08
    ldy #0x00               ;5708  a0 00
    sta 0x94                ;570a  85 94
    cmp #0x1f               ;570c  c9 1f
    bne lab_5710            ;570e  d0 00

lab_5710:
    sty 0x9e                ;5710  84 9e
    bra lab_571b            ;5712  80 07

lab_5714:
    ldy 0x9e                ;5714  a4 9e
    beq lab_571b            ;5716  f0 03
    dey                     ;5718  88
    sty 0x9e                ;5719  84 9e

lab_571b:
    pla                     ;571b  68
    sta 0x89                ;571c  85 89

lab_571e:
    rts                     ;571e  60

    .byte 0x07              ;571f  07          DATA 0x07
    .byte 0x0b              ;5720  0b          DATA 0x0b
    .byte 0x0d              ;5721  0d          DATA 0x0d
    .byte 0x0e              ;5722  0e          DATA 0x0e
    .byte 0x08              ;5723  08          DATA 0x08
    .byte 0x04              ;5724  04          DATA 0x04
    .byte 0x02              ;5725  02          DATA 0x02
    .byte 0x01              ;5726  01          DATA 0x01

sub_5727:
    bbs 5,0xfd,lab_576b     ;5727  a7 fd 41
    bbs 1,0xe5,lab_575b     ;572a  27 e5 2e
    bbs 1,0xf3,lab_575b     ;572d  27 f3 2b
    bbs 3,0xfe,lab_575b     ;5730  67 fe 28
    bbc 4,0x89,lab_574a     ;5733  97 89 14
    ldy 0x9d                ;5736  a4 9d
    cpy #0x05               ;5738  c0 05
    bcs lab_5741            ;573a  b0 05
    iny                     ;573c  c8
    cpy #0x03               ;573d  c0 03
    bcc lab_5757            ;573f  90 16

lab_5741:
    seb 1,0xfa              ;5741  2f fa
    bbs 0,0xfa,lab_5757     ;5743  07 fa 11
    seb 0,0xfe              ;5746  0f fe
    bra lab_5757            ;5748  80 0d

lab_574a:
    ldy 0x9d                ;574a  a4 9d
    beq lab_5753            ;574c  f0 05
    dey                     ;574e  88
    cpy #0x02               ;574f  c0 02
    bcs lab_5757            ;5751  b0 04

lab_5753:
    clb 1,0xfa              ;5753  3f fa
    clb 0,0xfe              ;5755  1f fe

lab_5757:
    sty 0x9d                ;5757  84 9d
    bra lab_576b            ;5759  80 10

lab_575b:
    bbc 4,0x89,lab_5767     ;575b  97 89 09
    seb 1,0xfa              ;575e  2f fa
    bbs 0,0xfa,lab_576b     ;5760  07 fa 08
    seb 0,0xfe              ;5763  0f fe
    bra lab_576b            ;5765  80 04

lab_5767:
    clb 1,0xfa              ;5767  3f fa
    clb 0,0xfe              ;5769  1f fe

lab_576b:
    bbc 6,0xfa,lab_5777     ;576b  d7 fa 09
    bbc 3,0x89,lab_5775     ;576e  77 89 04
    seb 4,0xfa              ;5771  8f fa
    bra lab_5777            ;5773  80 02

lab_5775:
    clb 4,0xfa              ;5775  9f fa

lab_5777:
    lda 0x89                ;5777  a5 89
    and #0x03               ;5779  29 03
    sta 0x96                ;577b  85 96
    tay                     ;577d  a8
    lda 0x95                ;577e  a5 95
    bbc 2,0x89,lab_5788     ;5780  57 89 05
    ora 0x5723,y            ;5783  19 23 57
    bra lab_578b            ;5786  80 03

lab_5788:
    and 0x571f,y            ;5788  39 1f 57

lab_578b:
    sta 0x95                ;578b  85 95
    rts                     ;578d  60

sub_578e:
    rts                     ;578e  60

    .byte 0x60              ;578f  60          DATA 0x60 '`'

sub_5790:
    bbs 3,0xfd,lab_57ec     ;5790  67 fd 59
    bbs 1,0xe5,lab_57ec     ;5793  27 e5 56
    bbs 1,0xf3,lab_57ec     ;5796  27 f3 53
    bbs 2,0xf3,lab_57ec     ;5799  47 f3 50
    bbs 3,0xfe,lab_57ec     ;579c  67 fe 4d
    bbs 6,0xf4,lab_57ec     ;579f  c7 f4 4a
    bbs 7,0xf4,lab_57ec     ;57a2  e7 f4 47
    lda 0x88                ;57a5  a5 88
    cmp #0xfa               ;57a7  c9 fa
    bcs lab_57ec            ;57a9  b0 41
    cmp #0xe1               ;57ab  c9 e1
    bcc lab_57c2            ;57ad  90 13
    sbc #0xe0               ;57af  e9 e0
    sta 0xb7                ;57b1  85 b7
    sta 0x0200              ;57b3  8d 00 02
    lda 0x89                ;57b6  a5 89
    sta 0x0201              ;57b8  8d 01 02
    ldm #0x01,0xb6          ;57bb  3c 01 b6
    seb 2,0xfd              ;57be  4f fd
    bra lab_57ec            ;57c0  80 2a

lab_57c2:
    bbc 2,0xfd,lab_57ec     ;57c2  57 fd 27
    cmp #0xcd               ;57c5  c9 cd
    bcs lab_57ec            ;57c7  b0 23
    ldy 0xb6                ;57c9  a4 b6
    iny                     ;57cb  c8
    sty 0xb6                ;57cc  84 b6
    lda 0x88                ;57ce  a5 88
    sta 0x0200,y            ;57d0  99 00 02
    cpy 0xb7                ;57d3  c4 b7
    bcs lab_57e3            ;57d5  b0 0c
    iny                     ;57d7  c8
    sty 0xb6                ;57d8  84 b6
    lda 0x89                ;57da  a5 89
    sta 0x0200,y            ;57dc  99 00 02
    cpy 0xb7                ;57df  c4 b7
    bcc lab_57ec            ;57e1  90 09

lab_57e3:
    clb 2,0xfd              ;57e3  5f fd
    lda 0xb7                ;57e5  a5 b7
    beq lab_57ec            ;57e7  f0 03
    jsr sub_8968            ;57e9  20 68 89

lab_57ec:
    rts                     ;57ec  60

sub_57ed:
    bbs 0,0x89,lab_57f4     ;57ed  07 89 04
    clb 4,0x9a              ;57f0  9f 9a
    bra lab_57f6            ;57f2  80 02

lab_57f4:
    seb 4,0x9a              ;57f4  8f 9a

lab_57f6:
    rts                     ;57f6  60

    .byte 0x60              ;57f7  60          DATA 0x60 '`'

sub_57f8:
    lda 0x0286              ;57f8  ad 86 02
    bne lab_580d            ;57fb  d0 10
    lda 0x50                ;57fd  a5 50
    beq lab_580d            ;57ff  f0 0c
    bbs 3,0xfe,lab_580d     ;5801  67 fe 09
    bbs 5,0xfc,lab_580d     ;5804  a7 fc 06
    bbc 2,0xfb,lab_580d     ;5807  57 fb 03
    bbs 2,0xfc,lab_5881     ;580a  47 fc 74

lab_580d:
    lda 0x96                ;580d  a5 96
    and #0x03               ;580f  29 03
    asl a                   ;5811  0a
    tay                     ;5812  a8
    lda 0x88                ;5813  a5 88
    cmp 0x0130,y            ;5815  d9 30 01
    beq lab_581f            ;5818  f0 05
    sta 0x0130,y            ;581a  99 30 01
    bra lab_5829            ;581d  80 0a

lab_581f:
    cmp 0x0138,y            ;581f  d9 38 01
    beq lab_5829            ;5822  f0 05
    sta 0x0138,y            ;5824  99 38 01
    seb 3,0xfb              ;5827  6f fb

lab_5829:
    lda 0x89                ;5829  a5 89
    cmp 0x0131,y            ;582b  d9 31 01
    beq lab_5835            ;582e  f0 05
    sta 0x0131,y            ;5830  99 31 01
    bra lab_583f            ;5833  80 0a

lab_5835:
    cmp 0x0139,y            ;5835  d9 39 01
    beq lab_583f            ;5838  f0 05
    sta 0x0139,y            ;583a  99 39 01
    seb 3,0xfb              ;583d  6f fb

lab_583f:
    bbc 3,0xfb,lab_5881     ;583f  77 fb 3f
    clb 3,0xfb              ;5842  7f fb
    tya                     ;5844  98
    pha                     ;5845  48
    lda 0xbe                ;5846  a5 be
    bne lab_5852            ;5848  d0 08
    ldy #0x07               ;584a  a0 07

lab_584c:
    sta 0x0138,y            ;584c  99 38 01
    dey                     ;584f  88
    bpl lab_584c            ;5850  10 fa

lab_5852:
    pla                     ;5852  68
    lsr a                   ;5853  4a
    tay                     ;5854  a8
    lda 0xbe                ;5855  a5 be
    ora 0x6641,y            ;5857  19 41 66
    sta 0xbe                ;585a  85 be
    cmp #0x0f               ;585c  c9 0f
    bcc lab_5881            ;585e  90 21
    ldy #0x07               ;5860  a0 07

lab_5862:
    lda 0x0138,y            ;5862  b9 38 01
    cmp 0x0130,y            ;5865  d9 30 01
    bne lab_5881            ;5868  d0 17
    dey                     ;586a  88
    bpl lab_5862            ;586b  10 f5
    ldy #0x07               ;586d  a0 07

lab_586f:
    lda 0x0138,y            ;586f  b9 38 01
    sta 0x0140,y            ;5872  99 40 01
    dey                     ;5875  88
    bpl lab_586f            ;5876  10 f7
    seb 2,0xfb              ;5878  4f fb
    clb 5,0xfc              ;587a  bf fc
    ldm #0x00,0xbe          ;587c  3c 00 be
    seb 7,0xf8              ;587f  ef f8

lab_5881:
    rts                     ;5881  60

sub_5882:
    lda 0x40                ;5882  a5 40
    pha                     ;5884  48
    lda 0x89                ;5885  a5 89
    and #0x3f               ;5887  29 3f
    bbc 5,a,lab_588e        ;5889  b3 03
    eor #0x1f               ;588b  49 1f
    inc a                   ;588d  3a

lab_588e:
    sta 0x40                ;588e  85 40
    lda 0x88                ;5890  a5 88
    lsr a                   ;5892  4a
    lsr a                   ;5893  4a
    lsr a                   ;5894  4a
    lsr a                   ;5895  4a
    bbc 4,0x9a,lab_589a     ;5896  97 9a 01
    seb 4,a                 ;5899  8b

lab_589a:
    sta 0x9a                ;589a  85 9a
    lda 0x88                ;589c  a5 88
    asl 0x89                ;589e  06 89
    rol a                   ;58a0  2a
    asl 0x89                ;58a1  06 89
    rol a                   ;58a3  2a
    and #0x3f               ;58a4  29 3f
    bbc 0,0x40,lab_58c3     ;58a6  17 40 1a
    bbs 5,0x40,lab_58b9     ;58a9  a7 40 0d
    clc                     ;58ac  18
    adc #0x1e               ;58ad  69 1e
    cmp #0x3c               ;58af  c9 3c
    bcc lab_58c3            ;58b1  90 10
    sbc #0x3c               ;58b3  e9 3c
    inc 0x9a                ;58b5  e6 9a
    bra lab_58c3            ;58b7  80 0a

lab_58b9:
    sec                     ;58b9  38
    sbc #0x1e               ;58ba  e9 1e
    bpl lab_58c3            ;58bc  10 05
    clc                     ;58be  18
    adc #0x3c               ;58bf  69 3c
    dec 0x9a                ;58c1  c6 9a

lab_58c3:
    cmp 0x9b                ;58c3  c5 9b
    beq lab_58d2            ;58c5  f0 0b
    sta 0x9b                ;58c7  85 9b
    sta 0x62                ;58c9  85 62
    ldm #0x00,0x63          ;58cb  3c 00 63
    seb 0,0xf8              ;58ce  0f f8
    seb 3,0xf8              ;58d0  6f f8

lab_58d2:
    lda 0x40                ;58d2  a5 40
    and #0x1f               ;58d4  29 1f
    lsr a                   ;58d6  4a
    sta 0x89                ;58d7  85 89
    lda 0x9a                ;58d9  a5 9a
    bbs 5,0x40,lab_58e9     ;58db  a7 40 0b
    clc                     ;58de  18
    adc 0x89                ;58df  65 89
    cmp #0x18               ;58e1  c9 18
    bcc lab_58f0            ;58e3  90 0b
    sbc #0x18               ;58e5  e9 18
    bra lab_58f0            ;58e7  80 07

lab_58e9:
    sec                     ;58e9  38
    sbc 0x89                ;58ea  e5 89
    bpl lab_58f0            ;58ec  10 02
    adc #0x18               ;58ee  69 18

lab_58f0:
    sta 0x9a                ;58f0  85 9a
    cmp 0x61                ;58f2  c5 61
    beq lab_58f8            ;58f4  f0 02
    sta 0x61                ;58f6  85 61

lab_58f8:
    pla                     ;58f8  68
    sta 0x40                ;58f9  85 40
    rts                     ;58fb  60

    .byte 0x60              ;58fc  60          DATA 0x60 '`'

sub_58fd:
    cmp #0x01               ;58fd  c9 01
    bne lab_5908            ;58ff  d0 07
    ldm #0xff,0x8f          ;5901  3c ff 8f
    seb 1,0xfb              ;5904  2f fb
    clb 4,0xf9              ;5906  9f f9

lab_5908:
    rts                     ;5908  60

sub_5909:
    lda 0x40                ;5909  a5 40
    pha                     ;590b  48
    ldx #0x00               ;590c  a2 00
    lda #0x1f               ;590e  a9 1f
    mul 0x99,x              ;5910  62 99
    sta 0x40                ;5912  85 40
    pla                     ;5914  68
    lsr a                   ;5915  4a
    ror 0x40                ;5916  66 40
    lsr a                   ;5918  4a
    ror 0x40                ;5919  66 40
    lsr a                   ;591b  4a
    ror 0x40                ;591c  66 40
    lsr a                   ;591e  4a
    ror 0x40                ;591f  66 40
    lsr a                   ;5921  4a
    ror 0x40                ;5922  66 40
    clc                     ;5924  18
    lda 0x40                ;5925  a5 40
    adc 0x98                ;5927  65 98
    sta 0x99                ;5929  85 99
    cmp #0x1a               ;592b  c9 1a
    pla                     ;592d  68
    sta 0x40                ;592e  85 40
    rts                     ;5930  60

sub_5931:
    lda 0x88                ;5931  a5 88
    cmp 0x92                ;5933  c5 92
    beq lab_593b            ;5935  f0 04
    sta 0x92                ;5937  85 92
    bra lab_5949            ;5939  80 0e

lab_593b:
    cmp 0x90                ;593b  c5 90
    beq lab_5949            ;593d  f0 0a
    lda 0x90                ;593f  a5 90
    beq lab_5945            ;5941  f0 02
    seb 5,0xfb              ;5943  af fb

lab_5945:
    lda 0x88                ;5945  a5 88
    sta 0x90                ;5947  85 90

lab_5949:
    lda 0x89                ;5949  a5 89
    cmp 0x93                ;594b  c5 93
    beq lab_5953            ;594d  f0 04
    sta 0x93                ;594f  85 93
    bra lab_5961            ;5951  80 0e

lab_5953:
    cmp 0x91                ;5953  c5 91
    beq lab_5961            ;5955  f0 0a
    lda 0x91                ;5957  a5 91
    beq lab_595d            ;5959  f0 02
    seb 5,0xfb              ;595b  af fb

lab_595d:
    lda 0x89                ;595d  a5 89
    sta 0x91                ;595f  85 91

lab_5961:
    lda 0x90                ;5961  a5 90
    cmp 0x92                ;5963  c5 92
    bne lab_5979            ;5965  d0 12
    lda 0x91                ;5967  a5 91
    cmp 0x93                ;5969  c5 93
    bne lab_5979            ;596b  d0 0c
    seb 4,0xfb              ;596d  8f fb
    bbs 5,0xfd,lab_5979     ;596f  a7 fd 07
    lda #0x00               ;5972  a9 00
    sta 0x02b7              ;5974  8d b7 02
    clb 2,0xe5              ;5977  5f e5

lab_5979:
    rts                     ;5979  60

sub_597a:
    seb 0,0xf9              ;597a  0f f9
    lda 0x41                ;597c  a5 41
    pha                     ;597e  48
    lda 0x40                ;597f  a5 40
    pha                     ;5981  48
    ldm #0x1e,0x40          ;5982  3c 1e 40
    lda 0x73                ;5985  a5 73
    sta 0x41                ;5987  85 41

lab_5989:
    bbs 0,0xf5,lab_598f     ;5989  07 f5 03
    bbc 3,0xf3,lab_599f     ;598c  77 f3 10

lab_598f:
    lda 0x73                ;598f  a5 73
    cmp #0xff               ;5991  c9 ff
    bne lab_5999            ;5993  d0 04
    sta 0x41                ;5995  85 41
    bra lab_599f            ;5997  80 06

lab_5999:
    lda 0x41                ;5999  a5 41
    cmp #0xff               ;599b  c9 ff
    beq lab_59d1            ;599d  f0 32

lab_599f:
    bbs 2,0xe6,lab_59d1     ;599f  47 e6 2f
    bbs 1,0xe8,lab_59a8     ;59a2  27 e8 03     Branch if TechniSat protocol is active
    bbs 0,0xe8,lab_59d1     ;59a5  07 e8 29

lab_59a8:
    bbc 5,0xf8,lab_5989     ;59a8  b7 f8 de
    clb 5,0xf8              ;59ab  bf f8
    bbc 2,0xf9,lab_59bc     ;59ad  57 f9 0c
    bbc 3,0xf9,lab_59bc     ;59b0  77 f9 09
    jsr sub_5489            ;59b3  20 89 54
    jsr sub_54fd            ;59b6  20 fd 54
    jsr sub_5616            ;59b9  20 16 56

lab_59bc:
    dec 0x40                ;59bc  c6 40
    beq lab_59d1            ;59be  f0 11
    lda 0x92                ;59c0  a5 92
    beq lab_5989            ;59c2  f0 c5
    lda 0x93                ;59c4  a5 93
    beq lab_5989            ;59c6  f0 c1
    bbs 0,0xfa,lab_59ce     ;59c8  07 fa 03
    bbc 1,0xfa,lab_5989     ;59cb  37 fa bb

lab_59ce:
    sec                     ;59ce  38
    bra lab_59d2            ;59cf  80 01

lab_59d1:
    clc                     ;59d1  18

lab_59d2:
    pla                     ;59d2  68
    sta 0x40                ;59d3  85 40
    pla                     ;59d5  68
    sta 0x41                ;59d6  85 41
    rts                     ;59d8  60

sub_59d9:
    seb 0,0x00f9            ;59d9  0f f9
    lda 0x0040              ;59db  a5 40
    pha                     ;59dd  48
    ldm #0x32,0x0040        ;59de  3c 32 40

lab_59e1:
    bbc 5,0x00f8,lab_59e1   ;59e1  b7 f8 fd
    clb 5,0x00f8            ;59e4  bf f8
    bbc 2,0x00f9,lab_59f5   ;59e6  57 f9 0c
    bbc 3,0x00f9,lab_59f5   ;59e9  77 f9 09
    jsr sub_5489            ;59ec  20 89 54
    jsr sub_54fd            ;59ef  20 fd 54
    jsr sub_5616            ;59f2  20 16 56

lab_59f5:
    dec 0x0040              ;59f5  c6 40
    bne lab_59e1            ;59f7  d0 e8
    pla                     ;59f9  68
    sta 0x0040              ;59fa  85 40
    rts                     ;59fc  60

mem_59fd:
    .word 0x20b0            ;59fd   2 bytes at 0x00b0   (index 0)
    .word 0x10f0            ;59ff   2 bytes at 0x00f0   (index 1)
    .word 0x10f1            ;5a01   1 byte  at 0x00f1   (index 2)
    .word 0x10f2            ;5a03   1 byte  at 0x00f2   (index 3)
    .word 0x10e9            ;5a05   1 byte  at 0x00e9   (index 4)
    .word 0x1288            ;5a07   1 byte  at 0x0288   (index 5)
    .word 0x1050            ;5a98   1 byte  at 0x0050   (index 6)
    .word 0x1071            ;5a0b   1 byte  at 0x0071   (index 7)
    .word 0x2090            ;5a0d   2 bytes at 0x0090   (index 8)
    .word 0x10ff            ;5a0f   1 byte  at 0x00ff   (index 9)

;ISR for INT_FFF6
;Serial I/O 1 reception
lab_5a11:
    pha                     ;5a11  48
    tya                     ;5a12  98
    pha                     ;5a13  48

    lda TB_RB               ;5a14  a5 18        A = byte received from UART
    bbs 1,0xe8,lab_5a2c     ;5a16  27 e8 13     Branch if TechniSat protocol is active

    ldy 0x05c5              ;5a19  ac c5 05
    cpy #0x04               ;5a1c  c0 04
    bcc lab_5a22            ;5a1e  90 02        Branch if < 4

    ldy #0x00               ;5a20  a0 00

lab_5a22:
    sta 0x05c1,y            ;5a22  99 c1 05
    iny                     ;5a25  c8
    sty 0x05c5              ;5a26  8c c5 05
    jmp lab_5a32            ;5a29  4c 32 5a

lab_5a2c:
    bbs 6,0xe5,lab_5a32     ;5a2c  c7 e5 03
    jsr sub_5a36            ;5a2f  20 36 5a     Process TechniSat protocol byte received

lab_5a32:
    pla                     ;5a32  68
    tay                     ;5a33  a8
    pla                     ;5a34  68
    rti                     ;5a35  40

;New TechniSat protocol byte received from UART
;Byte is A register
;Called from ISR at lab_5a11
sub_5a36:
    ldy 0x0320              ;5a36  ac 20 03     Y = number of bytes received
    bne lab_5a5e_not_first  ;5a39  d0 23        Branch if any bytes were already received

    cmp #0x00               ;5a3b  c9 00        Is the received byte = 0?
    beq lab_5a48_got_zero   ;5a3d  f0 09          Yes: branch

    cmp 0x0342              ;5a3f  cd 42 03
    bne lab_5a5c_not_0x0342 ;5a42  d0 18        Branch to RTS

    ;Byte received equals byte in 0x0342

    seb 7,0xe8              ;5a44  ef e8
    bra lab_5a4a            ;5a46  80 02

lab_5a48_got_zero:
    clb 7,0xe8              ;5a48  ff e8

;first byte received
lab_5a4a:
    sta 0x0343              ;5a4a  8d 43 03     Store byte as initial value of checksum
    clb 7,IREQ1             ;5a4d  ff 3c

    lda #0x00               ;5a4f  a9 00
    sta 0x0344              ;5a51  8d 44 03     Store as TechniSat protocol status byte

    ldm #0x31,T2            ;5a54  3c 31 22
    seb 7,ICON1             ;5a57  ef 3e

    inc 0x0320              ;5a59  ee 20 03     Increment number of bytes received

lab_5a5c_not_0x0342:
    bra lab_5ab4_rts        ;5a5c  80 56        Branch to RTS

;not first byte received
lab_5a5e_not_first:
    sta 0x0320,y            ;5a5e  99 20 03     Store byte in UART rx buffer

    ;branches if 0x320 > (0x321 + 2)
    ;number of bytes received > (first byte received + 2)
    ldy 0x0321              ;5a61  ac 21 03     Y = rx buffer byte 1
    iny                     ;5a64  c8           Y=Y+2
    iny                     ;5a65  c8
    cpy 0x0320              ;5a66  cc 20 03     Compare to 0x0320 (number of bytes received)
    bcc lab_5a7a            ;5a69  90 0f

    clc                     ;5a6b  18
    adc 0x0343              ;5a6c  6d 43 03
    sta 0x0343              ;5a6f  8d 43 03     Update checksum
    inc 0x0320              ;5a72  ee 20 03     Increment number of bytes received
    ldm #0x31,T2            ;5a75  3c 31 22
    bra lab_5ab4_rts        ;5a78  80 3a        Branch to RTS

lab_5a7a:
    lda 0x0343              ;5a7a  ad 43 03     A = expected checksum byte
    eor #0xff               ;5a7d  49 ff
    ldy 0x0320              ;5a7f  ac 20 03     Get number of bytes received
    cmp 0x0320,y            ;5a82  d9 20 03     Compare to last byte of rx buffer
    beq lab_5a91_csum_good  ;5a85  f0 0a

    ;checksum is bad

    lda #0x03               ;5a87  a9 03
    sta 0x0344              ;5a89  8d 44 03     Store as TechniSat protocol status byte

    lda #0x5e               ;5a8c  a9 5e
    sta 0x0322              ;5a8e  8d 22 03     Store in uart rx buffer byte 2

lab_5a91_csum_good:
;checksum is good or fell through from checksum is bad
    lda 0x0322              ;5a91  ad 22 03     A = UART rx buffer byte 2
    cmp #0x40               ;5a94  c9 40
    bne lab_5aaa_not_0x40   ;5a96  d0 12

    ;0x0322 = 40

    lda 0x0323              ;5a98  ad 23 03     A = UART rx buffer byte 3 (TODO command?)
    sta 0x73                ;5a9b  85 73

    seb 0,0xf7              ;5a9d  0f f7
    ldm #0x12,0x5e          ;5a9f  3c 12 5e
    lda #0x5e               ;5aa2  a9 5e
    sta 0x75                ;5aa4  85 75
    seb 2,0xf7              ;5aa6  4f f7
    bra lab_5ab1            ;5aa8  80 07

lab_5aaa_not_0x40:
    sta 0x73                ;5aaa  85 73
    seb 0,0xf7              ;5aac  0f f7
    ldm #0x00,0x5e          ;5aae  3c 00 5e

lab_5ab1:
    ldm #0x31,T2            ;5ab1  3c 31 22

lab_5ab4_rts:
    rts                     ;5ab4  60


;ISR for INT_FFEC (Timer 2)
lab_5ab5:
    bbc 4,0xeb,lab_5abb     ;5ab5  97 eb 03
    jmp lab_c684            ;5ab8  4c 84 c6

lab_5abb:
    pha                     ;5abb  48
    clb 7,ICON1             ;5abc  ff 3e
    lda #0x00               ;5abe  a9 00        A = 0 bytes received
    sta 0x0320              ;5ac0  8d 20 03     Store as number of bytes received
    pla                     ;5ac3  68
    rti                     ;5ac4  40


;Send byte in A out UART, also save byte in 0x05b5 and set bit 3 of 0x00e8
sub_5ac5:
    sei                     ;5ac5  78
    sta TB_RB               ;5ac6  85 18        Store byte in transmit register
    sta 0x05b5              ;5ac8  8d b5 05
    seb 3,0xe8              ;5acb  6f e8
    cli                     ;5acd  58
lab_5ace:
    bbc 0,SIO1STS,lab_5ace  ;5ace  17 19 fd     Wait until transmit buffer empty flag = empty
lab_5ad1:
    bbc 2,SIO1STS,lab_5ad1  ;5ad1  57 19 fd     Wait until transmit shift complete flag = complete
    rts                     ;5ad4  60


;Send byte in A out the UART
sub_5ad5:
    sta TB_RB               ;5ad5  85 18        Store byte in transmit register
lab_5ad7:
    bbc 0,SIO1STS,lab_5ad7  ;5ad7  17 19 fd     Wait until transmit buffer empty flag = empty
lab_5ada:
    bbc 2,SIO1STS,lab_5ada  ;5ada  57 19 fd     Wait until transmit shift complete flag = complete
    nop                     ;5add  ea
    rts                     ;5ade  60


;TechniSat protocol command 0x5E
;Send 10 01 5E <0x0344> CS status response
sub_5adf_stat_resp:
    ldm #0xff,0x75          ;5adf  3c ff 75
    clb 2,0xf7              ;5ae2  5f f7
    bbc 7,0xe8,lab_5b10     ;5ae4  f7 e8 29     Branch if 0xE8 bit 7 is clear

    ;0xE8 Bit 7 is set

    seb 6,0xe5              ;5ae7  cf e5

    lda #0x10               ;5ae9  a9 10
    jsr sub_5ad5            ;5aeb  20 d5 5a     Send byte 0x10

    lda #0x01               ;5aee  a9 01
    jsr sub_5ad5            ;5af0  20 d5 5a     Send byte 0x01

    lda #0x5e               ;5af3  a9 5e
    jsr sub_5ad5            ;5af5  20 d5 5a     Send byte 0x5e

    lda 0x0344              ;5af8  ad 44 03
    jsr sub_5ad5            ;5afb  20 d5 5a     Send byte in 0x0344 (status code)

    clc                     ;5afe  18           Clear carry for checksum calculation
    lda #0x10+0x01+0x5e     ;5aff  a9 6f        Start with the sum of 0x10 + 0x01 + 0x5e
    adc 0x0344              ;5b01  6d 44 03     Add the status code byte
    eor #0xff               ;5b04  49 ff        XOR to finish the checksum calculation
    jsr sub_5ad5            ;5b06  20 d5 5a     Send checksum byte

    ldy #0x01               ;5b09  a0 01
    jsr sub_f22c_delay      ;5b0b  20 2c f2     Delay an unknown time period for Y iterations

    clb 6,0xe5              ;5b0e  df e5

lab_5b10:
    lda #0x00               ;5b10  a9 00        A = 0 bytes received
    sta 0x0320              ;5b12  8d 20 03     Store as number of bytes received
    rts                     ;5b15  60

lab_5b16:
    seb 0,0xe8              ;5b16  0f e8
    seb 1,0xe8              ;5b18  2f e8        Set flag = TechniSat protocol is active
    seb 7,SIO1CON           ;5b1a  ef 1a        Serial I/O1 enabled bit = enabled
    rts                     ;5b1c  60

lab_5b1d:
    lda #0x01               ;5b1d  a9 01
    sta 0x0342              ;5b1f  8d 42 03
    seb 7,0xe8              ;5b22  ef e8
    ldm #0x40,BRG           ;5b24  3c 40 1c     Baud rate = 9600 bps
    clb 6,0xe9              ;5b27  df e9        Clear bit 6 = Enable EEPROM filtering
    lda #0x00               ;5b29  a9 00
    sta 0x0344              ;5b2b  8d 44 03     Store as TechniSat protocol status byte

    ldy #0x01               ;5b2e  a0 01
    jsr sub_f22c_delay      ;5b30  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_5adf_stat_resp  ;5b33  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5b36  60

;TechniSat protocol command 0x5F
;Disconnect (terminate session)
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x00     number of parameters                0x0321
;  0x5F     command (0x5F = disconnect)         0x0322
;  <CS>     checksum                            0x0322
;
;Response block:
;  10 01 5E 00 90
;
sub_5b37_cmd_5f:
    ldy #0x01               ;5b37  a0 01
    jsr sub_f22c_delay      ;5b39  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_5adf_stat_resp  ;5b3c  20 df 5a     Send 10 01 5E <0x0344> CS status response

    ldm #0x40,BRG           ;5b3f  3c 40 1c     Baud rate = 9600 bps
    clb 6,0xe9              ;5b42  df e9        Clear bit 6 = Enable EEPROM filtering
    clb 0,0xef              ;5b44  1f ef
    jsr sub_b40f_disconnect ;5b46  20 0f b4     Terminate KWP1281 or TechniSat session
    rts                     ;5b49  60

;TechniSat protocol command 0x42
;Perform an I2C write-then-read transaction
;Accessing the two EEPROMs is not allowed but all other I2C devices are permitted.
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x00     number of parameters                                0x0321
;  0x42     command (0x42)                                      0x0322
;   xx      param 0 number of I2C bytes to write                0x0323  (up to 16)
;   xx      param 1 number of I2C bytes to read                 0x0324  (up to 16)
;   xx      param 2 I2C control byte (address & direction bit)  0x0325  (must not be 0xA0 - 0xAF)
;   xx      param 3 ...up to 15 more I2C bytes to write...        xx
;  <CS>     checksum                                              xx
;
;Response block after successful I2C transaction (example shows 3 bytes of I2C data read):
;  0x10     unknown                          <not in buffer>
;  0x03     number params (3)                0x325
;  0x42     response 0x42                    0x326     (The addresses are not an
;   xx      param 0: i2c data read byte 0    0x327      error!  The response is
;   xx      param 1: i2c data read byte 1    0x328      sent from the rx buffer!)
;   xx      param 2: i2c data read byte 0    0x329
;   xx      checksum                         <not in buffer>
;
;Response block if request is invalid:
;  10 01 5E 10 CS
;
sub_5b4a_cmd_42:
    bbc 7,0xe8,lab_5bba_rts ;5b4a  f7 e8 6d     Branch if 0xE8 bit 7 is clear

    ;0xE8 Bit 7 is set

    ldy #0x01               ;5b4d  a0 01
    jsr sub_f22c_delay      ;5b4f  20 2c f2     Delay an unknown time period for Y iterations

    ;I2C control byte (address & direction) must not be 0xA0-0xAF
    ;This is to prevent accessing the two EEPROMs
    lda 0x0325              ;5b52  ad 25 03     A = param 2: i2c control byte (address & direction bit)
    and #0xf0               ;5b55  29 f0
    cmp #0x50<<1            ;5b57  c9 a0        EEPROM addresses are 0x50, 0x51
    beq lab_5bb2_invalid    ;5b59  f0 57

    ;Set I2C buffer pointer (0x004C) to point to Param 2 (0x0325)
    lda #0x25               ;5b5b  a9 25
    sta 0x4c                ;5b5d  85 4c        Store as buffer address low byte
    lda #0x03               ;5b5f  a9 03
    sta 0x4d                ;5b61  85 4d        Store as buffer address high byte

    ;Param 0 (number of bytes to write) must be 0x00-0x10
    lda 0x0323              ;5b63  ad 23 03     A = param 0
    sta 0x4e                ;5b66  85 4e        Store as number of bytes to write to the EEPROM
    cmp #0x11               ;5b68  c9 11
    bcs lab_5bb2_invalid    ;5b6a  b0 46        Branch if >= 0x11

    ;Param 1 (number of bytes to read) must be 0x00-0x10
    lda 0x0324              ;5b6c  ad 24 03     A = param 1
    sta 0x4f                ;5b6f  85 4f        Store as number of bytes to read from the EEPROM
    cmp #0x11               ;5b71  c9 11
    bcs lab_5bb2_invalid    ;5b73  b0 3d        Branch if >= 0x11

    ;sub_46e5_i2c_wr_rd wants:
    ;  0x004C-0x004D pointer to an I2C data buffer
    ;                first byte of buffer contains I2C control byte (address & direction)
    ;  0x004E = number of bytes to write to the I2C device (read from pointer + 1...)
    ;  0x004F = number of bytes to read from the I2C device (written to pointer + 2...)

    jsr sub_46e5_i2c_wr_rd  ;5b75  20 e5 46     Perform an I2C write-then-read transaction

    ;The code below is confusing because sub_46e5_i2c_wr_rd uses the same buffer
    ;for the write and read operations.  This means that the I2C data is returned to
    ;to us in the receive buffer.  We are sending the response from the receive buffer!

    ;Store "number of params" for response
    lda 0x4f                ;5b78  a5 4f        A = number of I2C bytes read from device
    sta 0x0325              ;5b7a  8d 25 03     Store as response: number of params

    ;Set up counter used to send response bytes
    ;0x4F contains number of I2C bytes from from device
    inc 0x4f                ;5b7d  e6 4f        +1 for number of params byte
    inc 0x4f                ;5b7f  e6 4f        +1 for response title 0x42

    ;Store "title" for response
    lda #0x42               ;5b81  a9 42        A = 0x42
    sta 0x0326              ;5b83  8d 26 03     Store as response: title 0x42

    seb 6,0xe5              ;5b86  cf e5

    ;Send first byte of response (0x10)
    lda #0x10               ;5b88  a9 10        A = 0x10 (first byte of response)
    sta 0x0343              ;5b8a  8d 43 03     Start checksum with byte 0x10
    jsr sub_5ad5            ;5b8d  20 d5 5a     Send byte 0x10

    ;Send the buffer (everything after the 0x10 and before the checksum)

    ldy #0x00               ;5b90  a0 00
lab_5b92_loop:
    lda 0x0325,y            ;5b92  b9 25 03     A = byte from buffer
    jsr sub_5ad5            ;5b95  20 d5 5a     Send byte

    clc                     ;5b98  18           Clear carry for checksum addition
    adc 0x0343              ;5b99  6d 43 03     Add current byte to checksum
    sta 0x0343              ;5b9c  8d 43 03     Store updated checksum

    iny                     ;5b9f  c8           Increment number of bytes sent
    cpy 0x4f                ;5ba0  c4 4f        Compare to number of bytes to read from EEPROM
    bcc lab_5b92_loop       ;5ba2  90 ee        Loop if more bytes to read

    ;Done sending the buffer.  Now send the checksum.

    eor #0xff               ;5ba4  49 ff        XOR to finish the checksum calculation
    jsr sub_5ad5            ;5ba6  20 d5 5a     Send checksum byte

    ;The entire response has been sent.

    ldy #0x01               ;5ba9  a0 01
    jsr sub_f22c_delay      ;5bab  20 2c f2     Delay an unknown time period for Y iterations

    clb 6,0xe5              ;5bae  df e5
    bra lab_5bba_rts        ;5bb0  80 08

lab_5bb2_invalid:
    lda #0x10               ;5bb2  a9 10
    sta 0x0344              ;5bb4  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5adf_stat_resp  ;5bb7  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_5bba_rts:
    rts                     ;5bba  60

;TechniSat protocol command 0x43
;Perform an I2C write-only transaction
;Accessing the two EEPROMs is not allowed but all other I2C devices are permitted.
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x00     number of parameters                                0x0321
;  0x43     command (0x43)                                      0x0322
;   xx      param 0 number of I2C bytes to write                0x0323
;  0x00     param 1 ignored                                     0x0324
;   xx      param 2 I2C control byte (address & direction bit)  0x0325  (must not be 0xA0 - 0xAF)
;   xx      param 3 ...up to 15 more I2C bytes to write...        xx
;  <CS>     checksum                                              xx
;
;Response block after successful I2C transaction:
;  10 01 5E 00 CS (TODO verify this)
;
;Response block if request is invalid:
;  10 01 5E 10 CS
;
sub_5bbb_cmd_43:
    ldy #0x01               ;5bbb  a0 01
    jsr sub_f22c_delay      ;5bbd  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x10               ;5bc0  a9 10
    sta 0x0344              ;5bc2  8d 44 03     Store as TechniSat protocol status byte

    ;I2C control byte (address & direction) must not be 0xA0-0xAF
    ;This is to prevent accessing the two EEPROMs
    lda 0x0325              ;5bc5  ad 25 03     A = param 2: i2c control byte (address & direction bit)
    and #0xf0               ;5bc8  29 f0
    cmp #0x50<<1            ;5bca  c9 a0        EEPROM addresses are 0x50, 0x51
    beq lab_5be7_done       ;5bcc  f0 19

    lda #0x00               ;5bce  a9 00
    sta 0x0344              ;5bd0  8d 44 03     Store as TechniSat protocol status byte

    ;Set I2C buffer pointer (0x004C) to point to Param 2 (0x0325)
    lda #0x25               ;5bd3  a9 25
    sta 0x4c                ;5bd5  85 4c        Store as buffer address low byte
    lda #0x03               ;5bd7  a9 03
    sta 0x4d                ;5bd9  85 4d        Store as buffer address high byte

    ;Set number of bytes to write
    lda 0x0323              ;5bdb  ad 23 03     A = param 0
    sta 0x4e                ;5bde  85 4e        Store as number of bytes to write

    ;Force number of bytes to read to 0
    lda #0x00               ;5be0  a9 00        A = 0
    sta 0x4f                ;5be2  85 4f        Store as number of bytes to read

    ;sub_46e5_i2c_wr_rd wants:
    ;  0x004C-0x004D pointer to buffer that will receive EEPROM contents
    ;                first two bytes of the buffer contain the EEPROM address
    ;  0x004E = number of bytes to write to the EEPROM
    ;  0x004F = number of bytes to read from the EEPROM

    jsr sub_46e5_i2c_wr_rd  ;5be4  20 e5 46     Perform an I2C write-then-read transaction

    ;Fall through into lab_5be7_done.
    ;This means sub_46e5_i2c_wr_rd returns A=0 (TODO verify this).

lab_5be7_done:
    jsr sub_5adf_stat_resp  ;5be7  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5bea  60

;TechniSat protocol command 0x44
;Read RAM in allowed range
;Allows reading all bytes 0x0000-0x053f
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x00     number of parameters                             0x0321
;  0x42     command (0x42)                                   0x0322
;   xx      param 0: address low                             0x0323
;   xx      param 1: address high                            0x0324
;   xx      param 2: number of bytes to read                 0x0325
;  <CS>     checksum                                         0x0326
;
;TODO response block
;
sub_5beb_cmd_44:
    bbc 7,0xe8,lab_5c2d_rts ;5beb  f7 e8 3f     Branch if 0xE8 Bit 7 is clear

    ;0xE8 Bit 7 is set

    ldy #0x01               ;5bee  a0 01
    jsr sub_f22c_delay      ;5bf0  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5bf3  ad 23 03     A = param 0 (address low)
    sta 0x4c                ;5bf6  85 4c

    lda 0x0324              ;5bf8  ad 24 03     A = param 1 (address high)
    sta 0x4d                ;5bfb  85 4d

    lda 0x0325              ;5bfd  ad 25 03     A = param 2 (number of bytes to read)
    sta 0x4f                ;5c00  85 4f

    ;TODO is this a range check based on 0x0325?

    dec a                   ;5c02  1a           Decrement number of bytes to read
    clc                     ;5c03  18
    adc 0x4c                ;5c04  65 4c        Add memory address low byte
    sta 0x4e                ;5c06  85 4e        Store in ?? end address ?? low

    lda #0x00               ;5c08  a9 00
    adc 0x4d                ;5c0a  65 4d        Add memory address high byte
    cmp #0x05               ;5c0c  c9 05
    bcc lab_5c18_valid      ;5c0e  90 08        Branch if less
    bne lab_5c25_invalid    ;5c10  d0 13

    lda 0x4e                ;5c12  a5 4e
    cmp #0x40               ;5c14  c9 40
    bcs lab_5c25_invalid     ;5c16  b0 0d

lab_5c18_valid:
    ldm #0x00,0x4e          ;5c18  3c 00 4e
    lda #0x00               ;5c1b  a9 00
    sta 0x0344              ;5c1d  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5e05_send_mem   ;5c20  20 05 5e     Send 10 4F 44 <data [0x4c],y...> CS
                            ;                     Pointer to memory address in 0x004C
                            ;                     Number of bytes to send in 0x4F
    bra lab_5c2d_rts        ;5c23  80 08

lab_5c25_invalid:
    lda #0x04               ;5c25  a9 04
    sta 0x0344              ;5c27  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5adf_stat_resp  ;5c2a  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_5c2d_rts:
    rts                     ;5c2d  60

;TechniSat protocol command 0x45
;Write to RAM or disable EEPROM filtering
;
;Write arbitrary data to some areas of RAM (see sub_5e47).
;Notably, the allowed areas include 0x0040-0x053f.  That's the
;first 1.5K of RAM (including the stack!).
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x03     number of parameters                0x321
;  0x45     command (0x45 = write ram)          0x322
;  0x0c     param 0: memory address low         0x323
;  0x00     param 1: memory address high        0x324
;           ... bytes to write ...              0x325...
;  <CS>     checksum                              xx
;
;If the address given is a magic number, instead of writing to
;RAM, disable the EEPROM filtering and perform other unknown
;functions.  Disabling the EEPROM filtering can also be done
;with command 0x4D and this may be preferable; see sub_5db3_cmd_4d.
;
sub_5c2e_cmd_45:
    ldy #0x01               ;5c2e  a0 01
    jsr sub_f22c_delay      ;5c30  20 2c f2     Delay an unknown time period for Y iterations

    ;Store address to write, or magic number, as word in 0x004C
    lda 0x0323              ;5c33  ad 23 03     A = uart rx buffer byte 3
    sta 0x4c                ;5c36  85 4c        Store as write address low byte or magic number low byte
    lda 0x0324              ;5c38  ad 24 03     A = uart rx buffer byte 4 (magic number; see below)
    sta 0x4d                ;5c3b  85 4d        Store as write address high byte or magic number high byte

    ;Store number of bytes to write as word in 0x004E
    ;(High byte is forced to zero)
    lda 0x0321              ;5c3d  ad 21 03     A = uart rx buffer byte 1 (number of parameters)
    dec a                   ;5c40  1a           -1 for address low
    dec a                   ;5c41  1a           -1 for address high
    sta 0x4e                ;5c42  85 4e        Store number of bytes to write
    ldm #0x00,0x4f          ;5c44  3c 00 4f

    ;Check for magic number in address
    jsr sub_5e84            ;5c47  20 84 5e     Disable EEPROM filtering based on magic number in 0x4c/0x4d
    bcs lab_5c6b_not_magic  ;5c4a  b0 1f        Branch if magic number check failed

    ;Address is the magic number
    bbc 0,0xf1,lab_5c61     ;5c4c  17 f1 12
    clb 7,0xf0              ;5c4f  ff f0
    clb 0,0xf1              ;5c51  1f f1
    clb 1,0xf1              ;5c53  3f f1
    jsr sub_4c63            ;5c55  20 63 4c     TODO unknown I2C activities
    bbs 3,0xe6,lab_5c61     ;5c58  67 e6 06
    jsr sub_2835            ;5c5b  20 35 28
    jsr sub_2921            ;5c5e  20 21 29

lab_5c61:
    lda #0x20               ;5c61  a9 20
    sta 0x0344              ;5c63  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5adf_stat_resp  ;5c66  20 df 5a     Send 10 01 5E <0x0344> CS status response
    bra lab_5c7d_rts        ;5c69  80 12        Branch to return

lab_5c6b_not_magic:
    ;Address is not the magic number
    ;Perform a memory write with address in 0x004C and number of bytes to write in 0x004E

    lda #0x00               ;5c6b  a9 00
    sta 0x0344              ;5c6d  8d 44 03     Store as TechniSat protocol status byte

    jsr sub_5e47            ;5c70  20 47 5e     Write to allowed memory from uart rx buffer to [0x4c,x]
                            ;                     Allowed ranges = 0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
    bcc lab_5c7a_success    ;5c73  90 05        Branch if success

    lda #0x04               ;5c75  a9 04
    sta 0x0344              ;5c77  8d 44 03     Store as TechniSat protocol status byte

lab_5c7a_success:
    jsr sub_5adf_stat_resp  ;5c7a  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_5c7d_rts:
    rts                     ;5c7d  60

;TechniSat protocol command 0x46
;AND one memory address in allowed ranges with complement of a value
;allowed ranges = 0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
sub_5c7e_cmd_46:
    ldy #0x01               ;5c7e  a0 01
    jsr sub_f22c_delay      ;5c80  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5c83  ad 23 03     A = uart rx buffer byte 3
    sta 0x4c                ;5c86  85 4c

    lda 0x0324              ;5c88  ad 24 03     A = uart rx buffer byte 4
    sta 0x4d                ;5c8b  85 4d

    lda 0x0325              ;5c8d  ad 25 03     A = uart rx buffer byte 5
    sta 0x4e                ;5c90  85 4e
    com 0x4e                ;5c92  44 4e

    ldm #0x00,0x4f          ;5c94  3c 00 4f

    jsr sub_5e62            ;5c97  20 62 5e     Check if word in 0x4c is in allowed ranges:
                            ;                     0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
    bcs lab_5ca9_failed     ;5c9a  b0 0d        Branch if not allowed

    ldy #0x00               ;5c9c  a0 00
    sty 0x0344              ;5c9e  8c 44 03     Store as TechniSat protocol status byte

    lda [0x4c],y            ;5ca1  b1 4c
    and 0x4e                ;5ca3  25 4e
    sta [0x4c],y            ;5ca5  91 4c
    bra lab_5cae            ;5ca7  80 05

lab_5ca9_failed:
    lda #0x04               ;5ca9  a9 04
    sta 0x0344              ;5cab  8d 44 03     Store as TechniSat protocol status byte

lab_5cae:
    jsr sub_5adf_stat_resp  ;5cae  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5cb1  60

;TechniSat protocol command 0x47
;OR one memory address in allowed ranges with a value
;allowed ranges = 0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
sub_5cb2_cmd_47:
    ldy #0x01               ;5cb2  a0 01
    jsr sub_f22c_delay      ;5cb4  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5cb7  ad 23 03     A = uart rx buffer byte 3 (Address low byte)
    sta 0x4c                ;5cba  85 4c

    lda 0x0324              ;5cbc  ad 24 03     A = uart rx buffer byte 4 (Address high byte)
    sta 0x4d                ;5cbf  85 4d

    lda 0x0325              ;5cc1  ad 25 03     A = uart rx buffer byte 5 (Mask for OR)
    sta 0x4e                ;5cc4  85 4e

    ldm #0x00,0x4f          ;5cc6  3c 00 4f

    jsr sub_5e62            ;5cc9  20 62 5e     Check if word in 0x4c is in allowed ranges:
                            ;                     0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
    bcs lab_5cdb_failed     ;5ccc  b0 0d        Branch if not allowed

    ldy #0x00               ;5cce  a0 00
    sty 0x0344              ;5cd0  8c 44 03     Store as TechniSat protocol status byte

    lda [0x4c],y            ;5cd3  b1 4c
    ora 0x4e                ;5cd5  05 4e
    sta [0x4c],y            ;5cd7  91 4c
    bra lab_5ce0            ;5cd9  80 05

lab_5cdb_failed:
    lda #0x06               ;5cdb  a9 06
    sta 0x0344              ;5cdd  8d 44 03     Store as TechniSat protocol status byte

lab_5ce0:
    jsr sub_5adf_stat_resp  ;5ce0  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5ce3  60

;TechniSat protocol command 0x4a
;? mem_59fd read bytes [0x4c],y
sub_5ce4_cmd_4a:
    bbc 7,0xe8,lab_5d21_rts ;5ce4  f7 e8 3a     Branch if 0xE8 Bit 7 is clear

    ;0xE8 Bit 7 is set

    ldy #0x01               ;5ce7  a0 01
    jsr sub_f22c_delay      ;5ce9  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5cec  ad 23 03     A = uart rx buffer byte 3
    cmp #0x0a               ;5cef  c9 0a        Compare to number of words in mem_59fd
    bcs lab_5d19_failed     ;5cf1  b0 26        Branch if out of range

    asl a                   ;5cf3  0a           * 2 to calculate offset of word
    tay                     ;5cf4  a8

    lda mem_59fd,y          ;5cf5  b9 fd 59
    sta 0x4c                ;5cf8  85 4c

    lda mem_59fd+1,y        ;5cfa  b9 fe 59
    and #0x0f               ;5cfd  29 0f
    sta 0x4d                ;5cff  85 4d

    ldm #0x00,0x4e          ;5d01  3c 00 4e
    ldm #0x01,0x4f          ;5d04  3c 01 4f
    lda mem_59fd+1,y        ;5d07  b9 fe 59

    bbc 5,a,lab_5d0f        ;5d0a  b3 03
    ldm #0x02,0x4f          ;5d0c  3c 02 4f

lab_5d0f:
    lda #0x00               ;5d0f  a9 00
    sta 0x0344              ;5d11  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5e05_send_mem   ;5d14  20 05 5e     Send 10 4F 44 <data [0x4c],y...> CS
                            ;                     Pointer to memory address in 0x004C
                            ;                     Number of bytes to send in 0x4F
    bra lab_5d1e            ;5d17  80 05

lab_5d19_failed:
    lda #0x06               ;5d19  a9 06
    sta 0x0344              ;5d1b  8d 44 03     Store as TechniSat protocol status byte

lab_5d1e:
    jsr sub_5adf_stat_resp  ;5d1e  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_5d21_rts:
    rts                     ;5d21  60

;TechniSat protocol command 0x4b
;? mem_59fd write bytes [0x4c,x]
sub_5d22_cmd_4b:
    ldy #0x01               ;5d22  a0 01
    jsr sub_f22c_delay      ;5d24  20 2c f2     Delay an unknown time period for Y iterations
    lda 0x0323              ;5d27  ad 23 03     A = uart rx buffer byte 3
    cmp #0x0a               ;5d2a  c9 0a
    bcs lab_5d60_failed     ;5d2c  b0 32
    asl a                   ;5d2e  0a
    tay                     ;5d2f  a8

    lda mem_59fd,y          ;5d30  b9 fd 59
    sta 0x4c                ;5d33  85 4c

    lda mem_59fd+1,y        ;5d35  b9 fe 59
    and #0x0f               ;5d38  29 0f
    sta 0x4d                ;5d3a  85 4d

    ldm #0x01,0x4e          ;5d3c  3c 01 4e
    lda mem_59fd+1,y        ;5d3f  b9 fe 59
    bbc 5,a,lab_5d47        ;5d42  b3 03
    ldm #0x02,0x4e          ;5d44  3c 02 4e

lab_5d47:
    ldm #0x00,0x4f          ;5d47  3c 00 4f

    lda 0x0325              ;5d4a  ad 25 03     A = uart rx buffer byte 5
    sta 0x0326              ;5d4d  8d 26 03

    lda 0x0324              ;5d50  ad 24 03     A = uart rx buffer byte 4
    sta 0x0325              ;5d53  8d 25 03

    lda #0x00               ;5d56  a9 00
    sta 0x0344              ;5d58  8d 44 03     Store as TechniSat protocol status byte

    jsr sub_5e47            ;5d5b  20 47 5e     Write to allowed memory from uart rx buffer to [0x4c,x]
                            ;                     Allowed ranges = 0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
    bcc lab_5d65            ;5d5e  90 05        Branch if success

lab_5d60_failed:
    lda #0x06               ;5d60  a9 06
    sta 0x0344              ;5d62  8d 44 03     Store as TechniSat protocol status byte

lab_5d65:
    jsr sub_5adf_stat_resp  ;5d65  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5d68  60

;TechniSat protocol command 0x4c
;? mem_59fd AND bytes [0x4c],y
sub_5d69_cmd_4c:
    ldy #0x01               ;5d69  a0 01
    jsr sub_f22c_delay      ;5d6b  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5d6e  ad 23 03     A = uart rx buffer byte 3
    cmp #0x0a               ;5d71  c9 0a
    bcs lab_5daa_failed     ;5d73  b0 35
    cmp #0x04               ;5d75  c9 04
    beq lab_5da2            ;5d77  f0 29
    cmp #0x09               ;5d79  c9 09
    beq lab_5da6            ;5d7b  f0 29
    asl a                   ;5d7d  0a
    tay                     ;5d7e  a8
    lda mem_59fd,y          ;5d7f  b9 fd 59
    sta 0x4c                ;5d82  85 4c
    lda mem_59fd+1,y        ;5d84  b9 fe 59
    and #0x0f               ;5d87  29 0f
    sta 0x4d                ;5d89  85 4d
    lda 0x0324              ;5d8b  ad 24 03     A = uart rx buffer byte 4
    sta 0x4e                ;5d8e  85 4e
    com 0x4e                ;5d90  44 4e
    ldm #0x00,0x4f          ;5d92  3c 00 4f
    ldy #0x00               ;5d95  a0 00
    sty 0x0344              ;5d97  8c 44 03
    lda [0x4c],y            ;5d9a  b1 4c
    and 0x4e                ;5d9c  25 4e
    sta [0x4c],y            ;5d9e  91 4c
    bra lab_5daf_done       ;5da0  80 0d

lab_5da2:
    clb 6,0xe9              ;5da2  df e9        Clear bit 6 = Enable EEPROM filtering
    bra lab_5daf_done       ;5da4  80 09

lab_5da6:
    clb 1,0xff              ;5da6  3f ff
    bra lab_5daf_done       ;5da8  80 05

lab_5daa_failed:
    lda #0x06               ;5daa  a9 06
    sta 0x0344              ;5dac  8d 44 03     Store as TechniSat protocol status byte

lab_5daf_done:
    jsr sub_5adf_stat_resp  ;5daf  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5db2  60

;TechniSat protocol command 0x4d
;
;Disables EEPROM filtering based on payload:
;  Send: 10 01 01 4D 04 AC
;  Recv: 10 01 5E 00 90       Filtering now disabled
;
;This command may have fewer side effects than disabling EEPROM
;filtering via command 0x45, since 0x45 calls more unknown subroutines.
;
;This command also sets unknown values in memory if the payload
;contains a value other then 0x04.
sub_5db3_cmd_4d:
    ldy #0x01               ;5db3  a0 01
    jsr sub_f22c_delay      ;5db5  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0323              ;5db8  ad 23 03     A = uart rx buffer byte 3
    cmp #0x0a               ;5dbb  c9 0a
    bcs lab_5dfc_failed     ;5dbd  b0 3d

    cmp #0x04               ;5dbf  c9 04
    beq lab_5dea            ;5dc1  f0 27        Disables EEPROM filtering

    cmp #0x09               ;5dc3  c9 09
    beq lab_5dee            ;5dc5  f0 27

    asl a                   ;5dc7  0a
    tay                     ;5dc8  a8
    lda mem_59fd,y          ;5dc9  b9 fd 59
    sta 0x4c                ;5dcc  85 4c
    lda mem_59fd+1,y        ;5dce  b9 fe 59
    and #0x0f               ;5dd1  29 0f
    sta 0x4d                ;5dd3  85 4d

    lda 0x0324              ;5dd5  ad 24 03     A = uart rx buffer byte 4
    sta 0x4e                ;5dd8  85 4e

    ldm #0x00,0x4f          ;5dda  3c 00 4f

    ldy #0x00               ;5ddd  a0 00
    sty 0x0344              ;5ddf  8c 44 03

    lda [0x4c],y            ;5de2  b1 4c
    ora 0x4e                ;5de4  05 4e
    sta [0x4c],y            ;5de6  91 4c

    bra lab_5e01_done       ;5de8  80 17

lab_5dea:
    seb 6,0xe9              ;5dea  cf e9        Set bit 6 = Disable EEPROM filtering
    bra lab_5e01_done       ;5dec  80 13

lab_5dee:
    bbc 6,0xe9,lab_5e01_done;5dee  d7 e9 10     Branch if EEPROM filtering is enabled

    lda 0x0324              ;5df1  ad 24 03     A = uart rx buffer byte 4
    cmp #0x02               ;5df4  c9 02
    bne lab_5e01_done       ;5df6  d0 09

    seb 1,0xff              ;5df8  2f ff
    bra lab_5e01_done       ;5dfa  80 05

lab_5dfc_failed:
    lda #0x04               ;5dfc  a9 04
    sta 0x0344              ;5dfe  8d 44 03     Store as TechniSat protocol status byte

lab_5e01_done:
    jsr sub_5adf_stat_resp  ;5e01  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5e04  60


;Send 10 4F 44 <data [0x4c],y...> CS
;Pointer to memory address in 0x004C
;Number of bytes to send in 0x4F
sub_5e05_send_mem:
    seb 6,0xe5              ;5e05  cf e5
    lda #0x10               ;5e07  a9 10
    sta 0x0343              ;5e09  8d 43 03
    jsr sub_5ad5            ;5e0c  20 d5 5a     Send byte 0x10
    lda 0x4f                ;5e0f  a5 4f
    jsr sub_5ad5            ;5e11  20 d5 5a     Send byte 0x4F
    clc                     ;5e14  18
    adc 0x0343              ;5e15  6d 43 03
    sta 0x0343              ;5e18  8d 43 03
    lda #0x44               ;5e1b  a9 44
    jsr sub_5ad5            ;5e1d  20 d5 5a     Send byte 0x44
    clc                     ;5e20  18
    adc 0x0343              ;5e21  6d 43 03
    sta 0x0343              ;5e24  8d 43 03
    ldy #0x00               ;5e27  a0 00

lab_5e29:
    lda [0x4c],y            ;5e29  b1 4c
    jsr sub_5ad5            ;5e2b  20 d5 5a     Send data bytes...
    clc                     ;5e2e  18
    adc 0x0343              ;5e2f  6d 43 03
    sta 0x0343              ;5e32  8d 43 03
    iny                     ;5e35  c8
    cpy 0x4f                ;5e36  c4 4f
    bne lab_5e29            ;5e38  d0 ef
    eor #0xff               ;5e3a  49 ff
    jsr sub_5ad5            ;5e3c  20 d5 5a     Send checksum byte

    ldy #0x01               ;5e3f  a0 01
    jsr sub_f22c_delay      ;5e41  20 2c f2     Delay an unknown time period for Y iterations

    clb 6,0xe5              ;5e44  df e5
    rts                     ;5e46  60


;Write to allowed memory from uart rx buffer to [0x4c,x]
;Allowed ranges = 0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
;
;Called from TechniSat command 0x45 (sub_5c2e_cmd_45)
;   and from TechniSat command 0x4B (sub_5d22_cmd_4b)
;
;Returns carry clear=success, carry set=failure
sub_5e47:
    ldx #0x00               ;5e47  a2 00
    ldy #0x00               ;5e49  a0 00

lab_5e4b:
    jsr sub_5e62            ;5e4b  20 62 5e     Check if word in 0x4c is in allowed ranges:
                            ;                     0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
    bcs lab_5e61_rts        ;5e4e  b0 11        Branch if not allowed

    lda 0x0325,y            ;5e50  b9 25 03     A = uart rx buffer byte 5 +
    sta [0x4c,x]            ;5e53  81 4c
    inc 0x4c                ;5e55  e6 4c
    bne lab_5e5b            ;5e57  d0 02
    inc 0x4d                ;5e59  e6 4d

lab_5e5b:
    iny                     ;5e5b  c8
    cpy 0x4e                ;5e5c  c4 4e
    bcc lab_5e4b            ;5e5e  90 eb
    clc                     ;5e60  18

lab_5e61_rts:
    rts                     ;5e61  60


;Check if word in 0x4c is in allowed ranges
;Returns status in carry
;
;Carry clear (allowed):
;  0, 2, 4, 6, 8, a, c, e, 0x10, 0x0040-0x053f
;Carry set (not allowed):
;  1, 3, 5, 7, 9, b, d, f, 0x11-0x3f, 0x0540-0xffff
;
sub_5e62:
    lda 0x4d                ;5e62  a5 4d    A = high byte
    bne lab_5e76            ;5e64  d0 10
    lda 0x4c                ;5e66  a5 4c    A = low byte
    cmp #0x40               ;5e68  c9 40
    bcc lab_5e6f            ;5e6a  90 03
    clc                     ;5e6c  18
    bra lab_5e83_rts        ;5e6d  80 14
lab_5e6f:
    lsr a                   ;5e6f  4a
    bcs lab_5e83_rts        ;5e70  b0 11
    cmp #0x09               ;5e72  c9 09
    bra lab_5e83_rts        ;5e74  80 0d
lab_5e76:
    cmp #0x05               ;5e76  c9 05
    bcc lab_5e83_rts        ;5e78  90 09
    bne lab_5e82_denied     ;5e7a  d0 06
    lda 0x4c                ;5e7c  a5 4c
    cmp #0x40               ;5e7e  c9 40
    bcc lab_5e83_rts        ;5e80  90 01
lab_5e82_denied:
    sec                     ;5e82  38
lab_5e83_rts:
    rts                     ;5e83  60


;Check word in 0x4c for magic number; disable EEPROM filtering if it matches
;Returns carry clear = matches, carry set = does not match
;Called from TechniSat command 0x45 (sub_5c2e_cmd_45)
sub_5e84:
    lda 0x4d                ;5e84  a5 4d    A = high byte
    cmp #0x14               ;5e86  c9 14
    bne lab_5e95_denied     ;5e88  d0 0b
    lda 0x4c                ;5e8a  a5 4c    A = low byte
    cmp #0x62               ;5e8c  c9 62
    bne lab_5e95_denied     ;5e8e  d0 05
    seb 6,0xe9              ;5e90  cf e9    Set bit = Disable EEPROM filtering
    clc                     ;5e92  18
    bra lab_5e96_rts        ;5e93  80 01
lab_5e95_denied:
    sec                     ;5e95  38
lab_5e96_rts:
    rts                     ;5e96  60


;TechniSat protocol command 0x48
;Read EEPROM data
;
;Note that some areas are filtered (including the SAFE code).
;Disable filtering with command 0x4D or 0x45 to read these.
;
;Address range is the same as KWP1281 Read EEPROM (0x19).
;See kwp_19_read_eeprom for more.
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x03     number of parameters                0x321
;  0x48     command (0x48 = read eeprom)        0x322
;  0x0c     param 0: eeprom address low         0x323
;  0x00     param 1: eeprom address high        0x324
;  0x10     param 2: number of bytes to read    0x325
;  <CS>     checksum                            0x326
;
;Response block (success):
;  0x10     unknown
;  0x04     number of data bytes
;  0x48     response title (0x48 = read eeprom)
;  ...      eeprom data bytes
;  <CS>     checksum
;
;On failure, returns error code 5 (10 01 5E 05 CS).
;
sub_5e97_cmd_48:
    bbs 7,0xe8,lab_5e9b_set ;5e97  e7 e8 01     Branch if 0xE8 bit 7 is set

    ;0xE8 Bit 7 is clear
    rts                     ;5e9a  60

lab_5e9b_set:
    ;0xE8 Bit 7 is set
    ldy #0x01               ;5e9b  a0 01
    jsr sub_f22c_delay      ;5e9d  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_5ef7_read_eeprom;5ea0  20 f7 5e     Read from EEPROM with some addresses filtered
    bcs lab_5eee_failed     ;5ea3  b0 49        If read from EEPROM failed, branch

    seb 6,0xe5              ;5ea5  cf e5
    lda #0x00               ;5ea7  a9 00
    sta 0x0344              ;5ea9  8d 44 03     Store as TechniSat protocol status byte
    lda #0x10               ;5eac  a9 10
    sta 0x0343              ;5eae  8d 43 03
    jsr sub_5ad5            ;5eb1  20 d5 5a     Send byte   0x10
    lda 0x4f                ;5eb4  a5 4f
    jsr sub_5ad5            ;5eb6  20 d5 5a     Send byte   0x4f
    clc                     ;5eb9  18
    adc 0x0343              ;5eba  6d 43 03
    sta 0x0343              ;5ebd  8d 43 03
    lda #0x48               ;5ec0  a9 48
    jsr sub_5ad5            ;5ec2  20 d5 5a     Send byte   0x48
    clc                     ;5ec5  18
    adc 0x0343              ;5ec6  6d 43 03
    sta 0x0343              ;5ec9  8d 43 03
    ldy #0x00               ;5ecc  a0 00

lab_5ece:
    lda 0x0102,y            ;5ece  b9 02 01
    jsr sub_5ad5            ;5ed1  20 d5 5a     Send byte   (eeprom contents?)
    clc                     ;5ed4  18
    adc 0x0343              ;5ed5  6d 43 03
    sta 0x0343              ;5ed8  8d 43 03
    iny                     ;5edb  c8
    cpy 0x4f                ;5edc  c4 4f
    bne lab_5ece            ;5ede  d0 ee
    eor #0xff               ;5ee0  49 ff
    jsr sub_5ad5            ;5ee2  20 d5 5a     Send byte   (checksum)

    ldy #0x01               ;5ee5  a0 01
    jsr sub_f22c_delay      ;5ee7  20 2c f2     Delay an unknown time period for Y iterations

    clb 6,0xe5              ;5eea  df e5
    bra lab_5ef6            ;5eec  80 08

lab_5eee_failed:
    lda #0x05               ;5eee  a9 05        A = status 0x05 (failed)
    sta 0x0344              ;5ef0  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5adf_stat_resp  ;5ef3  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_5ef6:
    rts                     ;5ef6  60

;Read from EEPROM with some addresses filtered
;Called from TechniSat protocol command 0x48 (sub_5e97_cmd_48).
;Also called from KWP1281 Read EEPROM (kwp_19_read_eeprom)
;Returns carry clear = success, carry set = failed
;
sub_5ef7_read_eeprom:
    ;Set pointer to buffer at 0x0100 will receive EEPROM contents (used by sub_46e5)
    lda #0x00               ;5ef7  a9 00        A = Buffer address low
    sta 0x4c                ;5ef9  85 4c        Store in pointer low
    lda #0x01               ;5efb  a9 01        A = Buffer address high
    sta 0x4d                ;5efd  85 4d        Store in pointer high

    ldm #0x02,0x4e          ;5eff  3c 02 4e     Store 2 in number of bytes to read from the EEPROM

    ;Now the TechniSat protocol rx buffer is going to be modified.
    ;The EEPROM address in 0x0323-0324 is the start address to read.
    ;It's now going to be changed to be the end address.

    lda 0x0325              ;5f02  ad 25 03     A = param 2: number of bytes to read
    sta 0x4f                ;5f05  85 4f        Save number of bytes (used by sub_46e5_i2c_wr_rd)

    dec a                   ;5f07  1a
    clc                     ;5f08  18
    adc 0x0323              ;5f09  6d 23 03     Add to param 0: eeprom address low
    lda #0x00               ;5f0c  a9 00
    adc 0x0324              ;5f0e  6d 24 03     Add to param 1: eeprom address high

    ;Check address high
    cmp #0x08               ;5f11  c9 08        Compare address high with 0x08
    bcs lab_5f4c            ;5f13  b0 37        Return with carry set if address high >= 0x08

    ;Set EEPROM address high
    lda 0x0323              ;5f15  ad 23 03     A = param 0: End address low for EEPROM read
    sta 0x0101              ;5f18  8d 01 01     Store it as EEPROM address

    lda 0x0324              ;5f1b  ad 24 03     A = param 1: End address high for EEPROM read
    asl a                   ;5f1e  0a
    ora #0xa0               ;5f1f  09 a0
    sta 0x0100              ;5f21  8d 00 01     Store I2C command byte

    jsr sub_46e5_i2c_wr_rd  ;5f24  20 e5 46     Perform an I2C write-then-read transaction

    bbs 6,0xe9,lab_5f4b     ;5f27  c7 e9 21     Skip EEPROM filtering if it has been disabled

    ;Start of EEPROM filtering

    ;Set up pointer at 0x004c with end address (used by sub_5fbf)
    ;TODO might not be end address, notice Y increments below
    lda 0x0323              ;5f2a  ad 23 03     A = param 0: End address low for EEPROM read
    sta 0x4c                ;5f2d  85 4c
    lda 0x0324              ;5f2f  ad 24 03     A = param 1: End address high for EEPROM read
    sta 0x4d                ;5f32  85 4d
    ldy #0x00               ;5f34  a0 00

lab_5f36:
    ;Check if this EEPROM address should be filtered
    jsr sub_5fbf            ;5f36  20 bf 5f     ;Check if the "right side" 24C08 EEPROM address
                                                ;  should be filtered (addresses 0x0009-0x000F).
    bcc lab_5f40            ;5f39  90 05        ;Branch if address should not be filtered

    ;Filter EEPROM data for this address
    lda #0x00               ;5f3b  a9 00
    sta 0x0102,y            ;5f3d  99 02 01

lab_5f40:
    ;Increment to next address to check for filter
    inc 0x4c                ;5f40  e6 4c
    bne lab_5f46            ;5f42  d0 02
    inc 0x4d                ;5f44  e6 4d
lab_5f46:
    iny                     ;5f46  c8
    cpy 0x4f                ;5f47  c4 4f
    bcc lab_5f36            ;5f49  90 eb

    ;End of EEPROM filtering

lab_5f4b:
    clc                     ;5f4b  18

lab_5f4c:
    rts                     ;5f4c  60

;TechniSat protocol command 0x49
;Write EEPROM data
;
;Note that some areas are filtered (including the SAFE code).
;Disable filtering with command 0x4D or 0x45 to write these.
;
;Address range is the same as KWP1281 Read EEPROM (0x19).
;See kwp_19_read_eeprom for more.
;
;The number of parameters (0x322) is the number of address
;bytes (always 2) plus the number of data bytes (0x325+).
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x03     number of parameters                0x321
;  0x49     command (0x49 = write eeprom)       0x322
;  0x0c     param 0: eeprom address low         0x323
;  0x00     param 1: eeprom address high        0x324
;  ...      param 2+:  ... data bytes ...       0x325+
;  <CS>     checksum
;
;Response block:
;  10 01 5E 00 90
;
sub_5f4d_cmd_49:
    ldy #0x01               ;5f4d  a0 01
    jsr sub_f22c_delay      ;5f4f  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_5ef7_writ_eeprom;5f52  20 59 5f
    jsr sub_5adf_stat_resp  ;5f55  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;5f58  60

;Write to EEPROM with some addresses filtered
;Called from TechniSat protocol command 0x49 (sub_5f4d_cmd_49).
;Also called from KWP1281 0x1A Write EEPROM (kwp_1a_write_eeprom)
;Sets TechniSat protocol status byte 0x0344 to indicate success or failure
sub_5ef7_writ_eeprom:
    lda #0x05               ;5f59  a9 05
    sta 0x0344              ;5f5b  8d 44 03     Store as TechniSat protocol status byte

    lda 0x0321              ;5f5e  ad 21 03     A = number of parameters
    dec a                   ;5f61  1a           -1 for param 0: EEPROM address low
    dec a                   ;5f62  1a           -1 for param 1: EEPROM address high
    sta 0x4e                ;5f63  85 4e        Store as count of data bytes to write (params 2+)

    ldm #0x00,0x4f          ;5f65  3c 00 4f

    ;Check requested EEPROM end address

    dec a                   ;5f68  1a
    clc                     ;5f69  18
    adc 0x0323              ;5f6a  6d 23 03     Add to param 0 (EEPROM address low)
    lda #0x00               ;5f6d  a9 00
    adc 0x0324              ;5f6f  6d 24 03     Add to param 1 (EEPROM address high)
    cmp #0x08               ;5f72  c9 08
    bcs lab_5fbe_rts        ;5f74  b0 48        Branch if >= end address high byte 0x08

    ;EEPROM address is in range 0-0x7FF

    bbs 6,0xe9,lab_5f96     ;5f76  c7 e9 1d     Skip EEPROM filtering if it has been disabled

    ;Start of EEPROM filtering

    lda 0x0323              ;5f79  ad 23 03     A = param 0 (EEPROM address low)
    sta 0x4c                ;5f7c  85 4c        Store as EEPROM address low byte

    lda 0x0324              ;5f7e  ad 24 03     A = param 1 (EEPROM address high)
    sta 0x4d                ;5f81  85 4d        Store as EEPROM address high byte

    ldy #0x00               ;5f83  a0 00
lab_5f85:
    jsr sub_5fbf            ;5f85  20 bf 5f     Check if the "right side" 24C08 EEPROM address
                            ;                     should be filtered (addresses 0x0009-0x000F).
    bcs lab_5f96            ;5f88  b0 0c        Branch if address should be filtered

    ;Not filtered

    inc 0x4c                ;5f8a  e6 4c        Increment EEPROM address low byte
    bne lab_5f90            ;5f8c  d0 02
    inc 0x4d                ;5f8e  e6 4d        Increment EEPROM address high byte
lab_5f90:
    iny                     ;5f90  c8
    cpy 0x4e                ;5f91  c4 4e
    bcc lab_5f85            ;5f93  90 f0
    clc                     ;5f95  18

    ;End of EEPROM filtering

lab_5f96:
    bcs lab_5fbe_rts        ;5f96  b0 26

    lda 0x0323              ;5f98  ad 23 03     A = param 0 (EEPROM address low)
    sta 0x4a                ;5f9b  85 4a        Store as EEPROM address (low byte)
    lda 0x0324              ;5f9d  ad 24 03     A = param 1 (EEPROM address high)
    sta 0x4b                ;5fa0  85 4b        Store as EEPROM address (high byte)

    lda #0x00               ;5fa2  a9 00        A = 0x00
    sta 0x4c                ;5fa4  85 4c        Store as buffer pointer (low byte)
    lda #0x01               ;5fa6  a9 01        A = 0x01
    sta 0x4d                ;5fa8  85 4d        Store as buffer pointer (high byte)

    ldx 0x4e                ;5faa  a6 4e        A = number of bytes to write
    dex                     ;5fac  ca

lab_5fad:
    lda 0x0325,x            ;5fad  bd 25 03     A = param 2+ (data bytes)
    sta 0x0102,x            ;5fb0  9d 02 01
    dex                     ;5fb3  ca
    bpl lab_5fad            ;5fb4  10 f7
    jsr sub_4b4e_i2c_write  ;5fb6  20 4e 4b     TODO probably writes to an I2C device
    lda #0x00               ;5fb9  a9 00
    sta 0x0344              ;5fbb  8d 44 03     Store as TechniSat protocol status byte

lab_5fbe_rts:
    rts                     ;5fbe  60

sub_5fbf:
;Check if a "right side" 24C08 EEPROM address should be filtered.
;EEPROM addresses 0x0009-0x000F (inclusive) are filtered.  This range
;includes the SAFE code, which is four ASCII digits at 0x000C-0x000F.
;
;Input:
;  0x004C  EEPROM address low byte
;  0x004D  EEPROM address high byte
;
;Output:
;  Carry set = filter, carry clear = do not filter
;
    lda 0x4d                ;5fbf  a5 4d        A = EEPROM address high byte
    cmp #0x00               ;5fc1  c9 00
    bcc lab_5fdd            ;5fc3  90 18
    bne lab_5fcd            ;5fc5  d0 06

    lda 0x4c                ;5fc7  a5 4c        A = EEPROM address low byte
    cmp #0x09               ;5fc9  c9 09
    bcc lab_5fdd            ;5fcb  90 10

lab_5fcd:
    lda 0x4d                ;5fcd  a5 4d        A = EEPROM address high byte
    cmp #0x00               ;5fcf  c9 00
    bcc lab_5fe0            ;5fd1  90 0d
    bne lab_5fdd            ;5fd3  d0 08

    lda 0x4c                ;5fd5  a5 4c        A = EEPROM address low byte
    cmp #0x0f               ;5fd7  c9 0f
    bcc lab_5fe0            ;5fd9  90 05
    beq lab_5fe0            ;5fdb  f0 03

lab_5fdd:
    ;return with carry clear = do not filter
    clc                     ;5fdd  18
    bra lab_5fe1            ;5fde  80 01    Branch to RTS

lab_5fe0:
    ;return with carry set = filter
    sec                     ;5fe0  38

lab_5fe1:
    rts                     ;5fe1  60

    .byte 0x60              ;5fe2  60          DATA 0x60 '`'
    .byte 0x60              ;5fe3  60          DATA 0x60 '`'

;TechniSat protocol command 0x50
sub_5fe4_cmd_50:
    ldy #0x01               ;5fe4  a0 01
    jsr sub_f22c_delay      ;5fe6  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x10               ;5fe9  a9 10
    sta 0x0344              ;5feb  8d 44 03     Store as TechniSat protocol status byte

    lda 0x0323              ;5fee  ad 23 03     A = param 0
    cmp #0x05               ;5ff1  c9 05
    bcs lab_606c            ;5ff3  b0 77        Branch to return status 0x10 response if param 0 >= 0x05

    ;Param 0 is < 0x05
    sta 0x59                ;5ff5  85 59        Store param 0 in 0x59
    cmp #0x03               ;5ff7  c9 03
    bcs lab_6025            ;5ff9  b0 2a        Branch if param 0 >= 0x03

    ;Param 0 is one of: 0x00, 0x01, 0x02
    lda 0x0324              ;5ffb  ad 24 03     A = param 1
    cmp #0xce               ;5ffe  c9 ce
    bcs lab_606c            ;6000  b0 6a        Branch to return status 0x10 response if param 1 >= 0xCE

    ;Param 1 is < 0xCE
    jsr sub_3cb5            ;6002  20 b5 3c
    lda 0x0324              ;6005  ad 24 03     A = param 1
    sta 0x71                ;6008  85 71        Store param 1 in 0x71
    ldm #0x02,0xf0          ;600a  3c 02 f0
    clb 0,0xf2              ;600d  1f f2
    clb 1,0xf2              ;600f  3f f2
    lda 0x0323              ;6011  ad 23 03     A = param 0
    sta 0x59                ;6014  85 59
    clb 3,P0                ;6016  7f 00
    seb 4,0xfa              ;6018  8f fa
    jsr sub_544b            ;601a  20 4b 54     Clears many registers
    jsr sub_44a7            ;601d  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;6020  20 0d 89
    bra lab_6044            ;6023  80 1f        Branch over lab_6025

lab_6025:
;Param 0 is one of: 0x03, 0x04
    lda 0x0324              ;6025  ad 24 03     A = param 1
    cmp #0x88               ;6028  c9 88
    bcs lab_606c            ;602a  b0 40
    jsr sub_3d64            ;602c  20 64 3d
    lda 0x0324              ;602f  ad 24 03     A = param 1
    sta 0x71                ;6032  85 71
    ldm #0x04,0xf0          ;6034  3c 04 f0
    seb 0,0xf2              ;6037  0f f2
    clb 2,0xf2              ;6039  5f f2
    lda 0x0323              ;603b  ad 23 03     A = param 0
    sta 0x59                ;603e  85 59
    seb 3,P0                ;6040  6f 00
    clb 4,0xfa              ;6042  9f fa

lab_6044:
    jsr sub_6fab            ;6044  20 ab 6f
    jsr sub_4e8a            ;6047  20 8a 4e
    jsr sub_4dd1            ;604a  20 d1 4d
    ldm #0x00,0x50          ;604d  3c 00 50
    lda 0x59                ;6050  a5 59
    sta 0x5a                ;6052  85 5a
    jsr sub_664a            ;6054  20 4a 66
    jsr sub_70bb            ;6057  20 bb 70
    seb 5,P0                ;605a  af 00
    jsr sub_7694            ;605c  20 94 76
    bbs 0,0xf2,lab_6064     ;605f  07 f2 02
    seb 0,0xf9              ;6062  0f f9

lab_6064:
    jsr sub_51d8            ;6064  20 d8 51
    lda #0x00               ;6067  a9 00
    sta 0x0344              ;6069  8d 44 03     Store as TechniSat protocol status byte

lab_606c:
    jsr sub_5adf_stat_resp  ;606c  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;606f  60

;TechniSat protocol command 0x51
sub_6070_cmd_51:
    ldy #0x01               ;6070  a0 01
    jsr sub_f22c_delay      ;6072  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x10               ;6075  a9 10
    sta 0x0344              ;6077  8d 44 03     Store as TechniSat protocol status byte

    lda 0x0324              ;607a  ad 24 03     A = param 1
    cmp #0x2e               ;607d  c9 2e
    bcs lab_609f            ;607f  b0 1e
    sta 0xa0                ;6081  85 a0

    ldx 0x0323              ;6083  ae 23 03     A = param 0
    cpx #0x08               ;6086  e0 08
    bcs lab_609f            ;6088  b0 15
    stx 0xa5                ;608a  86 a5

    seb 5,P8_P4I            ;608c  af 10
    seb 7,P2                ;608e  ef 04
    jsr sub_70db            ;6090  20 db 70
    jsr sub_7694            ;6093  20 94 76
    seb 5,P0                ;6096  af 00
    seb 6,P8_P4I            ;6098  cf 10

    lda #0x00               ;609a  a9 00
    sta 0x0344              ;609c  8d 44 03     Store as TechniSat protocol status byte

lab_609f:
    jsr sub_5adf_stat_resp  ;609f  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;60a2  60

;TechniSat protocol command 0x52
sub_60a3_cmd_52:
    ldy #0x01               ;60a3  a0 01
    jsr sub_f22c_delay      ;60a5  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x10               ;60a8  a9 10
    sta 0x0344              ;60aa  8d 44 03     Store as TechniSat protocol status byte

    ldy #0x00               ;60ad  a0 00
lab_60af_loop:
    lda 0x0323,y            ;60af  b9 23 03     A = param 0+y
    cmp #0x13               ;60b2  c9 13
    bcs lab_60ee_done       ;60b4  b0 38        Branch if >= 0x13
    iny                     ;60b6  c8
    cpy #0x04               ;60b7  c0 04
    bcc lab_60af_loop       ;60b9  90 f4

    lda 0x0323              ;60bb  ad 23 03     A = param 0
    sta 0xa1                ;60be  85 a1

    lda 0x0324              ;60c0  ad 24 03     A = param 1
    sta 0xa2                ;60c3  85 a2

    lda 0x0325              ;60c5  ad 25 03     A = param 2
    sta 0xa3                ;60c8  85 a3

    lda 0x0326              ;60ca  ad 26 03     A = param 3
    sta 0xa4                ;60cd  85 a4

    lda 0x0327              ;60cf  ad 27 03     A = param 4
    and #0x01               ;60d2  29 01
    sta 0x0289              ;60d4  8d 89 02

    jsr sub_72ef            ;60d7  20 ef 72
    jsr sub_7353            ;60da  20 53 73
    jsr sub_739e            ;60dd  20 9e 73
    jsr sub_73f7            ;60e0  20 f7 73
    jsr sub_746f            ;60e3  20 6f 74
    jsr sub_71bc            ;60e6  20 bc 71

    lda #0x00               ;60e9  a9 00
    sta 0x0344              ;60eb  8d 44 03     Store as TechniSat protocol status byte

lab_60ee_done:
    jsr sub_5adf_stat_resp  ;60ee  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;60f1  60

;table of BRG values used by lab_6119_valid
brg_values:
    .byte 0x40              ;60f2  40          DATA 0x40 '@'    0 = 9600 bps
    .byte 0x20              ;60f3  20          DATA 0x20 ' '    1 = 19200 bps
    .byte 0x0f              ;60f4  0f          DATA 0x0f        2 = 38400 bps
    .byte 0x0a              ;60f5  0a          DATA 0x0a        3 = 57600 bps

;TechniSat protocol command 0x59
;Change baud rate
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x01     number of parameters (1)            0x321
;  0x59     command (0x59 = change baud rate)   0x322
;  0x00     param 0: baud rate index            0x323
;  <CS>     checksum
;
;Baud rate index:
;  0=9600 bps, 1=19200 bps, 2=38400 bps, 3=57600 bps
;
;Response block:
;  10 01 5E 00 90  Baud rate index is valid.
;  10 01 5E 10 90  Baud rate index is not valid.
;
;Response will be sent at current baud rate.  If baud rate index
;given is valid, the baud rate will then be changed.  The baud rate
;will only be changed for the current connection (after waking up
;with 5 baud init, the baud rate is always 9600 bps).
;
sub_60f6_cmd_59:
    ldy #0x01               ;60f6  a0 01
    jsr sub_f22c_delay      ;60f8  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x00               ;60fb  a9 00        A = status code 0

    ldx 0x0323              ;60fd  ae 23 03     A = param 0
    cpx #0x04               ;6100  e0 04        Is it within range of the brg_values table?
    bcc lab_6119_valid      ;6102  90 02          Yes: branch to keep status code 0

    ;Baud rate index is not valid
    lda #0x10               ;6104  a9 10        A = status code 0x10

lab_6119_valid:
    sta 0x0344              ;6106  8d 44 03     Store as TechniSat protocol status byte
    jsr sub_5adf_stat_resp  ;6109  20 df 5a     Send 10 01 5E <0x0344> CS status response

    lda 0x0344              ;610c  ad 44 03     A = status code value we just sent
    bne lab_6119_rts        ;610f  d0 08        Did we send the error status (0x10)?
                            ;                     Yes: branch to skip changing BRG

    ;Baud rate index is valid
    ldx 0x0323              ;6111  ae 23 03     X = param 0
    lda brg_values,x        ;6114  bd f2 60     X = read new BRG value from table
    sta BRG                 ;6117  85 1c        Store BRG value

lab_6119_rts:
    rts                     ;6119  60

;TechniSat protocol command 0x58
;Set the value of location 0x0342 (TODO what does this do?)
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x01     number of parameters (1)             0x0321
;  0x58     command (0x59 = set value of 0x0342) 0x0322
;  0x00     param 0: value                       0x0323
;  <CS>     checksum
;
;Value:
;  0x00 - 0x0F
;
;Response block:
;  10 01 5E 00 90  Value is valid (in the range of 0x00-0x0F)
;  10 01 5E 10 90  Value is not valid
;
sub_611a_cmd_58:
    bbc 7,0xe8,lab_613e_rts ;611a  f7 e8 21     Branch if 0xE8 bit 7 is clear

    ;0xE8 Bit 7 is set

    ldy #0x01               ;611d  a0 01
    jsr sub_f22c_delay      ;611f  20 2c f2     Delay an unknown time period for Y iterations

    ldx #0x10               ;6122  a2 10        X = status code 0x10

    lda 0x0323              ;6124  ad 23 03     A = param 0
    cmp #0x10               ;6127  c9 10
    bcs lab_612d_valid      ;6129  b0 02        Branch if >= 0x10

    ldx #0x00               ;612b  a2 00        X = status code 0

lab_612d_valid:
    stx 0x0344              ;612d  8e 44 03
    jsr sub_5adf_stat_resp  ;6130  20 df 5a     Send 10 01 5E <0x0344> CS status response

    lda 0x0344              ;6133  ad 44 03     A = status code value we just sent
    bne lab_613e_rts        ;6136  d0 06        Did we send the error status (0x10)?
                            ;                     Yes: branch to skip changing ??? TODO ???

    lda 0x0323              ;6138  ad 23 03     A = param 0
    sta 0x0342              ;613b  8d 42 03     Store it in location 0x0342

lab_613e_rts:
    rts                     ;613e  60

;TechniSat protocol command 0x5a
;Write to buffer at 0x0110 and call sub_6cc0 to do unknown I/O
;
;Request block:
;  0x10     unknown
;  0x01     unknown
;  0x03     number of parameters          0x0321
;  0x5a     command (0x5a)                0x0322
;           param 0: first byte to write  0x0323
;           ... more bytes to write ...   0x0324...
;  <CS>     checksum                        xx
;
;There is some initial validation before copying starts.  If the number of
;parameters = 3 then bit 4 of param 0 must be set.  If the number of parameters != 3
;then param 0 & 0b111 must = 3.  If either check fails, no bytes are copied and
;status code 0x10 is returned.
;
;The buffer copy works backwards from the end of the payload.  Before each byte
;is copied, it is checked.  If the byte equals 0xFF, then then the byte is not
;copied and copying stops.  The unknown I/O routine at sub_6cc0 is not called
;and status code 0x10 is returend.  Note, however, that any bytes before the
;0xFF will have been copied into the buffer.
;
;If all bytes are copied successfully (no 0xFF encountered), then the unknown
;I/O routine at sub_6cc0 is called.  Status code 0x00 is then returned.
;
;The following demonstrates how to write 4 bytes into the buffer area
;without triggering the call to the I/O routine:
;
;    Request block:
;        0x10     unknown
;        0x01     unknown
;        0x06     number of parameters (6)         0x0321
;        0x5a     command (0x5a)                   0x0322
;        0x03     param 0: 0x03                    0x0323  (0x03 to pass the check; not copied)
;        0xff     param 1: 0xFF                    0x0324  (0xFF to stop copying; not copied)
;         xx      param 2: any byte except 0xFF    0x0325  (copied to 0x0112)
;         xx      param 3: any byte except 0xFF    0x0326  (copied to 0x0113)
;         xx      param 4: any byte except 0xFF    0x0327  (copied to 0x0114)
;         xx      param 5: any byte except 0xFF    0x0328  (copied to 0x0115)
;        <CS>     checksum                           xx
;
;    The routine will copy the payload in this order:
;        Param 5 (0x0328 -> 0x0110+5)
;        Param 4 (0x0327 -> 0x0110+4)
;        Param 3 (0x0326 -> 0x0110+3)
;        Param 2 (0x0325 -> 0x0110+2)
;        Param 1 (0x0324 -> 0x0110+1) 0xFF: stops the copying; not copied
;
;    The four bytes will be copied to 0x0112 - 0x115.  The I/O routine will not
;    be called and status code 0x10 will be returned.
;
;Note that by making the payload longer, data can be written much higher in the page.
;Also note that this same page contains the stack!  This routine looks like it could
;be a candidate for overwriting the stack.  However, it seems that a payload of 28
;"parameter" bytes is the most that can be received before this routine is called.
;That does not reach high enough into the stack to obtain code execution.
;
sub_613f_cmd_5a:
    ldy #0x01               ;613f  a0 01
    jsr sub_f22c_delay      ;6141  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x0321              ;6144  ad 21 03     A = number of parameters
    tax                     ;6147  aa           Save number of parameters in X

    lda 0x0323              ;6148  ad 23 03     A = param 0

    cpx #0x03               ;614b  e0 03        Number of parameters = 3?
    beq lab_6157_eq_3       ;614d  f0 08          Yes: branch to lab lab_6157_eq_3

    ;Number of parameters != 3
    ;Param 0 & 0b111 must equal 3 to continue
    and #0b00000111         ;614f  29 07        Mask off all bit lower 3 bits of param 0
    cmp #0x03               ;6151  c9 03        Does the lower 3 bits of param 0 = 0x03?
    bne lab_6171_0x10       ;6153  d0 1c          No: branch to return status 0x10 response
    bra lab_6159_start_copy ;6155  80 02          Yes: branch to skip over param 0 bit 4 check

lab_6157_eq_3:
    ;Number of parameters = 3
    bbc 4,a,lab_6171_0x10   ;6157  93 18        If param 0 bit 4 = 0 then branch to return status 0x10 response

lab_6159_start_copy:
    ;Start copying parameters into 0x110 buffer
    dex                     ;6159  ca           Decrement number of parameters remaining to copy

lab_615a_loop:
    lda 0x0323,x            ;615a  bd 23 03     A = param 0+x...

    cmp #0xff               ;615d  c9 ff        Is it 0xFF?
    beq lab_6171_0x10       ;615f  f0 10          Yes: Branch to return status 0x10 response

    sta 0x0110,x            ;6161  9d 10 01     Store param 0+x in 0x0110+x
    dex                     ;6164  ca           Decrement number of parameters remaining to copy
    bpl lab_615a_loop       ;6165  10 f3        Loop until all parameters have been copied into the 0x0110 buffer

    lda #0x00               ;6167  a9 00        A = status 0x00
    sta 0x0344              ;6169  8d 44 03     Store as TechniSat protocol status byte

    jsr sub_6cc0            ;616c  20 c0 6c     Perform unknown I/O using buffer at 0x0110

    bra lab_6176            ;616f  80 05        Branch to send status 0x00 response and return

lab_6171_0x10:
    lda #0x10               ;6171  a9 10        A = status code 0x10
    sta 0x0344              ;6173  8d 44 03     Store as TechniSat protocol status byte

lab_6176:
    jsr sub_5adf_stat_resp  ;6176  20 df 5a     Send 10 01 5E <0x0344> CS status response
    rts                     ;6179  60

;table used by sub_619a_cmd_53
mem_617a:
    .word mem_621c_cmd_53_00  ;617a   DATA        table
    .word sub_624a_cmd_53_00  ;617c   VECTOR      code

    .word mem_6225_cmd_53_01  ;617e   DATA        table
    .word sub_62af_cmd_53_01  ;6180   VECTOR      code

    .word mem_622f_cmd_53_02  ;6182   DATA        table
    .word sub_62b8_cmd_53_02  ;6184   VECTOR      code

    .word mem_6238_cmd_53_03  ;6186   DATA        table
    .word sub_62c3_cmd_53_03  ;6188   VECTOR      code

    .word mem_623f            ;618a   DATA        table
    .word sub_6249_rts        ;618c   VECTOR      code

    .word mem_623f            ;618e   DATA        table
    .word sub_6249_rts        ;6190   VECTOR      code

    .word mem_6240_cmd_53_05  ;6192   DATA        table
    .word sub_62c9_cmd_53_05  ;6194   VECTOR      code

    .word mem_6244_cmd_53_06  ;6196   DATA        table
    .word sub_62d2_cmd_53_06  ;6198   VECTOR      code

;TechniSat protocol command 0x53
sub_619a_cmd_53:
    bbc 7,0xe8,lab_621b_rts ;619a  f7 e8 7e     Branch if 0xE8 bit 7 is clear

    ;0xE8 Bit 7 is set

    ldy #0x01               ;619d  a0 01
    jsr sub_f22c_delay      ;619f  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x10               ;61a2  a9 10
    sta 0x0344              ;61a4  8d 44 03     Store as TechniSat protocol status byte
    lda 0x0323              ;61a7  ad 23 03
    cmp #0x08               ;61aa  c9 08        Compare to number of address pairs in mem_617a
    bcs lab_6218_done       ;61ac  b0 6a
    lda 0x0323              ;61ae  ad 23 03
    sta 0x0322              ;61b1  8d 22 03
    asl a                   ;61b4  0a
    asl a                   ;61b5  0a
    tay                     ;61b6  a8

    lda mem_617a,y          ;61b7  b9 7a 61     Lookup table address low byte
    sta 0x40                ;61ba  85 40
    lda mem_617a+1,y        ;61bc  b9 7b 61     Lookup table address high byte
    sta 0x41                ;61bf  85 41

    lda mem_617a+2,y        ;61c1  b9 7c 61     Code address low byte
    sta 0x42                ;61c4  85 42
    lda mem_617a+3,y        ;61c6  b9 7d 61     Code address high byte
    sta 0x43                ;61c9  85 43

    jsr [0x42]              ;61cb  02 42

    ldy #0x00               ;61cd  a0 00
    lda [0x40],y            ;61cf  b1 40
    beq lab_6218_done       ;61d1  f0 45
    sta 0x0321              ;61d3  8d 21 03
    inc a                   ;61d6  3a
    inc a                   ;61d7  3a
    sta 0x4f                ;61d8  85 4f

    ldy #0x01               ;61da  a0 01
lab_61dc_loop:
    lda [0x40],y            ;61dc  b1 40
    tax                     ;61de  aa
    lda P0,x                ;61df  b5 00
    sta 0x0322,y            ;61e1  99 22 03
    iny                     ;61e4  c8
    cpy 0x0321              ;61e5  cc 21 03
    bcc lab_61dc_loop       ;61e8  90 f2
    beq lab_61dc_loop       ;61ea  f0 f0
    seb 6,0xe5              ;61ec  cf e5
    lda #0x10               ;61ee  a9 10
    sta 0x0343              ;61f0  8d 43 03
    jsr sub_5ad5            ;61f3  20 d5 5a     Send byte

    ldy #0x00               ;61f6  a0 00
lab_61f8_loop:
    lda 0x0321,y            ;61f8  b9 21 03
    jsr sub_5ad5            ;61fb  20 d5 5a     Send byte
    clc                     ;61fe  18
    adc 0x0343              ;61ff  6d 43 03
    sta 0x0343              ;6202  8d 43 03
    iny                     ;6205  c8
    cpy 0x4f                ;6206  c4 4f
    bne lab_61f8_loop       ;6208  d0 ee

    eor #0xff               ;620a  49 ff
    jsr sub_5ad5            ;620c  20 d5 5a     Send byte

    ldy #0x01               ;620f  a0 01
    jsr sub_f22c_delay      ;6211  20 2c f2     Delay an unknown time period for Y iterations

    clb 6,0xe5              ;6214  df e5
    bra lab_621b_rts        ;6216  80 03

lab_6218_done:
    jsr sub_5adf_stat_resp  ;6218  20 df 5a     Send 10 01 5E <0x0344> CS status response

lab_621b_rts:
    rts                     ;621b  60

mem_621c_cmd_53_00:
;table used by sub_624a_cmd_53_00
    .byte 0x08              ;621c  08          DATA 0x08        8 bytes follow:
    .byte 0xf0              ;621d  f0          DATA 0xf0
    .byte 0x43              ;621e  43          DATA 0x43 'C'
    .byte 0x50              ;621f  50          DATA 0x50 'P'
    .byte 0x71              ;6220  71          DATA 0x71 'q'
    .byte 0x42              ;6221  42          DATA 0x42 'B'
    .byte 0x44              ;6222  44          DATA 0x44 'D'
    .byte 0x45              ;6223  45          DATA 0x45 'E'
    .byte 0x46              ;6224  46          DATA 0x46 'F'

mem_6225_cmd_53_01:
;table used by sub_62af_cmd_53_01
    .byte 0x09              ;6225  09          DATA 0x09        9 bytes follow:
    .byte 0xf0              ;6226  f0          DATA 0xf0
    .byte 0x43              ;6227  43          DATA 0x43 'C'
    .byte 0x50              ;6228  50          DATA 0x50 'P'
    .byte 0x71              ;6229  71          DATA 0x71 'q'
    .byte 0x42              ;622a  42          DATA 0x42 'B'
    .byte 0x99              ;622b  99          DATA 0x99
    .byte 0x90              ;622c  90          DATA 0x90
    .byte 0x91              ;622d  91          DATA 0x91
    .byte 0x44              ;622e  44          DATA 0x44 'D'

mem_622f_cmd_53_02:
;table used by sub_62b8_cmd_53_02
    .byte 0x08              ;622f  08          DATA 0x08        8 bytes follow:
    .byte 0x42              ;6230  42          DATA 0x42 'B'
    .byte 0x43              ;6231  43          DATA 0x43 'C'
    .byte 0x44              ;6232  44          DATA 0x44 'D'
    .byte 0x45              ;6233  45          DATA 0x45 'E'
    .byte 0x46              ;6234  46          DATA 0x46 'F'
    .byte 0x47              ;6235  47          DATA 0x47 'G'
    .byte 0x48              ;6236  48          DATA 0x48 'H'
    .byte 0x49              ;6237  49          DATA 0x49 'I'

mem_6238_cmd_53_03:
;table used by sub_62c3_cmd_53_03
    .byte 0x06              ;6238  06          DATA 0x06        6 bytes follow:
    .byte 0xa0              ;6239  a0          DATA 0xa0
    .byte 0xa1              ;623a  a1          DATA 0xa1
    .byte 0xa2              ;623b  a2          DATA 0xa2
    .byte 0xa3              ;623c  a3          DATA 0xa3
    .byte 0xa4              ;623d  a4          DATA 0xa4
    .byte 0x42              ;623e  42          DATA 0x42 'B'

mem_623f:
;table used by sub_619a_cmd_53
    .byte 0x00              ;623f  00          DATA 0x00        0 bytes follow:

mem_6240_cmd_53_05:
;table used by sub_62c9_cmd_53_05
    .byte 0x03              ;6240  03          DATA 0x03        3 bytes follow:
    .byte 0xf0              ;6241  f0          DATA 0xf0
    .byte 0xf1              ;6242  f1          DATA 0xf1
    .byte 0x42              ;6243  42          DATA 0x42 'B'

mem_6244_cmd_53_06:
;table used by mem_6244_cmd_53_06
    .byte 0x04              ;6244  04          DATA 0x04        4 bytes follow:
    .byte 0xf0              ;6245  f0          DATA 0xf0
    .byte 0xf1              ;6246  f1          DATA 0xf1
    .byte 0xaf              ;6247  af          DATA 0xaf
    .byte 0xaf              ;6248  af          DATA 0xaf

sub_6249_rts:
    rts                     ;6249  60

sub_624a_cmd_53_00:
    lda 0x68                ;624a  a5 68
    sta 0x42                ;624c  85 42
    lda 0x69                ;624e  a5 69
    sta 0x43                ;6250  85 43
    lsr 0x43                ;6252  46 43
    ror 0x42                ;6254  66 42
    lsr 0x43                ;6256  46 43
    ror 0x42                ;6258  66 42
    lsr 0x43                ;625a  46 43
    ror 0x42                ;625c  66 42
    ldm #0x00,0x43          ;625e  3c 00 43
    lda 0x0288              ;6261  ad 88 02
    bbc 0,a,lab_6268        ;6264  13 02
    seb 0,0x43              ;6266  0f 43

lab_6268:
    bbc 1,0xf3,lab_626d     ;6268  37 f3 02
    seb 1,0x43              ;626b  2f 43

lab_626d:
    bbc 2,0xf3,lab_6272     ;626d  57 f3 02
    seb 2,0x43              ;6270  4f 43

lab_6272:
    bbc 3,0xf3,lab_6277     ;6272  77 f3 02
    seb 3,0x43              ;6275  6f 43

lab_6277:
    bbc 0,0xf9,lab_627c     ;6277  17 f9 02
    seb 4,0x43              ;627a  8f 43

lab_627c:
    bbc 3,0xfa,lab_6281     ;627c  77 fa 02
    seb 5,0x43              ;627f  af 43

lab_6281:
    bbc 2,0xf4,lab_6286     ;6281  57 f4 02
    seb 6,0x43              ;6284  cf 43

lab_6286:
    bbc 0,0xfd,lab_628b     ;6286  17 fd 02
    seb 7,0x43              ;6289  ef 43

lab_628b:
    lda 0x6a                ;628b  a5 6a
    sta 0x44                ;628d  85 44
    lda 0x6b                ;628f  a5 6b
    sta 0x45                ;6291  85 45
    lsr 0x45                ;6293  46 45
    ror 0x44                ;6295  66 44
    lsr 0x45                ;6297  46 45
    ror 0x44                ;6299  66 44
    lsr 0x45                ;629b  46 45
    ror 0x44                ;629d  66 44
    lda #0x07               ;629f  a9 07
    jsr sub_26d8            ;62a1  20 d8 26
    sta 0x45                ;62a4  85 45
    ldm #0x00,0x46          ;62a6  3c 00 46
    bbc 4,P0,lab_62ae_rts   ;62a9  97 00 02
    seb 0,0x46              ;62ac  0f 46

lab_62ae_rts:
    rts                     ;62ae  60

sub_62af_cmd_53_01:
    jsr sub_624a_cmd_53_00  ;62af  20 4a 62
    lda 0x0151              ;62b2  ad 51 01
    sta 0x44                ;62b5  85 44
    rts                     ;62b7  60

sub_62b8_cmd_53_02:
    ldx #0x07               ;62b8  a2 07
lab_62ba:
    lda 0x0140,x            ;62ba  bd 40 01
    sta 0x42,x              ;62bd  95 42
    dex                     ;62bf  ca
    bpl lab_62ba            ;62c0  10 f8
    rts                     ;62c2  60

sub_62c3_cmd_53_03:
    lda 0x0289              ;62c3  ad 89 02
    sta 0x42                ;62c6  85 42
    rts                     ;62c8  60

sub_62c9_cmd_53_05:
    jsr sub_d286            ;62c9  20 86 d2
    lda mem_62e5,x          ;62cc  bd e5 62
    sta 0x42                ;62cf  85 42
    rts                     ;62d1  60

sub_62d2_cmd_53_06:
    rts                     ;62d2  60

;XXX appears unused
sub_62d3:
    bbs 0,0x00f2,lab_62e4   ;62d3  07 f2 0e
    bbc 0,0x00fd,lab_62e4   ;62d6  17 fd 0b
    jsr sub_929a            ;62d9  20 9a 92
    clb 5,0x00fd            ;62dc  bf fd
    ldm #0x00,0x00b5        ;62de  3c 00 b5
    ldm #0x00,0x00bb        ;62e1  3c 00 bb
lab_62e4:
    rts                     ;62e4  60

mem_62e5:
    .byte 0x06              ;62e5  06          DATA 0x06
    .byte 0x07              ;62e6  07          DATA 0x07
    .byte 0x02              ;62e7  02          DATA 0x02
    .byte 0x02              ;62e8  02          DATA 0x02
    .byte 0x02              ;62e9  02          DATA 0x02
    .byte 0x02              ;62ea  02          DATA 0x02
    .byte 0x00              ;62eb  00          DATA 0x00
    .byte 0x01              ;62ec  01          DATA 0x01
    .byte 0x78              ;62ed  78          DATA 0x78 'x'
    .byte 0x00              ;62ee  00          DATA 0x00
    .byte 0x00              ;62ef  00          DATA 0x00
    .byte 0x00              ;62f0  00          DATA 0x00
    .byte 0x00              ;62f1  00          DATA 0x00
    .byte 0x00              ;62f2  00          DATA 0x00
    .byte 0x00              ;62f3  00          DATA 0x00
    .byte 0x00              ;62f4  00          DATA 0x00
    .byte 0x66              ;62f5  66          DATA 0x66 'f'
    .byte 0x22              ;62f6  22          DATA 0x22 '"'
    .byte 0x50              ;62f7  50          DATA 0x50 'P'
    .byte 0x00              ;62f8  00          DATA 0x00
    .byte 0x02              ;62f9  02          DATA 0x02
    .byte 0x00              ;62fa  00          DATA 0x00
    .byte 0x01              ;62fb  01          DATA 0x01
    .byte 0x00              ;62fc  00          DATA 0x00
    .byte 0x06              ;62fd  06          DATA 0x06
    .byte 0x00              ;62fe  00          DATA 0x00
    .byte 0xf8              ;62ff  f8          DATA 0xf8
    .byte 0x40              ;6300  40          DATA 0x40 '@'
    .byte 0x71              ;6301  71          DATA 0x71 'q'
    .byte 0x00              ;6302  00          DATA 0x00
    .byte 0x02              ;6303  02          DATA 0x02
    .byte 0x80              ;6304  80          DATA 0x80
    .byte 0x00              ;6305  00          DATA 0x00
    .byte 0x00              ;6306  00          DATA 0x00
    .byte 0xcd              ;6307  cd          DATA 0xcd
    .byte 0x00              ;6308  00          DATA 0x00
    .byte 0x40              ;6309  40          DATA 0x40 '@'
    .byte 0x50              ;630a  50          DATA 0x50 'P'
    .byte 0x71              ;630b  71          DATA 0x71 'q'
    .byte 0x00              ;630c  00          DATA 0x00
    .byte 0x02              ;630d  02          DATA 0x02
    .byte 0x00              ;630e  00          DATA 0x00
    .byte 0x10              ;630f  10          DATA 0x10
    .byte 0x00              ;6310  00          DATA 0x00
    .byte 0x87              ;6311  87          DATA 0x87
    .byte 0x00              ;6312  00          DATA 0x00
    .byte 0x40              ;6313  40          DATA 0x40 '@'
    .byte 0x50              ;6314  50          DATA 0x50 'P'
    .byte 0x71              ;6315  71          DATA 0x71 'q'
    .byte 0x00              ;6316  00          DATA 0x00
    .byte 0x02              ;6317  02          DATA 0x02
    .byte 0x00              ;6318  00          DATA 0x00
    .byte 0x01              ;6319  01          DATA 0x01
    .byte 0x00              ;631a  00          DATA 0x00
    .byte 0x0f              ;631b  0f          DATA 0x0f
    .byte 0x00              ;631c  00          DATA 0x00
    .byte 0x40              ;631d  40          DATA 0x40 '@'
    .byte 0x50              ;631e  50          DATA 0x50 'P'
    .byte 0x71              ;631f  71          DATA 0x71 'q'
    .byte 0x00              ;6320  00          DATA 0x00
    .byte 0x02              ;6321  02          DATA 0x02
    .byte 0x00              ;6322  00          DATA 0x00
    .byte 0x00              ;6323  00          DATA 0x00
    .byte 0x00              ;6324  00          DATA 0x00
    .byte 0xff              ;6325  ff          DATA 0xff
    .byte 0x00              ;6326  00          DATA 0x00
    .byte 0x40              ;6327  40          DATA 0x40 '@'
    .byte 0x50              ;6328  50          DATA 0x50 'P'
    .byte 0x71              ;6329  71          DATA 0x71 'q'
    .byte 0x00              ;632a  00          DATA 0x00
    .byte 0x02              ;632b  02          DATA 0x02
    .byte 0x00              ;632c  00          DATA 0x00
    .byte 0x10              ;632d  10          DATA 0x10
    .byte 0x00              ;632e  00          DATA 0x00
    .byte 0x87              ;632f  87          DATA 0x87
    .byte 0x00              ;6330  00          DATA 0x00
    .byte 0x40              ;6331  40          DATA 0x40 '@'
    .byte 0x50              ;6332  50          DATA 0x50 'P'
    .byte 0xa0              ;6333  a0          DATA 0xa0
    .byte 0x00              ;6334  00          DATA 0x00
    .byte 0x00              ;6335  00          DATA 0x00
    .byte 0x00              ;6336  00          DATA 0x00
    .byte 0x00              ;6337  00          DATA 0x00
    .byte 0x00              ;6338  00          DATA 0x00
    .byte 0x2d              ;6339  2d          DATA 0x2d '-'
    .byte 0x00              ;633a  00          DATA 0x00
    .byte 0x1c              ;633b  1c          DATA 0x1c
    .byte 0x78              ;633c  78          DATA 0x78 'x'
    .byte 0xa3              ;633d  a3          DATA 0xa3
    .byte 0x00              ;633e  00          DATA 0x00
    .byte 0x00              ;633f  00          DATA 0x00
    .byte 0x00              ;6340  00          DATA 0x00
    .byte 0x00              ;6341  00          DATA 0x00
    .byte 0x00              ;6342  00          DATA 0x00
    .byte 0x12              ;6343  12          DATA 0x12
    .byte 0x00              ;6344  00          DATA 0x00
    .byte 0x65              ;6345  65          DATA 0x65 'e'
    .byte 0x74              ;6346  74          DATA 0x74 't'
    .byte 0xa4              ;6347  a4          DATA 0xa4
    .byte 0x00              ;6348  00          DATA 0x00
    .byte 0x00              ;6349  00          DATA 0x00
    .byte 0x00              ;634a  00          DATA 0x00
    .byte 0x00              ;634b  00          DATA 0x00
    .byte 0x00              ;634c  00          DATA 0x00
    .byte 0x12              ;634d  12          DATA 0x12
    .byte 0x00              ;634e  00          DATA 0x00
    .byte 0x65              ;634f  65          DATA 0x65 'e'
    .byte 0x74              ;6350  74          DATA 0x74 't'
    .byte 0xa1              ;6351  a1          DATA 0xa1
    .byte 0x00              ;6352  00          DATA 0x00
    .byte 0x00              ;6353  00          DATA 0x00
    .byte 0x00              ;6354  00          DATA 0x00
    .byte 0x00              ;6355  00          DATA 0x00
    .byte 0x00              ;6356  00          DATA 0x00
    .byte 0x12              ;6357  12          DATA 0x12
    .byte 0x00              ;6358  00          DATA 0x00
    .byte 0xe2              ;6359  e2          DATA 0xe2
    .byte 0x72              ;635a  72          DATA 0x72 'r'
    .byte 0xa2              ;635b  a2          DATA 0xa2
    .byte 0x00              ;635c  00          DATA 0x00
    .byte 0x00              ;635d  00          DATA 0x00
    .byte 0x00              ;635e  00          DATA 0x00
    .byte 0x00              ;635f  00          DATA 0x00
    .byte 0x00              ;6360  00          DATA 0x00
    .byte 0x12              ;6361  12          DATA 0x12
    .byte 0x00              ;6362  00          DATA 0x00
    .byte 0x91              ;6363  91          DATA 0x91
    .byte 0x73              ;6364  73          DATA 0x73 's'
    .byte 0xa6              ;6365  a6          DATA 0xa6
    .byte 0x00              ;6366  00          DATA 0x00
    .byte 0x02              ;6367  02          DATA 0x02
    .byte 0x00              ;6368  00          DATA 0x00
    .byte 0x30              ;6369  30          DATA 0x30 '0'
    .byte 0x00              ;636a  00          DATA 0x00
    .byte 0x39              ;636b  39          DATA 0x39 '9'
    .byte 0x00              ;636c  00          DATA 0x00
    .byte 0x66              ;636d  66          DATA 0x66 'f'
    .byte 0x22              ;636e  22          DATA 0x22 '"'
    .byte 0x8a              ;636f  8a          DATA 0x8a
    .byte 0x02              ;6370  02          DATA 0x02
    .byte 0x02              ;6371  02          DATA 0x02
    .byte 0x00              ;6372  00          DATA 0x00
    .byte 0x00              ;6373  00          DATA 0x00
    .byte 0x00              ;6374  00          DATA 0x00
    .byte 0x07              ;6375  07          DATA 0x07
    .byte 0x00              ;6376  00          DATA 0x00
    .byte 0x66              ;6377  66          DATA 0x66 'f'
    .byte 0x22              ;6378  22          DATA 0x22 '"'
    .byte 0x80              ;6379  80          DATA 0x80
    .byte 0x02              ;637a  02          DATA 0x02
    .byte 0x00              ;637b  00          DATA 0x00
    .byte 0x00              ;637c  00          DATA 0x00
    .byte 0x00              ;637d  00          DATA 0x00
    .byte 0x00              ;637e  00          DATA 0x00
    .byte 0x09              ;637f  09          DATA 0x09
    .byte 0x00              ;6380  00          DATA 0x00
    .byte 0xd2              ;6381  d2          DATA 0xd2
    .byte 0x7d              ;6382  7d          DATA 0x7d '}'
    .byte 0x81              ;6383  81          DATA 0x81
    .byte 0x02              ;6384  02          DATA 0x02
    .byte 0x00              ;6385  00          DATA 0x00
    .byte 0x00              ;6386  00          DATA 0x00
    .byte 0x01              ;6387  01          DATA 0x01
    .byte 0x00              ;6388  00          DATA 0x00
    .byte 0x26              ;6389  26          DATA 0x26 '&'
    .byte 0x00              ;638a  00          DATA 0x00
    .byte 0xe7              ;638b  e7          DATA 0xe7
    .byte 0x7d              ;638c  7d          DATA 0x7d '}'
    .byte 0x82              ;638d  82          DATA 0x82
    .byte 0x02              ;638e  02          DATA 0x02
    .byte 0x00              ;638f  00          DATA 0x00
    .byte 0x00              ;6390  00          DATA 0x00
    .byte 0x01              ;6391  01          DATA 0x01
    .byte 0x00              ;6392  00          DATA 0x00
    .byte 0x09              ;6393  09          DATA 0x09
    .byte 0x00              ;6394  00          DATA 0x00
    .byte 0xf9              ;6395  f9          DATA 0xf9
    .byte 0x7d              ;6396  7d          DATA 0x7d '}'
    .byte 0x83              ;6397  83          DATA 0x83
    .byte 0x02              ;6398  02          DATA 0x02
    .byte 0x00              ;6399  00          DATA 0x00
    .byte 0x00              ;639a  00          DATA 0x00
    .byte 0x00              ;639b  00          DATA 0x00
    .byte 0x00              ;639c  00          DATA 0x00
    .byte 0x26              ;639d  26          DATA 0x26 '&'
    .byte 0x00              ;639e  00          DATA 0x00
    .byte 0x0b              ;639f  0b          DATA 0x0b
    .byte 0x7e              ;63a0  7e          DATA 0x7e '~'
    .byte 0x84              ;63a1  84          DATA 0x84
    .byte 0x02              ;63a2  02          DATA 0x02
    .byte 0x00              ;63a3  00          DATA 0x00
    .byte 0x40              ;63a4  40          DATA 0x40 '@'
    .byte 0x00              ;63a5  00          DATA 0x00
    .byte 0x00              ;63a6  00          DATA 0x00
    .byte 0x01              ;63a7  01          DATA 0x01
    .byte 0x00              ;63a8  00          DATA 0x00
    .byte 0x1f              ;63a9  1f          DATA 0x1f
    .byte 0x7e              ;63aa  7e          DATA 0x7e '~'
    .byte 0x85              ;63ab  85          DATA 0x85
    .byte 0x02              ;63ac  02          DATA 0x02
    .byte 0x00              ;63ad  00          DATA 0x00
    .byte 0x40              ;63ae  40          DATA 0x40 '@'
    .byte 0x00              ;63af  00          DATA 0x00
    .byte 0x00              ;63b0  00          DATA 0x00
    .byte 0x01              ;63b1  01          DATA 0x01
    .byte 0x00              ;63b2  00          DATA 0x00
    .byte 0x66              ;63b3  66          DATA 0x66 'f'
    .byte 0x22              ;63b4  22          DATA 0x22 '"'
    .byte 0x86              ;63b5  86          DATA 0x86
    .byte 0x02              ;63b6  02          DATA 0x02
    .byte 0x00              ;63b7  00          DATA 0x00
    .byte 0x40              ;63b8  40          DATA 0x40 '@'
    .byte 0x00              ;63b9  00          DATA 0x00
    .byte 0x00              ;63ba  00          DATA 0x00
    .byte 0x01              ;63bb  01          DATA 0x01
    .byte 0x00              ;63bc  00          DATA 0x00
    .byte 0x3a              ;63bd  3a          DATA 0x3a ':'
    .byte 0x7e              ;63be  7e          DATA 0x7e '~'
    .byte 0x87              ;63bf  87          DATA 0x87
    .byte 0x02              ;63c0  02          DATA 0x02
    .byte 0x00              ;63c1  00          DATA 0x00
    .byte 0x40              ;63c2  40          DATA 0x40 '@'
    .byte 0x00              ;63c3  00          DATA 0x00
    .byte 0x00              ;63c4  00          DATA 0x00
    .byte 0x01              ;63c5  01          DATA 0x01
    .byte 0x00              ;63c6  00          DATA 0x00
    .byte 0x66              ;63c7  66          DATA 0x66 'f'
    .byte 0x22              ;63c8  22          DATA 0x22 '"'
    .byte 0x20              ;63c9  20          DATA 0x20 ' '
    .byte 0x54              ;63ca  54          DATA 0x54 'T'
    .byte 0x50              ;63cb  50          DATA 0x50 'P'
    .byte 0x20              ;63cc  20          DATA 0x20 ' '
    .byte 0x20              ;63cd  20          DATA 0x20 ' '
    .byte 0x20              ;63ce  20          DATA 0x20 ' '
    .byte 0x20              ;63cf  20          DATA 0x20 ' '
    .byte 0x20              ;63d0  20          DATA 0x20 ' '
    .byte 0x46              ;63d1  46          DATA 0x46 'F'
    .byte 0x4d              ;63d2  4d          DATA 0x4d 'M'
    .byte 0x31              ;63d3  31          DATA 0x31 '1'
    .byte 0x20              ;63d4  20          DATA 0x20 ' '
    .byte 0x20              ;63d5  20          DATA 0x20 ' '
    .byte 0x20              ;63d6  20          DATA 0x20 ' '
    .byte 0x20              ;63d7  20          DATA 0x20 ' '
    .byte 0x20              ;63d8  20          DATA 0x20 ' '
    .byte 0x46              ;63d9  46          DATA 0x46 'F'
    .byte 0x4d              ;63da  4d          DATA 0x4d 'M'
    .byte 0x32              ;63db  32          DATA 0x32 '2'
    .byte 0x20              ;63dc  20          DATA 0x20 ' '
    .byte 0x20              ;63dd  20          DATA 0x20 ' '
    .byte 0x20              ;63de  20          DATA 0x20 ' '
    .byte 0x20              ;63df  20          DATA 0x20 ' '
    .byte 0x20              ;63e0  20          DATA 0x20 ' '
    .byte 0x41              ;63e1  41          DATA 0x41 'A'
    .byte 0x4d              ;63e2  4d          DATA 0x4d 'M'
    .byte 0x31              ;63e3  31          DATA 0x31 '1'
    .byte 0x20              ;63e4  20          DATA 0x20 ' '
    .byte 0x20              ;63e5  20          DATA 0x20 ' '
    .byte 0x20              ;63e6  20          DATA 0x20 ' '
    .byte 0x20              ;63e7  20          DATA 0x20 ' '
    .byte 0x20              ;63e8  20          DATA 0x20 ' '
    .byte 0x41              ;63e9  41          DATA 0x41 'A'
    .byte 0x4d              ;63ea  4d          DATA 0x4d 'M'
    .byte 0x32              ;63eb  32          DATA 0x32 '2'
    .byte 0x20              ;63ec  20          DATA 0x20 ' '
    .byte 0x20              ;63ed  20          DATA 0x20 ' '
    .byte 0x20              ;63ee  20          DATA 0x20 ' '
    .byte 0x20              ;63ef  20          DATA 0x20 ' '
    .byte 0x20              ;63f0  20          DATA 0x20 ' '
    .byte 0x20              ;63f1  20          DATA 0x20 ' '
    .byte 0x20              ;63f2  20          DATA 0x20 ' '
    .byte 0x20              ;63f3  20          DATA 0x20 ' '
    .byte 0x20              ;63f4  20          DATA 0x20 ' '
    .byte 0x20              ;63f5  20          DATA 0x20 ' '
    .byte 0x20              ;63f6  20          DATA 0x20 ' '
    .byte 0x20              ;63f7  20          DATA 0x20 ' '
    .byte 0x20              ;63f8  20          DATA 0x20 ' '
    .byte 0x4e              ;63f9  4e          DATA 0x4e 'N'
    .byte 0x4f              ;63fa  4f          DATA 0x4f 'O'
    .byte 0x20              ;63fb  20          DATA 0x20 ' '
    .byte 0x54              ;63fc  54          DATA 0x54 'T'
    .byte 0x50              ;63fd  50          DATA 0x50 'P'
    .byte 0x20              ;63fe  20          DATA 0x20 ' '
    .byte 0x20              ;63ff  20          DATA 0x20 ' '
    .byte 0x20              ;6400  20          DATA 0x20 ' '
    .byte 0x53              ;6401  53          DATA 0x53 'S'
    .byte 0x43              ;6402  43          DATA 0x43 'C'
    .byte 0x41              ;6403  41          DATA 0x41 'A'
    .byte 0x4e              ;6404  4e          DATA 0x4e 'N'
    .byte 0x20              ;6405  20          DATA 0x20 ' '
    .byte 0x20              ;6406  20          DATA 0x20 ' '
    .byte 0x20              ;6407  20          DATA 0x20 ' '
    .byte 0x20              ;6408  20          DATA 0x20 ' '
    .byte 0x20              ;6409  20          DATA 0x20 ' '
    .byte 0x4d              ;640a  4d          DATA 0x4d 'M'
    .byte 0x41              ;640b  41          DATA 0x41 'A'
    .byte 0x4e              ;640c  4e          DATA 0x4e 'N'
    .byte 0x20              ;640d  20          DATA 0x20 ' '
    .byte 0x20              ;640e  20          DATA 0x20 ' '
    .byte 0x20              ;640f  20          DATA 0x20 ' '
    .byte 0x20              ;6410  20          DATA 0x20 ' '
    .byte 0x50              ;6411  50          DATA 0x50 'P'
    .byte 0x4c              ;6412  4c          DATA 0x4c 'L'
    .byte 0x41              ;6413  41          DATA 0x41 'A'
    .byte 0x59              ;6414  59          DATA 0x59 'Y'
    .byte 0x20              ;6415  20          DATA 0x20 ' '
    .byte 0x20              ;6416  20          DATA 0x20 ' '
    .byte 0x20              ;6417  20          DATA 0x20 ' '
    .byte 0x20              ;6418  20          DATA 0x20 ' '
    .byte 0x53              ;6419  53          DATA 0x53 'S'
    .byte 0x48              ;641a  48          DATA 0x48 'H'
    .byte 0x46              ;641b  46          DATA 0x46 'F'
    .byte 0x46              ;641c  46          DATA 0x46 'F'
    .byte 0x4c              ;641d  4c          DATA 0x4c 'L'
    .byte 0x20              ;641e  20          DATA 0x20 ' '
    .byte 0x20              ;641f  20          DATA 0x20 ' '
    .byte 0x20              ;6420  20          DATA 0x20 ' '
    .byte 0x4e              ;6421  4e          DATA 0x4e 'N'
    .byte 0x4f              ;6422  4f          DATA 0x4f 'O'
    .byte 0x20              ;6423  20          DATA 0x20 ' '
    .byte 0x43              ;6424  43          DATA 0x43 'C'
    .byte 0x44              ;6425  44          DATA 0x44 'D'
    .byte 0x20              ;6426  20          DATA 0x20 ' '
    .byte 0x20              ;6427  20          DATA 0x20 ' '
    .byte 0x20              ;6428  20          DATA 0x20 ' '
    .byte 0x53              ;6429  53          DATA 0x53 'S'
    .byte 0x45              ;642a  45          DATA 0x45 'E'
    .byte 0x54              ;642b  54          DATA 0x54 'T'
    .byte 0x55              ;642c  55          DATA 0x55 'U'
    .byte 0x50              ;642d  50          DATA 0x50 'P'
    .byte 0x20              ;642e  20          DATA 0x20 ' '
    .byte 0x20              ;642f  20          DATA 0x20 ' '
    .byte 0x20              ;6430  20          DATA 0x20 ' '
    .byte 0x20              ;6431  20          DATA 0x20 ' '
    .byte 0x54              ;6432  54          DATA 0x54 'T'
    .byte 0x41              ;6433  41          DATA 0x41 'A'
    .byte 0x50              ;6434  50          DATA 0x50 'P'
    .byte 0x45              ;6435  45          DATA 0x45 'E'
    .byte 0x20              ;6436  20          DATA 0x20 ' '
    .byte 0x20              ;6437  20          DATA 0x20 ' '
    .byte 0x20              ;6438  20          DATA 0x20 ' '
    .byte 0x41              ;6439  41          DATA 0x41 'A'
    .byte 0x4c              ;643a  4c          DATA 0x4c 'L'
    .byte 0x41              ;643b  41          DATA 0x41 'A'
    .byte 0x52              ;643c  52          DATA 0x52 'R'
    .byte 0x4d              ;643d  4d          DATA 0x4d 'M'
    .byte 0x20              ;643e  20          DATA 0x20 ' '
    .byte 0x20              ;643f  20          DATA 0x20 ' '
    .byte 0x20              ;6440  20          DATA 0x20 ' '
    .byte 0x50              ;6441  50          DATA 0x50 'P'
    .byte 0x48              ;6442  48          DATA 0x48 'H'
    .byte 0x4f              ;6443  4f          DATA 0x4f 'O'
    .byte 0x4e              ;6444  4e          DATA 0x4e 'N'
    .byte 0x45              ;6445  45          DATA 0x45 'E'
    .byte 0x20              ;6446  20          DATA 0x20 ' '
    .byte 0x20              ;6447  20          DATA 0x20 ' '
    .byte 0x20              ;6448  20          DATA 0x20 ' '
    .byte 0x46              ;6449  46          DATA 0x46 'F'
    .byte 0x4d              ;644a  4d          DATA 0x4d 'M'
    .byte 0x2d              ;644b  2d          DATA 0x2d '-'
    .byte 0x41              ;644c  41          DATA 0x41 'A'
    .byte 0x4d              ;644d  4d          DATA 0x4d 'M'
    .byte 0x20              ;644e  20          DATA 0x20 ' '
    .byte 0x20              ;644f  20          DATA 0x20 ' '
    .byte 0x20              ;6450  20          DATA 0x20 ' '
    .byte 0x52              ;6451  52          DATA 0x52 'R'
    .byte 0x41              ;6452  41          DATA 0x41 'A'
    .byte 0x44              ;6453  44          DATA 0x44 'D'
    .byte 0x49              ;6454  49          DATA 0x49 'I'
    .byte 0x4f              ;6455  4f          DATA 0x4f 'O'
    .byte 0x20              ;6456  20          DATA 0x20 ' '
    .byte 0x20              ;6457  20          DATA 0x20 ' '
    .byte 0x20              ;6458  20          DATA 0x20 ' '
    .byte 0x20              ;6459  20          DATA 0x20 ' '
    .byte 0x56              ;645a  56          DATA 0x56 'V'
    .byte 0x45              ;645b  45          DATA 0x45 'E'
    .byte 0x52              ;645c  52          DATA 0x52 'R'
    .byte 0x53              ;645d  53          DATA 0x53 'S'
    .byte 0x20              ;645e  20          DATA 0x20 ' '
    .byte 0x20              ;645f  20          DATA 0x20 ' '
    .byte 0x20              ;6460  20          DATA 0x20 ' '
    .byte 0x20              ;6461  20          DATA 0x20 ' '
    .byte 0x47              ;6462  47          DATA 0x47 'G'
    .byte 0x41              ;6463  41          DATA 0x41 'A'
    .byte 0x4c              ;6464  4c          DATA 0x4c 'L'
    .byte 0x41              ;6465  41          DATA 0x41 'A'
    .byte 0x20              ;6466  20          DATA 0x20 ' '
    .byte 0x20              ;6467  20          DATA 0x20 ' '
    .byte 0x20              ;6468  20          DATA 0x20 ' '
    .byte 0x46              ;6469  46          DATA 0x46 'F'
    .byte 0x45              ;646a  45          DATA 0x45 'E'
    .byte 0x52              ;646b  52          DATA 0x52 'R'
    .byte 0x4e              ;646c  4e          DATA 0x4e 'N'
    .byte 0x20              ;646d  20          DATA 0x20 ' '
    .byte 0x20              ;646e  20          DATA 0x20 ' '
    .byte 0x20              ;646f  20          DATA 0x20 ' '
    .byte 0x20              ;6470  20          DATA 0x20 ' '
    .byte 0x52              ;6471  52          DATA 0x52 'R'
    .byte 0x44              ;6472  44          DATA 0x44 'D'
    .byte 0x53              ;6473  53          DATA 0x53 'S'
    .byte 0x20              ;6474  20          DATA 0x20 ' '
    .byte 0x20              ;6475  20          DATA 0x20 ' '
    .byte 0x20              ;6476  20          DATA 0x20 ' '
    .byte 0x20              ;6477  20          DATA 0x20 ' '
    .byte 0x20              ;6478  20          DATA 0x20 ' '
    .byte 0x41              ;6479  41          DATA 0x41 'A'
    .byte 0x46              ;647a  46          DATA 0x46 'F'
    .byte 0x2d              ;647b  2d          DATA 0x2d '-'
    .byte 0x20              ;647c  20          DATA 0x20 ' '
    .byte 0x20              ;647d  20          DATA 0x20 ' '
    .byte 0x20              ;647e  20          DATA 0x20 ' '
    .byte 0x20              ;647f  20          DATA 0x20 ' '
    .byte 0x20              ;6480  20          DATA 0x20 ' '
    .byte 0x20              ;6481  20          DATA 0x20 ' '
    .byte 0x42              ;6482  42          DATA 0x42 'B'
    .byte 0x41              ;6483  41          DATA 0x41 'A'
    .byte 0x53              ;6484  53          DATA 0x53 'S'
    .byte 0x53              ;6485  53          DATA 0x53 'S'
    .byte 0x20              ;6486  20          DATA 0x20 ' '
    .byte 0x20              ;6487  20          DATA 0x20 ' '
    .byte 0x20              ;6488  20          DATA 0x20 ' '
    .byte 0x20              ;6489  20          DATA 0x20 ' '
    .byte 0x54              ;648a  54          DATA 0x54 'T'
    .byte 0x52              ;648b  52          DATA 0x52 'R'
    .byte 0x45              ;648c  45          DATA 0x45 'E'
    .byte 0x20              ;648d  20          DATA 0x20 ' '
    .byte 0x20              ;648e  20          DATA 0x20 ' '
    .byte 0x20              ;648f  20          DATA 0x20 ' '
    .byte 0x20              ;6490  20          DATA 0x20 ' '
    .byte 0x20              ;6491  20          DATA 0x20 ' '
    .byte 0x42              ;6492  42          DATA 0x42 'B'
    .byte 0x41              ;6493  41          DATA 0x41 'A'
    .byte 0x4c              ;6494  4c          DATA 0x4c 'L'
    .byte 0x20              ;6495  20          DATA 0x20 ' '
    .byte 0x20              ;6496  20          DATA 0x20 ' '
    .byte 0x20              ;6497  20          DATA 0x20 ' '
    .byte 0x20              ;6498  20          DATA 0x20 ' '
    .byte 0x20              ;6499  20          DATA 0x20 ' '
    .byte 0x46              ;649a  46          DATA 0x46 'F'
    .byte 0x41              ;649b  41          DATA 0x41 'A'
    .byte 0x44              ;649c  44          DATA 0x44 'D'
    .byte 0x20              ;649d  20          DATA 0x20 ' '
    .byte 0x20              ;649e  20          DATA 0x20 ' '
    .byte 0x20              ;649f  20          DATA 0x20 ' '
    .byte 0x20              ;64a0  20          DATA 0x20 ' '
    .byte 0x49              ;64a1  49          DATA 0x49 'I'
    .byte 0x4e              ;64a2  4e          DATA 0x4e 'N'
    .byte 0x46              ;64a3  46          DATA 0x46 'F'
    .byte 0x4f              ;64a4  4f          DATA 0x4f 'O'
    .byte 0x20              ;64a5  20          DATA 0x20 ' '
    .byte 0x20              ;64a6  20          DATA 0x20 ' '
    .byte 0x20              ;64a7  20          DATA 0x20 ' '
    .byte 0x20              ;64a8  20          DATA 0x20 ' '
    .byte 0x20              ;64a9  20          DATA 0x20 ' '
    .byte 0x43              ;64aa  43          DATA 0x43 'C'
    .byte 0x48              ;64ab  48          DATA 0x48 'H'
    .byte 0x4b              ;64ac  4b          DATA 0x4b 'K'
    .byte 0x20              ;64ad  20          DATA 0x20 ' '
    .byte 0x20              ;64ae  20          DATA 0x20 ' '
    .byte 0x20              ;64af  20          DATA 0x20 ' '
    .byte 0x20              ;64b0  20          DATA 0x20 ' '
    .byte 0x46              ;64b1  46          DATA 0x46 'F'
    .byte 0x4d              ;64b2  4d          DATA 0x4d 'M'
    .byte 0x20              ;64b3  20          DATA 0x20 ' '
    .byte 0x20              ;64b4  20          DATA 0x20 ' '
    .byte 0x20              ;64b5  20          DATA 0x20 ' '
    .byte 0x20              ;64b6  20          DATA 0x20 ' '
    .byte 0x20              ;64b7  20          DATA 0x20 ' '
    .byte 0x20              ;64b8  20          DATA 0x20 ' '
    .byte 0x20              ;64b9  20          DATA 0x20 ' '
    .byte 0x56              ;64ba  56          DATA 0x56 'V'
    .byte 0x4f              ;64bb  4f          DATA 0x4f 'O'
    .byte 0x4c              ;64bc  4c          DATA 0x4c 'L'
    .byte 0x20              ;64bd  20          DATA 0x20 ' '
    .byte 0x20              ;64be  20          DATA 0x20 ' '
    .byte 0x20              ;64bf  20          DATA 0x20 ' '
    .byte 0x20              ;64c0  20          DATA 0x20 ' '
    .byte 0x20              ;64c1  20          DATA 0x20 ' '
    .byte 0x54              ;64c2  54          DATA 0x54 'T'
    .byte 0x49              ;64c3  49          DATA 0x49 'I'
    .byte 0x4d              ;64c4  4d          DATA 0x4d 'M'
    .byte 0x20              ;64c5  20          DATA 0x20 ' '
    .byte 0x20              ;64c6  20          DATA 0x20 ' '
    .byte 0x20              ;64c7  20          DATA 0x20 ' '
    .byte 0x20              ;64c8  20          DATA 0x20 ' '
    .byte 0x20              ;64c9  20          DATA 0x20 ' '
    .byte 0x43              ;64ca  43          DATA 0x43 'C'
    .byte 0x44              ;64cb  44          DATA 0x44 'D'
    .byte 0x20              ;64cc  20          DATA 0x20 ' '
    .byte 0x20              ;64cd  20          DATA 0x20 ' '
    .byte 0x20              ;64ce  20          DATA 0x20 ' '
    .byte 0x20              ;64cf  20          DATA 0x20 ' '
    .byte 0x20              ;64d0  20          DATA 0x20 ' '
    .byte 0x50              ;64d1  50          DATA 0x50 'P'
    .byte 0x4c              ;64d2  4c          DATA 0x4c 'L'
    .byte 0x41              ;64d3  41          DATA 0x41 'A'
    .byte 0x59              ;64d4  59          DATA 0x59 'Y'
    .byte 0x20              ;64d5  20          DATA 0x20 ' '
    .byte 0x46              ;64d6  46          DATA 0x46 'F'
    .byte 0x4f              ;64d7  4f          DATA 0x4f 'O'
    .byte 0x52              ;64d8  52          DATA 0x52 'R'
    .byte 0x50              ;64d9  50          DATA 0x50 'P'
    .byte 0x4c              ;64da  4c          DATA 0x4c 'L'
    .byte 0x41              ;64db  41          DATA 0x41 'A'
    .byte 0x59              ;64dc  59          DATA 0x59 'Y'
    .byte 0x20              ;64dd  20          DATA 0x20 ' '
    .byte 0x52              ;64de  52          DATA 0x52 'R'
    .byte 0x45              ;64df  45          DATA 0x45 'E'
    .byte 0x56              ;64e0  56          DATA 0x56 'V'
    .byte 0x57              ;64e1  57          DATA 0x57 'W'
    .byte 0x49              ;64e2  49          DATA 0x49 'I'
    .byte 0x4e              ;64e3  4e          DATA 0x4e 'N'
    .byte 0x44              ;64e4  44          DATA 0x44 'D'
    .byte 0x20              ;64e5  20          DATA 0x20 ' '
    .byte 0x46              ;64e6  46          DATA 0x46 'F'
    .byte 0x4f              ;64e7  4f          DATA 0x4f 'O'
    .byte 0x52              ;64e8  52          DATA 0x52 'R'
    .byte 0x57              ;64e9  57          DATA 0x57 'W'
    .byte 0x49              ;64ea  49          DATA 0x49 'I'
    .byte 0x4e              ;64eb  4e          DATA 0x4e 'N'
    .byte 0x44              ;64ec  44          DATA 0x44 'D'
    .byte 0x20              ;64ed  20          DATA 0x20 ' '
    .byte 0x52              ;64ee  52          DATA 0x52 'R'
    .byte 0x45              ;64ef  45          DATA 0x45 'E'
    .byte 0x56              ;64f0  56          DATA 0x56 'V'
    .byte 0x20              ;64f1  20          DATA 0x20 ' '
    .byte 0x4d              ;64f2  4d          DATA 0x4d 'M'
    .byte 0x53              ;64f3  53          DATA 0x53 'S'
    .byte 0x53              ;64f4  53          DATA 0x53 'S'
    .byte 0x20              ;64f5  20          DATA 0x20 ' '
    .byte 0x46              ;64f6  46          DATA 0x46 'F'
    .byte 0x4f              ;64f7  4f          DATA 0x4f 'O'
    .byte 0x52              ;64f8  52          DATA 0x52 'R'
    .byte 0x20              ;64f9  20          DATA 0x20 ' '
    .byte 0x4d              ;64fa  4d          DATA 0x4d 'M'
    .byte 0x53              ;64fb  53          DATA 0x53 'S'
    .byte 0x53              ;64fc  53          DATA 0x53 'S'
    .byte 0x20              ;64fd  20          DATA 0x20 ' '
    .byte 0x52              ;64fe  52          DATA 0x52 'R'
    .byte 0x45              ;64ff  45          DATA 0x45 'E'
    .byte 0x56              ;6500  56          DATA 0x56 'V'
    .byte 0x20              ;6501  20          DATA 0x20 ' '
    .byte 0x20              ;6502  20          DATA 0x20 ' '
    .byte 0x53              ;6503  53          DATA 0x53 'S'
    .byte 0x43              ;6504  43          DATA 0x43 'C'
    .byte 0x41              ;6505  41          DATA 0x41 'A'
    .byte 0x4e              ;6506  4e          DATA 0x4e 'N'
    .byte 0x20              ;6507  20          DATA 0x20 ' '
    .byte 0x20              ;6508  20          DATA 0x20 ' '
    .byte 0x48              ;6509  48          DATA 0x48 'H'
    .byte 0x49              ;650a  49          DATA 0x49 'I'
    .byte 0x47              ;650b  47          DATA 0x47 'G'
    .byte 0x48              ;650c  48          DATA 0x48 'H'
    .byte 0x20              ;650d  20          DATA 0x20 ' '
    .byte 0x50              ;650e  50          DATA 0x50 'P'
    .byte 0x4f              ;650f  4f          DATA 0x4f 'O'
    .byte 0x53              ;6510  53          DATA 0x53 'S'
    .byte 0x4e              ;6511  4e          DATA 0x4e 'N'
    .byte 0x4f              ;6512  4f          DATA 0x4f 'O'
    .byte 0x20              ;6513  20          DATA 0x20 ' '
    .byte 0x54              ;6514  54          DATA 0x54 'T'
    .byte 0x41              ;6515  41          DATA 0x41 'A'
    .byte 0x50              ;6516  50          DATA 0x50 'P'
    .byte 0x45              ;6517  45          DATA 0x45 'E'
    .byte 0x20              ;6518  20          DATA 0x20 ' '
    .byte 0x20              ;6519  20          DATA 0x20 ' '
    .byte 0x4e              ;651a  4e          DATA 0x4e 'N'
    .byte 0x4f              ;651b  4f          DATA 0x4f 'O'
    .byte 0x20              ;651c  20          DATA 0x20 ' '
    .byte 0x44              ;651d  44          DATA 0x44 'D'
    .byte 0x49              ;651e  49          DATA 0x49 'I'
    .byte 0x53              ;651f  53          DATA 0x53 'S'
    .byte 0x43              ;6520  43          DATA 0x43 'C'
    .byte 0x20              ;6521  20          DATA 0x20 ' '
    .byte 0x20              ;6522  20          DATA 0x20 ' '
    .byte 0x20              ;6523  20          DATA 0x20 ' '
    .byte 0x20              ;6524  20          DATA 0x20 ' '
    .byte 0x20              ;6525  20          DATA 0x20 ' '
    .byte 0x20              ;6526  20          DATA 0x20 ' '
    .byte 0x20              ;6527  20          DATA 0x20 ' '
    .byte 0x20              ;6528  20          DATA 0x20 ' '
    .byte 0x20              ;6529  20          DATA 0x20 ' '
    .byte 0x53              ;652a  53          DATA 0x53 'S'
    .byte 0x41              ;652b  41          DATA 0x41 'A'
    .byte 0x46              ;652c  46          DATA 0x46 'F'
    .byte 0x45              ;652d  45          DATA 0x45 'E'
    .byte 0x20              ;652e  20          DATA 0x20 ' '
    .byte 0x20              ;652f  20          DATA 0x20 ' '
    .byte 0x20              ;6530  20          DATA 0x20 ' '
    .byte 0x20              ;6531  20          DATA 0x20 ' '
    .byte 0x31              ;6532  31          DATA 0x31 '1'
    .byte 0x30              ;6533  30          DATA 0x30 '0'
    .byte 0x30              ;6534  30          DATA 0x30 '0'
    .byte 0x30              ;6535  30          DATA 0x30 '0'
    .byte 0x20              ;6536  20          DATA 0x20 ' '
    .byte 0x20              ;6537  20          DATA 0x20 ' '
    .byte 0x20              ;6538  20          DATA 0x20 ' '
    .byte 0x20              ;6539  20          DATA 0x20 ' '
    .byte 0x43              ;653a  43          DATA 0x43 'C'
    .byte 0x45              ;653b  45          DATA 0x45 'E'
    .byte 0x4e              ;653c  4e          DATA 0x4e 'N'
    .byte 0x54              ;653d  54          DATA 0x54 'T'
    .byte 0x45              ;653e  45          DATA 0x45 'E'
    .byte 0x52              ;653f  52          DATA 0x52 'R'
    .byte 0x20              ;6540  20          DATA 0x20 ' '
    .byte 0x20              ;6541  20          DATA 0x20 ' '
    .byte 0x4c              ;6542  4c          DATA 0x4c 'L'
    .byte 0x45              ;6543  45          DATA 0x45 'E'
    .byte 0x46              ;6544  46          DATA 0x46 'F'
    .byte 0x54              ;6545  54          DATA 0x54 'T'
    .byte 0x20              ;6546  20          DATA 0x20 ' '
    .byte 0x20              ;6547  20          DATA 0x20 ' '
    .byte 0x20              ;6548  20          DATA 0x20 ' '
    .byte 0x52              ;6549  52          DATA 0x52 'R'
    .byte 0x49              ;654a  49          DATA 0x49 'I'
    .byte 0x47              ;654b  47          DATA 0x47 'G'
    .byte 0x48              ;654c  48          DATA 0x48 'H'
    .byte 0x54              ;654d  54          DATA 0x54 'T'
    .byte 0x20              ;654e  20          DATA 0x20 ' '
    .byte 0x20              ;654f  20          DATA 0x20 ' '
    .byte 0x20              ;6550  20          DATA 0x20 ' '
    .byte 0x46              ;6551  46          DATA 0x46 'F'
    .byte 0x52              ;6552  52          DATA 0x52 'R'
    .byte 0x4f              ;6553  4f          DATA 0x4f 'O'
    .byte 0x4e              ;6554  4e          DATA 0x4e 'N'
    .byte 0x54              ;6555  54          DATA 0x54 'T'
    .byte 0x20              ;6556  20          DATA 0x20 ' '
    .byte 0x20              ;6557  20          DATA 0x20 ' '
    .byte 0x20              ;6558  20          DATA 0x20 ' '
    .byte 0x20              ;6559  20          DATA 0x20 ' '
    .byte 0x52              ;655a  52          DATA 0x52 'R'
    .byte 0x45              ;655b  45          DATA 0x45 'E'
    .byte 0x41              ;655c  41          DATA 0x41 'A'
    .byte 0x52              ;655d  52          DATA 0x52 'R'
    .byte 0x20              ;655e  20          DATA 0x20 ' '
    .byte 0x20              ;655f  20          DATA 0x20 ' '
    .byte 0x20              ;6560  20          DATA 0x20 ' '
    .byte 0x20              ;6561  20          DATA 0x20 ' '
    .byte 0x53              ;6562  53          DATA 0x53 'S'
    .byte 0x54              ;6563  54          DATA 0x54 'T'
    .byte 0x4f              ;6564  4f          DATA 0x4f 'O'
    .byte 0x52              ;6565  52          DATA 0x52 'R'
    .byte 0x45              ;6566  45          DATA 0x45 'E'
    .byte 0x20              ;6567  20          DATA 0x20 ' '
    .byte 0x20              ;6568  20          DATA 0x20 ' '
    .byte 0x20              ;6569  20          DATA 0x20 ' '
    .byte 0x20              ;656a  20          DATA 0x20 ' '
    .byte 0x44              ;656b  44          DATA 0x44 'D'
    .byte 0x49              ;656c  49          DATA 0x49 'I'
    .byte 0x41              ;656d  41          DATA 0x41 'A'
    .byte 0x47              ;656e  47          DATA 0x47 'G'
    .byte 0x2e              ;656f  2e          DATA 0x2e '.'
    .byte 0x20              ;6570  20          DATA 0x20 ' '
    .byte 0x54              ;6571  54          DATA 0x54 'T'
    .byte 0x50              ;6572  50          DATA 0x50 'P'
    .byte 0x20              ;6573  20          DATA 0x20 ' '
    .byte 0x53              ;6574  53          DATA 0x53 'S'
    .byte 0x45              ;6575  45          DATA 0x45 'E'
    .byte 0x45              ;6576  45          DATA 0x45 'E'
    .byte 0x4b              ;6577  4b          DATA 0x4b 'K'
    .byte 0x20              ;6578  20          DATA 0x20 ' '
    .byte 0x53              ;6579  53          DATA 0x53 'S'
    .byte 0x54              ;657a  54          DATA 0x54 'T'
    .byte 0x4f              ;657b  4f          DATA 0x4f 'O'
    .byte 0x52              ;657c  52          DATA 0x52 'R'
    .byte 0x45              ;657d  45          DATA 0x45 'E'
    .byte 0x20              ;657e  20          DATA 0x20 ' '
    .byte 0x33              ;657f  33          DATA 0x33 '3'
    .byte 0x30              ;6580  30          DATA 0x30 '0'
    .byte 0x20              ;6581  20          DATA 0x20 ' '
    .byte 0x4e              ;6582  4e          DATA 0x4e 'N'
    .byte 0x4f              ;6583  4f          DATA 0x4f 'O'
    .byte 0x20              ;6584  20          DATA 0x20 ' '
    .byte 0x4d              ;6585  4d          DATA 0x4d 'M'
    .byte 0x53              ;6586  53          DATA 0x53 'S'
    .byte 0x47              ;6587  47          DATA 0x47 'G'
    .byte 0x20              ;6588  20          DATA 0x20 ' '
    .byte 0x54              ;6589  54          DATA 0x54 'T'
    .byte 0x49              ;658a  49          DATA 0x49 'I'
    .byte 0x4d              ;658b  4d          DATA 0x4d 'M'
    .byte 0x20              ;658c  20          DATA 0x20 ' '
    .byte 0x32              ;658d  32          DATA 0x32 '2'
    .byte 0x34              ;658e  34          DATA 0x34 '4'
    .byte 0x68              ;658f  68          DATA 0x68 'h'
    .byte 0x20              ;6590  20          DATA 0x20 ' '
    .byte 0x20              ;6591  20          DATA 0x20 ' '
    .byte 0x54              ;6592  54          DATA 0x54 'T'
    .byte 0x49              ;6593  49          DATA 0x49 'I'
    .byte 0x4d              ;6594  4d          DATA 0x4d 'M'
    .byte 0x20              ;6595  20          DATA 0x20 ' '
    .byte 0x32              ;6596  32          DATA 0x32 '2'
    .byte 0x68              ;6597  68          DATA 0x68 'h'
    .byte 0x20              ;6598  20          DATA 0x20 ' '
    .byte 0x20              ;6599  20          DATA 0x20 ' '
    .byte 0x20              ;659a  20          DATA 0x20 ' '
    .byte 0x45              ;659b  45          DATA 0x45 'E'
    .byte 0x52              ;659c  52          DATA 0x52 'R'
    .byte 0x52              ;659d  52          DATA 0x52 'R'
    .byte 0x4f              ;659e  4f          DATA 0x4f 'O'
    .byte 0x52              ;659f  52          DATA 0x52 'R'
    .byte 0x20              ;65a0  20          DATA 0x20 ' '
    .byte 0x20              ;65a1  20          DATA 0x20 ' '
    .byte 0x43              ;65a2  43          DATA 0x43 'C'
    .byte 0x44              ;65a3  44          DATA 0x44 'D'
    .byte 0x20              ;65a4  20          DATA 0x20 ' '
    .byte 0x20              ;65a5  20          DATA 0x20 ' '
    .byte 0x68              ;65a6  68          DATA 0x68 'h'
    .byte 0x6f              ;65a7  6f          DATA 0x6f 'o'
    .byte 0x74              ;65a8  74          DATA 0x74 't'
    .byte 0x43              ;65a9  43          DATA 0x43 'C'
    .byte 0x44              ;65aa  44          DATA 0x44 'D'
    .byte 0x20              ;65ab  20          DATA 0x20 ' '
    .byte 0x20              ;65ac  20          DATA 0x20 ' '
    .byte 0x54              ;65ad  54          DATA 0x54 'T'
    .byte 0x52              ;65ae  52          DATA 0x52 'R'
    .byte 0x20              ;65af  20          DATA 0x20 ' '
    .byte 0x20              ;65b0  20          DATA 0x20 ' '
    .byte 0x43              ;65b1  43          DATA 0x43 'C'
    .byte 0x44              ;65b2  44          DATA 0x44 'D'
    .byte 0x20              ;65b3  20          DATA 0x20 ' '
    .byte 0x45              ;65b4  45          DATA 0x45 'E'
    .byte 0x52              ;65b5  52          DATA 0x52 'R'
    .byte 0x52              ;65b6  52          DATA 0x52 'R'
    .byte 0x4f              ;65b7  4f          DATA 0x4f 'O'
    .byte 0x52              ;65b8  52          DATA 0x52 'R'
    .byte 0x20              ;65b9  20          DATA 0x20 ' '
    .byte 0x20              ;65ba  20          DATA 0x20 ' '
    .byte 0x20              ;65bb  20          DATA 0x20 ' '
    .byte 0x20              ;65bc  20          DATA 0x20 ' '
    .byte 0x20              ;65bd  20          DATA 0x20 ' '
    .byte 0x64              ;65be  64          DATA 0x64 'd'
    .byte 0x42              ;65bf  42          DATA 0x42 'B'
    .byte 0x20              ;65c0  20          DATA 0x20 ' '
    .byte 0x20              ;65c1  20          DATA 0x20 ' '
    .byte 0x41              ;65c2  41          DATA 0x41 'A'
    .byte 0x55              ;65c3  55          DATA 0x55 'U'
    .byte 0x53              ;65c4  53          DATA 0x53 'S'
    .byte 0x20              ;65c5  20          DATA 0x20 ' '
    .byte 0x20              ;65c6  20          DATA 0x20 ' '
    .byte 0x20              ;65c7  20          DATA 0x20 ' '
    .byte 0x20              ;65c8  20          DATA 0x20 ' '
    .byte 0x20              ;65c9  20          DATA 0x20 ' '
    .byte 0x45              ;65ca  45          DATA 0x45 'E'
    .byte 0x49              ;65cb  49          DATA 0x49 'I'
    .byte 0x4e              ;65cc  4e          DATA 0x4e 'N'
    .byte 0x20              ;65cd  20          DATA 0x20 ' '
    .byte 0x20              ;65ce  20          DATA 0x20 ' '
    .byte 0x20              ;65cf  20          DATA 0x20 ' '
    .byte 0x20              ;65d0  20          DATA 0x20 ' '
    .byte 0x54              ;65d1  54          DATA 0x54 'T'
    .byte 0x45              ;65d2  45          DATA 0x45 'E'
    .byte 0x4c              ;65d3  4c          DATA 0x4c 'L'
    .byte 0x45              ;65d4  45          DATA 0x45 'E'
    .byte 0x47              ;65d5  47          DATA 0x47 'G'
    .byte 0x52              ;65d6  52          DATA 0x52 'R'
    .byte 0x2d              ;65d7  2d          DATA 0x2d '-'
    .byte 0x3e              ;65d8  3e          DATA 0x3e '>'
    .byte 0x4c              ;65d9  4c          DATA 0x4c 'L'
    .byte 0x49              ;65da  49          DATA 0x49 'I'
    .byte 0x53              ;65db  53          DATA 0x53 'S'
    .byte 0x54              ;65dc  54          DATA 0x54 'T'
    .byte 0x45              ;65dd  45          DATA 0x45 'E'
    .byte 0x20              ;65de  20          DATA 0x20 ' '
    .byte 0x2d              ;65df  2d          DATA 0x2d '-'
    .byte 0x3e              ;65e0  3e          DATA 0x3e '>'
    .byte 0x4c              ;65e1  4c          DATA 0x4c 'L'
    .byte 0x45              ;65e2  45          DATA 0x45 'E'
    .byte 0x56              ;65e3  56          DATA 0x56 'V'
    .byte 0x45              ;65e4  45          DATA 0x45 'E'
    .byte 0x4c              ;65e5  4c          DATA 0x4c 'L'
    .byte 0x20              ;65e6  20          DATA 0x20 ' '
    .byte 0x20              ;65e7  20          DATA 0x20 ' '
    .byte 0x20              ;65e8  20          DATA 0x20 ' '
    .byte 0x50              ;65e9  50          DATA 0x50 'P'
    .byte 0x54              ;65ea  54          DATA 0x54 'T'
    .byte 0x59              ;65eb  59          DATA 0x59 'Y'
    .byte 0x20              ;65ec  20          DATA 0x20 ' '
    .byte 0x20              ;65ed  20          DATA 0x20 ' '
    .byte 0x20              ;65ee  20          DATA 0x20 ' '
    .byte 0x20              ;65ef  20          DATA 0x20 ' '
    .byte 0x20              ;65f0  20          DATA 0x20 ' '
    .byte 0x20              ;65f1  20          DATA 0x20 ' '
    .byte 0x4e              ;65f2  4e          DATA 0x4e 'N'
    .byte 0x4f              ;65f3  4f          DATA 0x4f 'O'
    .byte 0x20              ;65f4  20          DATA 0x20 ' '
    .byte 0x43              ;65f5  43          DATA 0x43 'C'
    .byte 0x44              ;65f6  44          DATA 0x44 'D'
    .byte 0x20              ;65f7  20          DATA 0x20 ' '
    .byte 0x20              ;65f8  20          DATA 0x20 ' '
    .byte 0x4d              ;65f9  4d          DATA 0x4d 'M'
    .byte 0x41              ;65fa  41          DATA 0x41 'A'
    .byte 0x47              ;65fb  47          DATA 0x47 'G'
    .byte 0x41              ;65fc  41          DATA 0x41 'A'
    .byte 0x5a              ;65fd  5a          DATA 0x5a 'Z'
    .byte 0x49              ;65fe  49          DATA 0x49 'I'
    .byte 0x4e              ;65ff  4e          DATA 0x4e 'N'
    .byte 0x45              ;6600  45          DATA 0x45 'E'
    .byte 0x20              ;6601  20          DATA 0x20 ' '
    .byte 0x43              ;6602  43          DATA 0x43 'C'
    .byte 0x48              ;6603  48          DATA 0x48 'H'
    .byte 0x41              ;6604  41          DATA 0x41 'A'
    .byte 0x4e              ;6605  4e          DATA 0x4e 'N'
    .byte 0x47              ;6606  47          DATA 0x47 'G'
    .byte 0x45              ;6607  45          DATA 0x45 'E'
    .byte 0x52              ;6608  52          DATA 0x52 'R'
    .byte 0x20              ;6609  20          DATA 0x20 ' '
    .byte 0x45              ;660a  45          DATA 0x45 'E'
    .byte 0x4a              ;660b  4a          DATA 0x4a 'J'
    .byte 0x45              ;660c  45          DATA 0x45 'E'
    .byte 0x43              ;660d  43          DATA 0x43 'C'
    .byte 0x54              ;660e  54          DATA 0x54 'T'
    .byte 0x20              ;660f  20          DATA 0x20 ' '
    .byte 0x20              ;6610  20          DATA 0x20 ' '
    .byte 0x20              ;6611  20          DATA 0x20 ' '
    .byte 0x4c              ;6612  4c          DATA 0x4c 'L'
    .byte 0x45              ;6613  45          DATA 0x45 'E'
    .byte 0x41              ;6614  41          DATA 0x41 'A'
    .byte 0x52              ;6615  52          DATA 0x52 'R'
    .byte 0x4e              ;6616  4e          DATA 0x4e 'N'
    .byte 0x20              ;6617  20          DATA 0x20 ' '
    .byte 0x20              ;6618  20          DATA 0x20 ' '
    .byte 0x20              ;6619  20          DATA 0x20 ' '
    .byte 0x52              ;661a  52          DATA 0x52 'R'
    .byte 0x44              ;661b  44          DATA 0x44 'D'
    .byte 0x53              ;661c  53          DATA 0x53 'S'
    .byte 0x2d              ;661d  2d          DATA 0x2d '-'
    .byte 0x4f              ;661e  4f          DATA 0x4f 'O'
    .byte 0x4e              ;661f  4e          DATA 0x4e 'N'
    .byte 0x20              ;6620  20          DATA 0x20 ' '
    .byte 0x20              ;6621  20          DATA 0x20 ' '
    .byte 0x52              ;6622  52          DATA 0x52 'R'
    .byte 0x44              ;6623  44          DATA 0x44 'D'
    .byte 0x53              ;6624  53          DATA 0x53 'S'
    .byte 0x2d              ;6625  2d          DATA 0x2d '-'
    .byte 0x4f              ;6626  4f          DATA 0x4f 'O'
    .byte 0x46              ;6627  46          DATA 0x46 'F'
    .byte 0x46              ;6628  46          DATA 0x46 'F'
    .byte 0x50              ;6629  50          DATA 0x50 'P'
    .byte 0x52              ;662a  52          DATA 0x52 'R'
    .byte 0x45              ;662b  45          DATA 0x45 'E'
    .byte 0x53              ;662c  53          DATA 0x53 'S'
    .byte 0x53              ;662d  53          DATA 0x53 'S'
    .byte 0x20              ;662e  20          DATA 0x20 ' '
    .byte 0x46              ;662f  46          DATA 0x46 'F'
    .byte 0x4d              ;6630  4d          DATA 0x4d 'M'
    .byte 0x20              ;6631  20          DATA 0x20 ' '
    .byte 0x4e              ;6632  4e          DATA 0x4e 'N'
    .byte 0x4f              ;6633  4f          DATA 0x4f 'O'
    .byte 0x20              ;6634  20          DATA 0x20 ' '
    .byte 0x54              ;6635  54          DATA 0x54 'T'
    .byte 0x49              ;6636  49          DATA 0x49 'I'
    .byte 0x4d              ;6637  4d          DATA 0x4d 'M'
    .byte 0x20              ;6638  20          DATA 0x20 ' '
    .byte 0xfe              ;6639  fe          DATA 0xfe
    .byte 0xfd              ;663a  fd          DATA 0xfd
    .byte 0xfb              ;663b  fb          DATA 0xfb
    .byte 0xf7              ;663c  f7          DATA 0xf7
    .byte 0xef              ;663d  ef          DATA 0xef
    .byte 0xdf              ;663e  df          DATA 0xdf
    .byte 0xbf              ;663f  bf          DATA 0xbf
    .byte 0x7f              ;6640  7f          DATA 0x7f
    .byte 0x01              ;6641  01          DATA 0x01
    .byte 0x02              ;6642  02          DATA 0x02
    .byte 0x04              ;6643  04          DATA 0x04
    .byte 0x08              ;6644  08          DATA 0x08
    .byte 0x10              ;6645  10          DATA 0x10
    .byte 0x20              ;6646  20          DATA 0x20 ' '
    .byte 0x40              ;6647  40          DATA 0x40 '@'
    .byte 0x80              ;6648  80          DATA 0x80
    .byte 0xea              ;6649  ea          DATA 0xea

sub_664a:
    lda 0x5a                ;664a  a5 5a
    cmp #0x21               ;664c  c9 21
    bcs lab_6664            ;664e  b0 14
    bbc 6,0xf0,lab_6656     ;6650  d7 f0 03
    bbc 3,0xf2,lab_6659     ;6653  77 f2 03

lab_6656:
    bbs 6,0xf1,lab_665e     ;6656  c7 f1 05

lab_6659:
    jsr sub_6c83            ;6659  20 83 6c
    bra lab_6664            ;665c  80 06

lab_665e:
    bbc 0,0xed,lab_6667     ;665e  17 ed 06
    jsr sub_c174            ;6661  20 74 c1

lab_6664:
    jmp lab_672c            ;6664  4c 2c 67

lab_6667:
    bbc 7,0xf0,lab_6683     ;6667  f7 f0 19
    bbc 5,0xf4,lab_6672     ;666a  b7 f4 05
    jsr sub_6ac1            ;666d  20 c1 6a
    bra lab_6680            ;6670  80 0e

lab_6672:
    bbc 4,0xf4,lab_667a     ;6672  97 f4 05
    jsr sub_696d            ;6675  20 6d 69
    bra lab_6680            ;6678  80 06

lab_667a:
    bbc 0,0xf1,lab_6680     ;667a  17 f1 03
    jsr sub_697a            ;667d  20 7a 69

lab_6680:
    jmp lab_6726            ;6680  4c 26 67

lab_6683:
    lda 0x5a                ;6683  a5 5a
    cmp #0x17               ;6685  c9 17
    bcc lab_6695            ;6687  90 0c
    cmp #0x1a               ;6689  c9 1a
    beq lab_668f            ;668b  f0 02
    bcs lab_6695            ;668d  b0 06

lab_668f:
    jsr sub_6ace            ;668f  20 ce 6a
    jmp lab_6726            ;6692  4c 26 67

lab_6695:
    bbc 6,0xf0,lab_66a1     ;6695  d7 f0 09
    ldm #0x0f,0x5a          ;6698  3c 0f 5a
    bbc 4,P7,lab_66a1       ;669b  97 0e 03
    jmp lab_672c            ;669e  4c 2c 67

lab_66a1:
    bbc 5,0xf0,lab_66aa     ;66a1  b7 f0 06
    jsr sub_6a16            ;66a4  20 16 6a
    jmp lab_6726            ;66a7  4c 26 67

lab_66aa:
    bbc 4,0xf0,lab_66bf     ;66aa  97 f0 12
    bbc 0,0xf0,lab_66b9     ;66ad  17 f0 09
    bbs 2,0xf4,lab_66bf     ;66b0  47 f4 0c
    bbc 1,0xf5,lab_66b9     ;66b3  37 f5 03
    bbs 0,0xf5,lab_66bf     ;66b6  07 f5 06

lab_66b9:
    jsr sub_6a73            ;66b9  20 73 6a
    jmp lab_6726            ;66bc  4c 26 67

lab_66bf:
    bbc 3,0xf0,lab_66d4     ;66bf  77 f0 12
    bbc 0,0xf0,lab_66ce     ;66c2  17 f0 09
    bbs 2,0xf4,lab_66d4     ;66c5  47 f4 0c
    bbc 1,0xf5,lab_66ce     ;66c8  37 f5 03
    bbs 0,0xf5,lab_66d4     ;66cb  07 f5 06

lab_66ce:
    jsr sub_6a69            ;66ce  20 69 6a
    jmp lab_6726            ;66d1  4c 26 67

lab_66d4:
    bbc 3,0xf3,lab_66dd     ;66d4  77 f3 06
    jsr sub_699e            ;66d7  20 9e 69
    jmp lab_6726            ;66da  4c 26 67

lab_66dd:
    bbc 0,0xf5,lab_66e6     ;66dd  17 f5 06
    jsr sub_69f1            ;66e0  20 f1 69
    jmp lab_6726            ;66e3  4c 26 67

lab_66e6:
    jsr sub_672d            ;66e6  20 2d 67
    bbc 4,0xf1,lab_66ef     ;66e9  97 f1 03
    bbs 3,0xf5,lab_672c     ;66ec  67 f5 3d

lab_66ef:
    bbs 1,0xe5,lab_672c     ;66ef  27 e5 3a
    bbs 6,0xfb,lab_670d     ;66f2  c7 fb 18
    bbs 0,0xf3,lab_6720     ;66f5  07 f3 28
    bbs 2,0xf3,lab_670d     ;66f8  47 f3 12
    bbs 1,0xf3,lab_670d     ;66fb  27 f3 0f
    bbc 0,0xf0,lab_6704     ;66fe  17 f0 03
    bbs 2,0xf4,lab_670d     ;6701  47 f4 09

lab_6704:
    bbs 6,0xf0,lab_670d     ;6704  c7 f0 06
    lda 0x5a                ;6707  a5 5a
    cmp #0x05               ;6709  c9 05
    bcc lab_670d            ;670b  90 00

lab_670d:
    bbs 0,0xf2,lab_6720     ;670d  07 f2 10
    bbc 2,0xfb,lab_6720     ;6710  57 fb 0d
    lda #0x40               ;6713  a9 40
    sta 0x40                ;6715  85 40
    lda #0x01               ;6717  a9 01
    sta 0x41                ;6719  85 41
    jsr sub_6850            ;671b  20 50 68
    bra lab_6723            ;671e  80 03

lab_6720:
    jsr sub_6882            ;6720  20 82 68

lab_6723:
    jsr sub_6cc0            ;6723  20 c0 6c

lab_6726:
    jsr sub_becf            ;6726  20 cf be
    ldm #0x00,0x58          ;6729  3c 00 58

lab_672c:
    rts                     ;672c  60

sub_672d:
    lda 0x58                ;672d  a5 58
    and #0x07               ;672f  29 07
    cmp #0x04               ;6731  c9 04
    bcc lab_673b            ;6733  90 06
    lda 0x58                ;6735  a5 58
    and #0x80               ;6737  29 80
    sta 0x58                ;6739  85 58

lab_673b:
    cmp #0x00               ;673b  c9 00
    bne lab_674f            ;673d  d0 10
    jsr sub_679e            ;673f  20 9e 67
    lda #0x00               ;6742  a9 00
    jsr sub_67b5            ;6744  20 b5 67
    jsr sub_67df            ;6747  20 df 67
    jsr sub_67ee            ;674a  20 ee 67
    bra lab_679d            ;674d  80 4e

lab_674f:
    cmp #0x01               ;674f  c9 01
    bne lab_6777            ;6751  d0 24
    bbc 0,0xf1,lab_6763     ;6753  17 f1 0d
    bbs 1,0xf1,lab_675e     ;6756  27 f1 05
    jsr sub_6936            ;6759  20 36 69
    bra lab_6766            ;675c  80 08

lab_675e:
    jsr sub_694b            ;675e  20 4b 69
    bra lab_6766            ;6761  80 03

lab_6763:
    jsr sub_6882            ;6763  20 82 68

lab_6766:
    jsr sub_683e            ;6766  20 3e 68
    jsr sub_679e            ;6769  20 9e 67
    jsr sub_67f8            ;676c  20 f8 67
    jsr sub_680b            ;676f  20 0b 68
    jsr sub_681f            ;6772  20 1f 68
    bra lab_679d            ;6775  80 26

lab_6777:
    cmp #0x02               ;6777  c9 02
    bne lab_678b            ;6779  d0 10
    jsr sub_679e            ;677b  20 9e 67
    lda #0x00               ;677e  a9 00
    sta 0x0111              ;6780  8d 11 01
    sta 0x0112              ;6783  8d 12 01
    sta 0x0113              ;6786  8d 13 01
    bra lab_679d            ;6789  80 12

lab_678b:
    cmp #0x03               ;678b  c9 03
    bne lab_679d            ;678d  d0 0e
    jsr sub_679e            ;678f  20 9e 67
    lda #0x00               ;6792  a9 00
    jsr sub_67b5            ;6794  20 b5 67
    jsr sub_67df            ;6797  20 df 67
    jsr sub_67ee            ;679a  20 ee 67

lab_679d:
    rts                     ;679d  60

sub_679e:
    lda 0x58                ;679e  a5 58
    bbc 0,0xf6,lab_67a4     ;67a0  17 f6 01
    seb 6,a                 ;67a3  cb

lab_67a4:
    bbc 1,0xf6,lab_67ad     ;67a4  37 f6 06
    ldx 0x0289              ;67a7  ae 89 02
    beq lab_67ad            ;67aa  f0 01
    seb 5,a                 ;67ac  ab

lab_67ad:
    bbc 2,0xf6,lab_67b1     ;67ad  57 f6 01
    seb 4,a                 ;67b0  8b

lab_67b1:
    sta 0x0110              ;67b1  8d 10 01
    rts                     ;67b4  60

sub_67b5:
    ldx 0x5a                ;67b5  a6 5a
    cpx #0x05               ;67b7  e0 05
    beq lab_67d7            ;67b9  f0 1c
    bbs 0,0xf1,lab_67d7     ;67bb  07 f1 19
    bbs 0,0xed,lab_67d0     ;67be  07 ed 0f
    bbs 4,0xf0,lab_67c9     ;67c1  87 f0 05
    bbs 3,0xf0,lab_67c9     ;67c4  67 f0 02
    bra lab_67cc            ;67c7  80 03

lab_67c9:
    bbc 0,0xf0,lab_67d0     ;67c9  17 f0 04

lab_67cc:
    bbc 3,0xfa,lab_67d0     ;67cc  77 fa 01
    seb 7,a                 ;67cf  eb

lab_67d0:
    bbc 3,0xf0,lab_67d7     ;67d0  77 f0 04
    bbc 4,0xea,lab_67d7     ;67d3  97 ea 01
    seb 6,a                 ;67d6  cb

lab_67d7:
    bbc 0,0xf6,lab_67db     ;67d7  17 f6 01
    seb 3,a                 ;67da  6b

lab_67db:
    sta 0x0111              ;67db  8d 11 01
    rts                     ;67de  60

sub_67df:
    lda #0x0c               ;67df  a9 0c
    bbs 4,0xf4,lab_67e6     ;67e1  87 f4 02
    lda 0x5a                ;67e4  a5 5a

lab_67e6:
    bbc 0,0xf6,lab_67ea     ;67e6  17 f6 01
    seb 7,a                 ;67e9  eb

lab_67ea:
    sta 0x0112              ;67ea  8d 12 01
    rts                     ;67ed  60

sub_67ee:
    lda 0x50                ;67ee  a5 50
    bbc 0,0xf6,lab_67f4     ;67f0  17 f6 01
    seb 7,a                 ;67f3  eb

lab_67f4:
    sta 0x0113              ;67f4  8d 13 01
    rts                     ;67f7  60

sub_67f8:
    lda 0x0117              ;67f8  ad 17 01
    and #0x0f               ;67fb  29 0f
    bbs 0,0xf1,lab_6807     ;67fd  07 f1 07
    bbs 1,0xf1,lab_6807     ;6800  27 f1 04
    bbs 0,0xf2,lab_6807     ;6803  07 f2 01
    seb 4,a                 ;6806  8b

lab_6807:
    jsr sub_67b5            ;6807  20 b5 67
    rts                     ;680a  60

sub_680b:
    lda 0x0118              ;680b  ad 18 01
    asl a                   ;680e  0a
    asl a                   ;680f  0a
    asl a                   ;6810  0a
    asl a                   ;6811  0a
    sta 0x40                ;6812  85 40
    lda 0x0119              ;6814  ad 19 01
    and #0x0f               ;6817  29 0f
    ora 0x40                ;6819  05 40
    sta 0x0112              ;681b  8d 12 01
    rts                     ;681e  60

sub_681f:
    lda 0x011a              ;681f  ad 1a 01
    asl a                   ;6822  0a
    asl a                   ;6823  0a
    asl a                   ;6824  0a
    asl a                   ;6825  0a
    sta 0x40                ;6826  85 40
    lda 0x011b              ;6828  ad 1b 01
    and #0x0f               ;682b  29 0f
    ora 0x40                ;682d  05 40
    sta 0x0113              ;682f  8d 13 01
    rts                     ;6832  60

    .byte 0x20              ;6833  20          DATA 0x20 ' '
    .byte 0x9e              ;6834  9e          DATA 0x9e
    .byte 0x67              ;6835  67          DATA 0x67 'g'
    .byte 0xad              ;6836  ad          DATA 0xad
    .byte 0x10              ;6837  10          DATA 0x10
    .byte 0x01              ;6838  01          DATA 0x01
    .byte 0xeb              ;6839  eb          DATA 0xeb
    .byte 0x8d              ;683a  8d          DATA 0x8d
    .byte 0x10              ;683b  10          DATA 0x10
    .byte 0x01              ;683c  01          DATA 0x01
    .byte 0x60              ;683d  60          DATA 0x60 '`'

sub_683e:
    ldx #0x07               ;683e  a2 07

lab_6840:
    lda 0x0114,x            ;6840  bd 14 01
    cmp #0x20               ;6843  c9 20
    bne lab_684c            ;6845  d0 05
    lda #0x0a               ;6847  a9 0a
    sta 0x0114,x            ;6849  9d 14 01

lab_684c:
    dex                     ;684c  ca
    bpl lab_6840            ;684d  10 f1
    rts                     ;684f  60

sub_6850:
    tya                     ;6850  98
    pha                     ;6851  48
    ldy #0x07               ;6852  a0 07

lab_6854:
    lda [0x40],y            ;6854  b1 40
    sta 0x0114,y            ;6856  99 14 01
    dey                     ;6859  88
    bpl lab_6854            ;685a  10 f8
    pla                     ;685c  68
    tay                     ;685d  a8
    rts                     ;685e  60

    .byte 0x98              ;685f  98          DATA 0x98
    .byte 0x48              ;6860  48          DATA 0x48 'H'
    .byte 0xa0              ;6861  a0          DATA 0xa0
    .byte 0x07              ;6862  07          DATA 0x07
    .byte 0xb1              ;6863  b1          DATA 0xb1
    .byte 0x40              ;6864  40          DATA 0x40 '@'
    .byte 0x99              ;6865  99          DATA 0x99
    .byte 0x1c              ;6866  1c          DATA 0x1c
    .byte 0x01              ;6867  01          DATA 0x01
    .byte 0x88              ;6868  88          DATA 0x88
    .byte 0x10              ;6869  10          DATA 0x10
    .byte 0xf8              ;686a  f8          DATA 0xf8
    .byte 0x68              ;686b  68          DATA 0x68 'h'
    .byte 0xa8              ;686c  a8          DATA 0xa8
    .byte 0x60              ;686d  60          DATA 0x60 '`'

sub_686e:
    ldx #0x00               ;686e  a2 00
    lda #0x08               ;6870  a9 08
    mul 0x5b,x              ;6872  62 5b
    clc                     ;6874  18
    adc #0xd1               ;6875  69 d1
    sta 0x40                ;6877  85 40
    pla                     ;6879  68
    adc #0x64               ;687a  69 64
    sta 0x41                ;687c  85 41
    jsr sub_6850            ;687e  20 50 68
    rts                     ;6881  60

sub_6882:
    bbs 0,0xf2,lab_6894     ;6882  07 f2 0f
    clc                     ;6885  18
    lda 0x71                ;6886  a5 71
    adc #0x6b               ;6888  69 6b
    sta 0x44                ;688a  85 44
    lda #0x00               ;688c  a9 00
    adc #0x03               ;688e  69 03
    sta 0x45                ;6890  85 45
    bra lab_68b6            ;6892  80 22

lab_6894:
    ldx #0x00               ;6894  a2 00
    lda #0x09               ;6896  a9 09
    mul 0x71,x              ;6898  62 71
    ldx 0x71                ;689a  a6 71
    cpx #0x10               ;689c  e0 10
    bcs lab_68ac            ;689e  b0 0c
    clc                     ;68a0  18
    adc #0x90               ;68a1  69 90
    sta 0x44                ;68a3  85 44
    pla                     ;68a5  68
    adc #0x00               ;68a6  69 00
    sta 0x45                ;68a8  85 45
    bra lab_68b6            ;68aa  80 0a

lab_68ac:
    clc                     ;68ac  18
    adc #0x83               ;68ad  69 83
    sta 0x44                ;68af  85 44
    pla                     ;68b1  68
    adc #0x01               ;68b2  69 01
    sta 0x45                ;68b4  85 45

lab_68b6:
    jsr sub_6c30            ;68b6  20 30 6c
    jsr sub_6cad            ;68b9  20 ad 6c
    rts                     ;68bc  60

sub_68bd:
    lda 0x5a                ;68bd  a5 5a
    ldy 0xa1                ;68bf  a4 a1
    cmp #0x17               ;68c1  c9 17
    beq lab_68cb            ;68c3  f0 06
    ldy 0xa2                ;68c5  a4 a2
    cmp #0x18               ;68c7  c9 18
    bne lab_68ef            ;68c9  d0 24

lab_68cb:
    ldx #0x07               ;68cb  a2 07
    lda #0x20               ;68cd  a9 20

lab_68cf:
    sta 0x0114,x            ;68cf  9d 14 01
    dex                     ;68d2  ca
    bpl lab_68cf            ;68d3  10 fa
    tya                     ;68d5  98
    ldy #0x2b               ;68d6  a0 2b
    sec                     ;68d8  38
    sbc #0x09               ;68d9  e9 09
    beq lab_68e7            ;68db  f0 0a
    bpl lab_68e4            ;68dd  10 05
    ldy #0x2d               ;68df  a0 2d
    eor #0xff               ;68e1  49 ff
    inc a                   ;68e3  3a

lab_68e4:
    sty 0x0116              ;68e4  8c 16 01

lab_68e7:
    clc                     ;68e7  18
    adc #0x30               ;68e8  69 30
    sta 0x0118              ;68ea  8d 18 01
    bra lab_6935            ;68ed  80 46

lab_68ef:
    cmp #0x19               ;68ef  c9 19
    bne lab_690b            ;68f1  d0 18
    ldm #0x0d,0x5b          ;68f3  3c 0d 5b
    lda 0xa3                ;68f6  a5 a3
    cmp #0x09               ;68f8  c9 09
    beq lab_6904            ;68fa  f0 08
    ldm #0x0f,0x5b          ;68fc  3c 0f 5b
    bcs lab_6904            ;68ff  b0 03
    ldm #0x0e,0x5b          ;6901  3c 0e 5b

lab_6904:
    jsr sub_686e            ;6904  20 6e 68
    lda 0xa3                ;6907  a5 a3
    bra lab_6925            ;6909  80 1a

lab_690b:
    cmp #0x1a               ;690b  c9 1a
    bne lab_6935            ;690d  d0 26
    ldm #0x0d,0x5b          ;690f  3c 0d 5b
    lda 0xa4                ;6912  a5 a4
    cmp #0x09               ;6914  c9 09
    beq lab_6920            ;6916  f0 08
    ldm #0x10,0x5b          ;6918  3c 10 5b
    bcs lab_6920            ;691b  b0 03
    ldm #0x11,0x5b          ;691d  3c 11 5b

lab_6920:
    jsr sub_686e            ;6920  20 6e 68
    lda 0xa4                ;6923  a5 a4

lab_6925:
    sec                     ;6925  38
    sbc #0x09               ;6926  e9 09
    beq lab_6935            ;6928  f0 0b
    bpl lab_692f            ;692a  10 03
    eor #0xff               ;692c  49 ff
    inc a                   ;692e  3a

lab_692f:
    clc                     ;692f  18
    adc #0x30               ;6930  69 30
    sta 0x011a              ;6932  8d 1a 01

lab_6935:
    rts                     ;6935  60

sub_6936:
    ldx #0x07               ;6936  a2 07
    lda #0x20               ;6938  a9 20

lab_693a:
    sta 0x0114,x            ;693a  9d 14 01
    dex                     ;693d  ca
    bpl lab_693a            ;693e  10 fa
    lda 0x026a              ;6940  ad 6a 02
    beq lab_694a            ;6943  f0 05
    ldy #0x02               ;6945  a0 02
    jsr sub_6c5f            ;6947  20 5f 6c

lab_694a:
    rts                     ;694a  60

sub_694b:
    ldx #0x07               ;694b  a2 07
    lda #0x20               ;694d  a9 20

lab_694f:
    sta 0x0114,x            ;694f  9d 14 01
    dex                     ;6952  ca
    bpl lab_694f            ;6953  10 fa
    lda 0x026b              ;6955  ad 6b 02
    beq lab_695f            ;6958  f0 05
    ldy #0x06               ;695a  a0 06
    jsr sub_6c5f            ;695c  20 5f 6c

lab_695f:
    rts                     ;695f  60

    .byte 0x20              ;6960  20          DATA 0x20 ' '
    .byte 0x2d              ;6961  2d          DATA 0x2d '-'
    .byte 0x67              ;6962  67          DATA 0x67 'g'
    .byte 0x20              ;6963  20          DATA 0x20 ' '
    .byte 0x6e              ;6964  6e          DATA 0x6e 'n'
    .byte 0x68              ;6965  68          DATA 0x68 'h'
    .byte 0x20              ;6966  20          DATA 0x20 ' '
    .byte 0xc0              ;6967  c0          DATA 0xc0
    .byte 0x6c              ;6968  6c          DATA 0x6c 'l'
    .byte 0x20              ;6969  20          DATA 0x20 ' '
    .byte 0xcf              ;696a  cf          DATA 0xcf
    .byte 0xbe              ;696b  be          DATA 0xbe
    .byte 0x60              ;696c  60          DATA 0x60 '`'

sub_696d:
    ldm #0x0c,0x5a          ;696d  3c 0c 5a
    jsr sub_672d            ;6970  20 2d 67
    jsr sub_7e4c            ;6973  20 4c 7e
    jsr sub_6cc0            ;6976  20 c0 6c
    rts                     ;6979  60

sub_697a:
    ldm #0x01,0x58          ;697a  3c 01 58
    ldm #0x05,0x5a          ;697d  3c 05 5a
    bbc 6,0xf0,lab_6989     ;6980  d7 f0 06
    ldm #0x00,0x58          ;6983  3c 00 58
    ldm #0x0f,0x5a          ;6986  3c 0f 5a

lab_6989:
    jsr sub_672d            ;6989  20 2d 67
    bbs 1,0xf4,lab_6997     ;698c  27 f4 08
    ldm #0x0b,0x5b          ;698f  3c 0b 5b
    jsr sub_686e            ;6992  20 6e 68
    bra lab_699a            ;6995  80 03

lab_6997:
    jsr sub_2d2f            ;6997  20 2f 2d

lab_699a:
    jsr sub_6cc0            ;699a  20 c0 6c
    rts                     ;699d  60

sub_699e:
    bbs 6,0xf3,lab_69dc     ;699e  c7 f3 3b
    bbs 5,0xf3,lab_69c5     ;69a1  a7 f3 21
    bbs 4,0xf3,lab_69bd     ;69a4  87 f3 16
    lda #0x00               ;69a7  a9 00
    bbs 0,0xf0,lab_69b6     ;69a9  07 f0 0a
    lda #0x02               ;69ac  a9 02
    bbs 1,0xf0,lab_69b6     ;69ae  27 f0 05
    lda #0x04               ;69b1  a9 04
    bbc 2,0xf0,lab_69f0     ;69b3  57 f0 3a

lab_69b6:
    sta 0x5a                ;69b6  85 5a
    ldm #0x12,0x5b          ;69b8  3c 12 5b
    bra lab_69d1            ;69bb  80 14

lab_69bd:
    ldm #0x10,0x5a          ;69bd  3c 10 5a
    ldm #0x15,0x5b          ;69c0  3c 15 5b
    bra lab_69d1            ;69c3  80 0c

lab_69c5:
    ldm #0x1d,0x5a          ;69c5  3c 1d 5a
    bbc 6,0xf0,lab_69ce     ;69c8  d7 f0 03
    ldm #0x0f,0x5a          ;69cb  3c 0f 5a

lab_69ce:
    ldm #0x28,0x5b          ;69ce  3c 28 5b

lab_69d1:
    jsr sub_672d            ;69d1  20 2d 67
    jsr sub_686e            ;69d4  20 6e 68
    jsr sub_6cc0            ;69d7  20 c0 6c
    bra lab_69f0            ;69da  80 14

lab_69dc:
    lda 0x71                ;69dc  a5 71
    pha                     ;69de  48
    lda 0x0266              ;69df  ad 66 02
    sta 0x71                ;69e2  85 71
    jsr sub_672d            ;69e4  20 2d 67
    jsr sub_6882            ;69e7  20 82 68
    jsr sub_6cc0            ;69ea  20 c0 6c
    pla                     ;69ed  68
    sta 0x71                ;69ee  85 71

lab_69f0:
    rts                     ;69f0  60

sub_69f1:
    lda #0x06               ;69f1  a9 06
    sta 0x5a                ;69f3  85 5a
    bbc 6,0xf0,lab_69fb     ;69f5  d7 f0 03
    ldm #0x0f,0x5a          ;69f8  3c 0f 5a

lab_69fb:
    jsr sub_672d            ;69fb  20 2d 67
    ldm #0x14,0x5b          ;69fe  3c 14 5b
    bbc 1,0xf5,lab_6a07     ;6a01  37 f5 03
    ldm #0x2b,0x5b          ;6a04  3c 2b 5b

lab_6a07:
    jsr sub_686e            ;6a07  20 6e 68
    jsr sub_6cc0            ;6a0a  20 c0 6c
    rts                     ;6a0d  60

    .byte 0x20              ;6a0e  20          DATA 0x20 ' '
    .byte 0x20              ;6a0f  20          DATA 0x20 ' '
    .byte 0x20              ;6a10  20          DATA 0x20 ' '
    .byte 0x20              ;6a11  20          DATA 0x20 ' '
    .byte 0x20              ;6a12  20          DATA 0x20 ' '
    .byte 0x20              ;6a13  20          DATA 0x20 ' '
    .byte 0x20              ;6a14  20          DATA 0x20 ' '
    .byte 0x20              ;6a15  20          DATA 0x20 ' '

sub_6a16:
    lda 0x031b              ;6a16  ad 1b 03
    cmp #0x09               ;6a19  c9 09
    bcs lab_6a68            ;6a1b  b0 4b
    lda #0x1f               ;6a1d  a9 1f
    sta 0x5a                ;6a1f  85 5a
    jsr sub_672d            ;6a21  20 2d 67
    ldx #0x07               ;6a24  a2 07

lab_6a26:
    lda 0x6a0e,x            ;6a26  bd 0e 6a
    sta 0x0114,x            ;6a29  9d 14 01
    dex                     ;6a2c  ca
    bpl lab_6a26            ;6a2d  10 f7
    jsr sub_cbb3            ;6a2f  20 b3 cb
    clc                     ;6a32  18
    adc #0x30               ;6a33  69 30
    cmp #0x3a               ;6a35  c9 3a
    bcc lab_6a3c            ;6a37  90 03
    clc                     ;6a39  18
    adc #0x07               ;6a3a  69 07

lab_6a3c:
    sta 0x0114              ;6a3c  8d 14 01
    lda 0x031c              ;6a3f  ad 1c 03
    asl a                   ;6a42  0a
    clc                     ;6a43  18
    adc 0x031c              ;6a44  6d 1c 03
    tax                     ;6a47  aa
    lda 0x0301,x            ;6a48  bd 01 03
    and #0x1f               ;6a4b  29 1f
    cmp #0x18               ;6a4d  c9 18
    bcs lab_6a65            ;6a4f  b0 14
    ldy #0x03               ;6a51  a0 03
    jsr sub_6c43            ;6a53  20 43 6c
    lda #0x3a               ;6a56  a9 3a
    sta 0x0119              ;6a58  8d 19 01
    lda 0x0302,x            ;6a5b  bd 02 03
    and #0x3f               ;6a5e  29 3f
    ldy #0x06               ;6a60  a0 06
    jsr sub_6c43            ;6a62  20 43 6c

lab_6a65:
    jsr sub_6cc0            ;6a65  20 c0 6c

lab_6a68:
    rts                     ;6a68  60

sub_6a69:
    jsr sub_672d            ;6a69  20 2d 67
    jsr sub_686e            ;6a6c  20 6e 68
    jsr sub_6cc0            ;6a6f  20 c0 6c
    rts                     ;6a72  60

sub_6a73:
    jsr sub_672d            ;6a73  20 2d 67
    bbc 4,0xf0,lab_6a81     ;6a76  97 f0 08
    bbc 2,0xeb,lab_6a81     ;6a79  57 eb 05
    lda 0x0278              ;6a7c  ad 78 02
    bbc 7,a,lab_6ab7        ;6a7f  f3 36

lab_6a81:
    ldm #0x1b,0x5b          ;6a81  3c 1b 5b
    jsr sub_686e            ;6a84  20 6e 68
    lda 0x56                ;6a87  a5 56
    beq lab_6a95            ;6a89  f0 0a
    cmp #0x07               ;6a8b  c9 07
    bcs lab_6a95            ;6a8d  b0 06
    clc                     ;6a8f  18
    adc #0x30               ;6a90  69 30
    sta 0x0116              ;6a92  8d 16 01

lab_6a95:
    lda 0x027b              ;6a95  ad 7b 02
    lsr a                   ;6a98  4a
    lsr a                   ;6a99  4a
    lsr a                   ;6a9a  4a
    lsr a                   ;6a9b  4a
    cmp #0x0a               ;6a9c  c9 0a
    bcs lab_6abd            ;6a9e  b0 1d
    clc                     ;6aa0  18
    adc #0x30               ;6aa1  69 30
    sta 0x011a              ;6aa3  8d 1a 01
    lda 0x027b              ;6aa6  ad 7b 02
    and #0x0f               ;6aa9  29 0f
    cmp #0x0a               ;6aab  c9 0a
    bcs lab_6abd            ;6aad  b0 0e
    clc                     ;6aaf  18
    adc #0x30               ;6ab0  69 30
    sta 0x011b              ;6ab2  8d 1b 01
    bra lab_6abd            ;6ab5  80 06

lab_6ab7:
    ldm #0x25,0x5b          ;6ab7  3c 25 5b
    jsr sub_686e            ;6aba  20 6e 68

lab_6abd:
    jsr sub_6cc0            ;6abd  20 c0 6c
    rts                     ;6ac0  60

sub_6ac1:
    ldm #0x05,0x5a          ;6ac1  3c 05 5a
    jsr sub_672d            ;6ac4  20 2d 67
    jsr sub_686e            ;6ac7  20 6e 68
    jsr sub_6cc0            ;6aca  20 c0 6c
    rts                     ;6acd  60

sub_6ace:
    jsr sub_672d            ;6ace  20 2d 67
    lda 0x5a                ;6ad1  a5 5a
    jsr sub_68bd            ;6ad3  20 bd 68
    jsr sub_6cc0            ;6ad6  20 c0 6c
    rts                     ;6ad9  60

    .byte 0x77              ;6ada  77          DATA 0x77 'w'
    .byte 0xf2              ;6adb  f2          DATA 0xf2
    .byte 0x2e              ;6adc  2e          DATA 0x2e '.'
    .byte 0x07              ;6add  07          DATA 0x07
    .byte 0xed              ;6ade  ed          DATA 0xed
    .byte 0x2b              ;6adf  2b          DATA 0x2b '+'
    .byte 0x87              ;6ae0  87          DATA 0x87
    .byte 0xf4              ;6ae1  f4          DATA 0xf4
    .byte 0x28              ;6ae2  28          DATA 0x28 '('
    .byte 0x67              ;6ae3  67          DATA 0x67 'g'
    .byte 0xf3              ;6ae4  f3          DATA 0xf3
    .byte 0x25              ;6ae5  25          DATA 0x25 '%'
    .byte 0x07              ;6ae6  07          DATA 0x07
    .byte 0xf5              ;6ae7  f5          DATA 0xf5
    .byte 0x22              ;6ae8  22          DATA 0x22 '"'
    .byte 0x20              ;6ae9  20          DATA 0x20 ' '
    .byte 0x2d              ;6aea  2d          DATA 0x2d '-'
    .byte 0x67              ;6aeb  67          DATA 0x67 'g'
    .byte 0xa5              ;6aec  a5          DATA 0xa5
    .byte 0xa0              ;6aed  a0          DATA 0xa0
    .byte 0x85              ;6aee  85          DATA 0x85
    .byte 0x44              ;6aef  44          DATA 0x44 'D'
    .byte 0x3c              ;6af0  3c          DATA 0x3c '<'
    .byte 0x00              ;6af1  00          DATA 0x00
    .byte 0x45              ;6af2  45          DATA 0x45 'E'
    .byte 0x20              ;6af3  20          DATA 0x20 ' '
    .byte 0x30              ;6af4  30          DATA 0x30 '0'
    .byte 0x6c              ;6af5  6c          DATA 0x6c 'l'
    .byte 0xa9              ;6af6  a9          DATA 0xa9
    .byte 0x56              ;6af7  56          DATA 0x56 'V'
    .byte 0x8d              ;6af8  8d          DATA 0x8d
    .byte 0x15              ;6af9  15          DATA 0x15
    .byte 0x01              ;6afa  01          DATA 0x01
    .byte 0xa9              ;6afb  a9          DATA 0xa9
    .byte 0x6f              ;6afc  6f          DATA 0x6f 'o'
    .byte 0x8d              ;6afd  8d          DATA 0x8d
    .byte 0x16              ;6afe  16          DATA 0x16
    .byte 0x01              ;6aff  01          DATA 0x01
    .byte 0xa9              ;6b00  a9          DATA 0xa9
    .byte 0x6c              ;6b01  6c          DATA 0x6c 'l'
    .byte 0x8d              ;6b02  8d          DATA 0x8d
    .byte 0x17              ;6b03  17          DATA 0x17
    .byte 0x01              ;6b04  01          DATA 0x01
    .byte 0x20              ;6b05  20          DATA 0x20 ' '
    .byte 0xc0              ;6b06  c0          DATA 0xc0
    .byte 0x6c              ;6b07  6c          DATA 0x6c 'l'
    .byte 0x20              ;6b08  20          DATA 0x20 ' '
    .byte 0xcf              ;6b09  cf          DATA 0xcf
    .byte 0xbe              ;6b0a  be          DATA 0xbe
    .byte 0x60              ;6b0b  60          DATA 0x60 '`'
    .byte 0x20              ;6b0c  20          DATA 0x20 ' '
    .byte 0x2d              ;6b0d  2d          DATA 0x2d '-'
    .byte 0x67              ;6b0e  67          DATA 0x67 'g'
    .byte 0x3c              ;6b0f  3c          DATA 0x3c '<'
    .byte 0x1a              ;6b10  1a          DATA 0x1a
    .byte 0x5b              ;6b11  5b          DATA 0x5b '['
    .byte 0x20              ;6b12  20          DATA 0x20 ' '
    .byte 0x6e              ;6b13  6e          DATA 0x6e 'n'
    .byte 0x68              ;6b14  68          DATA 0x68 'h'
    .byte 0x20              ;6b15  20          DATA 0x20 ' '
    .byte 0xc0              ;6b16  c0          DATA 0xc0
    .byte 0x6c              ;6b17  6c          DATA 0x6c 'l'
    .byte 0x20              ;6b18  20          DATA 0x20 ' '
    .byte 0xcf              ;6b19  cf          DATA 0xcf
    .byte 0xbe              ;6b1a  be          DATA 0xbe
    .byte 0x60              ;6b1b  60          DATA 0x60 '`'

sub_6b1c:
    lda 0x50                ;6b1c  a5 50
    pha                     ;6b1e  48
    sty 0x50                ;6b1f  84 50
    ldm #0x20,0x5a          ;6b21  3c 20 5a
    jsr sub_672d            ;6b24  20 2d 67
    ldm #0x1c,0x5b          ;6b27  3c 1c 5b
    jsr sub_686e            ;6b2a  20 6e 68
    jsr sub_6cc0            ;6b2d  20 c0 6c
    jsr sub_becf            ;6b30  20 cf be
    pla                     ;6b33  68
    sta 0x50                ;6b34  85 50
    rts                     ;6b36  60

    .byte 0x20              ;6b37  20          DATA 0x20 ' '
    .byte 0x2d              ;6b38  2d          DATA 0x2d '-'
    .byte 0x67              ;6b39  67          DATA 0x67 'g'
    .byte 0xa5              ;6b3a  a5          DATA 0xa5
    .byte 0x76              ;6b3b  76          DATA 0x76 'v'
    .byte 0x85              ;6b3c  85          DATA 0x85
    .byte 0x44              ;6b3d  44          DATA 0x44 'D'
    .byte 0x3c              ;6b3e  3c          DATA 0x3c '<'
    .byte 0x00              ;6b3f  00          DATA 0x00
    .byte 0x45              ;6b40  45          DATA 0x45 'E'
    .byte 0x20              ;6b41  20          DATA 0x20 ' '
    .byte 0x30              ;6b42  30          DATA 0x30 '0'
    .byte 0x6c              ;6b43  6c          DATA 0x6c 'l'
    .byte 0xa9              ;6b44  a9          DATA 0xa9
    .byte 0x45              ;6b45  45          DATA 0x45 'E'
    .byte 0x8d              ;6b46  8d          DATA 0x8d
    .byte 0x15              ;6b47  15          DATA 0x15
    .byte 0x01              ;6b48  01          DATA 0x01
    .byte 0xa9              ;6b49  a9          DATA 0xa9
    .byte 0x72              ;6b4a  72          DATA 0x72 'r'
    .byte 0x8d              ;6b4b  8d          DATA 0x8d
    .byte 0x16              ;6b4c  16          DATA 0x16
    .byte 0x01              ;6b4d  01          DATA 0x01
    .byte 0xa9              ;6b4e  a9          DATA 0xa9
    .byte 0x72              ;6b4f  72          DATA 0x72 'r'
    .byte 0x8d              ;6b50  8d          DATA 0x8d
    .byte 0x17              ;6b51  17          DATA 0x17
    .byte 0x01              ;6b52  01          DATA 0x01
    .byte 0x20              ;6b53  20          DATA 0x20 ' '
    .byte 0xc0              ;6b54  c0          DATA 0xc0
    .byte 0x6c              ;6b55  6c          DATA 0x6c 'l'
    .byte 0x20              ;6b56  20          DATA 0x20 ' '
    .byte 0xcf              ;6b57  cf          DATA 0xcf
    .byte 0xbe              ;6b58  be          DATA 0xbe
    .byte 0x60              ;6b59  60          DATA 0x60 '`'
    .byte 0x20              ;6b5a  20          DATA 0x20 ' '
    .byte 0x2d              ;6b5b  2d          DATA 0x2d '-'
    .byte 0x67              ;6b5c  67          DATA 0x67 'g'
    .byte 0xa9              ;6b5d  a9          DATA 0xa9
    .byte 0xb6              ;6b5e  b6          DATA 0xb6
    .byte 0x85              ;6b5f  85          DATA 0x85
    .byte 0x40              ;6b60  40          DATA 0x40 '@'
    .byte 0xa9              ;6b61  a9          DATA 0xa9
    .byte 0xff              ;6b62  ff          DATA 0xff
    .byte 0x85              ;6b63  85          DATA 0x85
    .byte 0x41              ;6b64  41          DATA 0x41 'A'
    .byte 0x20              ;6b65  20          DATA 0x20 ' '
    .byte 0x50              ;6b66  50          DATA 0x50 'P'
    .byte 0x68              ;6b67  68          DATA 0x68 'h'
    .byte 0x20              ;6b68  20          DATA 0x20 ' '
    .byte 0xc0              ;6b69  c0          DATA 0xc0
    .byte 0x6c              ;6b6a  6c          DATA 0x6c 'l'
    .byte 0x60              ;6b6b  60          DATA 0x60 '`'
    .byte 0xa9              ;6b6c  a9          DATA 0xa9
    .byte 0xb6              ;6b6d  b6          DATA 0xb6
    .byte 0x85              ;6b6e  85          DATA 0x85
    .byte 0x40              ;6b6f  40          DATA 0x40 '@'
    .byte 0xa9              ;6b70  a9          DATA 0xa9
    .byte 0xff              ;6b71  ff          DATA 0xff
    .byte 0x85              ;6b72  85          DATA 0x85
    .byte 0x41              ;6b73  41          DATA 0x41 'A'
    .byte 0xa9              ;6b74  a9          DATA 0xa9
    .byte 0xc9              ;6b75  c9          DATA 0xc9
    .byte 0x85              ;6b76  85          DATA 0x85
    .byte 0x42              ;6b77  42          DATA 0x42 'B'
    .byte 0xa9              ;6b78  a9          DATA 0xa9
    .byte 0xff              ;6b79  ff          DATA 0xff
    .byte 0x85              ;6b7a  85          DATA 0x85
    .byte 0x43              ;6b7b  43          DATA 0x43 'C'
    .byte 0x20              ;6b7c  20          DATA 0x20 ' '
    .byte 0x2d              ;6b7d  2d          DATA 0x2d '-'
    .byte 0x67              ;6b7e  67          DATA 0x67 'g'
    .byte 0x38              ;6b7f  38          DATA 0x38 '8'
    .byte 0xa5              ;6b80  a5          DATA 0xa5
    .byte 0x42              ;6b81  42          DATA 0x42 'B'
    .byte 0xe9              ;6b82  e9          DATA 0xe9
    .byte 0x08              ;6b83  08          DATA 0x08
    .byte 0x85              ;6b84  85          DATA 0x85
    .byte 0x42              ;6b85  42          DATA 0x42 'B'
    .byte 0xa5              ;6b86  a5          DATA 0xa5
    .byte 0x43              ;6b87  43          DATA 0x43 'C'
    .byte 0xe9              ;6b88  e9          DATA 0xe9
    .byte 0x00              ;6b89  00          DATA 0x00
    .byte 0x85              ;6b8a  85          DATA 0x85
    .byte 0x43              ;6b8b  43          DATA 0x43 'C'
    .byte 0x20              ;6b8c  20          DATA 0x20 ' '
    .byte 0x50              ;6b8d  50          DATA 0x50 'P'
    .byte 0x68              ;6b8e  68          DATA 0x68 'h'
    .byte 0x20              ;6b8f  20          DATA 0x20 ' '
    .byte 0xc0              ;6b90  c0          DATA 0xc0
    .byte 0x6c              ;6b91  6c          DATA 0x6c 'l'
    .byte 0xa0              ;6b92  a0          DATA 0xa0
    .byte 0x32              ;6b93  32          DATA 0x32 '2'
    .byte 0x20              ;6b94  20          DATA 0x20 ' '
    .byte 0x40              ;6b95  40          DATA 0x40 '@'
    .byte 0xf2              ;6b96  f2          DATA 0xf2
    .byte 0xe6              ;6b97  e6          DATA 0xe6
    .byte 0x40              ;6b98  40          DATA 0x40 '@'
    .byte 0xd0              ;6b99  d0          DATA 0xd0
    .byte 0x02              ;6b9a  02          DATA 0x02
    .byte 0xe6              ;6b9b  e6          DATA 0xe6
    .byte 0x41              ;6b9c  41          DATA 0x41 'A'
    .byte 0xa5              ;6b9d  a5          DATA 0xa5
    .byte 0x41              ;6b9e  41          DATA 0x41 'A'
    .byte 0xc5              ;6b9f  c5          DATA 0xc5
    .byte 0x43              ;6ba0  43          DATA 0x43 'C'
    .byte 0x90              ;6ba1  90          DATA 0x90
    .byte 0xe9              ;6ba2  e9          DATA 0xe9
    .byte 0xd0              ;6ba3  d0          DATA 0xd0
    .byte 0x08              ;6ba4  08          DATA 0x08
    .byte 0xa5              ;6ba5  a5          DATA 0xa5
    .byte 0x40              ;6ba6  40          DATA 0x40 '@'
    .byte 0xc5              ;6ba7  c5          DATA 0xc5
    .byte 0x42              ;6ba8  42          DATA 0x42 'B'
    .byte 0x90              ;6ba9  90          DATA 0x90
    .byte 0xe1              ;6baa  e1          DATA 0xe1
    .byte 0xf0              ;6bab  f0          DATA 0xf0
    .byte 0xdf              ;6bac  df          DATA 0xdf
    .byte 0x60              ;6bad  60          DATA 0x60 '`'
    .byte 0x20              ;6bae  20          DATA 0x20 ' '
    .byte 0x66              ;6baf  66          DATA 0x66 'f'
    .byte 0x75              ;6bb0  75          DATA 0x75 'u'
    .byte 0x6e              ;6bb1  6e          DATA 0x6e 'n'
    .byte 0x63              ;6bb2  63          DATA 0x63 'c'
    .byte 0x74              ;6bb3  74          DATA 0x74 't'
    .byte 0x69              ;6bb4  69          DATA 0x69 'i'
    .byte 0x6f              ;6bb5  6f          DATA 0x6f 'o'
    .byte 0x6e              ;6bb6  6e          DATA 0x6e 'n'
    .byte 0x20              ;6bb7  20          DATA 0x20 ' '
    .byte 0x6e              ;6bb8  6e          DATA 0x6e 'n'
    .byte 0x6f              ;6bb9  6f          DATA 0x6f 'o'
    .byte 0x74              ;6bba  74          DATA 0x74 't'
    .byte 0x20              ;6bbb  20          DATA 0x20 ' '
    .byte 0x61              ;6bbc  61          DATA 0x61 'a'
    .byte 0x76              ;6bbd  76          DATA 0x76 'v'
    .byte 0x61              ;6bbe  61          DATA 0x61 'a'
    .byte 0x69              ;6bbf  69          DATA 0x69 'i'
    .byte 0x6c              ;6bc0  6c          DATA 0x6c 'l'
    .byte 0x61              ;6bc1  61          DATA 0x61 'a'
    .byte 0x62              ;6bc2  62          DATA 0x62 'b'
    .byte 0x6c              ;6bc3  6c          DATA 0x6c 'l'
    .byte 0x65              ;6bc4  65          DATA 0x65 'e'
    .byte 0x20              ;6bc5  20          DATA 0x20 ' '
    .byte 0x21              ;6bc6  21          DATA 0x21 '!'
    .byte 0x20              ;6bc7  20          DATA 0x20 ' '
    .byte 0xa9              ;6bc8  a9          DATA 0xa9
    .byte 0xae              ;6bc9  ae          DATA 0xae
    .byte 0x85              ;6bca  85          DATA 0x85
    .byte 0x40              ;6bcb  40          DATA 0x40 '@'
    .byte 0xa9              ;6bcc  a9          DATA 0xa9
    .byte 0x6b              ;6bcd  6b          DATA 0x6b 'k'
    .byte 0x85              ;6bce  85          DATA 0x85
    .byte 0x41              ;6bcf  41          DATA 0x41 'A'
    .byte 0xa9              ;6bd0  a9          DATA 0xa9
    .byte 0xc8              ;6bd1  c8          DATA 0xc8
    .byte 0x85              ;6bd2  85          DATA 0x85
    .byte 0x42              ;6bd3  42          DATA 0x42 'B'
    .byte 0xa9              ;6bd4  a9          DATA 0xa9
    .byte 0x6b              ;6bd5  6b          DATA 0x6b 'k'
    .byte 0x85              ;6bd6  85          DATA 0x85
    .byte 0x43              ;6bd7  43          DATA 0x43 'C'
    .byte 0x20              ;6bd8  20          DATA 0x20 ' '
    .byte 0x7c              ;6bd9  7c          DATA 0x7c '|'
    .byte 0x6b              ;6bda  6b          DATA 0x6b 'k'
    .byte 0x4f              ;6bdb  4f          DATA 0x4f 'O'
    .byte 0x5c              ;6bdc  5c          DATA 0x5c '\'
    .byte 0x3c              ;6bdd  3c          DATA 0x3c '<'
    .byte 0x0a              ;6bde  0a          DATA 0x0a
    .byte 0x5d              ;6bdf  5d          DATA 0x5d ']'
    .byte 0x60              ;6be0  60          DATA 0x60 '`'

;Data used by binary to decimal conversion at sub_6be9
    .word 10000             ;6be1  10 27       DATA
    .word 1000              ;6be3  e8 03       DATA
    .word 100               ;6be5  64 00       DATA
    .word 10                ;6be7  0a 00       DATA

;Convert 16-bit binary number to five digit decimal number in ASCII
;
;Inputs:
;  0x44     Binary number (low byte)
;  0x45     Binary number (high byte)
;
;Outputs:
;  0x0116   Decimal number in ASCII (ten thousands place)
;  0x0117   Decimal number in ASCII (thousands place)
;  0x0118   Decimal number in ASCII (hundreds place)
;  0x0119   Decimal number in ASCII (tens place)
;  0x011a   Decimal number in ASCII (ones place)
;
sub_6be9:
    ldy #0x02               ;6be9  a0 02
    ldx #0x00               ;6beb  a2 00
lab_6bed:
    lda 0x6be1,x            ;6bed  bd e1 6b
    sta 0x4c                ;6bf0  85 4c
    inx                     ;6bf2  e8
    lda 0x6be1,x            ;6bf3  bd e1 6b
    sta 0x4d                ;6bf6  85 4d
    inx                     ;6bf8  e8
    ldm #0xff,0x4e          ;6bf9  3c ff 4e
lab_6bfc:
    inc 0x4e                ;6bfc  e6 4e
    lda 0x44                ;6bfe  a5 44
    sec                     ;6c00  38
    sbc 0x4c                ;6c01  e5 4c
    sta 0x44                ;6c03  85 44
    lda 0x45                ;6c05  a5 45
    sbc 0x4d                ;6c07  e5 4d
    sta 0x45                ;6c09  85 45
    bpl lab_6bfc            ;6c0b  10 ef
    lda 0x44                ;6c0d  a5 44
    clc                     ;6c0f  18
    adc 0x4c                ;6c10  65 4c
    sta 0x44                ;6c12  85 44
    lda 0x45                ;6c14  a5 45
    adc 0x4d                ;6c16  65 4d
    sta 0x45                ;6c18  85 45
    lda 0x4e                ;6c1a  a5 4e
    clc                     ;6c1c  18
    adc #0x30               ;6c1d  69 30
    sta 0x0114,y            ;6c1f  99 14 01
    iny                     ;6c22  c8
    cpy #0x06               ;6c23  c0 06
    bcc lab_6bed            ;6c25  90 c6
    lda 0x44                ;6c27  a5 44
    clc                     ;6c29  18
    adc #0x30               ;6c2a  69 30        Convert to ASCII
    sta 0x0114,y            ;6c2c  99 14 01
    rts                     ;6c2f  60


sub_6c30:
    ldx #0x07               ;6c30  a2 07
    lda #0x20               ;6c32  a9 20

lab_6c34:
    sta 0x0114,x            ;6c34  9d 14 01
    lda #0x30               ;6c37  a9 30
    dex                     ;6c39  ca
    bpl lab_6c34            ;6c3a  10 f8
    jsr sub_6be9            ;6c3c  20 e9 6b     Convert binary number in 0x44-0x45 to decimal number in ASCII in 0x0116-0x11a
    jsr sub_6c6f            ;6c3f  20 6f 6c
    rts                     ;6c42  60

sub_6c43:
    ldm #0xff,0x4e          ;6c43  3c ff 4e

lab_6c46:
    inc 0x4e                ;6c46  e6 4e
    sec                     ;6c48  38
    sbc #0x0a               ;6c49  e9 0a
    bpl lab_6c46            ;6c4b  10 f9
    clc                     ;6c4d  18
    adc #0x0a               ;6c4e  69 0a
    clc                     ;6c50  18
    adc #0x30               ;6c51  69 30
    sta 0x0115,y            ;6c53  99 15 01
    lda 0x4e                ;6c56  a5 4e
    clc                     ;6c58  18
    adc #0x30               ;6c59  69 30
    sta 0x0114,y            ;6c5b  99 14 01
    rts                     ;6c5e  60

sub_6c5f:
    jsr sub_6c43            ;6c5f  20 43 6c
    lda 0x0114,y            ;6c62  b9 14 01
    cmp #0x30               ;6c65  c9 30
    bne lab_6c6e            ;6c67  d0 05
    lda #0x20               ;6c69  a9 20
    sta 0x0114,y            ;6c6b  99 14 01

lab_6c6e:
    rts                     ;6c6e  60

sub_6c6f:
    ldx #0x00               ;6c6f  a2 00

lab_6c71:
    lda 0x0114,x            ;6c71  bd 14 01
    cmp #0x30               ;6c74  c9 30
    bne lab_6c82            ;6c76  d0 0a
    lda #0x20               ;6c78  a9 20
    sta 0x0114,x            ;6c7a  9d 14 01
    inx                     ;6c7d  e8
    cpx #0x06               ;6c7e  e0 06
    bcc lab_6c71            ;6c80  90 ef

lab_6c82:
    rts                     ;6c82  60

sub_6c83:
    ldm #0x05,0x5a          ;6c83  3c 05 5a
    jsr sub_672d            ;6c86  20 2d 67
    ldy #0x07               ;6c89  a0 07

lab_6c8b:
    lda #0x20               ;6c8b  a9 20
    sta 0x0114,y            ;6c8d  99 14 01
    dey                     ;6c90  88
    bpl lab_6c8b            ;6c91  10 f8
    jsr sub_6cc0            ;6c93  20 c0 6c
    jsr sub_bef0            ;6c96  20 f0 be
    rts                     ;6c99  60

sub_6c9a:
    jsr sub_672d            ;6c9a  20 2d 67
    lda 0x0110              ;6c9d  ad 10 01
    seb 7,a                 ;6ca0  eb
    sta 0x0110              ;6ca1  8d 10 01
    lda #0xfe               ;6ca4  a9 fe
    sta 0x0112              ;6ca6  8d 12 01
    jsr sub_6cc0            ;6ca9  20 c0 6c
    rts                     ;6cac  60

sub_6cad:
    bbs 0,0xf2,lab_6cbf     ;6cad  07 f2 0f
    lda 0x58                ;6cb0  a5 58
    and #0x07               ;6cb2  29 07
    cmp #0x02               ;6cb4  c9 02
    bcs lab_6cbf            ;6cb6  b0 07
    lda 0x0111              ;6cb8  ad 11 01
    seb 5,a                 ;6cbb  ab
    sta 0x0111              ;6cbc  8d 11 01

lab_6cbf:
    rts                     ;6cbf  60

sub_6cc0:
    lda #0x10               ;6cc0  a9 10
    sta 0x4c                ;6cc2  85 4c
    lda #0x01               ;6cc4  a9 01
    sta 0x4d                ;6cc6  85 4d
    ldm #0x0c,0x4e          ;6cc8  3c 0c 4e
    lda 0x0110              ;6ccb  ad 10 01
    bbc 7,a,lab_6cd3        ;6cce  f3 03
    ldm #0x04,0x4e          ;6cd0  3c 04 4e

lab_6cd3:
    jsr sub_6d6d            ;6cd3  20 6d 6d
    rts                     ;6cd6  60

    .byte 0x0d              ;6cd7  0d          DATA 0x0d
    .byte 0x0f              ;6cd8  0f          DATA 0x0f
    .byte 0x08              ;6cd9  08          DATA 0x08
    .byte 0x01              ;6cda  01          DATA 0x01
    .byte 0x07              ;6cdb  07          DATA 0x07
    .byte 0x80              ;6cdc  80          DATA 0x80
    .byte 0xfe              ;6cdd  fe          DATA 0xfe
    .byte 0x7f              ;6cde  7f          DATA 0x7f
    .byte 0xfe              ;6cdf  fe          DATA 0xfe
    .byte 0x10              ;6ce0  10          DATA 0x10
    .byte 0x10              ;6ce1  10          DATA 0x10
    .byte 0x7f              ;6ce2  7f          DATA 0x7f
    .byte 0xfe              ;6ce3  fe          DATA 0xfe
    .byte 0xfe              ;6ce4  fe          DATA 0xfe
    .byte 0xfe              ;6ce5  fe          DATA 0xfe
    .byte 0x00              ;6ce6  00          DATA 0x00
    .byte 0x10              ;6ce7  10          DATA 0x10
    .byte 0x7f              ;6ce8  7f          DATA 0x7f
    .byte 0x11              ;6ce9  11          DATA 0x11
    .byte 0x7f              ;6cea  7f          DATA 0x7f
    .byte 0x12              ;6ceb  12          DATA 0x12
    .byte 0x7f              ;6cec  7f          DATA 0x7f
    .byte 0x13              ;6ced  13          DATA 0x13
    .byte 0x7f              ;6cee  7f          DATA 0x7f
    .byte 0x14              ;6cef  14          DATA 0x14
    .byte 0x7f              ;6cf0  7f          DATA 0x7f
    .byte 0x15              ;6cf1  15          DATA 0x15
    .byte 0x7f              ;6cf2  7f          DATA 0x7f
    .byte 0x16              ;6cf3  16          DATA 0x16
    .byte 0x7f              ;6cf4  7f          DATA 0x7f
    .byte 0x17              ;6cf5  17          DATA 0x17
    .byte 0x7f              ;6cf6  7f          DATA 0x7f
    .byte 0x18              ;6cf7  18          DATA 0x18
    .byte 0x7f              ;6cf8  7f          DATA 0x7f
    .byte 0x19              ;6cf9  19          DATA 0x19
    .byte 0x7f              ;6cfa  7f          DATA 0x7f
    .byte 0x1a              ;6cfb  1a          DATA 0x1a
    .byte 0x7f              ;6cfc  7f          DATA 0x7f
    .byte 0x1b              ;6cfd  1b          DATA 0x1b
    .byte 0x7f              ;6cfe  7f          DATA 0x7f
    .byte 0x1c              ;6cff  1c          DATA 0x1c
    .byte 0x7f              ;6d00  7f          DATA 0x7f
    .byte 0x1d              ;6d01  1d          DATA 0x1d
    .byte 0x7f              ;6d02  7f          DATA 0x7f
    .byte 0x1e              ;6d03  1e          DATA 0x1e
    .byte 0x7f              ;6d04  7f          DATA 0x7f
    .byte 0x1f              ;6d05  1f          DATA 0x1f
    .byte 0x7f              ;6d06  7f          DATA 0x7f
    .byte 0xfe              ;6d07  fe          DATA 0xfe
    .byte 0x01              ;6d08  01          DATA 0x01
    .byte 0xfe              ;6d09  fe          DATA 0xfe
    .byte 0x02              ;6d0a  02          DATA 0x02
    .byte 0xfe              ;6d0b  fe          DATA 0xfe
    .byte 0x04              ;6d0c  04          DATA 0x04
    .byte 0xfe              ;6d0d  fe          DATA 0xfe
    .byte 0x08              ;6d0e  08          DATA 0x08
    .byte 0xfe              ;6d0f  fe          DATA 0xfe
    .byte 0x10              ;6d10  10          DATA 0x10
    .byte 0xfe              ;6d11  fe          DATA 0xfe
    .byte 0x20              ;6d12  20          DATA 0x20 ' '
    .byte 0xfe              ;6d13  fe          DATA 0xfe
    .byte 0x40              ;6d14  40          DATA 0x40 '@'
    .byte 0xfe              ;6d15  fe          DATA 0xfe
    .byte 0x00              ;6d16  00          DATA 0x00
    .byte 0xad              ;6d17  ad          DATA 0xad
    .byte 0x8a              ;6d18  8a          DATA 0x8a
    .byte 0x02              ;6d19  02          DATA 0x02
    .byte 0x3a              ;6d1a  3a          DATA 0x3a ':'
    .byte 0x29              ;6d1b  29          DATA 0x29 ')'
    .byte 0x1f              ;6d1c  1f          DATA 0x1f
    .byte 0x8d              ;6d1d  8d          DATA 0x8d
    .byte 0x8a              ;6d1e  8a          DATA 0x8a
    .byte 0x02              ;6d1f  02          DATA 0x02
    .byte 0x0a              ;6d20  0a          DATA 0x0a

sub_6d21:
    tax                     ;6d21  aa
    lda #0x91               ;6d22  a9 91
    sta 0x0110              ;6d24  8d 10 01
    lda 0x6cd7,x            ;6d27  bd d7 6c
    sta 0x0111              ;6d2a  8d 11 01
    lda 0x6cd8,x            ;6d2d  bd d8 6c
    sta 0x0112              ;6d30  8d 12 01
    jsr sub_6cc0            ;6d33  20 c0 6c
    rts                     ;6d36  60

lab_6d37:
    bbc 7,CPUM,lab_6d46     ;6d37  f7 3b 0c     Main clock division ratio selection bit
    clb 5,CPUM              ;6d3a  bf 3b        Main clock stop bit
    nop                     ;6d3c  ea
    clb 7,CPUM              ;6d3d  ff 3b        Main clock division ratio selection bit
    nop                     ;6d3f  ea
    ldm #0x7c,PRE12         ;6d40  3c 7c 20
    ldm #0x04,T1            ;6d43  3c 04 21

lab_6d46:
    bbs 6,P3,lab_6d52       ;6d46  c7 06 09
    clb 5,P3                ;6d49  bf 06
    ldm #0x6b,SIO2CON       ;6d4b  3c 6b 1d
    clb 2,IREQ2             ;6d4e  5f 3d
    seb 6,P3                ;6d50  cf 06

lab_6d52:
    pha                     ;6d52  48
    lda PCTL2               ;6d53  a5 2f
    pha                     ;6d55  48
    seb 3,PCTL2             ;6d56  6f 2f
    bbc 3,P8D_P7I,lab_6d68  ;6d58  77 11 0d
    bbs 3,P5,lab_6d68       ;6d5b  67 0a 0a
    lda #0xff               ;6d5e  a9 ff
    jsr sub_6e0d            ;6d60  20 0d 6e
    eor #0xff               ;6d63  49 ff
    jsr sub_6dba            ;6d65  20 ba 6d

lab_6d68:
    pla                     ;6d68  68
    sta PCTL2               ;6d69  85 2f
    pla                     ;6d6b  68
    rti                     ;6d6c  40

sub_6d6d:
    bbs 0,0xef,lab_6db9     ;6d6d  07 ef 49
    bbs 6,P3,lab_6d76       ;6d70  c7 06 03
    jsr sub_6f8a            ;6d73  20 8a 6f

lab_6d76:
    tya                     ;6d76  98
    pha                     ;6d77  48
    seb 3,PCTL2             ;6d78  6f 2f

lab_6d7a:
    lda #0x4b               ;6d7a  a9 4b

lab_6d7c:
    sei                     ;6d7c  78
    bbs 3,P8D_P7I,lab_6d90  ;6d7d  67 11 10
    bbc 3,P5,lab_6db2       ;6d80  77 0a 2f
    clb 3,P7                ;6d83  7f 0e
    cli                     ;6d85  58
    jsr sub_6e32            ;6d86  20 32 6e
    ldy #0x01               ;6d89  a0 01
    jsr sub_f21e            ;6d8b  20 1e f2
    bra lab_6db5            ;6d8e  80 25

lab_6d90:
    bbs 3,P5,lab_6da7       ;6d90  67 0a 14
    clb 3,P7                ;6d93  7f 0e
    cli                     ;6d95  58
    lda #0xff               ;6d96  a9 ff
    jsr sub_6e0d            ;6d98  20 0d 6e
    eor #0xff               ;6d9b  49 ff
    jsr sub_6dba            ;6d9d  20 ba 6d
    ldy #0x0f               ;6da0  a0 0f
    jsr sub_f21e            ;6da2  20 1e f2
    bra lab_6d7a            ;6da5  80 d3

lab_6da7:
    dec a                   ;6da7  1a
    beq lab_6db2            ;6da8  f0 08
    cli                     ;6daa  58
    ldy #0x01               ;6dab  a0 01
    jsr sub_f21e            ;6dad  20 1e f2
    bra lab_6d7c            ;6db0  80 ca

lab_6db2:
    cli                     ;6db2  58
    seb 2,0x76              ;6db3  4f 76

lab_6db5:
    clb 3,PCTL2             ;6db5  7f 2f
    pla                     ;6db7  68
    tay                     ;6db8  a8

lab_6db9:
    rts                     ;6db9  60

sub_6dba:
    bbc 7,a,lab_6dc3        ;6dba  f3 07
    bbc 6,a,lab_6dc3        ;6dbc  d3 05
    sta 0x026d              ;6dbe  8d 6d 02
    bra lab_6e0c            ;6dc1  80 49

lab_6dc3:
    bbc 6,a,lab_6ddb        ;6dc3  d3 16
    bbc 5,a,lab_6dcc        ;6dc5  b3 05
    sta 0x026e              ;6dc7  8d 6e 02
    bra lab_6e0c            ;6dca  80 40

lab_6dcc:
    sta 0x026c              ;6dcc  8d 6c 02
    bbs 3,a,lab_6dd9        ;6dcf  63 08
    bbc 2,a,lab_6e0c        ;6dd1  53 39
    bbc 0,a,lab_6e0c        ;6dd3  13 37
    lda #0x3f               ;6dd5  a9 3f
    bra lab_6ddb            ;6dd7  80 02

lab_6dd9:
    lda #0x0d               ;6dd9  a9 0d

lab_6ddb:
    bbc 7,a,lab_6de1        ;6ddb  f3 04
    seb 6,0xf7              ;6ddd  cf f7
    bra lab_6de3            ;6ddf  80 02

lab_6de1:
    clb 6,0xf7              ;6de1  df f7

lab_6de3:
    and #0x7f               ;6de3  29 7f
    cmp 0x05ba              ;6de5  cd ba 05
    bne lab_6df4            ;6de8  d0 0a
    inc 0xc8                ;6dea  e6 c8
    bne lab_6df4            ;6dec  d0 06
    inc 0xc9                ;6dee  e6 c9
    bne lab_6df4            ;6df0  d0 02
    lda #0x3b               ;6df2  a9 3b

lab_6df4:
    cmp #0x1f               ;6df4  c9 1f
    bne lab_6dfa            ;6df6  d0 02
    bra lab_6e0c            ;6df8  80 12

lab_6dfa:
    sta 0x73                ;6dfa  85 73
    sta 0x05ba              ;6dfc  8d ba 05
    seb 0,0xf7              ;6dff  0f f7
    cmp #0x3f               ;6e01  c9 3f
    bne lab_6e09            ;6e03  d0 04
    seb 3,0xf7              ;6e05  6f f7
    bra lab_6e0c            ;6e07  80 03

lab_6e09:
    ldm #0x12,0x5e          ;6e09  3c 12 5e

lab_6e0c:
    rts                     ;6e0c  60

sub_6e0d:
    clb 3,P7                ;6e0d  7f 0e
    sei                     ;6e0f  78
    sta SIO2                ;6e10  85 1f

lab_6e12:
    bbc 2,IREQ2,lab_6e12    ;6e12  57 3d fd
    lda SIO2                ;6e15  a5 1f
    pha                     ;6e17  48
    clb 2,IREQ2             ;6e18  5f 3d
    seb 3,P7                ;6e1a  6f 0e
    lda #0x00               ;6e1c  a9 00

lab_6e1e:
    dec a                   ;6e1e  1a
    beq lab_6e2f            ;6e1f  f0 0e
    bbc 3,P8D_P7I,lab_6e1e  ;6e21  77 11 fa
    lda #0x00               ;6e24  a9 00

lab_6e26:
    dec a                   ;6e26  1a
    beq lab_6e2f            ;6e27  f0 06
    bbs 3,P8D_P7I,lab_6e26  ;6e29  67 11 fa
    pla                     ;6e2c  68
    cli                     ;6e2d  58
    rts                     ;6e2e  60

lab_6e2f:
    pla                     ;6e2f  68
    cli                     ;6e30  58
    rts                     ;6e31  60

sub_6e32:
    tya                     ;6e32  98
    pha                     ;6e33  48
    ldy #0x00               ;6e34  a0 00

lab_6e36:
    clb 3,P7                ;6e36  7f 0e
    lda [0x4c],y            ;6e38  b1 4c
    sei                     ;6e3a  78
    seb 3,PCTL2             ;6e3b  6f 2f
    sta SIO2                ;6e3d  85 1f

lab_6e3f:
    bbc 2,IREQ2,lab_6e3f    ;6e3f  57 3d fd
    clb 2,IREQ2             ;6e42  5f 3d
    seb 3,P7                ;6e44  6f 0e

lab_6e46:
    bbc 3,P8D_P7I,lab_6e46  ;6e46  77 11 fd
    iny                     ;6e49  c8
    cpy 0x4e                ;6e4a  c4 4e
    beq lab_6e59            ;6e4c  f0 0b

lab_6e4e:
    bbc 3,P5,lab_6e5d       ;6e4e  77 0a 0c
    bbs 3,P8D_P7I,lab_6e4e  ;6e51  67 11 fa
    cli                     ;6e54  58
    cpy 0x4e                ;6e55  c4 4e
    bcc lab_6e36            ;6e57  90 dd

lab_6e59:
    cli                     ;6e59  58
    pla                     ;6e5a  68
    tay                     ;6e5b  a8
    rts                     ;6e5c  60

lab_6e5d:
    cli                     ;6e5d  58
    pla                     ;6e5e  68
    tay                     ;6e5f  a8
    rts                     ;6e60  60

sub_6e61:
    bbc 4,P7,lab_6eb0       ;6e61  97 0e 4c
    lda 0x026c              ;6e64  ad 6c 02
    sta 0x0111              ;6e67  8d 11 01
    lda #0x00               ;6e6a  a9 00
    sta 0x026c              ;6e6c  8d 6c 02
    sta 0x0110              ;6e6f  8d 10 01
    ldm #0x01,0x4e          ;6e72  3c 01 4e
    lda #0x10               ;6e75  a9 10
    sta 0x4c                ;6e77  85 4c
    lda #0x01               ;6e79  a9 01
    sta 0x4d                ;6e7b  85 4d
    jsr sub_6d6d            ;6e7d  20 6d 6d
    lda #0x23               ;6e80  a9 23

lab_6e82:
    ldy #0x01               ;6e82  a0 01
    jsr sub_f22c_delay      ;6e84  20 2c f2     Delay an unknown time period for Y iterations

    ldy 0x026c              ;6e87  ac 6c 02
    bne lab_6e9f            ;6e8a  d0 13
    cmp #0x19               ;6e8c  c9 19
    bne lab_6e93            ;6e8e  d0 03
    jsr sub_6f45            ;6e90  20 45 6f

lab_6e93:
    dec a                   ;6e93  1a
    bne lab_6e82            ;6e94  d0 ec
    lda 0x0111              ;6e96  ad 11 01
    sta 0x026c              ;6e99  8d 6c 02
    clc                     ;6e9c  18
    bra lab_6eb0            ;6e9d  80 11

lab_6e9f:
    ldy #0x02               ;6e9f  a0 02
    jsr sub_f22c_delay      ;6ea1  20 2c f2     Delay an unknown time period for Y iterations

    lda 0x73                ;6ea4  a5 73
    cmp #0x1f               ;6ea6  c9 1f
    bne lab_6eaf            ;6ea8  d0 05
    ldm #0xff,0x73          ;6eaa  3c ff 73
    clb 3,0xf7              ;6ead  7f f7

lab_6eaf:
    sec                     ;6eaf  38

lab_6eb0:
    bbs 4,P7,lab_6eb7       ;6eb0  87 0e 04
    clb 0,0xf6              ;6eb3  1f f6
    bra lab_6eb9            ;6eb5  80 02

lab_6eb7:
    seb 0,0xf6              ;6eb7  0f f6

lab_6eb9:
    rts                     ;6eb9  60

sub_6eba:
    lda 0x026c              ;6eba  ad 6c 02
    sta 0x41                ;6ebd  85 41
    lda #0x00               ;6ebf  a9 00
    sta 0x026c              ;6ec1  8d 6c 02
    jsr sub_6eea            ;6ec4  20 ea 6e
    ldm #0x05,0x40          ;6ec7  3c 05 40

lab_6eca:
    bbc 5,0xf8,lab_6eca     ;6eca  b7 f8 fd
    clb 5,0xf8              ;6ecd  bf f8
    lda 0x026c              ;6ecf  ad 6c 02
    beq lab_6eda            ;6ed2  f0 06
    and #0xe0               ;6ed4  29 e0
    cmp #0x40               ;6ed6  c9 40
    beq lab_6ee6            ;6ed8  f0 0c

lab_6eda:
    dec 0x40                ;6eda  c6 40
    bne lab_6eca            ;6edc  d0 ec
    lda 0x41                ;6ede  a5 41
    sta 0x026c              ;6ee0  8d 6c 02
    clc                     ;6ee3  18
    bra lab_6ee9            ;6ee4  80 03

lab_6ee6:
    lda 0x026c              ;6ee6  ad 6c 02

lab_6ee9:
    rts                     ;6ee9  60

sub_6eea:
    tya                     ;6eea  98
    pha                     ;6eeb  48
    lda 0x58                ;6eec  a5 58
    pha                     ;6eee  48
    ldm #0x02,0x58          ;6eef  3c 02 58
    lda #0x82               ;6ef2  a9 82
    bbc 0,0xf6,lab_6ef8     ;6ef4  17 f6 01
    seb 6,a                 ;6ef7  cb

lab_6ef8:
    bbc 1,0xf6,lab_6f01     ;6ef8  37 f6 06
    ldx 0x0289              ;6efb  ae 89 02
    beq lab_6f01            ;6efe  f0 01
    seb 5,a                 ;6f00  ab

lab_6f01:
    bbc 2,0xf6,lab_6f05     ;6f01  57 f6 01
    seb 4,a                 ;6f04  8b

lab_6f05:
    sta 0x0110              ;6f05  8d 10 01
    lda #0x80               ;6f08  a9 80
    sta 0x0111              ;6f0a  8d 11 01
    sta 0x0112              ;6f0d  8d 12 01
    sta 0x0113              ;6f10  8d 13 01
    jsr sub_6cc0            ;6f13  20 c0 6c
    pla                     ;6f16  68
    sta 0x58                ;6f17  85 58
    pla                     ;6f19  68
    tay                     ;6f1a  a8
    rts                     ;6f1b  60

sub_6f1c:
    lda #0x05               ;6f1c  a9 05
    tax                     ;6f1e  aa

lab_6f1f:
    ldy #0x03               ;6f1f  a0 03
    jsr sub_f21e            ;6f21  20 1e f2
    clb 0,0xf6              ;6f24  1f f6
    bbc 4,P7,lab_6f2c       ;6f26  97 0e 03
    seb 0,0xf6              ;6f29  0f f6
    dex                     ;6f2b  ca

lab_6f2c:
    dec a                   ;6f2c  1a
    bne lab_6f1f            ;6f2d  d0 f0
    cpx #0x03               ;6f2f  e0 03
    bcs lab_6f37            ;6f31  b0 04
    seb 0,0xef              ;6f33  0f ef
    bra lab_6f44            ;6f35  80 0d

lab_6f37:
    clb 0,0xef              ;6f37  1f ef
    bbc 0,0xf6,lab_6f41     ;6f39  17 f6 05
    jsr sub_6e61            ;6f3c  20 61 6e
    bra lab_6f44            ;6f3f  80 03

lab_6f41:
    jsr sub_6eba            ;6f41  20 ba 6e

lab_6f44:
    rts                     ;6f44  60

sub_6f45:
    pha                     ;6f45  48
    lda 0x0110              ;6f46  ad 10 01
    pha                     ;6f49  48
    lda #0xff               ;6f4a  a9 ff
    sta 0x0110              ;6f4c  8d 10 01
    ldm #0x01,0x4e          ;6f4f  3c 01 4e
    lda #0x10               ;6f52  a9 10
    sta 0x4c                ;6f54  85 4c
    lda #0x01               ;6f56  a9 01
    sta 0x4d                ;6f58  85 4d
    jsr sub_6d6d            ;6f5a  20 6d 6d
    pla                     ;6f5d  68
    sta 0x0110              ;6f5e  8d 10 01
    pla                     ;6f61  68
    rts                     ;6f62  60

;XXX appears unused
sub_6f63:
    ldy #0x00               ;6f63  a0 00

lab_6f65:
    lda [0x004c],y          ;6f65  b1 4c
    ldx #0x08               ;6f67  a2 08

lab_6f69:
    clb 2,P7                ;6f69  5f 0e
    asl a                   ;6f6b  0a
    bcs lab_6f72            ;6f6c  b0 04
    clb 1,P7                ;6f6e  3f 0e
    bra lab_6f75            ;6f70  80 03

lab_6f72:
    seb 1,P7                ;6f72  2f 0e
    nop                     ;6f74  ea

lab_6f75:
    seb 2,P7                ;6f75  4f 0e
    bbs 0,P7,lab_6f7d       ;6f77  07 0e 03
    clb 0,a                 ;6f7a  1b
    bra lab_6f7f            ;6f7b  80 02

lab_6f7d:
    seb 0,a                 ;6f7d  0b
    nop                     ;6f7e  ea

lab_6f7f:
    dex                     ;6f7f  ca
    bne lab_6f69            ;6f80  d0 e7
    sta [0x004c],y          ;6f82  91 4c
    iny                     ;6f84  c8
    cpy 0x004e              ;6f85  c4 4e
    bcc lab_6f65            ;6f87  90 dc
    rts                     ;6f89  60

sub_6f8a:
    clb 5,P3                ;6f8a  bf 06
    sei                     ;6f8c  78
    ldm #0x6b,SIO2CON       ;6f8d  3c 6b 1d
    clb 2,IREQ2             ;6f90  5f 3d
    nop                     ;6f92  ea
    nop                     ;6f93  ea
    nop                     ;6f94  ea
    nop                     ;6f95  ea
    nop                     ;6f96  ea
    nop                     ;6f97  ea
    seb 6,P3                ;6f98  cf 06
    cli                     ;6f9a  58
    rts                     ;6f9b  60

sub_6f9c:
    clb 6,P3                ;6f9c  df 06
    sei                     ;6f9e  78
    ldm #0x23,SIO2CON       ;6f9f  3c 23 1d
    ldm #0x02,0x5f          ;6fa2  3c 02 5f
    clb 3,0xeb              ;6fa5  7f eb
    seb 5,P3                ;6fa7  af 06
    cli                     ;6fa9  58
    rts                     ;6faa  60

sub_6fab:
    lda #0x00               ;6fab  a9 00
    sta 0x0385              ;6fad  8d 85 03
    jsr sub_739e            ;6fb0  20 9e 73
    jsr sub_72ef            ;6fb3  20 ef 72
    jsr sub_796d            ;6fb6  20 6d 79
    lda #0x42               ;6fb9  a9 42
    sta 0x0101              ;6fbb  8d 01 01
    lda #0x04               ;6fbe  a9 04
    bbc 0,0xf2,lab_6fca     ;6fc0  17 f2 07
    lda #0xe2               ;6fc3  a9 e2
    sta 0x0101              ;6fc5  8d 01 01
    lda #0x04               ;6fc8  a9 04

lab_6fca:
    asl a                   ;6fca  0a
    ora #0xa0               ;6fcb  09 a0
    sta 0x0100              ;6fcd  8d 00 01
    lda #0x00               ;6fd0  a9 00
    sta 0x4c                ;6fd2  85 4c
    lda #0x01               ;6fd4  a9 01
    sta 0x4d                ;6fd6  85 4d
    ldm #0x02,0x4e          ;6fd8  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;6fdb  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;6fde  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;6fe1  ad 02 01
    cmp #0xe0               ;6fe4  c9 e0
    bcc lab_7009            ;6fe6  90 21
    ldy #0x00               ;6fe8  a0 00
    lda #0xa9               ;6fea  a9 a9
    sta 0x40                ;6fec  85 40
    lda #0x79               ;6fee  a9 79
    sta 0x41                ;6ff0  85 41
    bbc 0,0xf2,lab_6ffd     ;6ff2  17 f2 08
    lda #0xc9               ;6ff5  a9 c9
    sta 0x40                ;6ff7  85 40
    lda #0x79               ;6ff9  a9 79
    sta 0x41                ;6ffb  85 41

lab_6ffd:
    lda [0x40],y            ;6ffd  b1 40
    sta 0x0102,y            ;6fff  99 02 01
    iny                     ;7002  c8
    cpy #0x20               ;7003  c0 20
    bcc lab_6ffd            ;7005  90 f6
    bra lab_7031            ;7007  80 28

lab_7009:
    lda #0x40               ;7009  a9 40
    sta 0x0101              ;700b  8d 01 01
    lda #0x04               ;700e  a9 04
    bbc 0,0xf2,lab_701a     ;7010  17 f2 07
    lda #0xe0               ;7013  a9 e0
    sta 0x0101              ;7015  8d 01 01
    lda #0x04               ;7018  a9 04

lab_701a:
    asl a                   ;701a  0a
    ora #0xa0               ;701b  09 a0
    sta 0x0100              ;701d  8d 00 01
    lda #0x00               ;7020  a9 00
    sta 0x4c                ;7022  85 4c
    lda #0x01               ;7024  a9 01
    sta 0x4d                ;7026  85 4d
    ldm #0x02,0x4e          ;7028  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x20,0x4f          ;702b  3c 20 4f     Number of I2C bytes to read = 32
    jsr sub_46e5_i2c_wr_rd  ;702e  20 e5 46     Perform an I2C write-then-read transaction

lab_7031:
    lda 0x0107              ;7031  ad 07 01
    sta 0x02c3              ;7034  8d c3 02
    lda 0x0108              ;7037  ad 08 01
    and #0x06               ;703a  29 06
    ora #0x21               ;703c  09 21
    ora #0x06               ;703e  09 06
    sta 0x02c4              ;7040  8d c4 02
    sta 0x0108              ;7043  8d 08 01
    lda 0x010d              ;7046  ad 0d 01
    sta 0x02c5              ;7049  8d c5 02
    lda 0x0118              ;704c  ad 18 01
    sta 0x02c6              ;704f  8d c6 02
    lda 0x011e              ;7052  ad 1e 01
    sta 0x02c7              ;7055  8d c7 02
    lda #0x8c               ;7058  a9 8c
    sta 0x0100              ;705a  8d 00 01
    lda #0x20               ;705d  a9 20
    sta 0x0101              ;705f  8d 01 01
    lda #0xdf               ;7062  a9 df
    sta 0x0104              ;7064  8d 04 01
    lda 0x02c0              ;7067  ad c0 02
    sta 0x0105              ;706a  8d 05 01
    lda 0x02c1              ;706d  ad c1 02
    sta 0x0106              ;7070  8d 06 01
    lda 0x02c2              ;7073  ad c2 02
    sta 0x010c              ;7076  8d 0c 01
    lda #0x00               ;7079  a9 00
    sta 0x4c                ;707b  85 4c
    lda #0x01               ;707d  a9 01
    sta 0x4d                ;707f  85 4d
    ldm #0x22,0x4e          ;7081  3c 22 4e     Number of I2C bytes to write = 34
    ldm #0x00,0x4f          ;7084  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7087  20 e5 46     Perform an I2C write-then-read transaction
    bbc 0,0xff,lab_7091     ;708a  17 ff 04
    clb 0,0xff              ;708d  1f ff
    seb 4,0x76              ;708f  8f 76

lab_7091:
    jsr sub_78d1            ;7091  20 d1 78
    jsr sub_746f            ;7094  20 6f 74
    jsr sub_776a            ;7097  20 6a 77
    rts                     ;709a  60

    .byte 0x20              ;709b  20          DATA 0x20 ' '
    .byte 0x40              ;709c  40          DATA 0x40 '@'
    .byte 0xbc              ;709d  bc          DATA 0xbc
    .byte 0x71              ;709e  71          DATA 0x71 'q'
    .byte 0x01              ;709f  01          DATA 0x01
    .byte 0x00              ;70a0  00          DATA 0x00
    .byte 0x66              ;70a1  66          DATA 0x66 'f'
    .byte 0x22              ;70a2  22          DATA 0x22 '"'
    .byte 0x4a              ;70a3  4a          DATA 0x4a 'J'
    .byte 0x40              ;70a4  40          DATA 0x40 '@'
    .byte 0xbc              ;70a5  bc          DATA 0xbc
    .byte 0x71              ;70a6  71          DATA 0x71 'q'
    .byte 0x03              ;70a7  03          DATA 0x03
    .byte 0x00              ;70a8  00          DATA 0x00
    .byte 0x66              ;70a9  66          DATA 0x66 'f'
    .byte 0x22              ;70aa  22          DATA 0x22 '"'
    .byte 0x1c              ;70ab  1c          DATA 0x1c
    .byte 0x20              ;70ac  20          DATA 0x20 ' '
    .byte 0xbc              ;70ad  bc          DATA 0xbc
    .byte 0x71              ;70ae  71          DATA 0x71 'q'
    .byte 0x75              ;70af  75          DATA 0x75 'u'
    .byte 0xa0              ;70b0  a0          DATA 0xa0
    .byte 0xbc              ;70b1  bc          DATA 0xbc
    .byte 0x71              ;70b2  71          DATA 0x71 'q'
    .byte 0x0e              ;70b3  0e          DATA 0x0e
    .byte 0x40              ;70b4  40          DATA 0x40 '@'
    .byte 0xbc              ;70b5  bc          DATA 0xbc
    .byte 0x71              ;70b6  71          DATA 0x71 'q'
    .byte 0x26              ;70b7  26          DATA 0x26 '&'
    .byte 0x20              ;70b8  20          DATA 0x20 ' '
    .byte 0xbc              ;70b9  bc          DATA 0xbc
    .byte 0x71              ;70ba  71          DATA 0x71 'q'

sub_70bb:
    ldx #0x04               ;70bb  a2 04
    bbs 6,0xf0,sub_70db     ;70bd  c7 f0 1b
    ldx #0x06               ;70c0  a2 06
    bbs 2,0xf4,sub_70db     ;70c2  47 f4 16
    ldx #0x05               ;70c5  a2 05
    bbs 5,0xf0,sub_70db     ;70c7  a7 f0 11
    ldx #0x00               ;70ca  a2 00
    bbs 3,0xf0,sub_70db     ;70cc  67 f0 0c
    ldx #0x02               ;70cf  a2 02
    bbs 4,0xf0,sub_70db     ;70d1  87 f0 07
    ldx #0x07               ;70d4  a2 07
    bbs 0,0xf2,sub_70db     ;70d6  07 f2 02
    ldx #0x06               ;70d9  a2 06

sub_70db:
    cpx 0xa5                ;70db  e4 a5
    beq lab_70f5            ;70dd  f0 16
    jsr sub_77f8            ;70df  20 f8 77
    stx 0xa5                ;70e2  86 a5
    jsr sub_77cd            ;70e4  20 cd 77
    jsr sub_739e            ;70e7  20 9e 73
    jsr sub_72ef            ;70ea  20 ef 72
    jsr sub_73f7            ;70ed  20 f7 73
    jsr sub_7353            ;70f0  20 53 73
    ldx 0xa5                ;70f3  a6 a5

lab_70f5:
    lda 0x42                ;70f5  a5 42
    pha                     ;70f7  48
    stx 0x42                ;70f8  86 42
    ldx #0x00               ;70fa  a2 00
    lda #0x04               ;70fc  a9 04
    mul 0x42,x              ;70fe  62 42
    clc                     ;7100  18
    adc #0x9b               ;7101  69 9b
    sta 0x40                ;7103  85 40
    pla                     ;7105  68
    adc #0x70               ;7106  69 70
    sta 0x41                ;7108  85 41
    ldy #0x00               ;710a  a0 00
    lda [0x40],y            ;710c  b1 40
    sta 0x0102              ;710e  8d 02 01
    lda #0x00               ;7111  a9 00
    sta 0x0101              ;7113  8d 01 01
    lda #0x8c               ;7116  a9 8c
    sta 0x0100              ;7118  8d 00 01
    lda #0x00               ;711b  a9 00
    sta 0x4c                ;711d  85 4c
    lda #0x01               ;711f  a9 01
    sta 0x4d                ;7121  85 4d
    ldm #0x03,0x4e          ;7123  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7126  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7129  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x42                ;712c  a5 42
    cmp #0x06               ;712e  c9 06
    beq lab_713a            ;7130  f0 08
    ldy #0x01               ;7132  a0 01
    lda [0x40],y            ;7134  b1 40
    bbs 3,a,lab_7143        ;7136  63 0b
    bra lab_7149            ;7138  80 0f

lab_713a:
    bbs 0,0xf2,lab_7149     ;713a  07 f2 0c
    bbc 6,0xfa,lab_7143     ;713d  d7 fa 03
    bbc 4,0xfa,lab_7149     ;7140  97 fa 06

lab_7143:
    seb 4,0xfa              ;7143  8f fa
    seb 5,0xfa              ;7145  af fa
    bra lab_714d            ;7147  80 04

lab_7149:
    clb 4,0xfa              ;7149  9f fa
    clb 5,0xfa              ;714b  bf fa

lab_714d:
    lda #0x16               ;714d  a9 16
    sta 0x0101              ;714f  8d 01 01
    ldm #0x00,0x42          ;7152  3c 00 42
    ldy #0x01               ;7155  a0 01
    lda [0x40],y            ;7157  b1 40
    bbs 2,a,lab_7163        ;7159  43 08
    lda 0x0288              ;715b  ad 88 02
    bbs 0,a,lab_7163        ;715e  03 03
    ldm #0x10,0x42          ;7160  3c 10 42

lab_7163:
    lda 0x02c6              ;7163  ad c6 02
    and #0xef               ;7166  29 ef
    ora 0x42                ;7168  05 42
    sta 0x0102              ;716a  8d 02 01
    lda #0x00               ;716d  a9 00
    sta 0x4c                ;716f  85 4c
    lda #0x01               ;7171  a9 01
    sta 0x4d                ;7173  85 4d
    ldm #0x03,0x4e          ;7175  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7178  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;717b  20 e5 46     Perform an I2C write-then-read transaction
    jsr sub_77b5            ;717e  20 b5 77
    ldx 0x02c5              ;7181  ae c5 02
    ldy #0x01               ;7184  a0 01
    lda [0x40],y            ;7186  b1 40
    bbc 4,a,lab_718c        ;7188  93 02
    ldx #0x03               ;718a  a2 03

lab_718c:
    stx 0x0102              ;718c  8e 02 01
    lda #0x8c               ;718f  a9 8c
    sta 0x0100              ;7191  8d 00 01
    lda #0x0b               ;7194  a9 0b
    sta 0x0101              ;7196  8d 01 01
    lda #0x00               ;7199  a9 00
    sta 0x4c                ;719b  85 4c
    lda #0x01               ;719d  a9 01
    sta 0x4d                ;719f  85 4d
    ldm #0x03,0x4e          ;71a1  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;71a4  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;71a7  20 e5 46     Perform an I2C write-then-read transaction
    ldy #0x02               ;71aa  a0 02
    lda [0x40],y            ;71ac  b1 40
    tax                     ;71ae  aa
    iny                     ;71af  c8
    lda [0x40],y            ;71b0  b1 40
    sta 0x41                ;71b2  85 41
    stx 0x40                ;71b4  86 40
    jsr [0x40]              ;71b6  02 40
    pla                     ;71b8  68
    sta 0x42                ;71b9  85 42
    rts                     ;71bb  60

sub_71bc:
    bbc 6,0xf0,lab_71c2     ;71bc  d7 f0 03
    jmp lab_724d            ;71bf  4c 4d 72

lab_71c2:
    bbs 2,0xf4,lab_721f     ;71c2  47 f4 5a
    bbs 5,0xf0,lab_721f     ;71c5  a7 f0 57
    bbc 4,0xf4,lab_71d6     ;71c8  97 f4 0b
    lda 0x028a              ;71cb  ad 8a 02
    cmp #0x02               ;71ce  c9 02
    beq lab_721f            ;71d0  f0 4d
    cmp #0x03               ;71d2  c9 03
    beq lab_724d            ;71d4  f0 77

lab_71d6:
    bbs 3,0xf0,lab_71df     ;71d6  67 f0 06
    bbs 4,0xf0,lab_71df     ;71d9  87 f0 03
    bbs 0,0xf2,lab_724d     ;71dc  07 f2 6e

lab_71df:
    lda 0x0289              ;71df  ad 89 02
    beq lab_724d            ;71e2  f0 69
    bbs 3,0xf0,lab_71ed     ;71e4  67 f0 06
    bbs 4,0xf0,lab_71ed     ;71e7  87 f0 03
    bbc 4,0xfa,lab_721f     ;71ea  97 fa 32

lab_71ed:
    ldx 0xa0                ;71ed  a6 a0
    cpx #0x2e               ;71ef  e0 2e
    bcs lab_721c            ;71f1  b0 29
    lda 0x7a2a,x            ;71f3  bd 2a 7a
    sta 0x0102              ;71f6  8d 02 01
    lda 0x7a86,x            ;71f9  bd 86 7a
    sec                     ;71fc  38
    sbc 0x02cb              ;71fd  ed cb 02
    clc                     ;7200  18
    adc 0x02d5              ;7201  6d d5 02
    jsr sub_ee35            ;7204  20 35 ee
    cmp 0x7ab3              ;7207  cd b3 7a
    bcs lab_720f            ;720a  b0 03
    lda 0x7ab3              ;720c  ad b3 7a

lab_720f:
    cmp 0x7a86              ;720f  cd 86 7a
    bcc lab_7217            ;7212  90 03
    lda 0x7a86              ;7214  ad 86 7a

lab_7217:
    sta 0x0103              ;7217  8d 03 01
    bra lab_727e            ;721a  80 62

lab_721c:
    jmp lab_72e1            ;721c  4c e1 72

lab_721f:
    ldx 0xa0                ;721f  a6 a0
    cpx #0x2e               ;7221  e0 2e
    bcs lab_727b            ;7223  b0 56
    lda #0x00               ;7225  a9 00
    sta 0x0102              ;7227  8d 02 01
    lda 0x7ab4,x            ;722a  bd b4 7a
    sec                     ;722d  38
    sbc 0x02cb              ;722e  ed cb 02
    clc                     ;7231  18
    adc 0x02d5              ;7232  6d d5 02
    jsr sub_ee35            ;7235  20 35 ee
    cmp 0x7ae1              ;7238  cd e1 7a
    bcs lab_7240            ;723b  b0 03
    lda 0x7ae1              ;723d  ad e1 7a

lab_7240:
    cmp 0x7ab4              ;7240  cd b4 7a
    bcc lab_7248            ;7243  90 03
    lda 0x7ab4              ;7245  ad b4 7a

lab_7248:
    sta 0x0103              ;7248  8d 03 01
    bra lab_727e            ;724b  80 31

lab_724d:
    ldx 0xa0                ;724d  a6 a0
    cpx #0x2e               ;724f  e0 2e
    bcs lab_727b            ;7251  b0 28
    lda #0x00               ;7253  a9 00
    sta 0x0102              ;7255  8d 02 01
    lda 0x7a58,x            ;7258  bd 58 7a
    sec                     ;725b  38
    sbc 0x02cb              ;725c  ed cb 02
    clc                     ;725f  18
    adc 0x02d5              ;7260  6d d5 02
    jsr sub_ee35            ;7263  20 35 ee
    cmp 0x7a85              ;7266  cd 85 7a
    bcs lab_726e            ;7269  b0 03
    lda 0x7a85              ;726b  ad 85 7a

lab_726e:
    cmp 0x7a58              ;726e  cd 58 7a
    bcc lab_7276            ;7271  90 03
    lda 0x7a58              ;7273  ad 58 7a

lab_7276:
    sta 0x0103              ;7276  8d 03 01
    bra lab_727e            ;7279  80 03

lab_727b:
    jmp lab_72e1            ;727b  4c e1 72

lab_727e:
    lda 0xa0                ;727e  a5 a0
    beq lab_72a4            ;7280  f0 22
    lda 0x0385              ;7282  ad 85 03
    beq lab_72a4            ;7285  f0 1d
    lda #0x8c               ;7287  a9 8c
    sta 0x0100              ;7289  8d 00 01
    lda #0x21               ;728c  a9 21
    sta 0x0101              ;728e  8d 01 01
    lda #0x00               ;7291  a9 00
    sta 0x4c                ;7293  85 4c
    lda #0x01               ;7295  a9 01
    sta 0x4d                ;7297  85 4d
    ldm #0x04,0x4e          ;7299  3c 04 4e     Number of I2C bytes to write = 4
    ldm #0x00,0x4f          ;729c  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;729f  20 e5 46     Perform an I2C write-then-read transaction
    bra lab_72dc            ;72a2  80 38

lab_72a4:
    lda #0x8c               ;72a4  a9 8c
    sta 0x0100              ;72a6  8d 00 01
    lda #0x20               ;72a9  a9 20
    sta 0x0101              ;72ab  8d 01 01
    lda 0x0103              ;72ae  ad 03 01
    sta 0x0104              ;72b1  8d 04 01
    lda 0x0102              ;72b4  ad 02 01
    sta 0x0103              ;72b7  8d 03 01
    lda 0xa5                ;72ba  a5 a5
    asl a                   ;72bc  0a
    asl a                   ;72bd  0a
    tax                     ;72be  aa
    lda 0x709b,x            ;72bf  bd 9b 70
    ldx 0xa0                ;72c2  a6 a0
    bne lab_72c8            ;72c4  d0 02
    ora #0x80               ;72c6  09 80

lab_72c8:
    sta 0x0102              ;72c8  8d 02 01
    lda #0x00               ;72cb  a9 00
    sta 0x4c                ;72cd  85 4c
    lda #0x01               ;72cf  a9 01
    sta 0x4d                ;72d1  85 4d
    ldm #0x05,0x4e          ;72d3  3c 05 4e     Number of I2C bytes to write = 5
    ldm #0x00,0x4f          ;72d6  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;72d9  20 e5 46     Perform an I2C write-then-read transaction

lab_72dc:
    lda 0xa0                ;72dc  a5 a0
    sta 0x0385              ;72de  8d 85 03

lab_72e1:
    rts                     ;72e1  60

    .byte 0x20              ;72e2  20          DATA 0x20 ' '
    .byte 0xef              ;72e3  ef          DATA 0xef
    .byte 0x72              ;72e4  72          DATA 0x72 'r'
    .byte 0x20              ;72e5  20          DATA 0x20 ' '
    .byte 0x53              ;72e6  53          DATA 0x53 'S'
    .byte 0x73              ;72e7  73          DATA 0x73 's'
    .byte 0x20              ;72e8  20          DATA 0x20 ' '
    .byte 0x4a              ;72e9  4a          DATA 0x4a 'J'
    .byte 0x66              ;72ea  66          DATA 0x66 'f'
    .byte 0x20              ;72eb  20          DATA 0x20 ' '
    .byte 0xf8              ;72ec  f8          DATA 0xf8
    .byte 0x77              ;72ed  77          DATA 0x77 'w'
    .byte 0x60              ;72ee  60          DATA 0x60 '`'

sub_72ef:
    lda #0x86               ;72ef  a9 86
    sta 0x0101              ;72f1  8d 01 01
    lda #0x04               ;72f4  a9 04
    asl a                   ;72f6  0a
    ora #0xa0               ;72f7  09 a0
    sta 0x0100              ;72f9  8d 00 01
    lda #0x00               ;72fc  a9 00
    sta 0x4c                ;72fe  85 4c
    lda #0x01               ;7300  a9 01
    sta 0x4d                ;7302  85 4d
    ldm #0x02,0x4e          ;7304  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;7307  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;730a  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;730d  ad 02 01
    beq lab_7322            ;7310  f0 10
    ldx 0xa1                ;7312  a6 a1
    lda 0x7a04,x            ;7314  bd 04 7a
    sta 0x02c1              ;7317  8d c1 02
    lda 0x7a17,x            ;731a  bd 17 7a
    sta 0x02c2              ;731d  8d c2 02
    bra lab_7352            ;7320  80 30

lab_7322:
    lda 0xa1                ;7322  a5 a1
    asl a                   ;7324  0a
    clc                     ;7325  18
    adc #0x60               ;7326  69 60
    sta 0x0101              ;7328  8d 01 01
    lda #0x00               ;732b  a9 00
    adc #0x04               ;732d  69 04
    asl a                   ;732f  0a
    ora #0xa0               ;7330  09 a0
    sta 0x0100              ;7332  8d 00 01
    lda #0x00               ;7335  a9 00
    sta 0x4c                ;7337  85 4c
    lda #0x01               ;7339  a9 01
    sta 0x4d                ;733b  85 4d
    ldm #0x02,0x4e          ;733d  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;7340  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;7343  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;7346  ad 02 01
    sta 0x02c1              ;7349  8d c1 02
    lda 0x0103              ;734c  ad 03 01
    sta 0x02c2              ;734f  8d c2 02

lab_7352:
    rts                     ;7352  60

sub_7353:
    lda #0x8c               ;7353  a9 8c
    sta 0x0100              ;7355  8d 00 01
    lda #0x04               ;7358  a9 04
    sta 0x0101              ;735a  8d 01 01
    lda 0x02c1              ;735d  ad c1 02
    sta 0x0102              ;7360  8d 02 01
    lda #0x00               ;7363  a9 00
    sta 0x4c                ;7365  85 4c
    lda #0x01               ;7367  a9 01
    sta 0x4d                ;7369  85 4d
    ldm #0x03,0x4e          ;736b  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;736e  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7371  20 e5 46     Perform an I2C write-then-read transaction
    lda #0x0a               ;7374  a9 0a
    sta 0x0101              ;7376  8d 01 01
    lda 0x02c2              ;7379  ad c2 02
    sta 0x0102              ;737c  8d 02 01
    lda #0x00               ;737f  a9 00
    sta 0x4c                ;7381  85 4c
    lda #0x01               ;7383  a9 01
    sta 0x4d                ;7385  85 4d
    ldm #0x03,0x4e          ;7387  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;738a  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;738d  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7390  60

    .byte 0x20              ;7391  20          DATA 0x20 ' '
    .byte 0x9e              ;7392  9e          DATA 0x9e
    .byte 0x73              ;7393  73          DATA 0x73 's'
    .byte 0x20              ;7394  20          DATA 0x20 ' '
    .byte 0xf7              ;7395  f7          DATA 0xf7
    .byte 0x73              ;7396  73          DATA 0x73 's'
    .byte 0x20              ;7397  20          DATA 0x20 ' '
    .byte 0x4a              ;7398  4a          DATA 0x4a 'J'
    .byte 0x66              ;7399  66          DATA 0x66 'f'
    .byte 0x20              ;739a  20          DATA 0x20 ' '
    .byte 0xf8              ;739b  f8          DATA 0xf8
    .byte 0x77              ;739c  77          DATA 0x77 'w'
    .byte 0x60              ;739d  60          DATA 0x60 '`'

sub_739e:
    lda #0x9b               ;739e  a9 9b
    sta 0x0101              ;73a0  8d 01 01
    lda #0x04               ;73a3  a9 04
    asl a                   ;73a5  0a
    ora #0xa0               ;73a6  09 a0
    sta 0x0100              ;73a8  8d 00 01
    lda #0x00               ;73ab  a9 00
    sta 0x4c                ;73ad  85 4c
    lda #0x01               ;73af  a9 01
    sta 0x4d                ;73b1  85 4d
    ldm #0x02,0x4e          ;73b3  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;73b6  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;73b9  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;73bc  ad 02 01
    beq lab_73c8            ;73bf  f0 07
    ldx 0xa2                ;73c1  a6 a2
    lda 0x79f1,x            ;73c3  bd f1 79
    bra lab_73ee            ;73c6  80 26

lab_73c8:
    lda 0xa2                ;73c8  a5 a2
    clc                     ;73ca  18
    adc #0x88               ;73cb  69 88
    sta 0x0101              ;73cd  8d 01 01
    lda #0x00               ;73d0  a9 00
    adc #0x04               ;73d2  69 04
    asl a                   ;73d4  0a
    ora #0xa0               ;73d5  09 a0
    sta 0x0100              ;73d7  8d 00 01
    lda #0x00               ;73da  a9 00
    sta 0x4c                ;73dc  85 4c
    lda #0x01               ;73de  a9 01
    sta 0x4d                ;73e0  85 4d
    ldm #0x02,0x4e          ;73e2  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;73e5  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;73e8  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;73eb  ad 02 01

lab_73ee:
    ldx 0xa5                ;73ee  a6 a5
    and 0x79e9,x            ;73f0  3d e9 79
    sta 0x02c0              ;73f3  8d c0 02
    rts                     ;73f6  60

sub_73f7:
    lda #0x8c               ;73f7  a9 8c
    sta 0x0100              ;73f9  8d 00 01
    lda #0x03               ;73fc  a9 03
    sta 0x0101              ;73fe  8d 01 01
    lda 0x02c0              ;7401  ad c0 02
    sta 0x0102              ;7404  8d 02 01
    lda #0x00               ;7407  a9 00
    sta 0x4c                ;7409  85 4c
    lda #0x01               ;740b  a9 01
    sta 0x4d                ;740d  85 4d
    ldm #0x03,0x4e          ;740f  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7412  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7415  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7418  60

    .byte 0x00              ;7419  00          DATA 0x00
    .byte 0x00              ;741a  00          DATA 0x00
    .byte 0x00              ;741b  00          DATA 0x00
    .byte 0x00              ;741c  00          DATA 0x00
    .byte 0x00              ;741d  00          DATA 0x00
    .byte 0x00              ;741e  00          DATA 0x00
    .byte 0x00              ;741f  00          DATA 0x00
    .byte 0x00              ;7420  00          DATA 0x00
    .byte 0x00              ;7421  00          DATA 0x00
    .byte 0x00              ;7422  00          DATA 0x00
    .byte 0x02              ;7423  02          DATA 0x02
    .byte 0x04              ;7424  04          DATA 0x04
    .byte 0x06              ;7425  06          DATA 0x06
    .byte 0x08              ;7426  08          DATA 0x08
    .byte 0x0a              ;7427  0a          DATA 0x0a
    .byte 0x0c              ;7428  0c          DATA 0x0c
    .byte 0x0e              ;7429  0e          DATA 0x0e
    .byte 0x10              ;742a  10          DATA 0x10
    .byte 0x12              ;742b  12          DATA 0x12
    .byte 0x12              ;742c  12          DATA 0x12
    .byte 0x10              ;742d  10          DATA 0x10
    .byte 0x0e              ;742e  0e          DATA 0x0e
    .byte 0x0c              ;742f  0c          DATA 0x0c
    .byte 0x0a              ;7430  0a          DATA 0x0a
    .byte 0x08              ;7431  08          DATA 0x08
    .byte 0x06              ;7432  06          DATA 0x06
    .byte 0x04              ;7433  04          DATA 0x04
    .byte 0x02              ;7434  02          DATA 0x02
    .byte 0x00              ;7435  00          DATA 0x00
    .byte 0x00              ;7436  00          DATA 0x00
    .byte 0x00              ;7437  00          DATA 0x00
    .byte 0x00              ;7438  00          DATA 0x00
    .byte 0x00              ;7439  00          DATA 0x00
    .byte 0x00              ;743a  00          DATA 0x00
    .byte 0x00              ;743b  00          DATA 0x00
    .byte 0x00              ;743c  00          DATA 0x00
    .byte 0x00              ;743d  00          DATA 0x00
    .byte 0x00              ;743e  00          DATA 0x00
    .byte 0x00              ;743f  00          DATA 0x00
    .byte 0x00              ;7440  00          DATA 0x00
    .byte 0x00              ;7441  00          DATA 0x00
    .byte 0x00              ;7442  00          DATA 0x00
    .byte 0x00              ;7443  00          DATA 0x00
    .byte 0x00              ;7444  00          DATA 0x00
    .byte 0x00              ;7445  00          DATA 0x00
    .byte 0x00              ;7446  00          DATA 0x00
    .byte 0x00              ;7447  00          DATA 0x00
    .byte 0x00              ;7448  00          DATA 0x00
    .byte 0x03              ;7449  03          DATA 0x03
    .byte 0x05              ;744a  05          DATA 0x05
    .byte 0x07              ;744b  07          DATA 0x07
    .byte 0x0a              ;744c  0a          DATA 0x0a
    .byte 0x0c              ;744d  0c          DATA 0x0c
    .byte 0x0f              ;744e  0f          DATA 0x0f
    .byte 0x13              ;744f  13          DATA 0x13
    .byte 0x17              ;7450  17          DATA 0x17
    .byte 0x46              ;7451  46          DATA 0x46 'F'
    .byte 0x46              ;7452  46          DATA 0x46 'F'
    .byte 0x17              ;7453  17          DATA 0x17
    .byte 0x13              ;7454  13          DATA 0x13
    .byte 0x0f              ;7455  0f          DATA 0x0f
    .byte 0x0c              ;7456  0c          DATA 0x0c
    .byte 0x0a              ;7457  0a          DATA 0x0a
    .byte 0x07              ;7458  07          DATA 0x07
    .byte 0x05              ;7459  05          DATA 0x05
    .byte 0x03              ;745a  03          DATA 0x03
    .byte 0x00              ;745b  00          DATA 0x00
    .byte 0x00              ;745c  00          DATA 0x00
    .byte 0x00              ;745d  00          DATA 0x00
    .byte 0x00              ;745e  00          DATA 0x00
    .byte 0x00              ;745f  00          DATA 0x00
    .byte 0x00              ;7460  00          DATA 0x00
    .byte 0x00              ;7461  00          DATA 0x00
    .byte 0x00              ;7462  00          DATA 0x00
    .byte 0x00              ;7463  00          DATA 0x00
    .byte 0x00              ;7464  00          DATA 0x00
    .byte 0x20              ;7465  20          DATA 0x20 ' '
    .byte 0x6f              ;7466  6f          DATA 0x6f 'o'
    .byte 0x74              ;7467  74          DATA 0x74 't'
    .byte 0x20              ;7468  20          DATA 0x20 ' '
    .byte 0x4a              ;7469  4a          DATA 0x4a 'J'
    .byte 0x66              ;746a  66          DATA 0x66 'f'
    .byte 0x20              ;746b  20          DATA 0x20 ' '
    .byte 0x75              ;746c  75          DATA 0x75 'u'
    .byte 0x4c              ;746d  4c          DATA 0x4c 'L'
    .byte 0x60              ;746e  60          DATA 0x60 '`'

sub_746f:
    lda #0x8c               ;746f  a9 8c
    sta 0x0100              ;7471  8d 00 01
    lda #0x30               ;7474  a9 30
    sta 0x0101              ;7476  8d 01 01
    ldx 0xa3                ;7479  a6 a3
    ldy 0xa4                ;747b  a4 a4
    clc                     ;747d  18
    lda 0x7419,x            ;747e  bd 19 74
    adc 0x7452,y            ;7481  79 52 74
    sta 0x0102              ;7484  8d 02 01
    clc                     ;7487  18
    lda 0x742c,x            ;7488  bd 2c 74
    adc 0x7452,y            ;748b  79 52 74
    sta 0x0103              ;748e  8d 03 01
    clc                     ;7491  18
    lda 0x7419,x            ;7492  bd 19 74
    adc 0x743f,y            ;7495  79 3f 74
    sta 0x0104              ;7498  8d 04 01
    clc                     ;749b  18
    lda 0x742c,x            ;749c  bd 2c 74
    adc 0x743f,y            ;749f  79 3f 74
    sta 0x0105              ;74a2  8d 05 01
    ldx #0x02               ;74a5  a2 02

lab_74a7:
    lda 0x0100,x            ;74a7  bd 00 01
    cmp #0x05               ;74aa  c9 05
    bcc lab_74b2            ;74ac  90 04
    sbc #0x05               ;74ae  e9 05
    bra lab_74b8            ;74b0  80 06

lab_74b2:
    lda #0x85               ;74b2  a9 85
    sec                     ;74b4  38
    sbc 0x0100,x            ;74b5  fd 00 01

lab_74b8:
    sta 0x0100,x            ;74b8  9d 00 01
    inx                     ;74bb  e8
    cpx #0x06               ;74bc  e0 06
    bcc lab_74a7            ;74be  90 e7
    lda #0x00               ;74c0  a9 00
    sta 0x4c                ;74c2  85 4c
    lda #0x01               ;74c4  a9 01
    sta 0x4d                ;74c6  85 4d
    ldm #0x06,0x4e          ;74c8  3c 06 4e     Number of I2C bytes to write = 6
    ldm #0x00,0x4f          ;74cb  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;74ce  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;74d1  60

sub_74d2:
    lda 0x40                ;74d2  a5 40
    pha                     ;74d4  48
    lda 0x0289              ;74d5  ad 89 02
    beq lab_7514            ;74d8  f0 3a
    clb 5,P0                ;74da  bf 00

    ldy #0x32               ;74dc  a0 32
    jsr sub_f22c_delay      ;74de  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_7518            ;74e1  20 18 75
    jsr sub_7539            ;74e4  20 39 75
    jsr sub_757f            ;74e7  20 7f 75
    ldm #0x0a,0x40          ;74ea  3c 0a 40
    clb 5,0xf8              ;74ed  bf f8

lab_74ef:
    bbc 5,0xf8,lab_74ef     ;74ef  b7 f8 fd
    clb 5,0xf8              ;74f2  bf f8
    bbc 2,0xf9,lab_7503     ;74f4  57 f9 0c
    bbc 3,0xf9,lab_7503     ;74f7  77 f9 09
    jsr sub_5489            ;74fa  20 89 54
    jsr sub_54fd            ;74fd  20 fd 54
    jsr sub_5616            ;7500  20 16 56

lab_7503:
    dec 0x40                ;7503  c6 40
    bne lab_74ef            ;7505  d0 e8
    jsr sub_75e0            ;7507  20 e0 75
    jsr sub_755c            ;750a  20 5c 75

    ldy #0x32               ;750d  a0 32
    jsr sub_f22c_delay      ;750f  20 2c f2     Delay an unknown time period for Y iterations

    seb 5,P0                ;7512  af 00

lab_7514:
    pla                     ;7514  68
    sta 0x40                ;7515  85 40
    rts                     ;7517  60

sub_7518:
    ldy #0x7f               ;7518  a0 7f
    lda #0x8c               ;751a  a9 8c
    sta 0x0100              ;751c  8d 00 01
    lda #0x14               ;751f  a9 14
    sta 0x0101              ;7521  8d 01 01
    sty 0x0102              ;7524  8c 02 01
    lda #0x00               ;7527  a9 00
    sta 0x4c                ;7529  85 4c
    lda #0x01               ;752b  a9 01
    sta 0x4d                ;752d  85 4d
    ldm #0x03,0x4e          ;752f  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7532  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7535  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7538  60

sub_7539:
    lda #0x8c               ;7539  a9 8c
    sta 0x0100              ;753b  8d 00 01
    lda #0x05               ;753e  a9 05
    sta 0x0101              ;7540  8d 01 01
    lda 0x02c3              ;7543  ad c3 02
    seb 0,a                 ;7546  0b
    sta 0x0102              ;7547  8d 02 01
    lda #0x00               ;754a  a9 00
    sta 0x4c                ;754c  85 4c
    lda #0x01               ;754e  a9 01
    sta 0x4d                ;7550  85 4d
    ldm #0x03,0x4e          ;7552  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7555  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7558  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;755b  60

sub_755c:
    lda #0x8c               ;755c  a9 8c
    sta 0x0100              ;755e  8d 00 01
    lda #0x05               ;7561  a9 05
    sta 0x0101              ;7563  8d 01 01
    lda 0x02c3              ;7566  ad c3 02
    clb 0,a                 ;7569  1b
    sta 0x0102              ;756a  8d 02 01
    lda #0x00               ;756d  a9 00
    sta 0x4c                ;756f  85 4c
    lda #0x01               ;7571  a9 01
    sta 0x4d                ;7573  85 4d
    ldm #0x03,0x4e          ;7575  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7578  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;757b  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;757e  60

sub_757f:
    lda 0x40                ;757f  a5 40
    pha                     ;7581  48
    lda 0x41                ;7582  a5 41
    pha                     ;7584  48
    jsr sub_7634            ;7585  20 34 76
    sty 0x40                ;7588  84 40
    lda #0x8c               ;758a  a9 8c
    sta 0x0100              ;758c  8d 00 01
    lda #0x14               ;758f  a9 14
    sta 0x0101              ;7591  8d 01 01
    lda #0x3f               ;7594  a9 3f
    sta 0x0102              ;7596  8d 02 01

lab_7599:
    lda #0x00               ;7599  a9 00
    sta 0x4c                ;759b  85 4c
    lda #0x01               ;759d  a9 01
    sta 0x4d                ;759f  85 4d
    ldm #0x03,0x4e          ;75a1  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;75a4  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;75a7  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;75aa  ad 02 01
    bne lab_75b1            ;75ad  d0 02
    lda #0x80               ;75af  a9 80

lab_75b1:
    bbs 7,a,lab_75c0        ;75b1  e3 0d
    dec a                   ;75b3  1a
    sta 0x0102              ;75b4  8d 02 01
    bbs 7,0x40,lab_7599     ;75b7  e7 40 df
    cmp 0x40                ;75ba  c5 40
    bcs lab_7599            ;75bc  b0 db
    bra lab_75d9            ;75be  80 19

lab_75c0:
    inc a                   ;75c0  3a
    cmp #0x90               ;75c1  c9 90
    bcs lab_75d9            ;75c3  b0 14
    sta 0x0102              ;75c5  8d 02 01
    bbc 7,0x40,lab_75d9     ;75c8  f7 40 0e
    ldx 0x40                ;75cb  a6 40
    stx 0x41                ;75cd  86 41
    com 0x41                ;75cf  44 41
    seb 7,0x41              ;75d1  ef 41
    cmp 0x41                ;75d3  c5 41
    bcc lab_7599            ;75d5  90 c2
    beq lab_7599            ;75d7  f0 c0

lab_75d9:
    pla                     ;75d9  68
    sta 0x41                ;75da  85 41
    pla                     ;75dc  68
    sta 0x40                ;75dd  85 40
    rts                     ;75df  60

sub_75e0:
    lda 0x40                ;75e0  a5 40
    pha                     ;75e2  48
    lda #0x8c               ;75e3  a9 8c
    sta 0x0100              ;75e5  8d 00 01
    lda #0x14               ;75e8  a9 14
    sta 0x0101              ;75ea  8d 01 01
    jsr sub_7634            ;75ed  20 34 76
    tya                     ;75f0  98
    bbc 7,a,lab_7603        ;75f1  f3 10
    sta 0x40                ;75f3  85 40
    com 0x40                ;75f5  44 40
    seb 7,0x40              ;75f7  ef 40
    lda 0x40                ;75f9  a5 40
    cmp #0x8f               ;75fb  c9 8f
    bcc lab_7609            ;75fd  90 0a
    lda #0x8f               ;75ff  a9 8f
    bra lab_7609            ;7601  80 06

lab_7603:
    cmp #0x3f               ;7603  c9 3f
    bcc lab_7609            ;7605  90 02
    lda #0x3f               ;7607  a9 3f

lab_7609:
    sta 0x0102              ;7609  8d 02 01
    lda #0x00               ;760c  a9 00
    sta 0x4c                ;760e  85 4c
    lda #0x01               ;7610  a9 01
    sta 0x4d                ;7612  85 4d
    ldm #0x03,0x4e          ;7614  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7617  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;761a  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;761d  ad 02 01
    cmp #0x80               ;7620  c9 80
    bne lab_7626            ;7622  d0 02
    lda #0x00               ;7624  a9 00

lab_7626:
    bbc 7,a,lab_762b        ;7626  f3 03
    dec a                   ;7628  1a
    bra lab_7609            ;7629  80 de

lab_762b:
    inc a                   ;762b  3a
    cmp #0x40               ;762c  c9 40
    bcc lab_7609            ;762e  90 d9
    pla                     ;7630  68
    sta 0x40                ;7631  85 40
    rts                     ;7633  60

sub_7634:
    lda 0x40                ;7634  a5 40
    pha                     ;7636  48
    lda #0x00               ;7637  a9 00
    sec                     ;7639  38
    sbc 0x02cb              ;763a  ed cb 02
    clc                     ;763d  18
    adc 0x02d5              ;763e  6d d5 02
    clc                     ;7641  18
    bbc 7,a,lab_7645        ;7642  f3 01
    sec                     ;7644  38

lab_7645:
    ror a                   ;7645  6a
    sta 0x40                ;7646  85 40
    ldx 0xa0                ;7648  a6 a0
    lda 0x7ae2,x            ;764a  bd e2 7a
    clc                     ;764d  18
    adc 0x40                ;764e  65 40
    tay                     ;7650  a8
    pla                     ;7651  68
    sta 0x40                ;7652  85 40
    rts                     ;7654  60

sub_7655:
    bbs 0,0xf1,lab_7663     ;7655  07 f1 0b
    lda 0xa5                ;7658  a5 a5
    cmp #0x06               ;765a  c9 06
    bne lab_7663            ;765c  d0 05
    bbs 6,0xf0,lab_7663     ;765e  c7 f0 02
    clb 5,P0                ;7661  bf 00

lab_7663:
    rts                     ;7663  60

sub_7664:
    bbs 0,0xf1,lab_7672     ;7664  07 f1 0b
    lda 0xa5                ;7667  a5 a5
    cmp #0x06               ;7669  c9 06
    bne lab_7672            ;766b  d0 05
    bbs 6,0xf0,lab_7672     ;766d  c7 f0 02
    seb 5,P0                ;7670  af 00

lab_7672:
    rts                     ;7672  60

sub_7673:
    lda #0x20               ;7673  a9 20
    sta 0x0102              ;7675  8d 02 01
    lda #0x8c               ;7678  a9 8c
    sta 0x0100              ;767a  8d 00 01
    lda #0x06               ;767d  a9 06
    sta 0x0101              ;767f  8d 01 01
    lda #0x00               ;7682  a9 00
    sta 0x4c                ;7684  85 4c
    lda #0x01               ;7686  a9 01
    sta 0x4d                ;7688  85 4d
    ldm #0x03,0x4e          ;768a  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;768d  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7690  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7693  60

sub_7694:
    bbs 3,0xe6,lab_76f1     ;7694  67 e6 5a
    ldy #0x0e               ;7697  a0 0e
    jsr sub_33c6            ;7699  20 c6 33
    bcs lab_76f1            ;769c  b0 53
    bbc 6,0xf0,lab_76a8     ;769e  d7 f0 07
    lda 0x0283              ;76a1  ad 83 02
    beq lab_76f1            ;76a4  f0 4b
    bra lab_76c7            ;76a6  80 1f

lab_76a8:
    bbs 0,0xf1,lab_76f1     ;76a8  07 f1 46
    bbc 2,0xf4,lab_76b0     ;76ab  57 f4 02
    bra lab_76c7            ;76ae  80 17

lab_76b0:
    bbc 5,0xf0,lab_76b5     ;76b0  b7 f0 02
    bra lab_76c7            ;76b3  80 12

lab_76b5:
    bbc 3,0xf0,lab_76bf     ;76b5  77 f0 07
    jsr sub_d8b6            ;76b8  20 b6 d8
    bcc lab_76f1            ;76bb  90 34
    bra lab_76c7            ;76bd  80 08

lab_76bf:
    bbs 1,0xf3,lab_76f1     ;76bf  27 f3 2f
    bbs 1,0xe5,lab_76f1     ;76c2  27 e5 2c
    bra lab_76c7            ;76c5  80 00

lab_76c7:
    bbs 5,0xfd,lab_76cc     ;76c7  a7 fd 02
    seb 5,P0                ;76ca  af 00

lab_76cc:
    lda 0x02c4              ;76cc  ad c4 02
    and #0x06               ;76cf  29 06
    ora #0x21               ;76d1  09 21
    sta 0x0102              ;76d3  8d 02 01
    lda #0x8c               ;76d6  a9 8c
    sta 0x0100              ;76d8  8d 00 01
    lda #0x06               ;76db  a9 06
    sta 0x0101              ;76dd  8d 01 01
    lda #0x00               ;76e0  a9 00
    sta 0x4c                ;76e2  85 4c
    lda #0x01               ;76e4  a9 01
    sta 0x4d                ;76e6  85 4d
    ldm #0x03,0x4e          ;76e8  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;76eb  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;76ee  20 e5 46     Perform an I2C write-then-read transaction

lab_76f1:
    rts                     ;76f1  60

sub_76f2:
    lda 0x00a0              ;76f2  a5 a0
    sta 0x0384              ;76f4  8d 84 03
    lda #0x00               ;76f7  a9 00
    sta 0x00a0              ;76f9  85 a0
    jsr sub_76ff            ;76fb  20 ff 76
    rts                     ;76fe  60

sub_76ff:
    lda 0xa0                ;76ff  a5 a0
    cmp 0x0384              ;7701  cd 84 03
    beq lab_7716            ;7704  f0 10
    bcs lab_770c            ;7706  b0 04
    inc 0xa0                ;7708  e6 a0
    bra lab_770e            ;770a  80 02

lab_770c:
    dec 0xa0                ;770c  c6 a0

lab_770e:
    jsr sub_71bc            ;770e  20 bc 71
    ldy #0x35               ;7711  a0 35
    jsr sub_3300            ;7713  20 00 33

lab_7716:
    rts                     ;7716  60

sub_7717:
    ldy #0x35               ;7717  a0 35
    jsr sub_33c6            ;7719  20 c6 33
    bcc lab_7728            ;771c  90 0a
    lda 0x0384              ;771e  ad 84 03
    sta 0xa0                ;7721  85 a0
    ldy #0x35               ;7723  a0 35
    jsr sub_3361            ;7725  20 61 33

lab_7728:
    rts                     ;7728  60

sub_7729:
    lda 0x0384              ;7729  ad 84 03
    cmp 0xa0                ;772c  c5 a0
    bcs lab_7737            ;772e  b0 07
    sta 0xa0                ;7730  85 a0
    jsr sub_71bc            ;7732  20 bc 71
    bra lab_773d            ;7735  80 06

lab_7737:
    sta 0x0384              ;7737  8d 84 03
    jsr sub_76ff            ;773a  20 ff 76

lab_773d:
    rts                     ;773d  60

sub_773e:
    lda 0x0281              ;773e  ad 81 02
    clc                     ;7741  18
    adc #0x07               ;7742  69 07
    cmp 0xa0                ;7744  c5 a0
    bcs lab_774a            ;7746  b0 02
    sta 0xa0                ;7748  85 a0

lab_774a:
    rts                     ;774a  60

    .byte 0x8d              ;774b  8d          DATA 0x8d
    .byte 0x02              ;774c  02          DATA 0x02
    .byte 0x01              ;774d  01          DATA 0x01
    .byte 0xa9              ;774e  a9          DATA 0xa9
    .byte 0x8c              ;774f  8c          DATA 0x8c
    .byte 0x8d              ;7750  8d          DATA 0x8d
    .byte 0x00              ;7751  00          DATA 0x00
    .byte 0x01              ;7752  01          DATA 0x01
    .byte 0xa9              ;7753  a9          DATA 0xa9
    .byte 0x07              ;7754  07          DATA 0x07
    .byte 0x8d              ;7755  8d          DATA 0x8d
    .byte 0x01              ;7756  01          DATA 0x01
    .byte 0x01              ;7757  01          DATA 0x01
    .byte 0xa9              ;7758  a9          DATA 0xa9
    .byte 0x00              ;7759  00          DATA 0x00
    .byte 0x85              ;775a  85          DATA 0x85
    .byte 0x4c              ;775b  4c          DATA 0x4c 'L'
    .byte 0xa9              ;775c  a9          DATA 0xa9
    .byte 0x01              ;775d  01          DATA 0x01
    .byte 0x85              ;775e  85          DATA 0x85
    .byte 0x4d              ;775f  4d          DATA 0x4d 'M'
    .byte 0x3c              ;7760  3c          DATA 0x3c '<'
    .byte 0x03              ;7761  03          DATA 0x03
    .byte 0x4e              ;7762  4e          DATA 0x4e 'N'
    .byte 0x3c              ;7763  3c          DATA 0x3c '<'
    .byte 0x00              ;7764  00          DATA 0x00
    .byte 0x4f              ;7765  4f          DATA 0x4f 'O'
    .byte 0x20              ;7766  20          DATA 0x20 ' '
    .byte 0xe5              ;7767  e5          DATA 0xe5
    .byte 0x46              ;7768  46          DATA 0x46 'F'
    .byte 0x60              ;7769  60          DATA 0x60 '`'

sub_776a:
    lda 0x0288              ;776a  ad 88 02
    bne lab_7774            ;776d  d0 05
    jsr sub_7778            ;776f  20 78 77
    bra lab_7777            ;7772  80 03

lab_7774:
    jsr sub_777d            ;7774  20 7d 77

lab_7777:
    rts                     ;7777  60

sub_7778:
    ldm #0x10,0x40          ;7778  3c 10 40
    bra lab_7780            ;777b  80 03

sub_777d:
    ldm #0x00,0x40          ;777d  3c 00 40

lab_7780:
    lda 0x02c6              ;7780  ad c6 02
    and #0xef               ;7783  29 ef
    ora 0x40                ;7785  05 40
    sta 0x0102              ;7787  8d 02 01
    lda #0x8c               ;778a  a9 8c
    sta 0x0100              ;778c  8d 00 01
    lda #0x16               ;778f  a9 16
    sta 0x0101              ;7791  8d 01 01
    lda #0x00               ;7794  a9 00
    sta 0x4c                ;7796  85 4c
    lda #0x01               ;7798  a9 01
    sta 0x4d                ;779a  85 4d
    ldm #0x03,0x4e          ;779c  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;779f  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;77a2  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;77a5  60

sub_77a6:
    jsr sub_77b2            ;77a6  20 b2 77
    ldy #0x02               ;77a9  a0 02
    jsr sub_f21e            ;77ab  20 1e f2
    jsr sub_77b5            ;77ae  20 b5 77
    rts                     ;77b1  60

sub_77b2:
    seb 7,P3                ;77b2  ef 06
    rts                     ;77b4  60

sub_77b5:
    clb 7,P3                ;77b5  ff 06
    rts                     ;77b7  60

sub_77b8:
    lda 0xa5                ;77b8  a5 a5
    and #0x07               ;77ba  29 07
    asl a                   ;77bc  0a
    adc #0x40               ;77bd  69 40
    sta 0x0101              ;77bf  8d 01 01
    lda #0x00               ;77c2  a9 00
    adc #0x03               ;77c4  69 03
    asl a                   ;77c6  0a
    ora #0xa0               ;77c7  09 a0
    sta 0x0100              ;77c9  8d 00 01
    rts                     ;77cc  60

sub_77cd:
    jsr sub_77b8            ;77cd  20 b8 77
    lda #0x00               ;77d0  a9 00
    sta 0x4c                ;77d2  85 4c
    lda #0x01               ;77d4  a9 01
    sta 0x4d                ;77d6  85 4d
    ldm #0x02,0x4e          ;77d8  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x02,0x4f          ;77db  3c 02 4f     Number of I2C bytes to read = 2
    jsr sub_46e5_i2c_wr_rd  ;77de  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;77e1  ad 02 01
    cmp #0x14               ;77e4  c9 14
    bcc lab_77ea            ;77e6  90 02
    lda #0x09               ;77e8  a9 09

lab_77ea:
    sta 0xa1                ;77ea  85 a1
    lda 0x0103              ;77ec  ad 03 01
    cmp #0x13               ;77ef  c9 13
    bcc lab_77f5            ;77f1  90 02
    lda #0x09               ;77f3  a9 09

lab_77f5:
    sta 0xa2                ;77f5  85 a2
    rts                     ;77f7  60

sub_77f8:
    lda 0xa1                ;77f8  a5 a1
    sta 0x0102              ;77fa  8d 02 01
    lda 0xa2                ;77fd  a5 a2
    sta 0x0103              ;77ff  8d 03 01
    jsr sub_77b8            ;7802  20 b8 77
    lda #0x00               ;7805  a9 00
    sta 0x4c                ;7807  85 4c
    lda #0x01               ;7809  a9 01
    sta 0x4d                ;780b  85 4d
    ldm #0x04,0x4e          ;780d  3c 04 4e     Number of I2C bytes to write = 4
    ldm #0x00,0x4f          ;7810  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7813  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;7816  a0 0a
    jsr sub_f22c_delay      ;7818  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;781b  60

    .byte 0xa5              ;781c  a5          DATA 0xa5
    .byte 0x40              ;781d  40          DATA 0x40 '@'
    .byte 0x48              ;781e  48          DATA 0x48 'H'
    .byte 0xa0              ;781f  a0          DATA 0xa0
    .byte 0x35              ;7820  35          DATA 0x35 '5'
    .byte 0x20              ;7821  20          DATA 0x20 ' '
    .byte 0x61              ;7822  61          DATA 0x61 'a'
    .byte 0x33              ;7823  33          DATA 0x33 '3'
    .byte 0xa5              ;7824  a5          DATA 0xa5
    .byte 0x73              ;7825  73          DATA 0x73 's'
    .byte 0x29              ;7826  29          DATA 0x29 ')'
    .byte 0x01              ;7827  01          DATA 0x01
    .byte 0x85              ;7828  85          DATA 0x85
    .byte 0x40              ;7829  40          DATA 0x40 '@'
    .byte 0xcd              ;782a  cd          DATA 0xcd
    .byte 0x86              ;782b  86          DATA 0x86
    .byte 0x03              ;782c  03          DATA 0x03
    .byte 0xf0              ;782d  f0          DATA 0xf0
    .byte 0x07              ;782e  07          DATA 0x07
    .byte 0xa0              ;782f  a0          DATA 0xa0
    .byte 0x3a              ;7830  3a          DATA 0x3a ':'
    .byte 0x20              ;7831  20          DATA 0x20 ' '
    .byte 0xc6              ;7832  c6          DATA 0xc6
    .byte 0x33              ;7833  33          DATA 0x33 '3'
    .byte 0xb0              ;7834  b0          DATA 0xb0
    .byte 0x22              ;7835  22          DATA 0x22 '"'
    .byte 0x20              ;7836  20          DATA 0x20 ' '
    .byte 0x9c              ;7837  9c          DATA 0x9c
    .byte 0x26              ;7838  26          DATA 0x26 '&'
    .byte 0x20              ;7839  20          DATA 0x20 ' '
    .byte 0xbc              ;783a  bc          DATA 0xbc
    .byte 0x71              ;783b  71          DATA 0x71 'q'
    .byte 0xa0              ;783c  a0          DATA 0xa0
    .byte 0x01              ;783d  01          DATA 0x01
    .byte 0x20              ;783e  20          DATA 0x20 ' '
    .byte 0x2c              ;783f  2c          DATA 0x2c ','
    .byte 0xf2              ;7840  f2          DATA 0xf2
    .byte 0xa5              ;7841  a5          DATA 0xa5
    .byte 0x73              ;7842  73          DATA 0x73 's'
    .byte 0xc9              ;7843  c9          DATA 0xc9
    .byte 0x26              ;7844  26          DATA 0x26 '&'
    .byte 0xf0              ;7845  f0          DATA 0xf0
    .byte 0x04              ;7846  04          DATA 0x04
    .byte 0xc9              ;7847  c9          DATA 0xc9
    .byte 0x27              ;7848  27          DATA 0x27 '''
    .byte 0xd0              ;7849  d0          DATA 0xd0
    .byte 0x08              ;784a  08          DATA 0x08
    .byte 0x3c              ;784b  3c          DATA 0x3c '<'
    .byte 0x00              ;784c  00          DATA 0x00
    .byte 0x5e              ;784d  5e          DATA 0x5e '^'
    .byte 0x3c              ;784e  3c          DATA 0x3c '<'
    .byte 0xff              ;784f  ff          DATA 0xff
    .byte 0x73              ;7850  73          DATA 0x73 's'
    .byte 0x1f              ;7851  1f          DATA 0x1f
    .byte 0xf7              ;7852  f7          DATA 0xf7
    .byte 0xa0              ;7853  a0          DATA 0xa0
    .byte 0x3a              ;7854  3a          DATA 0x3a ':'
    .byte 0x20              ;7855  20          DATA 0x20 ' '
    .byte 0x00              ;7856  00          DATA 0x00
    .byte 0x33              ;7857  33          DATA 0x33 '3'
    .byte 0xa5              ;7858  a5          DATA 0xa5
    .byte 0x40              ;7859  40          DATA 0x40 '@'
    .byte 0x8d              ;785a  8d          DATA 0x8d
    .byte 0x86              ;785b  86          DATA 0x86
    .byte 0x03              ;785c  03          DATA 0x03
    .byte 0x68              ;785d  68          DATA 0x68 'h'
    .byte 0x85              ;785e  85          DATA 0x85
    .byte 0x40              ;785f  40          DATA 0x40 '@'
    .byte 0x60              ;7860  60          DATA 0x60 '`'

sub_7861:
    sta 0x0106              ;7861  8d 06 01
    asl a                   ;7864  0a
    adc 0x0106              ;7865  6d 06 01
    clc                     ;7868  18
    adc #0xa0               ;7869  69 a0
    sta 0x0101              ;786b  8d 01 01
    lda #0x00               ;786e  a9 00
    adc #0x04               ;7870  69 04
    asl a                   ;7872  0a
    ora #0xa0               ;7873  09 a0
    sta 0x0100              ;7875  8d 00 01
    rts                     ;7878  60

    .byte 0xff              ;7879  ff          DATA 0xff
    .byte 0x8f              ;787a  8f          DATA 0x8f
    .byte 0x0f              ;787b  0f          DATA 0x0f
    .byte 0xf5              ;787c  f5          DATA 0xf5
    .byte 0x8a              ;787d  8a          DATA 0x8a
    .byte 0x0f              ;787e  0f          DATA 0x0f
    .byte 0xf5              ;787f  f5          DATA 0xf5
    .byte 0x87              ;7880  87          DATA 0x87
    .byte 0x0f              ;7881  0f          DATA 0x0f
    .byte 0xff              ;7882  ff          DATA 0xff
    .byte 0x8f              ;7883  8f          DATA 0x8f
    .byte 0x0f              ;7884  0f          DATA 0x0f
    .byte 0xbf              ;7885  bf          DATA 0xbf
    .byte 0x8f              ;7886  8f          DATA 0x8f
    .byte 0x1c              ;7887  1c          DATA 0x1c
    .byte 0xf4              ;7888  f4          DATA 0xf4
    .byte 0xc7              ;7889  c7          DATA 0xc7
    .byte 0x0f              ;788a  0f          DATA 0x0f
    .byte 0xf4              ;788b  f4          DATA 0xf4
    .byte 0xe1              ;788c  e1          DATA 0xe1
    .byte 0x0f              ;788d  0f          DATA 0x0f
    .byte 0xbf              ;788e  bf          DATA 0xbf
    .byte 0x8f              ;788f  8f          DATA 0x8f
    .byte 0x0c              ;7890  0c          DATA 0x0c
    .byte 0xf0              ;7891  f0          DATA 0xf0
    .byte 0xb9              ;7892  b9          DATA 0xb9
    .byte 0x0f              ;7893  0f          DATA 0x0f
    .byte 0xf0              ;7894  f0          DATA 0xf0
    .byte 0x9b              ;7895  9b          DATA 0x9b
    .byte 0x0f              ;7896  0f          DATA 0x0f

sub_7897:
    jsr sub_7861            ;7897  20 61 78
    lda #0x00               ;789a  a9 00
    sta 0x4c                ;789c  85 4c
    lda #0x01               ;789e  a9 01
    sta 0x4d                ;78a0  85 4d
    ldm #0x02,0x4e          ;78a2  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x03,0x4f          ;78a5  3c 03 4f     Number of I2C bytes to read = 3
    jsr sub_46e5_i2c_wr_rd  ;78a8  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0104              ;78ab  ad 04 01
    cmp #0x40               ;78ae  c9 40
    bcc lab_78d0            ;78b0  90 1e
    lda 0x0106              ;78b2  ad 06 01
    asl a                   ;78b5  0a
    adc 0x0106              ;78b6  6d 06 01
    clc                     ;78b9  18
    adc #0x79               ;78ba  69 79
    sta 0x40                ;78bc  85 40
    lda #0x00               ;78be  a9 00
    adc #0x78               ;78c0  69 78
    sta 0x41                ;78c2  85 41
    ldy #0x00               ;78c4  a0 00

lab_78c6:
    lda [0x40],y            ;78c6  b1 40
    sta 0x0102,y            ;78c8  99 02 01
    iny                     ;78cb  c8
    cpy #0x03               ;78cc  c0 03
    bcc lab_78c6            ;78ce  90 f6

lab_78d0:
    rts                     ;78d0  60

sub_78d1:
    jsr read_ee_coding      ;78d1  20 40 a0     Read coding and workshop code from EEPROM, or defaults
                            ;                   Returns:
                            ;                     0x102 Soft coding high byte
                            ;                     0x103 Soft coding low byte
                            ;                     0x104 Workshop code high byte
                            ;                     0x105 Workshop code low byte
                            ;                     0x106 "EEPROM valid" flag byte (0=valid, 0xFF=invalid)
    jsr sub_a0d5            ;78d4  20 d5 a0
    lda 0x0117              ;78d7  ad 17 01
    and #0x0f               ;78da  29 0f
    cmp #0x0a               ;78dc  c9 0a
    bcc lab_78e2            ;78de  90 02
    lda #0x00               ;78e0  a9 00

lab_78e2:
    jsr sub_7897            ;78e2  20 97 78
    lda #0x8c               ;78e5  a9 8c
    sta 0x0100              ;78e7  8d 00 01
    lda #0x09               ;78ea  a9 09
    sta 0x0101              ;78ec  8d 01 01
    lda #0x00               ;78ef  a9 00
    sta 0x4c                ;78f1  85 4c
    lda #0x01               ;78f3  a9 01
    sta 0x4d                ;78f5  85 4d
    ldm #0x03,0x4e          ;78f7  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;78fa  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;78fd  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0103              ;7900  ad 03 01
    sta 0x0102              ;7903  8d 02 01
    lda 0x0104              ;7906  ad 04 01
    sta 0x0103              ;7909  8d 03 01
    lda #0x2e               ;790c  a9 2e
    sta 0x0101              ;790e  8d 01 01
    lda #0x00               ;7911  a9 00
    sta 0x4c                ;7913  85 4c
    lda #0x01               ;7915  a9 01
    sta 0x4d                ;7917  85 4d
    ldm #0x04,0x4e          ;7919  3c 04 4e     Number of I2C bytes to write = 4
    ldm #0x00,0x4f          ;791c  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;791f  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7922  60

    .byte 0xad              ;7923  ad          DATA 0xad
    .byte 0xc5              ;7924  c5          DATA 0xc5
    .byte 0x02              ;7925  02          DATA 0x02
    .byte 0xa9              ;7926  a9          DATA 0xa9
    .byte 0x03              ;7927  03          DATA 0x03
    .byte 0x8d              ;7928  8d          DATA 0x8d
    .byte 0x02              ;7929  02          DATA 0x02
    .byte 0x01              ;792a  01          DATA 0x01
    .byte 0xa9              ;792b  a9          DATA 0xa9
    .byte 0x8c              ;792c  8c          DATA 0x8c
    .byte 0x8d              ;792d  8d          DATA 0x8d
    .byte 0x00              ;792e  00          DATA 0x00
    .byte 0x01              ;792f  01          DATA 0x01
    .byte 0xa9              ;7930  a9          DATA 0xa9
    .byte 0x06              ;7931  06          DATA 0x06
    .byte 0x8d              ;7932  8d          DATA 0x8d
    .byte 0x01              ;7933  01          DATA 0x01
    .byte 0x01              ;7934  01          DATA 0x01
    .byte 0xa9              ;7935  a9          DATA 0xa9
    .byte 0x00              ;7936  00          DATA 0x00
    .byte 0x85              ;7937  85          DATA 0x85
    .byte 0x4c              ;7938  4c          DATA 0x4c 'L'
    .byte 0xa9              ;7939  a9          DATA 0xa9
    .byte 0x01              ;793a  01          DATA 0x01
    .byte 0x85              ;793b  85          DATA 0x85
    .byte 0x4d              ;793c  4d          DATA 0x4d 'M'
    .byte 0x3c              ;793d  3c          DATA 0x3c '<'
    .byte 0x03              ;793e  03          DATA 0x03
    .byte 0x4e              ;793f  4e          DATA 0x4e 'N'
    .byte 0x3c              ;7940  3c          DATA 0x3c '<'
    .byte 0x00              ;7941  00          DATA 0x00
    .byte 0x4f              ;7942  4f          DATA 0x4f 'O'
    .byte 0x20              ;7943  20          DATA 0x20 ' '
    .byte 0xe5              ;7944  e5          DATA 0xe5
    .byte 0x46              ;7945  46          DATA 0x46 'F'
    .byte 0x60              ;7946  60          DATA 0x60 '`'

sub_7947:
    ldx #0x04               ;7947  a2 04
    bbs 6,0xf0,lab_7967     ;7949  c7 f0 1b
    ldx #0x06               ;794c  a2 06
    bbs 2,0xf4,lab_7967     ;794e  47 f4 16
    ldx #0x05               ;7951  a2 05
    bbs 5,0xf0,lab_7967     ;7953  a7 f0 11
    ldx #0x00               ;7956  a2 00
    bbs 3,0xf0,lab_7967     ;7958  67 f0 0c
    ldx #0x02               ;795b  a2 02
    bbs 4,0xf0,lab_7967     ;795d  87 f0 07
    ldx #0x07               ;7960  a2 07
    bbs 0,0xf2,lab_7967     ;7962  07 f2 02
    ldx #0x06               ;7965  a2 06

lab_7967:
    stx 0xa5                ;7967  86 a5
    jsr sub_77cd            ;7969  20 cd 77
    rts                     ;796c  60

sub_796d:
    lda #0x8c               ;796d  a9 8c
    sta 0x0100              ;796f  8d 00 01
    lda #0x05               ;7972  a9 05
    sta 0x0101              ;7974  8d 01 01
    lda #0x78               ;7977  a9 78
    sta 0x0102              ;7979  8d 02 01
    lda #0x00               ;797c  a9 00
    sta 0x4c                ;797e  85 4c
    lda #0x01               ;7980  a9 01
    sta 0x4d                ;7982  85 4d
    ldm #0x03,0x4e          ;7984  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7987  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;798a  20 e5 46     Perform an I2C write-then-read transaction
    lda #0x01               ;798d  a9 01
    sta 0x0101              ;798f  8d 01 01
    lda #0x00               ;7992  a9 00
    sta 0x0102              ;7994  8d 02 01
    lda #0x00               ;7997  a9 00
    sta 0x4c                ;7999  85 4c
    lda #0x01               ;799b  a9 01
    sta 0x4d                ;799d  85 4d
    ldm #0x03,0x4e          ;799f  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;79a2  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;79a5  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;79a8  60

    .byte 0x36              ;79a9  36          DATA 0x36 '6'
    .byte 0x20              ;79aa  20          DATA 0x20 ' '
    .byte 0xdf              ;79ab  df          DATA 0xdf
    .byte 0xbf              ;79ac  bf          DATA 0xbf
    .byte 0x3f              ;79ad  3f          DATA 0x3f '?'
    .byte 0xf8              ;79ae  f8          DATA 0xf8
    .byte 0x21              ;79af  21          DATA 0x21 '!'
    .byte 0xc8              ;79b0  c8          DATA 0xc8
    .byte 0x37              ;79b1  37          DATA 0x37 '7'
    .byte 0x73              ;79b2  73          DATA 0x73 's'
    .byte 0x80              ;79b3  80          DATA 0x80
    .byte 0x8c              ;79b4  8c          DATA 0x8c
    .byte 0xf6              ;79b5  f6          DATA 0xf6
    .byte 0x34              ;79b6  34          DATA 0x34 '4'
    .byte 0xff              ;79b7  ff          DATA 0xff
    .byte 0xff              ;79b8  ff          DATA 0xff
    .byte 0x80              ;79b9  80          DATA 0x80
    .byte 0x80              ;79ba  80          DATA 0x80
    .byte 0x80              ;79bb  80          DATA 0x80
    .byte 0x80              ;79bc  80          DATA 0x80
    .byte 0x80              ;79bd  80          DATA 0x80
    .byte 0xfe              ;79be  fe          DATA 0xfe
    .byte 0xfc              ;79bf  fc          DATA 0xfc
    .byte 0x16              ;79c0  16          DATA 0x16
    .byte 0x0b              ;79c1  0b          DATA 0x0b
    .byte 0x8e              ;79c2  8e          DATA 0x8e
    .byte 0x37              ;79c3  37          DATA 0x37 '7'
    .byte 0xea              ;79c4  ea          DATA 0xea
    .byte 0x41              ;79c5  41          DATA 0x41 'A'
    .byte 0x23              ;79c6  23          DATA 0x23 '#'
    .byte 0xbc              ;79c7  bc          DATA 0xbc
    .byte 0xfc              ;79c8  fc          DATA 0xfc
    .byte 0x36              ;79c9  36          DATA 0x36 '6'
    .byte 0x20              ;79ca  20          DATA 0x20 ' '
    .byte 0xdf              ;79cb  df          DATA 0xdf
    .byte 0xbf              ;79cc  bf          DATA 0xbf
    .byte 0x3f              ;79cd  3f          DATA 0x3f '?'
    .byte 0xf8              ;79ce  f8          DATA 0xf8
    .byte 0x21              ;79cf  21          DATA 0x21 '!'
    .byte 0xc8              ;79d0  c8          DATA 0xc8
    .byte 0x37              ;79d1  37          DATA 0x37 '7'
    .byte 0x73              ;79d2  73          DATA 0x73 's'
    .byte 0x80              ;79d3  80          DATA 0x80
    .byte 0x8c              ;79d4  8c          DATA 0x8c
    .byte 0xf6              ;79d5  f6          DATA 0xf6
    .byte 0x34              ;79d6  34          DATA 0x34 '4'
    .byte 0xff              ;79d7  ff          DATA 0xff
    .byte 0xff              ;79d8  ff          DATA 0xff
    .byte 0x80              ;79d9  80          DATA 0x80
    .byte 0x80              ;79da  80          DATA 0x80
    .byte 0x80              ;79db  80          DATA 0x80
    .byte 0x80              ;79dc  80          DATA 0x80
    .byte 0x80              ;79dd  80          DATA 0x80
    .byte 0xfe              ;79de  fe          DATA 0xfe
    .byte 0xe2              ;79df  e2          DATA 0xe2
    .byte 0x99              ;79e0  99          DATA 0x99
    .byte 0x03              ;79e1  03          DATA 0x03
    .byte 0x3f              ;79e2  3f          DATA 0x3f '?'
    .byte 0x7f              ;79e3  7f          DATA 0x7f
    .byte 0x7a              ;79e4  7a          DATA 0x7a 'z'
    .byte 0x4d              ;79e5  4d          DATA 0x4d 'M'
    .byte 0x23              ;79e6  23          DATA 0x23 '#'
    .byte 0xbc              ;79e7  bc          DATA 0xbc
    .byte 0xfc              ;79e8  fc          DATA 0xfc
    .byte 0xbf              ;79e9  bf          DATA 0xbf
    .byte 0xff              ;79ea  ff          DATA 0xff
    .byte 0xff              ;79eb  ff          DATA 0xff
    .byte 0xff              ;79ec  ff          DATA 0xff
    .byte 0xff              ;79ed  ff          DATA 0xff
    .byte 0x9f              ;79ee  9f          DATA 0x9f
    .byte 0xdf              ;79ef  df          DATA 0xdf
    .byte 0x9f              ;79f0  9f          DATA 0x9f
    .byte 0xe6              ;79f1  e6          DATA 0xe6
    .byte 0xe7              ;79f2  e7          DATA 0xe7
    .byte 0xe8              ;79f3  e8          DATA 0xe8
    .byte 0xe9              ;79f4  e9          DATA 0xe9
    .byte 0xea              ;79f5  ea          DATA 0xea
    .byte 0xeb              ;79f6  eb          DATA 0xeb
    .byte 0xec              ;79f7  ec          DATA 0xec
    .byte 0xed              ;79f8  ed          DATA 0xed
    .byte 0xee              ;79f9  ee          DATA 0xee
    .byte 0xff              ;79fa  ff          DATA 0xff
    .byte 0xfe              ;79fb  fe          DATA 0xfe
    .byte 0xfd              ;79fc  fd          DATA 0xfd
    .byte 0xfc              ;79fd  fc          DATA 0xfc
    .byte 0xfb              ;79fe  fb          DATA 0xfb
    .byte 0xfa              ;79ff  fa          DATA 0xfa
    .byte 0xf9              ;7a00  f9          DATA 0xf9
    .byte 0xf8              ;7a01  f8          DATA 0xf8
    .byte 0xf7              ;7a02  f7          DATA 0xf7
    .byte 0xf6              ;7a03  f6          DATA 0xf6
    .byte 0x0d              ;7a04  0d          DATA 0x0d
    .byte 0x0f              ;7a05  0f          DATA 0x0f
    .byte 0x11              ;7a06  11          DATA 0x11
    .byte 0x53              ;7a07  53          DATA 0x53 'S'
    .byte 0x55              ;7a08  55          DATA 0x55 'U'
    .byte 0x57              ;7a09  57          DATA 0x57 'W'
    .byte 0x59              ;7a0a  59          DATA 0x59 'Y'
    .byte 0x9b              ;7a0b  9b          DATA 0x9b
    .byte 0x9d              ;7a0c  9d          DATA 0x9d
    .byte 0xff              ;7a0d  ff          DATA 0xff
    .byte 0xfd              ;7a0e  fd          DATA 0xfd
    .byte 0xfb              ;7a0f  fb          DATA 0xfb
    .byte 0xf9              ;7a10  f9          DATA 0xf9
    .byte 0xf7              ;7a11  f7          DATA 0xf7
    .byte 0xf5              ;7a12  f5          DATA 0xf5
    .byte 0xf3              ;7a13  f3          DATA 0xf3
    .byte 0xf1              ;7a14  f1          DATA 0xf1
    .byte 0xef              ;7a15  ef          DATA 0xef
    .byte 0xed              ;7a16  ed          DATA 0xed
    .byte 0x1f              ;7a17  1f          DATA 0x1f
    .byte 0x1f              ;7a18  1f          DATA 0x1f
    .byte 0x1f              ;7a19  1f          DATA 0x1f
    .byte 0x1f              ;7a1a  1f          DATA 0x1f
    .byte 0x5f              ;7a1b  5f          DATA 0x5f '_'
    .byte 0x5f              ;7a1c  5f          DATA 0x5f '_'
    .byte 0x5f              ;7a1d  5f          DATA 0x5f '_'
    .byte 0x5f              ;7a1e  5f          DATA 0x5f '_'
    .byte 0x3f              ;7a1f  3f          DATA 0x3f '?'
    .byte 0x3f              ;7a20  3f          DATA 0x3f '?'
    .byte 0x3f              ;7a21  3f          DATA 0x3f '?'
    .byte 0x3f              ;7a22  3f          DATA 0x3f '?'
    .byte 0x7f              ;7a23  7f          DATA 0x7f
    .byte 0x7f              ;7a24  7f          DATA 0x7f
    .byte 0x7f              ;7a25  7f          DATA 0x7f
    .byte 0x7f              ;7a26  7f          DATA 0x7f
    .byte 0x9f              ;7a27  9f          DATA 0x9f
    .byte 0x9f              ;7a28  9f          DATA 0x9f
    .byte 0x9f              ;7a29  9f          DATA 0x9f
    .byte 0xcd              ;7a2a  cd          DATA 0xcd
    .byte 0xcd              ;7a2b  cd          DATA 0xcd
    .byte 0xcd              ;7a2c  cd          DATA 0xcd
    .byte 0xcc              ;7a2d  cc          DATA 0xcc
    .byte 0xcc              ;7a2e  cc          DATA 0xcc
    .byte 0xcc              ;7a2f  cc          DATA 0xcc
    .byte 0xcc              ;7a30  cc          DATA 0xcc
    .byte 0xcb              ;7a31  cb          DATA 0xcb
    .byte 0xcb              ;7a32  cb          DATA 0xcb
    .byte 0xcb              ;7a33  cb          DATA 0xcb
    .byte 0xca              ;7a34  ca          DATA 0xca
    .byte 0xca              ;7a35  ca          DATA 0xca
    .byte 0xca              ;7a36  ca          DATA 0xca
    .byte 0xca              ;7a37  ca          DATA 0xca
    .byte 0xc9              ;7a38  c9          DATA 0xc9
    .byte 0xc9              ;7a39  c9          DATA 0xc9
    .byte 0xc9              ;7a3a  c9          DATA 0xc9
    .byte 0xc8              ;7a3b  c8          DATA 0xc8
    .byte 0xc8              ;7a3c  c8          DATA 0xc8
    .byte 0xc8              ;7a3d  c8          DATA 0xc8
    .byte 0xc8              ;7a3e  c8          DATA 0xc8
    .byte 0xc7              ;7a3f  c7          DATA 0xc7
    .byte 0xc7              ;7a40  c7          DATA 0xc7
    .byte 0xc7              ;7a41  c7          DATA 0xc7
    .byte 0xc6              ;7a42  c6          DATA 0xc6
    .byte 0xc6              ;7a43  c6          DATA 0xc6
    .byte 0xc6              ;7a44  c6          DATA 0xc6
    .byte 0xc6              ;7a45  c6          DATA 0xc6
    .byte 0xc5              ;7a46  c5          DATA 0xc5
    .byte 0xc5              ;7a47  c5          DATA 0xc5
    .byte 0xc5              ;7a48  c5          DATA 0xc5
    .byte 0xc5              ;7a49  c5          DATA 0xc5
    .byte 0xc5              ;7a4a  c5          DATA 0xc5
    .byte 0xc5              ;7a4b  c5          DATA 0xc5
    .byte 0xc5              ;7a4c  c5          DATA 0xc5
    .byte 0xc5              ;7a4d  c5          DATA 0xc5
    .byte 0xc5              ;7a4e  c5          DATA 0xc5
    .byte 0xc5              ;7a4f  c5          DATA 0xc5
    .byte 0xc5              ;7a50  c5          DATA 0xc5
    .byte 0xc5              ;7a51  c5          DATA 0xc5
    .byte 0xc5              ;7a52  c5          DATA 0xc5
    .byte 0xc5              ;7a53  c5          DATA 0xc5
    .byte 0xc5              ;7a54  c5          DATA 0xc5
    .byte 0xc5              ;7a55  c5          DATA 0xc5
    .byte 0xc5              ;7a56  c5          DATA 0xc5
    .byte 0xc5              ;7a57  c5          DATA 0xc5
    .byte 0xdf              ;7a58  df          DATA 0xdf
    .byte 0xbd              ;7a59  bd          DATA 0xbd
    .byte 0xb7              ;7a5a  b7          DATA 0xb7
    .byte 0xb0              ;7a5b  b0          DATA 0xb0
    .byte 0xab              ;7a5c  ab          DATA 0xab
    .byte 0xa5              ;7a5d  a5          DATA 0xa5
    .byte 0xa1              ;7a5e  a1          DATA 0xa1
    .byte 0x9c              ;7a5f  9c          DATA 0x9c
    .byte 0x98              ;7a60  98          DATA 0x98
    .byte 0x94              ;7a61  94          DATA 0x94
    .byte 0x92              ;7a62  92          DATA 0x92
    .byte 0x8f              ;7a63  8f          DATA 0x8f
    .byte 0x8d              ;7a64  8d          DATA 0x8d
    .byte 0x8a              ;7a65  8a          DATA 0x8a
    .byte 0x87              ;7a66  87          DATA 0x87
    .byte 0x84              ;7a67  84          DATA 0x84
    .byte 0x82              ;7a68  82          DATA 0x82
    .byte 0x7f              ;7a69  7f          DATA 0x7f
    .byte 0x7d              ;7a6a  7d          DATA 0x7d '}'
    .byte 0x7a              ;7a6b  7a          DATA 0x7a 'z'
    .byte 0x78              ;7a6c  78          DATA 0x78 'x'
    .byte 0x75              ;7a6d  75          DATA 0x75 'u'
    .byte 0x73              ;7a6e  73          DATA 0x73 's'
    .byte 0x70              ;7a6f  70          DATA 0x70 'p'
    .byte 0x6e              ;7a70  6e          DATA 0x6e 'n'
    .byte 0x6b              ;7a71  6b          DATA 0x6b 'k'
    .byte 0x69              ;7a72  69          DATA 0x69 'i'
    .byte 0x66              ;7a73  66          DATA 0x66 'f'
    .byte 0x64              ;7a74  64          DATA 0x64 'd'
    .byte 0x61              ;7a75  61          DATA 0x61 'a'
    .byte 0x5f              ;7a76  5f          DATA 0x5f '_'
    .byte 0x5c              ;7a77  5c          DATA 0x5c '\'
    .byte 0x5a              ;7a78  5a          DATA 0x5a 'Z'
    .byte 0x57              ;7a79  57          DATA 0x57 'W'
    .byte 0x55              ;7a7a  55          DATA 0x55 'U'
    .byte 0x52              ;7a7b  52          DATA 0x52 'R'
    .byte 0x50              ;7a7c  50          DATA 0x50 'P'
    .byte 0x4d              ;7a7d  4d          DATA 0x4d 'M'
    .byte 0x4b              ;7a7e  4b          DATA 0x4b 'K'
    .byte 0x48              ;7a7f  48          DATA 0x48 'H'
    .byte 0x46              ;7a80  46          DATA 0x46 'F'
    .byte 0x43              ;7a81  43          DATA 0x43 'C'
    .byte 0x41              ;7a82  41          DATA 0x41 'A'
    .byte 0x3e              ;7a83  3e          DATA 0x3e '>'
    .byte 0x3b              ;7a84  3b          DATA 0x3b ';'
    .byte 0x37              ;7a85  37          DATA 0x37 '7'
    .byte 0xdf              ;7a86  df          DATA 0xdf
    .byte 0xa1              ;7a87  a1          DATA 0xa1
    .byte 0x9b              ;7a88  9b          DATA 0x9b
    .byte 0x97              ;7a89  97          DATA 0x97
    .byte 0x91              ;7a8a  91          DATA 0x91
    .byte 0x8c              ;7a8b  8c          DATA 0x8c
    .byte 0x87              ;7a8c  87          DATA 0x87
    .byte 0x85              ;7a8d  85          DATA 0x85
    .byte 0x81              ;7a8e  81          DATA 0x81
    .byte 0x7d              ;7a8f  7d          DATA 0x7d '}'
    .byte 0x7c              ;7a90  7c          DATA 0x7c '|'
    .byte 0x79              ;7a91  79          DATA 0x79 'y'
    .byte 0x77              ;7a92  77          DATA 0x77 'w'
    .byte 0x74              ;7a93  74          DATA 0x74 't'
    .byte 0x74              ;7a94  74          DATA 0x74 't'
    .byte 0x71              ;7a95  71          DATA 0x71 'q'
    .byte 0x6f              ;7a96  6f          DATA 0x6f 'o'
    .byte 0x6e              ;7a97  6e          DATA 0x6e 'n'
    .byte 0x6c              ;7a98  6c          DATA 0x6c 'l'
    .byte 0x69              ;7a99  69          DATA 0x69 'i'
    .byte 0x67              ;7a9a  67          DATA 0x67 'g'
    .byte 0x66              ;7a9b  66          DATA 0x66 'f'
    .byte 0x64              ;7a9c  64          DATA 0x64 'd'
    .byte 0x61              ;7a9d  61          DATA 0x61 'a'
    .byte 0x61              ;7a9e  61          DATA 0x61 'a'
    .byte 0x5e              ;7a9f  5e          DATA 0x5e '^'
    .byte 0x5c              ;7aa0  5c          DATA 0x5c '\'
    .byte 0x59              ;7aa1  59          DATA 0x59 'Y'
    .byte 0x59              ;7aa2  59          DATA 0x59 'Y'
    .byte 0x56              ;7aa3  56          DATA 0x56 'V'
    .byte 0x54              ;7aa4  54          DATA 0x54 'T'
    .byte 0x51              ;7aa5  51          DATA 0x51 'Q'
    .byte 0x4f              ;7aa6  4f          DATA 0x4f 'O'
    .byte 0x4c              ;7aa7  4c          DATA 0x4c 'L'
    .byte 0x4a              ;7aa8  4a          DATA 0x4a 'J'
    .byte 0x47              ;7aa9  47          DATA 0x47 'G'
    .byte 0x45              ;7aaa  45          DATA 0x45 'E'
    .byte 0x42              ;7aab  42          DATA 0x42 'B'
    .byte 0x40              ;7aac  40          DATA 0x40 '@'
    .byte 0x3d              ;7aad  3d          DATA 0x3d '='
    .byte 0x3b              ;7aae  3b          DATA 0x3b ';'
    .byte 0x38              ;7aaf  38          DATA 0x38 '8'
    .byte 0x36              ;7ab0  36          DATA 0x36 '6'
    .byte 0x33              ;7ab1  33          DATA 0x33 '3'
    .byte 0x30              ;7ab2  30          DATA 0x30 '0'
    .byte 0x2c              ;7ab3  2c          DATA 0x2c ','
    .byte 0xdf              ;7ab4  df          DATA 0xdf
    .byte 0xb5              ;7ab5  b5          DATA 0xb5
    .byte 0xaf              ;7ab6  af          DATA 0xaf
    .byte 0xa9              ;7ab7  a9          DATA 0xa9
    .byte 0xa3              ;7ab8  a3          DATA 0xa3
    .byte 0x9e              ;7ab9  9e          DATA 0x9e
    .byte 0x98              ;7aba  98          DATA 0x98
    .byte 0x95              ;7abb  95          DATA 0x95
    .byte 0x91              ;7abc  91          DATA 0x91
    .byte 0x8d              ;7abd  8d          DATA 0x8d
    .byte 0x8a              ;7abe  8a          DATA 0x8a
    .byte 0x87              ;7abf  87          DATA 0x87
    .byte 0x85              ;7ac0  85          DATA 0x85
    .byte 0x82              ;7ac1  82          DATA 0x82
    .byte 0x80              ;7ac2  80          DATA 0x80
    .byte 0x7e              ;7ac3  7e          DATA 0x7e '~'
    .byte 0x7c              ;7ac4  7c          DATA 0x7c '|'
    .byte 0x7a              ;7ac5  7a          DATA 0x7a 'z'
    .byte 0x78              ;7ac6  78          DATA 0x78 'x'
    .byte 0x75              ;7ac7  75          DATA 0x75 'u'
    .byte 0x73              ;7ac8  73          DATA 0x73 's'
    .byte 0x71              ;7ac9  71          DATA 0x71 'q'
    .byte 0x6f              ;7aca  6f          DATA 0x6f 'o'
    .byte 0x6c              ;7acb  6c          DATA 0x6c 'l'
    .byte 0x69              ;7acc  69          DATA 0x69 'i'
    .byte 0x66              ;7acd  66          DATA 0x66 'f'
    .byte 0x64              ;7ace  64          DATA 0x64 'd'
    .byte 0x61              ;7acf  61          DATA 0x61 'a'
    .byte 0x60              ;7ad0  60          DATA 0x60 '`'
    .byte 0x5d              ;7ad1  5d          DATA 0x5d ']'
    .byte 0x5b              ;7ad2  5b          DATA 0x5b '['
    .byte 0x58              ;7ad3  58          DATA 0x58 'X'
    .byte 0x56              ;7ad4  56          DATA 0x56 'V'
    .byte 0x53              ;7ad5  53          DATA 0x53 'S'
    .byte 0x51              ;7ad6  51          DATA 0x51 'Q'
    .byte 0x4e              ;7ad7  4e          DATA 0x4e 'N'
    .byte 0x4c              ;7ad8  4c          DATA 0x4c 'L'
    .byte 0x49              ;7ad9  49          DATA 0x49 'I'
    .byte 0x47              ;7ada  47          DATA 0x47 'G'
    .byte 0x44              ;7adb  44          DATA 0x44 'D'
    .byte 0x42              ;7adc  42          DATA 0x42 'B'
    .byte 0x3f              ;7add  3f          DATA 0x3f '?'
    .byte 0x3d              ;7ade  3d          DATA 0x3d '='
    .byte 0x3a              ;7adf  3a          DATA 0x3a ':'
    .byte 0x37              ;7ae0  37          DATA 0x37 '7'
    .byte 0x33              ;7ae1  33          DATA 0x33 '3'
    .byte 0x1b              ;7ae2  1b          DATA 0x1b
    .byte 0x1b              ;7ae3  1b          DATA 0x1b
    .byte 0x1b              ;7ae4  1b          DATA 0x1b
    .byte 0x1b              ;7ae5  1b          DATA 0x1b
    .byte 0x1b              ;7ae6  1b          DATA 0x1b
    .byte 0x1b              ;7ae7  1b          DATA 0x1b
    .byte 0x1a              ;7ae8  1a          DATA 0x1a
    .byte 0x1a              ;7ae9  1a          DATA 0x1a
    .byte 0x1a              ;7aea  1a          DATA 0x1a
    .byte 0x1a              ;7aeb  1a          DATA 0x1a
    .byte 0x1a              ;7aec  1a          DATA 0x1a
    .byte 0x19              ;7aed  19          DATA 0x19
    .byte 0x19              ;7aee  19          DATA 0x19
    .byte 0x18              ;7aef  18          DATA 0x18
    .byte 0x18              ;7af0  18          DATA 0x18
    .byte 0x17              ;7af1  17          DATA 0x17
    .byte 0x17              ;7af2  17          DATA 0x17
    .byte 0x16              ;7af3  16          DATA 0x16
    .byte 0x16              ;7af4  16          DATA 0x16
    .byte 0x15              ;7af5  15          DATA 0x15
    .byte 0x15              ;7af6  15          DATA 0x15
    .byte 0x14              ;7af7  14          DATA 0x14
    .byte 0x14              ;7af8  14          DATA 0x14
    .byte 0x13              ;7af9  13          DATA 0x13
    .byte 0x13              ;7afa  13          DATA 0x13
    .byte 0x12              ;7afb  12          DATA 0x12
    .byte 0x12              ;7afc  12          DATA 0x12
    .byte 0x11              ;7afd  11          DATA 0x11
    .byte 0x10              ;7afe  10          DATA 0x10
    .byte 0x10              ;7aff  10          DATA 0x10
    .byte 0x0f              ;7b00  0f          DATA 0x0f
    .byte 0x0e              ;7b01  0e          DATA 0x0e
    .byte 0x0d              ;7b02  0d          DATA 0x0d
    .byte 0x0c              ;7b03  0c          DATA 0x0c
    .byte 0x0b              ;7b04  0b          DATA 0x0b
    .byte 0x0a              ;7b05  0a          DATA 0x0a
    .byte 0x0a              ;7b06  0a          DATA 0x0a
    .byte 0x09              ;7b07  09          DATA 0x09
    .byte 0x09              ;7b08  09          DATA 0x09
    .byte 0x09              ;7b09  09          DATA 0x09
    .byte 0x09              ;7b0a  09          DATA 0x09
    .byte 0x09              ;7b0b  09          DATA 0x09
    .byte 0x09              ;7b0c  09          DATA 0x09
    .byte 0x09              ;7b0d  09          DATA 0x09
    .byte 0x09              ;7b0e  09          DATA 0x09
    .byte 0x09              ;7b0f  09          DATA 0x09
    .byte 0x00              ;7b10  00          DATA 0x00
    .byte 0x07              ;7b11  07          DATA 0x07
    .byte 0x09              ;7b12  09          DATA 0x09
    .byte 0x0b              ;7b13  0b          DATA 0x0b
    .byte 0x0d              ;7b14  0d          DATA 0x0d
    .byte 0x0f              ;7b15  0f          DATA 0x0f
    .byte 0x11              ;7b16  11          DATA 0x11
    .byte 0x12              ;7b17  12          DATA 0x12
    .byte 0x13              ;7b18  13          DATA 0x13
    .byte 0x14              ;7b19  14          DATA 0x14
    .byte 0xaf              ;7b1a  af          DATA 0xaf
    .byte 0x10              ;7b1b  10          DATA 0x10
    .byte 0xef              ;7b1c  ef          DATA 0xef
    .byte 0x04              ;7b1d  04          DATA 0x04
    .byte 0xa9              ;7b1e  a9          DATA 0xa9
    .byte 0x8c              ;7b1f  8c          DATA 0x8c
    .byte 0x8d              ;7b20  8d          DATA 0x8d
    .byte 0x00              ;7b21  00          DATA 0x00
    .byte 0x01              ;7b22  01          DATA 0x01
    .byte 0xa9              ;7b23  a9          DATA 0xa9
    .byte 0x25              ;7b24  25          DATA 0x25 '%'
    .byte 0x8d              ;7b25  8d          DATA 0x8d
    .byte 0x01              ;7b26  01          DATA 0x01
    .byte 0x01              ;7b27  01          DATA 0x01
    .byte 0xad              ;7b28  ad          DATA 0xad
    .byte 0xc3              ;7b29  c3          DATA 0xc3
    .byte 0x02              ;7b2a  02          DATA 0x02
    .byte 0x29              ;7b2b  29          DATA 0x29 ')'
    .byte 0x87              ;7b2c  87          DATA 0x87
    .byte 0x8d              ;7b2d  8d          DATA 0x8d
    .byte 0x02              ;7b2e  02          DATA 0x02
    .byte 0x01              ;7b2f  01          DATA 0x01
    .byte 0xad              ;7b30  ad          DATA 0xad
    .byte 0xb9              ;7b31  b9          DATA 0xb9
    .byte 0x05              ;7b32  05          DATA 0x05
    .byte 0x29              ;7b33  29          DATA 0x29 ')'
    .byte 0x3c              ;7b34  3c          DATA 0x3c '<'
    .byte 0x0a              ;7b35  0a          DATA 0x0a
    .byte 0x0d              ;7b36  0d          DATA 0x0d
    .byte 0x02              ;7b37  02          DATA 0x02
    .byte 0x01              ;7b38  01          DATA 0x01
    .byte 0x09              ;7b39  09          DATA 0x09
    .byte 0x01              ;7b3a  01          DATA 0x01
    .byte 0x8d              ;7b3b  8d          DATA 0x8d
    .byte 0x02              ;7b3c  02          DATA 0x02
    .byte 0x01              ;7b3d  01          DATA 0x01
    .byte 0xad              ;7b3e  ad          DATA 0xad
    .byte 0xc4              ;7b3f  c4          DATA 0xc4
    .byte 0x02              ;7b40  02          DATA 0x02
    .byte 0x29              ;7b41  29          DATA 0x29 ')'
    .byte 0x3f              ;7b42  3f          DATA 0x3f '?'
    .byte 0x8d              ;7b43  8d          DATA 0x8d
    .byte 0x03              ;7b44  03          DATA 0x03
    .byte 0x01              ;7b45  01          DATA 0x01
    .byte 0xad              ;7b46  ad          DATA 0xad
    .byte 0xb9              ;7b47  b9          DATA 0xb9
    .byte 0x05              ;7b48  05          DATA 0x05
    .byte 0x29              ;7b49  29          DATA 0x29 ')'
    .byte 0xc0              ;7b4a  c0          DATA 0xc0
    .byte 0x0d              ;7b4b  0d          DATA 0x0d
    .byte 0x03              ;7b4c  03          DATA 0x03
    .byte 0x01              ;7b4d  01          DATA 0x01
    .byte 0x29              ;7b4e  29          DATA 0x29 ')'
    .byte 0xfe              ;7b4f  fe          DATA 0xfe
    .byte 0x8d              ;7b50  8d          DATA 0x8d
    .byte 0x03              ;7b51  03          DATA 0x03
    .byte 0x01              ;7b52  01          DATA 0x01
    .byte 0xa9              ;7b53  a9          DATA 0xa9
    .byte 0x00              ;7b54  00          DATA 0x00
    .byte 0x85              ;7b55  85          DATA 0x85
    .byte 0x4c              ;7b56  4c          DATA 0x4c 'L'
    .byte 0xa9              ;7b57  a9          DATA 0xa9
    .byte 0x01              ;7b58  01          DATA 0x01
    .byte 0x85              ;7b59  85          DATA 0x85
    .byte 0x4d              ;7b5a  4d          DATA 0x4d 'M'
    .byte 0x3c              ;7b5b  3c          DATA 0x3c '<'
    .byte 0x04              ;7b5c  04          DATA 0x04
    .byte 0x4e              ;7b5d  4e          DATA 0x4e 'N'
    .byte 0x3c              ;7b5e  3c          DATA 0x3c '<'
    .byte 0x00              ;7b5f  00          DATA 0x00
    .byte 0x4f              ;7b60  4f          DATA 0x4f 'O'
    .byte 0x20              ;7b61  20          DATA 0x20 ' '
    .byte 0xe5              ;7b62  e5          DATA 0xe5
    .byte 0x46              ;7b63  46          DATA 0x46 'F'
    .byte 0x60              ;7b64  60          DATA 0x60 '`'

sub_7b65:
    clb 5,P8_P4I            ;7b65  bf 10
    clb 7,P2                ;7b67  ff 04
    lda #0x8c               ;7b69  a9 8c
    sta 0x0100              ;7b6b  8d 00 01
    lda #0x25               ;7b6e  a9 25
    sta 0x0101              ;7b70  8d 01 01
    lda 0x02c3              ;7b73  ad c3 02
    and #0xfe               ;7b76  29 fe
    sta 0x0102              ;7b78  8d 02 01
    lda 0x02c4              ;7b7b  ad c4 02
    ora #0x01               ;7b7e  09 01
    sta 0x0103              ;7b80  8d 03 01
    lda #0x00               ;7b83  a9 00
    sta 0x4c                ;7b85  85 4c
    lda #0x01               ;7b87  a9 01
    sta 0x4d                ;7b89  85 4d
    ldm #0x04,0x4e          ;7b8b  3c 04 4e     Number of I2C bytes to write = 4
    ldm #0x00,0x4f          ;7b8e  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7b91  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7b94  60

sub_7b95:
    bbc 6,0xf1,lab_7bb3     ;7b95  d7 f1 1b
    bbs 0,0xf2,lab_7bb3     ;7b98  07 f2 18
    lda 0x02c7              ;7b9b  ad c7 02
    cmp #0x49               ;7b9e  c9 49
    beq lab_7baa            ;7ba0  f0 08
    bbc 2,P8_P4I,lab_7bb3   ;7ba2  57 10 0e
    jsr sub_7bb4            ;7ba5  20 b4 7b
    bra lab_7bb3            ;7ba8  80 09

lab_7baa:
    lda 0x6f                ;7baa  a5 6f
    cmp #0x05               ;7bac  c9 05
    bcc lab_7bb3            ;7bae  90 03
    jsr sub_7bb8            ;7bb0  20 b8 7b

lab_7bb3:
    rts                     ;7bb3  60

sub_7bb4:
    lda #0x49               ;7bb4  a9 49
    bra lab_7bba            ;7bb6  80 02

sub_7bb8:
    lda #0x41               ;7bb8  a9 41

lab_7bba:
    sta 0x02c7              ;7bba  8d c7 02
    sta 0x0102              ;7bbd  8d 02 01
    lda #0x8c               ;7bc0  a9 8c
    sta 0x0100              ;7bc2  8d 00 01
    lda #0x1c               ;7bc5  a9 1c
    sta 0x0101              ;7bc7  8d 01 01
    lda #0x00               ;7bca  a9 00
    sta 0x4c                ;7bcc  85 4c
    lda #0x01               ;7bce  a9 01
    sta 0x4d                ;7bd0  85 4d
    ldm #0x03,0x4e          ;7bd2  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7bd5  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7bd8  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;7bdb  60

sub_7bdc:
    lda #0x68               ;7bdc  a9 68
    sta 0x0101              ;7bde  8d 01 01
    lda #0x03               ;7be1  a9 03
    asl a                   ;7be3  0a
    ora #0xa0               ;7be4  09 a0
    sta 0x0100              ;7be6  8d 00 01
    lda #0x00               ;7be9  a9 00
    sta 0x4c                ;7beb  85 4c
    lda #0x01               ;7bed  a9 01
    sta 0x4d                ;7bef  85 4d
    ldm #0x02,0x4e          ;7bf1  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;7bf4  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;7bf7  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;7bfa  ad 02 01
    beq lab_7c15            ;7bfd  f0 16
    ldy #0x00               ;7bff  a0 00
    lda #0x29               ;7c01  a9 29
    sta 0x40                ;7c03  85 40
    lda #0x80               ;7c05  a9 80
    sta 0x41                ;7c07  85 41

lab_7c09:
    lda [0x40],y            ;7c09  b1 40
    sta 0x0280,y            ;7c0b  99 80 02
    iny                     ;7c0e  c8
    cpy #0x08               ;7c0f  c0 08
    bcc lab_7c09            ;7c11  90 f6
    bra lab_7c40            ;7c13  80 2b

lab_7c15:
    lda #0x60               ;7c15  a9 60
    sta 0x0101              ;7c17  8d 01 01
    lda #0x03               ;7c1a  a9 03
    asl a                   ;7c1c  0a
    ora #0xa0               ;7c1d  09 a0
    sta 0x0100              ;7c1f  8d 00 01
    lda #0x00               ;7c22  a9 00
    sta 0x4c                ;7c24  85 4c
    lda #0x01               ;7c26  a9 01
    sta 0x4d                ;7c28  85 4d
    ldm #0x02,0x4e          ;7c2a  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x08,0x4f          ;7c2d  3c 08 4f     Number of I2C bytes to read = 8
    jsr sub_46e5_i2c_wr_rd  ;7c30  20 e5 46     Perform an I2C write-then-read transaction
    ldy #0x00               ;7c33  a0 00

lab_7c35:
    lda 0x0102,y            ;7c35  b9 02 01
    sta 0x0280,y            ;7c38  99 80 02
    iny                     ;7c3b  c8
    cpy #0x08               ;7c3c  c0 08
    bcc lab_7c35            ;7c3e  90 f5

lab_7c40:
    lda #0x00               ;7c40  a9 00
    sta 0x0288              ;7c42  8d 88 02
    lda #0x01               ;7c45  a9 01
    sta 0x0289              ;7c47  8d 89 02
    jsr sub_7e1f            ;7c4a  20 1f 7e
    rts                     ;7c4d  60

sub_7c4e:
    clb 0,0xf3              ;7c4e  1f f3
    ldm #0x00,0x5c          ;7c50  3c 00 5c
    ldm #0x00,0x5d          ;7c53  3c 00 5d
    clb 7,0xf8              ;7c56  ff f8
    lda 0xa0                ;7c58  a5 a0
    sta 0x028b              ;7c5a  8d 8b 02
    seb 7,0xf0              ;7c5d  ef f0
    seb 4,0xf4              ;7c5f  8f f4
    ldy #0x05               ;7c61  a0 05
    jsr sub_3300            ;7c63  20 00 33
    lda 0x028c              ;7c66  ad 8c 02
    sta 0x0285              ;7c69  8d 85 02
    ldy #0x08               ;7c6c  a0 08

lab_7c6e:
    dey                     ;7c6e  88
    bmi lab_7c79            ;7c6f  30 08
    lda 0x0280,y            ;7c71  b9 80 02
    sta 0x0390,y            ;7c74  99 90 03
    bra lab_7c6e            ;7c77  80 f5

lab_7c79:
    lda #0x00               ;7c79  a9 00
    sta 0x028a              ;7c7b  8d 8a 02
    ldm #0x0c,0x5a          ;7c7e  3c 0c 5a
    jsr sub_664a            ;7c81  20 4a 66
    jsr sub_74d2            ;7c84  20 d2 74
    jsr sub_7cfc            ;7c87  20 fc 7c
    rts                     ;7c8a  60

sub_7c8b:
    bbc 4,0xf4,lab_7cb8     ;7c8b  97 f4 2a
    clb 7,0xf0              ;7c8e  ff f0
    clb 4,0xf4              ;7c90  9f f4
    ldy #0x05               ;7c92  a0 05
    jsr sub_3361            ;7c94  20 61 33
    bbs 0,0xf2,lab_7c9c     ;7c97  07 f2 02
    seb 0,0xf9              ;7c9a  0f f9

lab_7c9c:
    lda 0x028b              ;7c9c  ad 8b 02
    sta 0xa0                ;7c9f  85 a0
    jsr sub_71bc            ;7ca1  20 bc 71
    jsr sub_437f            ;7ca4  20 7f 43
    jsr sub_43b9            ;7ca7  20 b9 43
    jsr sub_664a            ;7caa  20 4a 66
    lda 0x50                ;7cad  a5 50
    bne lab_7cb8            ;7caf  d0 07
    seb 1,0x5c              ;7cb1  2f 5c
    ldm #0x00,0x5d          ;7cb3  3c 00 5d
    seb 7,0xf8              ;7cb6  ef f8

lab_7cb8:
    rts                     ;7cb8  60

sub_7cb9:
    lda #0x01               ;7cb9  a9 01
    sta 0x78                ;7cbb  85 78
    lda #0x00               ;7cbd  a9 00
    sta 0x79                ;7cbf  85 79
    bra sub_7cd7            ;7cc1  80 14

    .byte 0xa9              ;7cc3  a9          DATA 0xa9
    .byte 0xff              ;7cc4  ff          DATA 0xff
    .byte 0x85              ;7cc5  85          DATA 0x85
    .byte 0x78              ;7cc6  78          DATA 0x78 'x'
    .byte 0xa9              ;7cc7  a9          DATA 0xa9
    .byte 0xff              ;7cc8  ff          DATA 0xff
    .byte 0x85              ;7cc9  85          DATA 0x85
    .byte 0x79              ;7cca  79          DATA 0x79 'y'
    .byte 0x80              ;7ccb  80          DATA 0x80
    .byte 0x0a              ;7ccc  0a          DATA 0x0a
    .byte 0xa9              ;7ccd  a9          DATA 0xa9
    .byte 0x00              ;7cce  00          DATA 0x00
    .byte 0x85              ;7ccf  85          DATA 0x85
    .byte 0x78              ;7cd0  78          DATA 0x78 'x'
    .byte 0xa9              ;7cd1  a9          DATA 0xa9
    .byte 0x00              ;7cd2  00          DATA 0x00
    .byte 0x85              ;7cd3  85          DATA 0x85
    .byte 0x79              ;7cd4  79          DATA 0x79 'y'
    .byte 0x80              ;7cd5  80          DATA 0x80
    .byte 0x03              ;7cd6  03          DATA 0x03

sub_7cd7:
    jsr sub_7d25            ;7cd7  20 25 7d
    lda #0x0d               ;7cda  a9 0d
    sta 0x57                ;7cdc  85 57
    jsr sub_43e9            ;7cde  20 e9 43
    jsr sub_7cfc            ;7ce1  20 fc 7c
    jsr sub_74d2            ;7ce4  20 d2 74
    rts                     ;7ce7  60

    .byte 0xa9              ;7ce8  a9          DATA 0xa9
    .byte 0x01              ;7ce9  01          DATA 0x01
    .byte 0x85              ;7cea  85          DATA 0x85
    .byte 0x78              ;7ceb  78          DATA 0x78 'x'
    .byte 0xa9              ;7cec  a9          DATA 0xa9
    .byte 0x00              ;7ced  00          DATA 0x00
    .byte 0x85              ;7cee  85          DATA 0x85
    .byte 0x79              ;7cef  79          DATA 0x79 'y'
    .byte 0x80              ;7cf0  80          DATA 0x80
    .byte 0x12              ;7cf1  12          DATA 0x12
    .byte 0xa9              ;7cf2  a9          DATA 0xa9
    .byte 0xff              ;7cf3  ff          DATA 0xff
    .byte 0x85              ;7cf4  85          DATA 0x85
    .byte 0x78              ;7cf5  78          DATA 0x78 'x'
    .byte 0xa9              ;7cf6  a9          DATA 0xa9
    .byte 0xff              ;7cf7  ff          DATA 0xff
    .byte 0x85              ;7cf8  85          DATA 0x85
    .byte 0x79              ;7cf9  79          DATA 0x79 'y'
    .byte 0x80              ;7cfa  80          DATA 0x80
    .byte 0x08              ;7cfb  08          DATA 0x08

sub_7cfc:
    lda #0x00               ;7cfc  a9 00
    sta 0x78                ;7cfe  85 78
    lda #0x00               ;7d00  a9 00
    sta 0x79                ;7d02  85 79

sub_7d04:
    ldy #0x05               ;7d04  a0 05
    jsr sub_3300            ;7d06  20 00 33
    clc                     ;7d09  18
    lda 0x028a              ;7d0a  ad 8a 02
    adc #0x0e               ;7d0d  69 0e
    sta 0x57                ;7d0f  85 57
    jsr sub_43e9            ;7d11  20 e9 43
    ldy #0x08               ;7d14  a0 08
    lda [0x4a],y            ;7d16  b1 4a
    sta 0x40                ;7d18  85 40
    iny                     ;7d1a  c8
    lda [0x4a],y            ;7d1b  b1 4a
    sta 0x41                ;7d1d  85 41
    jsr [0x40]              ;7d1f  02 40
    jsr sub_664a            ;7d21  20 4a 66
    rts                     ;7d24  60

sub_7d25:
    lda 0x0285              ;7d25  ad 85 02
    cmp 0x028c              ;7d28  cd 8c 02
    beq lab_7d33            ;7d2b  f0 06
    sta 0x028c              ;7d2d  8d 8c 02
    ldm #0x00,0x50          ;7d30  3c 00 50

lab_7d33:
    clc                     ;7d33  18
    lda #0x60               ;7d34  a9 60
    adc 0x028a              ;7d36  6d 8a 02
    sta 0x0101              ;7d39  8d 01 01
    lda #0x03               ;7d3c  a9 03
    asl a                   ;7d3e  0a
    ora #0xa0               ;7d3f  09 a0
    sta 0x0100              ;7d41  8d 00 01
    lda #0x80               ;7d44  a9 80
    sta 0x40                ;7d46  85 40
    lda #0x02               ;7d48  a9 02
    sta 0x41                ;7d4a  85 41
    ldy 0x028a              ;7d4c  ac 8a 02
    lda [0x40],y            ;7d4f  b1 40
    sta 0x0102              ;7d51  8d 02 01
    lda #0x00               ;7d54  a9 00
    sta 0x4c                ;7d56  85 4c
    lda #0x01               ;7d58  a9 01
    sta 0x4d                ;7d5a  85 4d
    ldm #0x03,0x4e          ;7d5c  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7d5f  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7d62  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;7d65  a0 0a
    jsr sub_f22c_delay      ;7d67  20 2c f2     Delay an unknown time period for Y iterations

    ldy 0x028a              ;7d6a  ac 8a 02
    cpy #0x07               ;7d6d  c0 07
    bcc lab_7d99            ;7d6f  90 28
    lda #0x68               ;7d71  a9 68
    sta 0x0101              ;7d73  8d 01 01
    lda #0x03               ;7d76  a9 03
    asl a                   ;7d78  0a
    ora #0xa0               ;7d79  09 a0
    sta 0x0100              ;7d7b  8d 00 01
    lda #0x00               ;7d7e  a9 00
    sta 0x0102              ;7d80  8d 02 01
    lda #0x00               ;7d83  a9 00
    sta 0x4c                ;7d85  85 4c
    lda #0x01               ;7d87  a9 01
    sta 0x4d                ;7d89  85 4d
    ldm #0x03,0x4e          ;7d8b  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;7d8e  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7d91  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;7d94  a0 0a
    jsr sub_f22c_delay      ;7d96  20 2c f2     Delay an unknown time period for Y iterations

lab_7d99:
    rts                     ;7d99  60

sub_7d9a:
    bbc 4,0xf4,lab_7dd1     ;7d9a  97 f4 34
    lda #0x60               ;7d9d  a9 60
    sta 0x0101              ;7d9f  8d 01 01
    lda #0x03               ;7da2  a9 03
    asl a                   ;7da4  0a
    ora #0xa0               ;7da5  09 a0
    sta 0x0100              ;7da7  8d 00 01
    ldy #0x08               ;7daa  a0 08

lab_7dac:
    dey                     ;7dac  88
    bmi lab_7dba            ;7dad  30 0b
    lda 0x0390,y            ;7daf  b9 90 03
    sta 0x0280,y            ;7db2  99 80 02
    sta 0x0102,y            ;7db5  99 02 01
    bra lab_7dac            ;7db8  80 f2

lab_7dba:
    lda #0x00               ;7dba  a9 00
    sta 0x4c                ;7dbc  85 4c
    lda #0x01               ;7dbe  a9 01
    sta 0x4d                ;7dc0  85 4d
    ldm #0x0a,0x4e          ;7dc2  3c 0a 4e     Number of I2C bytes to write = 10
    ldm #0x00,0x4f          ;7dc5  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;7dc8  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0285              ;7dcb  ad 85 02
    sta 0x028c              ;7dce  8d 8c 02

lab_7dd1:
    rts                     ;7dd1  60

    .byte 0xa0              ;7dd2  a0          DATA 0xa0
    .byte 0x35              ;7dd3  35          DATA 0x35 '5'
    .byte 0x20              ;7dd4  20          DATA 0x20 ' '
    .byte 0x61              ;7dd5  61          DATA 0x61 'a'
    .byte 0x33              ;7dd6  33          DATA 0x33 '3'
    .byte 0x20              ;7dd7  20          DATA 0x20 ' '
    .byte 0x1e              ;7dd8  1e          DATA 0x1e
    .byte 0x84              ;7dd9  84          DATA 0x84
    .byte 0x20              ;7dda  20          DATA 0x20 ' '
    .byte 0xbc              ;7ddb  bc          DATA 0xbc
    .byte 0x71              ;7ddc  71          DATA 0x71 'q'
    .byte 0xad              ;7ddd  ad          DATA 0xad
    .byte 0x8b              ;7dde  8b          DATA 0x8b
    .byte 0x02              ;7ddf  02          DATA 0x02
    .byte 0x8d              ;7de0  8d          DATA 0x8d
    .byte 0x84              ;7de1  84          DATA 0x84
    .byte 0x03              ;7de2  03          DATA 0x03
    .byte 0x20              ;7de3  20          DATA 0x20 ' '
    .byte 0x29              ;7de4  29          DATA 0x29 ')'
    .byte 0x77              ;7de5  77          DATA 0x77 'w'
    .byte 0x60              ;7de6  60          DATA 0x60 '`'
    .byte 0xa0              ;7de7  a0          DATA 0xa0
    .byte 0x35              ;7de8  35          DATA 0x35 '5'
    .byte 0x20              ;7de9  20          DATA 0x20 ' '
    .byte 0x61              ;7dea  61          DATA 0x61 'a'
    .byte 0x33              ;7deb  33          DATA 0x33 '3'
    .byte 0xad              ;7dec  ad          DATA 0xad
    .byte 0x81              ;7ded  81          DATA 0x81
    .byte 0x02              ;7dee  02          DATA 0x02
    .byte 0x18              ;7def  18          DATA 0x18
    .byte 0x69              ;7df0  69          DATA 0x69 'i'
    .byte 0x07              ;7df1  07          DATA 0x07
    .byte 0x8d              ;7df2  8d          DATA 0x8d
    .byte 0x84              ;7df3  84          DATA 0x84
    .byte 0x03              ;7df4  03          DATA 0x03
    .byte 0x20              ;7df5  20          DATA 0x20 ' '
    .byte 0x29              ;7df6  29          DATA 0x29 ')'
    .byte 0x77              ;7df7  77          DATA 0x77 'w'
    .byte 0x60              ;7df8  60          DATA 0x60 '`'
    .byte 0xa0              ;7df9  a0          DATA 0xa0
    .byte 0x35              ;7dfa  35          DATA 0x35 '5'
    .byte 0x20              ;7dfb  20          DATA 0x20 ' '
    .byte 0x61              ;7dfc  61          DATA 0x61 'a'
    .byte 0x33              ;7dfd  33          DATA 0x33 '3'
    .byte 0xae              ;7dfe  ae          DATA 0xae
    .byte 0x82              ;7dff  82          DATA 0x82
    .byte 0x02              ;7e00  02          DATA 0x02
    .byte 0xbd              ;7e01  bd          DATA 0xbd
    .byte 0x10              ;7e02  10          DATA 0x10
    .byte 0x7b              ;7e03  7b          DATA 0x7b '{'
    .byte 0x8d              ;7e04  8d          DATA 0x8d
    .byte 0x84              ;7e05  84          DATA 0x84
    .byte 0x03              ;7e06  03          DATA 0x03
    .byte 0x20              ;7e07  20          DATA 0x20 ' '
    .byte 0x29              ;7e08  29          DATA 0x29 ')'
    .byte 0x77              ;7e09  77          DATA 0x77 'w'
    .byte 0x60              ;7e0a  60          DATA 0x60 '`'
    .byte 0xa0              ;7e0b  a0          DATA 0xa0
    .byte 0x35              ;7e0c  35          DATA 0x35 '5'
    .byte 0x20              ;7e0d  20          DATA 0x20 ' '
    .byte 0x61              ;7e0e  61          DATA 0x61 'a'
    .byte 0x33              ;7e0f  33          DATA 0x33 '3'
    .byte 0xad              ;7e10  ad          DATA 0xad
    .byte 0x83              ;7e11  83          DATA 0x83
    .byte 0x02              ;7e12  02          DATA 0x02
    .byte 0xf0              ;7e13  f0          DATA 0xf0
    .byte 0x03              ;7e14  03          DATA 0x03
    .byte 0x18              ;7e15  18          DATA 0x18
    .byte 0x69              ;7e16  69          DATA 0x69 'i'
    .byte 0x07              ;7e17  07          DATA 0x07
    .byte 0x8d              ;7e18  8d          DATA 0x8d
    .byte 0x84              ;7e19  84          DATA 0x84
    .byte 0x03              ;7e1a  03          DATA 0x03
    .byte 0x20              ;7e1b  20          DATA 0x20 ' '
    .byte 0x29              ;7e1c  29          DATA 0x29 ')'
    .byte 0x77              ;7e1d  77          DATA 0x77 'w'
    .byte 0x60              ;7e1e  60          DATA 0x60 '`'

sub_7e1f:
    ldy #0x35               ;7e1f  a0 35
    jsr sub_3361            ;7e21  20 61 33
    lda 0x028b              ;7e24  ad 8b 02
    sta 0x0384              ;7e27  8d 84 03
    jsr sub_7729            ;7e2a  20 29 77
    seb 6,0xfa              ;7e2d  cf fa
    lda 0x0284              ;7e2f  ad 84 02
    bbs 0,a,lab_7e36        ;7e32  03 02
    clb 6,0xfa              ;7e34  df fa

lab_7e36:
    jsr sub_70bb            ;7e36  20 bb 70
    rts                     ;7e39  60

    .byte 0x5f              ;7e3a  5f          DATA 0x5f '_'
    .byte 0xfc              ;7e3b  fc          DATA 0xfc
    .byte 0xad              ;7e3c  ad          DATA 0xad
    .byte 0x86              ;7e3d  86          DATA 0x86
    .byte 0x02              ;7e3e  02          DATA 0x02
    .byte 0x03              ;7e3f  03          DATA 0x03
    .byte 0x06              ;7e40  06          DATA 0x06
    .byte 0xa5              ;7e41  a5          DATA 0xa5
    .byte 0x50              ;7e42  50          DATA 0x50 'P'
    .byte 0xf0              ;7e43  f0          DATA 0xf0
    .byte 0x02              ;7e44  02          DATA 0x02
    .byte 0x4f              ;7e45  4f          DATA 0x4f 'O'
    .byte 0xfc              ;7e46  fc          DATA 0xfc
    .byte 0x60              ;7e47  60          DATA 0x60 '`'
    .byte 0x20              ;7e48  20          DATA 0x20 ' '
    .byte 0xbc              ;7e49  bc          DATA 0xbc
    .byte 0x71              ;7e4a  71          DATA 0x71 'q'
    .byte 0x60              ;7e4b  60          DATA 0x60 '`'

sub_7e4c:
    lda 0x028a              ;7e4c  ad 8a 02
    asl a                   ;7e4f  0a
    asl a                   ;7e50  0a
    tay                     ;7e51  a8
    lda 0x8031,y            ;7e52  b9 31 80
    sta 0x40                ;7e55  85 40
    iny                     ;7e57  c8
    lda 0x8031,y            ;7e58  b9 31 80
    sta 0x41                ;7e5b  85 41
    jsr sub_6850            ;7e5d  20 50 68
    iny                     ;7e60  c8
    lda 0x8031,y            ;7e61  b9 31 80
    sta 0x40                ;7e64  85 40
    iny                     ;7e66  c8
    lda 0x8031,y            ;7e67  b9 31 80
    sta 0x41                ;7e6a  85 41
    jsr [0x40]              ;7e6c  02 40
    rts                     ;7e6e  60

    .byte 0xad              ;7e6f  ad          DATA 0xad
    .byte 0x80              ;7e70  80          DATA 0x80
    .byte 0x02              ;7e71  02          DATA 0x02
    .byte 0x0a              ;7e72  0a          DATA 0x0a
    .byte 0xa8              ;7e73  a8          DATA 0xa8
    .byte 0xb9              ;7e74  b9          DATA 0xb9
    .byte 0xc9              ;7e75  c9          DATA 0xc9
    .byte 0x80              ;7e76  80          DATA 0x80
    .byte 0x8d              ;7e77  8d          DATA 0x8d
    .byte 0x1a              ;7e78  1a          DATA 0x1a
    .byte 0x01              ;7e79  01          DATA 0x01
    .byte 0xc8              ;7e7a  c8          DATA 0xc8
    .byte 0xb9              ;7e7b  b9          DATA 0xb9
    .byte 0xc9              ;7e7c  c9          DATA 0xc9
    .byte 0x80              ;7e7d  80          DATA 0x80
    .byte 0x8d              ;7e7e  8d          DATA 0x8d
    .byte 0x1b              ;7e7f  1b          DATA 0x1b
    .byte 0x01              ;7e80  01          DATA 0x01
    .byte 0x60              ;7e81  60          DATA 0x60 '`'
    .byte 0xad              ;7e82  ad          DATA 0xad
    .byte 0x81              ;7e83  81          DATA 0x81
    .byte 0x02              ;7e84  02          DATA 0x02
    .byte 0x85              ;7e85  85          DATA 0x85
    .byte 0x44              ;7e86  44          DATA 0x44 'D'
    .byte 0x3c              ;7e87  3c          DATA 0x3c '<'
    .byte 0x00              ;7e88  00          DATA 0x00
    .byte 0x45              ;7e89  45          DATA 0x45 'E'
    .byte 0xa9              ;7e8a  a9          DATA 0xa9
    .byte 0x1a              ;7e8b  1a          DATA 0x1a
    .byte 0x85              ;7e8c  85          DATA 0x85
    .byte 0x46              ;7e8d  46          DATA 0x46 'F'
    .byte 0xa9              ;7e8e  a9          DATA 0xa9
    .byte 0x01              ;7e8f  01          DATA 0x01
    .byte 0x85              ;7e90  85          DATA 0x85
    .byte 0x47              ;7e91  47          DATA 0x47 'G'
    .byte 0x3c              ;7e92  3c          DATA 0x3c '<'
    .byte 0x02              ;7e93  02          DATA 0x02
    .byte 0x4f              ;7e94  4f          DATA 0x4f 'O'
    .byte 0x20              ;7e95  20          DATA 0x20 ' '
    .byte 0xb7              ;7e96  b7          DATA 0xb7
    .byte 0x7f              ;7e97  7f          DATA 0x7f
    .byte 0x60              ;7e98  60          DATA 0x60 '`'
    .byte 0xa0              ;7e99  a0          DATA 0xa0
    .byte 0x00              ;7e9a  00          DATA 0x00
    .byte 0xad              ;7e9b  ad          DATA 0xad
    .byte 0x89              ;7e9c  89          DATA 0x89
    .byte 0x02              ;7e9d  02          DATA 0x02
    .byte 0xf0              ;7e9e  f0          DATA 0xf0
    .byte 0x02              ;7e9f  02          DATA 0x02
    .byte 0xa0              ;7ea0  a0          DATA 0xa0
    .byte 0x03              ;7ea1  03          DATA 0x03
    .byte 0xb9              ;7ea2  b9          DATA 0xb9
    .byte 0xe9              ;7ea3  e9          DATA 0xe9
    .byte 0x80              ;7ea4  80          DATA 0x80
    .byte 0x8d              ;7ea5  8d          DATA 0x8d
    .byte 0x19              ;7ea6  19          DATA 0x19
    .byte 0x01              ;7ea7  01          DATA 0x01
    .byte 0xb9              ;7ea8  b9          DATA 0xb9
    .byte 0xea              ;7ea9  ea          DATA 0xea
    .byte 0x80              ;7eaa  80          DATA 0x80
    .byte 0x8d              ;7eab  8d          DATA 0x8d
    .byte 0x1a              ;7eac  1a          DATA 0x1a
    .byte 0x01              ;7ead  01          DATA 0x01
    .byte 0xb9              ;7eae  b9          DATA 0xb9
    .byte 0xeb              ;7eaf  eb          DATA 0xeb
    .byte 0x80              ;7eb0  80          DATA 0x80
    .byte 0x8d              ;7eb1  8d          DATA 0x8d
    .byte 0x1b              ;7eb2  1b          DATA 0x1b
    .byte 0x01              ;7eb3  01          DATA 0x01
    .byte 0x60              ;7eb4  60          DATA 0x60 '`'
    .byte 0xa0              ;7eb5  a0          DATA 0xa0
    .byte 0x00              ;7eb6  00          DATA 0x00
    .byte 0xad              ;7eb7  ad          DATA 0xad
    .byte 0x89              ;7eb8  89          DATA 0x89
    .byte 0x02              ;7eb9  02          DATA 0x02
    .byte 0xf0              ;7eba  f0          DATA 0xf0
    .byte 0x02              ;7ebb  02          DATA 0x02
    .byte 0xa0              ;7ebc  a0          DATA 0xa0
    .byte 0x03              ;7ebd  03          DATA 0x03
    .byte 0xb9              ;7ebe  b9          DATA 0xb9
    .byte 0xe9              ;7ebf  e9          DATA 0xe9
    .byte 0x80              ;7ec0  80          DATA 0x80
    .byte 0x8d              ;7ec1  8d          DATA 0x8d
    .byte 0x19              ;7ec2  19          DATA 0x19
    .byte 0x01              ;7ec3  01          DATA 0x01
    .byte 0xb9              ;7ec4  b9          DATA 0xb9
    .byte 0xea              ;7ec5  ea          DATA 0xea
    .byte 0x80              ;7ec6  80          DATA 0x80
    .byte 0x8d              ;7ec7  8d          DATA 0x8d
    .byte 0x1a              ;7ec8  1a          DATA 0x1a
    .byte 0x01              ;7ec9  01          DATA 0x01
    .byte 0xb9              ;7eca  b9          DATA 0xb9
    .byte 0xeb              ;7ecb  eb          DATA 0xeb
    .byte 0x80              ;7ecc  80          DATA 0x80
    .byte 0x8d              ;7ecd  8d          DATA 0x8d
    .byte 0x1b              ;7ece  1b          DATA 0x1b
    .byte 0x01              ;7ecf  01          DATA 0x01
    .byte 0x60              ;7ed0  60          DATA 0x60 '`'
    .byte 0xa9              ;7ed1  a9          DATA 0xa9
    .byte 0xef              ;7ed2  ef          DATA 0xef
    .byte 0x85              ;7ed3  85          DATA 0x85
    .byte 0x4e              ;7ed4  4e          DATA 0x4e 'N'
    .byte 0xa9              ;7ed5  a9          DATA 0xa9
    .byte 0x80              ;7ed6  80          DATA 0x80
    .byte 0x85              ;7ed7  85          DATA 0x85
    .byte 0x4f              ;7ed8  4f          DATA 0x4f 'O'
    .byte 0xad              ;7ed9  ad          DATA 0xad
    .byte 0x85              ;7eda  85          DATA 0x85
    .byte 0x02              ;7edb  02          DATA 0x02
    .byte 0x29              ;7edc  29          DATA 0x29 ')'
    .byte 0x01              ;7edd  01          DATA 0x01
    .byte 0xf0              ;7ede  f0          DATA 0xf0
    .byte 0x08              ;7edf  08          DATA 0x08
    .byte 0xa9              ;7ee0  a9          DATA 0xa9
    .byte 0xf7              ;7ee1  f7          DATA 0xf7
    .byte 0x85              ;7ee2  85          DATA 0x85
    .byte 0x4e              ;7ee3  4e          DATA 0x4e 'N'
    .byte 0xa9              ;7ee4  a9          DATA 0xa9
    .byte 0x80              ;7ee5  80          DATA 0x80
    .byte 0x85              ;7ee6  85          DATA 0x85
    .byte 0x4f              ;7ee7  4f          DATA 0x4f 'O'
    .byte 0xa0              ;7ee8  a0          DATA 0xa0
    .byte 0x07              ;7ee9  07          DATA 0x07
    .byte 0xb1              ;7eea  b1          DATA 0xb1
    .byte 0x4e              ;7eeb  4e          DATA 0x4e 'N'
    .byte 0x99              ;7eec  99          DATA 0x99
    .byte 0x14              ;7eed  14          DATA 0x14
    .byte 0x01              ;7eee  01          DATA 0x01
    .byte 0x88              ;7eef  88          DATA 0x88
    .byte 0x10              ;7ef0  10          DATA 0x10
    .byte 0xf8              ;7ef1  f8          DATA 0xf8
    .byte 0x60              ;7ef2  60          DATA 0x60 '`'
    .byte 0xa0              ;7ef3  a0          DATA 0xa0
    .byte 0x00              ;7ef4  00          DATA 0x00
    .byte 0xad              ;7ef5  ad          DATA 0xad
    .byte 0x84              ;7ef6  84          DATA 0x84
    .byte 0x02              ;7ef7  02          DATA 0x02
    .byte 0xf0              ;7ef8  f0          DATA 0xf0
    .byte 0x02              ;7ef9  02          DATA 0x02
    .byte 0xa0              ;7efa  a0          DATA 0xa0
    .byte 0x02              ;7efb  02          DATA 0x02
    .byte 0xb9              ;7efc  b9          DATA 0xb9
    .byte 0xdd              ;7efd  dd          DATA 0xdd
    .byte 0x80              ;7efe  80          DATA 0x80
    .byte 0x8d              ;7eff  8d          DATA 0x8d
    .byte 0x1a              ;7f00  1a          DATA 0x1a
    .byte 0x01              ;7f01  01          DATA 0x01
    .byte 0xb9              ;7f02  b9          DATA 0xb9
    .byte 0xde              ;7f03  de          DATA 0xde
    .byte 0x80              ;7f04  80          DATA 0x80
    .byte 0x8d              ;7f05  8d          DATA 0x8d
    .byte 0x1b              ;7f06  1b          DATA 0x1b
    .byte 0x01              ;7f07  01          DATA 0x01
    .byte 0x60              ;7f08  60          DATA 0x60 '`'
    .byte 0xad              ;7f09  ad          DATA 0xad
    .byte 0x83              ;7f0a  83          DATA 0x83
    .byte 0x02              ;7f0b  02          DATA 0x02
    .byte 0x85              ;7f0c  85          DATA 0x85
    .byte 0x44              ;7f0d  44          DATA 0x44 'D'
    .byte 0x3c              ;7f0e  3c          DATA 0x3c '<'
    .byte 0x00              ;7f0f  00          DATA 0x00
    .byte 0x45              ;7f10  45          DATA 0x45 'E'
    .byte 0xa9              ;7f11  a9          DATA 0xa9
    .byte 0x1a              ;7f12  1a          DATA 0x1a
    .byte 0x85              ;7f13  85          DATA 0x85
    .byte 0x46              ;7f14  46          DATA 0x46 'F'
    .byte 0xa9              ;7f15  a9          DATA 0xa9
    .byte 0x01              ;7f16  01          DATA 0x01
    .byte 0x85              ;7f17  85          DATA 0x85
    .byte 0x47              ;7f18  47          DATA 0x47 'G'
    .byte 0x3c              ;7f19  3c          DATA 0x3c '<'
    .byte 0x02              ;7f1a  02          DATA 0x02
    .byte 0x4f              ;7f1b  4f          DATA 0x4f 'O'
    .byte 0x20              ;7f1c  20          DATA 0x20 ' '
    .byte 0xb7              ;7f1d  b7          DATA 0xb7
    .byte 0x7f              ;7f1e  7f          DATA 0x7f
    .byte 0x60              ;7f1f  60          DATA 0x60 '`'
    .byte 0xad              ;7f20  ad          DATA 0xad
    .byte 0x82              ;7f21  82          DATA 0x82
    .byte 0x02              ;7f22  02          DATA 0x02
    .byte 0x85              ;7f23  85          DATA 0x85
    .byte 0x44              ;7f24  44          DATA 0x44 'D'
    .byte 0x3c              ;7f25  3c          DATA 0x3c '<'
    .byte 0x00              ;7f26  00          DATA 0x00
    .byte 0x45              ;7f27  45          DATA 0x45 'E'
    .byte 0xa9              ;7f28  a9          DATA 0xa9
    .byte 0x1a              ;7f29  1a          DATA 0x1a
    .byte 0x85              ;7f2a  85          DATA 0x85
    .byte 0x46              ;7f2b  46          DATA 0x46 'F'
    .byte 0xa9              ;7f2c  a9          DATA 0xa9
    .byte 0x01              ;7f2d  01          DATA 0x01
    .byte 0x85              ;7f2e  85          DATA 0x85
    .byte 0x47              ;7f2f  47          DATA 0x47 'G'
    .byte 0x3c              ;7f30  3c          DATA 0x3c '<'
    .byte 0x02              ;7f31  02          DATA 0x02
    .byte 0x4f              ;7f32  4f          DATA 0x4f 'O'
    .byte 0x20              ;7f33  20          DATA 0x20 ' '
    .byte 0xb7              ;7f34  b7          DATA 0xb7
    .byte 0x7f              ;7f35  7f          DATA 0x7f
    .byte 0x60              ;7f36  60          DATA 0x60 '`'
    .byte 0xa0              ;7f37  a0          DATA 0xa0
    .byte 0x00              ;7f38  00          DATA 0x00
    .byte 0xad              ;7f39  ad          DATA 0xad
    .byte 0x87              ;7f3a  87          DATA 0x87
    .byte 0x02              ;7f3b  02          DATA 0x02
    .byte 0xf0              ;7f3c  f0          DATA 0xf0
    .byte 0x02              ;7f3d  02          DATA 0x02
    .byte 0xa0              ;7f3e  a0          DATA 0xa0
    .byte 0x01              ;7f3f  01          DATA 0x01
    .byte 0xb9              ;7f40  b9          DATA 0xb9
    .byte 0xe7              ;7f41  e7          DATA 0xe7
    .byte 0x80              ;7f42  80          DATA 0x80
    .byte 0x8d              ;7f43  8d          DATA 0x8d
    .byte 0x1b              ;7f44  1b          DATA 0x1b
    .byte 0x01              ;7f45  01          DATA 0x01
    .byte 0x60              ;7f46  60          DATA 0x60 '`'
    .byte 0xa0              ;7f47  a0          DATA 0xa0
    .byte 0x00              ;7f48  00          DATA 0x00
    .byte 0xad              ;7f49  ad          DATA 0xad
    .byte 0x89              ;7f4a  89          DATA 0x89
    .byte 0x02              ;7f4b  02          DATA 0x02
    .byte 0xf0              ;7f4c  f0          DATA 0xf0
    .byte 0x02              ;7f4d  02          DATA 0x02
    .byte 0xa0              ;7f4e  a0          DATA 0xa0
    .byte 0x03              ;7f4f  03          DATA 0x03
    .byte 0xb9              ;7f50  b9          DATA 0xb9
    .byte 0xe9              ;7f51  e9          DATA 0xe9
    .byte 0x80              ;7f52  80          DATA 0x80
    .byte 0x8d              ;7f53  8d          DATA 0x8d
    .byte 0x19              ;7f54  19          DATA 0x19
    .byte 0x01              ;7f55  01          DATA 0x01
    .byte 0xb9              ;7f56  b9          DATA 0xb9
    .byte 0xea              ;7f57  ea          DATA 0xea
    .byte 0x80              ;7f58  80          DATA 0x80
    .byte 0x8d              ;7f59  8d          DATA 0x8d
    .byte 0x1a              ;7f5a  1a          DATA 0x1a
    .byte 0x01              ;7f5b  01          DATA 0x01
    .byte 0xb9              ;7f5c  b9          DATA 0xb9
    .byte 0xeb              ;7f5d  eb          DATA 0xeb
    .byte 0x80              ;7f5e  80          DATA 0x80
    .byte 0x8d              ;7f5f  8d          DATA 0x8d
    .byte 0x1b              ;7f60  1b          DATA 0x1b
    .byte 0x01              ;7f61  01          DATA 0x01
    .byte 0x60              ;7f62  60          DATA 0x60 '`'
    .byte 0xa0              ;7f63  a0          DATA 0xa0
    .byte 0x00              ;7f64  00          DATA 0x00
    .byte 0xad              ;7f65  ad          DATA 0xad
    .byte 0x89              ;7f66  89          DATA 0x89
    .byte 0x02              ;7f67  02          DATA 0x02
    .byte 0xf0              ;7f68  f0          DATA 0xf0
    .byte 0x02              ;7f69  02          DATA 0x02
    .byte 0xa0              ;7f6a  a0          DATA 0xa0
    .byte 0x03              ;7f6b  03          DATA 0x03
    .byte 0xb9              ;7f6c  b9          DATA 0xb9
    .byte 0xe9              ;7f6d  e9          DATA 0xe9
    .byte 0x80              ;7f6e  80          DATA 0x80
    .byte 0x8d              ;7f6f  8d          DATA 0x8d
    .byte 0x19              ;7f70  19          DATA 0x19
    .byte 0x01              ;7f71  01          DATA 0x01
    .byte 0xb9              ;7f72  b9          DATA 0xb9
    .byte 0xea              ;7f73  ea          DATA 0xea
    .byte 0x80              ;7f74  80          DATA 0x80
    .byte 0x8d              ;7f75  8d          DATA 0x8d
    .byte 0x1a              ;7f76  1a          DATA 0x1a
    .byte 0x01              ;7f77  01          DATA 0x01
    .byte 0xb9              ;7f78  b9          DATA 0xb9
    .byte 0xeb              ;7f79  eb          DATA 0xeb
    .byte 0x80              ;7f7a  80          DATA 0x80
    .byte 0x8d              ;7f7b  8d          DATA 0x8d
    .byte 0x1b              ;7f7c  1b          DATA 0x1b
    .byte 0x01              ;7f7d  01          DATA 0x01
    .byte 0x60              ;7f7e  60          DATA 0x60 '`'

    ldy #0x00               ;7f7f  a0 00
    lda 0x0288              ;7f81  ad 88 02
    beq lab_7f88            ;7f84  f0 02
    ldy #0x03               ;7f86  a0 03

lab_7f88:
    lda 0x80e9,y            ;7f88  b9 e9 80
    sta 0x0119              ;7f8b  8d 19 01
    lda 0x80ea,y            ;7f8e  b9 ea 80
    sta 0x011a              ;7f91  8d 1a 01
    lda 0x80eb,y            ;7f94  b9 eb 80
    sta 0x011b              ;7f97  8d 1b 01
    rts                     ;7f9a  60

    .byte 0xa0              ;7f9b  a0          DATA 0xa0
    .byte 0x00              ;7f9c  00          DATA 0x00
    .byte 0xad              ;7f9d  ad          DATA 0xad
    .byte 0x86              ;7f9e  86          DATA 0x86
    .byte 0x02              ;7f9f  02          DATA 0x02
    .byte 0xf0              ;7fa0  f0          DATA 0xf0
    .byte 0x02              ;7fa1  02          DATA 0x02
    .byte 0xa0              ;7fa2  a0          DATA 0xa0
    .byte 0x03              ;7fa3  03          DATA 0x03
    .byte 0xb9              ;7fa4  b9          DATA 0xb9
    .byte 0xe1              ;7fa5  e1          DATA 0xe1
    .byte 0x80              ;7fa6  80          DATA 0x80
    .byte 0x8d              ;7fa7  8d          DATA 0x8d
    .byte 0x19              ;7fa8  19          DATA 0x19
    .byte 0x01              ;7fa9  01          DATA 0x01
    .byte 0xb9              ;7faa  b9          DATA 0xb9
    .byte 0xe2              ;7fab  e2          DATA 0xe2
    .byte 0x80              ;7fac  80          DATA 0x80
    .byte 0x8d              ;7fad  8d          DATA 0x8d
    .byte 0x1a              ;7fae  1a          DATA 0x1a
    .byte 0x01              ;7faf  01          DATA 0x01
    .byte 0xb9              ;7fb0  b9          DATA 0xb9
    .byte 0xe3              ;7fb1  e3          DATA 0xe3
    .byte 0x80              ;7fb2  80          DATA 0x80
    .byte 0x8d              ;7fb3  8d          DATA 0x8d
    .byte 0x1b              ;7fb4  1b          DATA 0x1b
    .byte 0x01              ;7fb5  01          DATA 0x01
    .byte 0x60              ;7fb6  60          DATA 0x60 '`'
    .byte 0xa0              ;7fb7  a0          DATA 0xa0
    .byte 0x00              ;7fb8  00          DATA 0x00
    .byte 0xa2              ;7fb9  a2          DATA 0xa2
    .byte 0x00              ;7fba  00          DATA 0x00
    .byte 0xbd              ;7fbb  bd          DATA 0xbd
    .byte 0xe1              ;7fbc  e1          DATA 0xe1
    .byte 0x6b              ;7fbd  6b          DATA 0x6b 'k'
    .byte 0x85              ;7fbe  85          DATA 0x85
    .byte 0x4c              ;7fbf  4c          DATA 0x4c 'L'
    .byte 0xe8              ;7fc0  e8          DATA 0xe8
    .byte 0xbd              ;7fc1  bd          DATA 0xbd
    .byte 0xe1              ;7fc2  e1          DATA 0xe1
    .byte 0x6b              ;7fc3  6b          DATA 0x6b 'k'
    .byte 0x85              ;7fc4  85          DATA 0x85
    .byte 0x4d              ;7fc5  4d          DATA 0x4d 'M'
    .byte 0xe8              ;7fc6  e8          DATA 0xe8
    .byte 0x3c              ;7fc7  3c          DATA 0x3c '<'
    .byte 0xff              ;7fc8  ff          DATA 0xff
    .byte 0x4e              ;7fc9  4e          DATA 0x4e 'N'
    .byte 0xe6              ;7fca  e6          DATA 0xe6
    .byte 0x4e              ;7fcb  4e          DATA 0x4e 'N'
    .byte 0xa5              ;7fcc  a5          DATA 0xa5
    .byte 0x44              ;7fcd  44          DATA 0x44 'D'
    .byte 0x38              ;7fce  38          DATA 0x38 '8'
    .byte 0xe5              ;7fcf  e5          DATA 0xe5
    .byte 0x4c              ;7fd0  4c          DATA 0x4c 'L'
    .byte 0x85              ;7fd1  85          DATA 0x85
    .byte 0x44              ;7fd2  44          DATA 0x44 'D'
    .byte 0xa5              ;7fd3  a5          DATA 0xa5
    .byte 0x45              ;7fd4  45          DATA 0x45 'E'
    .byte 0xe5              ;7fd5  e5          DATA 0xe5
    .byte 0x4d              ;7fd6  4d          DATA 0x4d 'M'
    .byte 0x85              ;7fd7  85          DATA 0x85
    .byte 0x45              ;7fd8  45          DATA 0x45 'E'
    .byte 0x10              ;7fd9  10          DATA 0x10
    .byte 0xef              ;7fda  ef          DATA 0xef
    .byte 0xa5              ;7fdb  a5          DATA 0xa5
    .byte 0x44              ;7fdc  44          DATA 0x44 'D'
    .byte 0x18              ;7fdd  18          DATA 0x18
    .byte 0x65              ;7fde  65          DATA 0x65 'e'
    .byte 0x4c              ;7fdf  4c          DATA 0x4c 'L'
    .byte 0x85              ;7fe0  85          DATA 0x85
    .byte 0x44              ;7fe1  44          DATA 0x44 'D'
    .byte 0xa5              ;7fe2  a5          DATA 0xa5
    .byte 0x45              ;7fe3  45          DATA 0x45 'E'
    .byte 0x65              ;7fe4  65          DATA 0x65 'e'
    .byte 0x4d              ;7fe5  4d          DATA 0x4d 'M'
    .byte 0x85              ;7fe6  85          DATA 0x85
    .byte 0x45              ;7fe7  45          DATA 0x45 'E'
    .byte 0xa5              ;7fe8  a5          DATA 0xa5
    .byte 0x4e              ;7fe9  4e          DATA 0x4e 'N'
    .byte 0x18              ;7fea  18          DATA 0x18
    .byte 0x69              ;7feb  69          DATA 0x69 'i'
    .byte 0x30              ;7fec  30          DATA 0x30 '0'
    .byte 0x91              ;7fed  91          DATA 0x91
    .byte 0x46              ;7fee  46          DATA 0x46 'F'
    .byte 0xc8              ;7fef  c8          DATA 0xc8
    .byte 0xc0              ;7ff0  c0          DATA 0xc0
    .byte 0x04              ;7ff1  04          DATA 0x04
    .byte 0x90              ;7ff2  90          DATA 0x90
    .byte 0xc7              ;7ff3  c7          DATA 0xc7
    .byte 0xa5              ;7ff4  a5          DATA 0xa5
    .byte 0x44              ;7ff5  44          DATA 0x44 'D'
    .byte 0x18              ;7ff6  18          DATA 0x18
    .byte 0x69              ;7ff7  69          DATA 0x69 'i'
    .byte 0x30              ;7ff8  30          DATA 0x30 '0'
    .byte 0x91              ;7ff9  91          DATA 0x91
    .byte 0x46              ;7ffa  46          DATA 0x46 'F'
    .byte 0xa0              ;7ffb  a0          DATA 0xa0
    .byte 0x00              ;7ffc  00          DATA 0x00
    .byte 0xb1              ;7ffd  b1          DATA 0xb1
    .byte 0x46              ;7ffe  46          DATA 0x46 'F'
    .byte 0xc9              ;7fff  c9          DATA 0xc9
    .byte 0x30              ;8000  30          DATA 0x30 '0'
    .byte 0xd0              ;8001  d0          DATA 0xd0
    .byte 0x09              ;8002  09          DATA 0x09
    .byte 0xa9              ;8003  a9          DATA 0xa9
    .byte 0x20              ;8004  20          DATA 0x20 ' '
    .byte 0x91              ;8005  91          DATA 0x91
    .byte 0x46              ;8006  46          DATA 0x46 'F'
    .byte 0xc8              ;8007  c8          DATA 0xc8
    .byte 0xc0              ;8008  c0          DATA 0xc0
    .byte 0x04              ;8009  04          DATA 0x04
    .byte 0x90              ;800a  90          DATA 0x90
    .byte 0xf1              ;800b  f1          DATA 0xf1
    .byte 0xa9              ;800c  a9          DATA 0xa9
    .byte 0x05              ;800d  05          DATA 0x05
    .byte 0x38              ;800e  38          DATA 0x38 '8'
    .byte 0xe5              ;800f  e5          DATA 0xe5
    .byte 0x4f              ;8010  4f          DATA 0x4f 'O'
    .byte 0x85              ;8011  85          DATA 0x85
    .byte 0x4c              ;8012  4c          DATA 0x4c 'L'
    .byte 0x3c              ;8013  3c          DATA 0x3c '<'
    .byte 0x00              ;8014  00          DATA 0x00
    .byte 0x4d              ;8015  4d          DATA 0x4d 'M'
    .byte 0xa4              ;8016  a4          DATA 0xa4
    .byte 0x4c              ;8017  4c          DATA 0x4c 'L'
    .byte 0xb1              ;8018  b1          DATA 0xb1
    .byte 0x46              ;8019  46          DATA 0x46 'F'
    .byte 0xa4              ;801a  a4          DATA 0xa4
    .byte 0x4d              ;801b  4d          DATA 0x4d 'M'
    .byte 0x91              ;801c  91          DATA 0x91
    .byte 0x46              ;801d  46          DATA 0x46 'F'
    .byte 0xe6              ;801e  e6          DATA 0xe6
    .byte 0x4c              ;801f  4c          DATA 0x4c 'L'
    .byte 0xe6              ;8020  e6          DATA 0xe6
    .byte 0x4d              ;8021  4d          DATA 0x4d 'M'
    .byte 0xa4              ;8022  a4          DATA 0xa4
    .byte 0x4d              ;8023  4d          DATA 0x4d 'M'
    .byte 0xc4              ;8024  c4          DATA 0xc4
    .byte 0x4f              ;8025  4f          DATA 0x4f 'O'
    .byte 0x90              ;8026  90          DATA 0x90
    .byte 0xee              ;8027  ee          DATA 0xee
    .byte 0x60              ;8028  60          DATA 0x60 '`'
    .byte 0x04              ;8029  04          DATA 0x04
    .byte 0x0a              ;802a  0a          DATA 0x0a
    .byte 0x01              ;802b  01          DATA 0x01
    .byte 0x0a              ;802c  0a          DATA 0x0a
    .byte 0x01              ;802d  01          DATA 0x01
    .byte 0x01              ;802e  01          DATA 0x01
    .byte 0x01              ;802f  01          DATA 0x01
    .byte 0x00              ;8030  00          DATA 0x00
    .byte 0x51              ;8031  51          DATA 0x51 'Q'
    .byte 0x80              ;8032  80          DATA 0x80
    .byte 0x6f              ;8033  6f          DATA 0x6f 'o'
    .byte 0x7e              ;8034  7e          DATA 0x7e '~'
    .byte 0x59              ;8035  59          DATA 0x59 'Y'
    .byte 0x80              ;8036  80          DATA 0x80
    .byte 0x82              ;8037  82          DATA 0x82
    .byte 0x7e              ;8038  7e          DATA 0x7e '~'
    .byte 0x91              ;8039  91          DATA 0x91
    .byte 0x80              ;803a  80          DATA 0x80
    .byte 0x20              ;803b  20          DATA 0x20 ' '
    .byte 0x7f              ;803c  7f          DATA 0x7f
    .byte 0x81              ;803d  81          DATA 0x81
    .byte 0x80              ;803e  80          DATA 0x80
    .byte 0x09              ;803f  09          DATA 0x09
    .byte 0x7f              ;8040  7f          DATA 0x7f
    .byte 0x79              ;8041  79          DATA 0x79 'y'
    .byte 0x80              ;8042  80          DATA 0x80
    .byte 0xf3              ;8043  f3          DATA 0xf3
    .byte 0x7e              ;8044  7e          DATA 0x7e '~'
    .byte 0x71              ;8045  71          DATA 0x71 'q'
    .byte 0x80              ;8046  80          DATA 0x80
    .byte 0xd1              ;8047  d1          DATA 0xd1
    .byte 0x7e              ;8048  7e          DATA 0x7e '~'
    .byte 0xc1              ;8049  c1          DATA 0xc1
    .byte 0x80              ;804a  80          DATA 0x80
    .byte 0x9b              ;804b  9b          DATA 0x9b
    .byte 0x7f              ;804c  7f          DATA 0x7f
    .byte 0x99              ;804d  99          DATA 0x99
    .byte 0x80              ;804e  80          DATA 0x80
    .byte 0x37              ;804f  37          DATA 0x37 '7'
    .byte 0x7f              ;8050  7f          DATA 0x7f
    .byte 0x20              ;8051  20          DATA 0x20 ' '
    .byte 0x47              ;8052  47          DATA 0x47 'G'
    .byte 0x41              ;8053  41          DATA 0x41 'A'
    .byte 0x4c              ;8054  4c          DATA 0x4c 'L'
    .byte 0x41              ;8055  41          DATA 0x41 'A'
    .byte 0x20              ;8056  20          DATA 0x20 ' '
    .byte 0x20              ;8057  20          DATA 0x20 ' '
    .byte 0x20              ;8058  20          DATA 0x20 ' '
    .byte 0x4f              ;8059  4f          DATA 0x4f 'O'
    .byte 0x4e              ;805a  4e          DATA 0x4e 'N'
    .byte 0x56              ;805b  56          DATA 0x56 'V'
    .byte 0x4f              ;805c  4f          DATA 0x4f 'O'
    .byte 0x4c              ;805d  4c          DATA 0x4c 'L'
    .byte 0x20              ;805e  20          DATA 0x20 ' '
    .byte 0x20              ;805f  20          DATA 0x20 ' '
    .byte 0x20              ;8060  20          DATA 0x20 ' '
    .byte 0x20              ;8061  20          DATA 0x20 ' '
    .byte 0x4c              ;8062  4c          DATA 0x4c 'L'
    .byte 0x45              ;8063  45          DATA 0x45 'E'
    .byte 0x44              ;8064  44          DATA 0x44 'D'
    .byte 0x20              ;8065  20          DATA 0x20 ' '
    .byte 0x20              ;8066  20          DATA 0x20 ' '
    .byte 0x20              ;8067  20          DATA 0x20 ' '
    .byte 0x20              ;8068  20          DATA 0x20 ' '
    .byte 0x42              ;8069  42          DATA 0x42 'B'
    .byte 0x45              ;806a  45          DATA 0x45 'E'
    .byte 0x45              ;806b  45          DATA 0x45 'E'
    .byte 0x50              ;806c  50          DATA 0x50 'P'
    .byte 0x20              ;806d  20          DATA 0x20 ' '
    .byte 0x20              ;806e  20          DATA 0x20 ' '
    .byte 0x20              ;806f  20          DATA 0x20 ' '
    .byte 0x20              ;8070  20          DATA 0x20 ' '
    .byte 0x20              ;8071  20          DATA 0x20 ' '
    .byte 0x20              ;8072  20          DATA 0x20 ' '
    .byte 0x20              ;8073  20          DATA 0x20 ' '
    .byte 0x20              ;8074  20          DATA 0x20 ' '
    .byte 0x20              ;8075  20          DATA 0x20 ' '
    .byte 0x20              ;8076  20          DATA 0x20 ' '
    .byte 0x20              ;8077  20          DATA 0x20 ' '
    .byte 0x20              ;8078  20          DATA 0x20 ' '
    .byte 0x20              ;8079  20          DATA 0x20 ' '
    .byte 0x4d              ;807a  4d          DATA 0x4d 'M'
    .byte 0x2f              ;807b  2f          DATA 0x2f '/'
    .byte 0x53              ;807c  53          DATA 0x53 'S'
    .byte 0x20              ;807d  20          DATA 0x20 ' '
    .byte 0x20              ;807e  20          DATA 0x20 ' '
    .byte 0x20              ;807f  20          DATA 0x20 ' '
    .byte 0x20              ;8080  20          DATA 0x20 ' '
    .byte 0x50              ;8081  50          DATA 0x50 'P'
    .byte 0x48              ;8082  48          DATA 0x48 'H'
    .byte 0x4f              ;8083  4f          DATA 0x4f 'O'
    .byte 0x4e              ;8084  4e          DATA 0x4e 'N'
    .byte 0x45              ;8085  45          DATA 0x45 'E'
    .byte 0x20              ;8086  20          DATA 0x20 ' '
    .byte 0x20              ;8087  20          DATA 0x20 ' '
    .byte 0x20              ;8088  20          DATA 0x20 ' '
    .byte 0x50              ;8089  50          DATA 0x50 'P'
    .byte 0x48              ;808a  48          DATA 0x48 'H'
    .byte 0x56              ;808b  56          DATA 0x56 'V'
    .byte 0x4f              ;808c  4f          DATA 0x4f 'O'
    .byte 0x4c              ;808d  4c          DATA 0x4c 'L'
    .byte 0x20              ;808e  20          DATA 0x20 ' '
    .byte 0x20              ;808f  20          DATA 0x20 ' '
    .byte 0x20              ;8090  20          DATA 0x20 ' '
    .byte 0x54              ;8091  54          DATA 0x54 'T'
    .byte 0x41              ;8092  41          DATA 0x41 'A'
    .byte 0x56              ;8093  56          DATA 0x56 'V'
    .byte 0x4f              ;8094  4f          DATA 0x4f 'O'
    .byte 0x4c              ;8095  4c          DATA 0x4c 'L'
    .byte 0x20              ;8096  20          DATA 0x20 ' '
    .byte 0x20              ;8097  20          DATA 0x20 ' '
    .byte 0x20              ;8098  20          DATA 0x20 ' '
    .byte 0x43              ;8099  43          DATA 0x43 'C'
    .byte 0x44              ;809a  44          DATA 0x44 'D'
    .byte 0x20              ;809b  20          DATA 0x20 ' '
    .byte 0x53              ;809c  53          DATA 0x53 'S'
    .byte 0x46              ;809d  46          DATA 0x46 'F'
    .byte 0x4c              ;809e  4c          DATA 0x4c 'L'
    .byte 0x20              ;809f  20          DATA 0x20 ' '
    .byte 0x20              ;80a0  20          DATA 0x20 ' '
    .byte 0x4b              ;80a1  4b          DATA 0x4b 'K'
    .byte 0x45              ;80a2  45          DATA 0x45 'E'
    .byte 0x59              ;80a3  59          DATA 0x59 'Y'
    .byte 0x20              ;80a4  20          DATA 0x20 ' '
    .byte 0x20              ;80a5  20          DATA 0x20 ' '
    .byte 0x20              ;80a6  20          DATA 0x20 ' '
    .byte 0x20              ;80a7  20          DATA 0x20 ' '
    .byte 0x20              ;80a8  20          DATA 0x20 ' '
    .byte 0x4c              ;80a9  4c          DATA 0x4c 'L'
    .byte 0x4f              ;80aa  4f          DATA 0x4f 'O'
    .byte 0x55              ;80ab  55          DATA 0x55 'U'
    .byte 0x44              ;80ac  44          DATA 0x44 'D'
    .byte 0x20              ;80ad  20          DATA 0x20 ' '
    .byte 0x20              ;80ae  20          DATA 0x20 ' '
    .byte 0x20              ;80af  20          DATA 0x20 ' '
    .byte 0x20              ;80b0  20          DATA 0x20 ' '
    .byte 0x4d              ;80b1  4d          DATA 0x4d 'M'
    .byte 0x4f              ;80b2  4f          DATA 0x4f 'O'
    .byte 0x4e              ;80b3  4e          DATA 0x4e 'N'
    .byte 0x4f              ;80b4  4f          DATA 0x4f 'O'
    .byte 0x20              ;80b5  20          DATA 0x20 ' '
    .byte 0x20              ;80b6  20          DATA 0x20 ' '
    .byte 0x20              ;80b7  20          DATA 0x20 ' '
    .byte 0x20              ;80b8  20          DATA 0x20 ' '
    .byte 0x4c              ;80b9  4c          DATA 0x4c 'L'
    .byte 0x4f              ;80ba  4f          DATA 0x4f 'O'
    .byte 0x43              ;80bb  43          DATA 0x43 'C'
    .byte 0x20              ;80bc  20          DATA 0x20 ' '
    .byte 0x20              ;80bd  20          DATA 0x20 ' '
    .byte 0x20              ;80be  20          DATA 0x20 ' '
    .byte 0x20              ;80bf  20          DATA 0x20 ' '
    .byte 0x20              ;80c0  20          DATA 0x20 ' '
    .byte 0x4e              ;80c1  4e          DATA 0x4e 'N'
    .byte 0x41              ;80c2  41          DATA 0x41 'A'
    .byte 0x4d              ;80c3  4d          DATA 0x4d 'M'
    .byte 0x45              ;80c4  45          DATA 0x45 'E'
    .byte 0x20              ;80c5  20          DATA 0x20 ' '
    .byte 0x20              ;80c6  20          DATA 0x20 ' '
    .byte 0x20              ;80c7  20          DATA 0x20 ' '
    .byte 0x20              ;80c8  20          DATA 0x20 ' '
    .byte 0x4e              ;80c9  4e          DATA 0x4e 'N'
    .byte 0x4f              ;80ca  4f          DATA 0x4f 'O'
    .byte 0x20              ;80cb  20          DATA 0x20 ' '
    .byte 0x31              ;80cc  31          DATA 0x31 '1'
    .byte 0x20              ;80cd  20          DATA 0x20 ' '
    .byte 0x32              ;80ce  32          DATA 0x32 '2'
    .byte 0x20              ;80cf  20          DATA 0x20 ' '
    .byte 0x33              ;80d0  33          DATA 0x33 '3'
    .byte 0x20              ;80d1  20          DATA 0x20 ' '
    .byte 0x34              ;80d2  34          DATA 0x34 '4'
    .byte 0x20              ;80d3  20          DATA 0x20 ' '
    .byte 0x35              ;80d4  35          DATA 0x35 '5'
    .byte 0x20              ;80d5  20          DATA 0x20 ' '
    .byte 0x36              ;80d6  36          DATA 0x36 '6'
    .byte 0x20              ;80d7  20          DATA 0x20 ' '
    .byte 0x37              ;80d8  37          DATA 0x37 '7'
    .byte 0x20              ;80d9  20          DATA 0x20 ' '
    .byte 0x38              ;80da  38          DATA 0x38 '8'
    .byte 0x20              ;80db  20          DATA 0x20 ' '
    .byte 0x39              ;80dc  39          DATA 0x39 '9'
    .byte 0x4e              ;80dd  4e          DATA 0x4e 'N'
    .byte 0x4f              ;80de  4f          DATA 0x4f 'O'
    .byte 0x4f              ;80df  4f          DATA 0x4f 'O'
    .byte 0x4e              ;80e0  4e          DATA 0x4e 'N'
    .byte 0x46              ;80e1  46          DATA 0x46 'F'
    .byte 0x49              ;80e2  49          DATA 0x49 'I'
    .byte 0x58              ;80e3  58          DATA 0x58 'X'
    .byte 0x56              ;80e4  56          DATA 0x56 'V'
    .byte 0x41              ;80e5  41          DATA 0x41 'A'
    .byte 0x52              ;80e6  52          DATA 0x52 'R'
    .byte 0x44              ;80e7  44          DATA 0x44 'D'
    .byte 0x4d              ;80e8  4d          DATA 0x4d 'M'
    .byte 0x4f              ;80e9  4f          DATA 0x4f 'O'
    .byte 0x46              ;80ea  46          DATA 0x46 'F'
    .byte 0x46              ;80eb  46          DATA 0x46 'F'
    .byte 0x20              ;80ec  20          DATA 0x20 ' '
    .byte 0x4f              ;80ed  4f          DATA 0x4f 'O'
    .byte 0x4e              ;80ee  4e          DATA 0x4e 'N'
    .byte 0x20              ;80ef  20          DATA 0x20 ' '
    .byte 0x52              ;80f0  52          DATA 0x52 'R'
    .byte 0x45              ;80f1  45          DATA 0x45 'E'
    .byte 0x47              ;80f2  47          DATA 0x47 'G'
    .byte 0x2d              ;80f3  2d          DATA 0x2d '-'
    .byte 0x4f              ;80f4  4f          DATA 0x4f 'O'
    .byte 0x46              ;80f5  46          DATA 0x46 'F'
    .byte 0x46              ;80f6  46          DATA 0x46 'F'
    .byte 0x41              ;80f7  41          DATA 0x41 'A'
    .byte 0x55              ;80f8  55          DATA 0x55 'U'
    .byte 0x54              ;80f9  54          DATA 0x54 'T'
    .byte 0x4f              ;80fa  4f          DATA 0x4f 'O'
    .byte 0x2d              ;80fb  2d          DATA 0x2d '-'
    .byte 0x52              ;80fc  52          DATA 0x52 'R'
    .byte 0x45              ;80fd  45          DATA 0x45 'E'
    .byte 0x47              ;80fe  47          DATA 0x47 'G'
    .byte 0x4e              ;80ff  4e          DATA 0x4e 'N'
    .byte 0x4f              ;8100  4f          DATA 0x4f 'O'
    .byte 0x4f              ;8101  4f          DATA 0x4f 'O'
    .byte 0x4e              ;8102  4e          DATA 0x4e 'N'
    .byte 0x69              ;8103  69          DATA 0x69 'i'
    .byte 0x6e              ;8104  6e          DATA 0x6e 'n'
    .byte 0x20              ;8105  20          DATA 0x20 ' '
    .byte 0x20              ;8106  20          DATA 0x20 ' '
    .byte 0x4e              ;8107  4e          DATA 0x4e 'N'
    .byte 0x4f              ;8108  4f          DATA 0x4f 'O'
    .byte 0x4f              ;8109  4f          DATA 0x4f 'O'
    .byte 0x4e              ;810a  4e          DATA 0x4e 'N'

lab_810b:
    bbc 7,CPUM,lab_811a     ;810b  f7 3b 0c     Main clock division ratio selection bit
    clb 5,CPUM              ;810e  bf 3b        Main clock stop bit
    nop                     ;8110  ea
    clb 7,CPUM              ;8111  ff 3b        Main clock division ratio selection bit
    nop                     ;8113  ea
    ldm #0x7c,PRE12         ;8114  3c 7c 20
    ldm #0x04,T1            ;8117  3c 04 21

lab_811a:
    pha                     ;811a  48
    lda #0x00               ;811b  a9 00
    jsr sub_26d8            ;811d  20 d8 26
    eor #0xff               ;8120  49 ff
    sta 0x02c8              ;8122  8d c8 02
    seb 3,0xf6              ;8125  6f f6
    ldm #0xff,TX            ;8127  3c ff 25
    ldm #0xff,PREX          ;812a  3c ff 24
    clb 3,TM                ;812d  7f 23
    pla                     ;812f  68
    rti                     ;8130  40

lab_8131:
    pha                     ;8131  48
    seb 3,TM                ;8132  6f 23
    clb 3,0xf6              ;8134  7f f6
    lda #0x00               ;8136  a9 00
    jsr sub_26d8            ;8138  20 d8 26
    eor #0xff               ;813b  49 ff
    cmp #0xb3               ;813d  c9 b3
    bcs lab_814b            ;813f  b0 0a
    lda PCTL1               ;8141  a5 2e
    and #0x3f               ;8143  29 3f
    sta PCTL1               ;8145  85 2e
    clb 7,P5                ;8147  ff 0a
    clb 6,P5                ;8149  df 0a

lab_814b:
    pla                     ;814b  68
    rti                     ;814c  40

sub_814d:
    lda 0x40                ;814d  a5 40
    pha                     ;814f  48
    bbc 3,0xe6,lab_815a     ;8150  77 e6 07
    lda 0x0268              ;8153  ad 68 02
    cmp #0x82               ;8156  c9 82
    bcs lab_81d2            ;8158  b0 78

lab_815a:
    bbc 3,0xf6,lab_8194     ;815a  77 f6 37
    lda 0x02c8              ;815d  ad c8 02
    cmp #0xff               ;8160  c9 ff
    bcc lab_8166            ;8162  90 02
    lda #0xff               ;8164  a9 ff

lab_8166:
    pha                     ;8166  48
    jsr sub_8214            ;8167  20 14 82
    sta PWM1H               ;816a  85 32
    pla                     ;816c  68
    jsr sub_8200            ;816d  20 00 82
    sta PWM0H               ;8170  85 30
    bbs 0,0xf6,lab_818a     ;8172  07 f6 15
    bbs 3,0xf2,lab_8182     ;8175  67 f2 0a
    bbs 5,0xf4,lab_8182     ;8178  a7 f4 07
    ldy #0x18               ;817b  a0 18
    jsr sub_33c6            ;817d  20 c6 33
    bcc lab_818a            ;8180  90 08

lab_8182:
    lda PCTL1               ;8182  a5 2e
    ora #0xc0               ;8184  09 c0
    sta PCTL1               ;8186  85 2e
    bra lab_8192            ;8188  80 08

lab_818a:
    lda PCTL1               ;818a  a5 2e
    seb 7,a                 ;818c  eb
    clb 6,a                 ;818d  db
    sta PCTL1               ;818e  85 2e
    clb 6,P5                ;8190  df 0a

lab_8192:
    bra lab_81dc            ;8192  80 48

lab_8194:
    lda #0x00               ;8194  a9 00
    jsr sub_26d8            ;8196  20 d8 26
    eor #0xff               ;8199  49 ff
    sta 0x02c8              ;819b  8d c8 02
    cmp #0xb3               ;819e  c9 b3
    bcc lab_81d2            ;81a0  90 30
    lda #0xff               ;81a2  a9 ff
    pha                     ;81a4  48
    jsr sub_8214            ;81a5  20 14 82
    sta PWM1H               ;81a8  85 32
    pla                     ;81aa  68
    jsr sub_8200            ;81ab  20 00 82
    sta PWM0H               ;81ae  85 30
    bbs 0,0xf6,lab_81c8     ;81b0  07 f6 15
    bbs 3,0xf2,lab_81c0     ;81b3  67 f2 0a
    bbs 5,0xf4,lab_81c0     ;81b6  a7 f4 07
    ldy #0x18               ;81b9  a0 18
    jsr sub_33c6            ;81bb  20 c6 33
    bcc lab_81c8            ;81be  90 08

lab_81c0:
    lda PCTL1               ;81c0  a5 2e
    ora #0xc0               ;81c2  09 c0
    sta PCTL1               ;81c4  85 2e
    bra lab_81d0            ;81c6  80 08

lab_81c8:
    lda PCTL1               ;81c8  a5 2e
    seb 7,a                 ;81ca  eb
    clb 6,a                 ;81cb  db
    sta PCTL1               ;81cc  85 2e
    clb 6,P5                ;81ce  df 0a

lab_81d0:
    bra lab_81dc            ;81d0  80 0a

lab_81d2:
    lda PCTL1               ;81d2  a5 2e
    and #0x3f               ;81d4  29 3f
    sta PCTL1               ;81d6  85 2e
    clb 7,P5                ;81d8  ff 0a
    clb 6,P5                ;81da  df 0a

lab_81dc:
    pla                     ;81dc  68
    sta 0x40                ;81dd  85 40
    rts                     ;81df  60

    .byte 0x08              ;81e0  08          DATA 0x08
    .byte 0x10              ;81e1  10          DATA 0x10
    .byte 0x18              ;81e2  18          DATA 0x18
    .byte 0x20              ;81e3  20          DATA 0x20 ' '
    .byte 0x28              ;81e4  28          DATA 0x28 '('
    .byte 0x30              ;81e5  30          DATA 0x30 '0'
    .byte 0x38              ;81e6  38          DATA 0x38 '8'
    .byte 0x40              ;81e7  40          DATA 0x40 '@'
    .byte 0x48              ;81e8  48          DATA 0x48 'H'
    .byte 0x50              ;81e9  50          DATA 0x50 'P'
    .byte 0x58              ;81ea  58          DATA 0x58 'X'
    .byte 0x60              ;81eb  60          DATA 0x60 '`'
    .byte 0x68              ;81ec  68          DATA 0x68 'h'
    .byte 0x70              ;81ed  70          DATA 0x70 'p'
    .byte 0x78              ;81ee  78          DATA 0x78 'x'
    .byte 0x80              ;81ef  80          DATA 0x80
    .byte 0x88              ;81f0  88          DATA 0x88
    .byte 0x90              ;81f1  90          DATA 0x90
    .byte 0x98              ;81f2  98          DATA 0x98
    .byte 0xa0              ;81f3  a0          DATA 0xa0
    .byte 0xa8              ;81f4  a8          DATA 0xa8
    .byte 0xb0              ;81f5  b0          DATA 0xb0
    .byte 0xb8              ;81f6  b8          DATA 0xb8
    .byte 0xc0              ;81f7  c0          DATA 0xc0
    .byte 0xc8              ;81f8  c8          DATA 0xc8
    .byte 0xd0              ;81f9  d0          DATA 0xd0
    .byte 0xd8              ;81fa  d8          DATA 0xd8
    .byte 0xe0              ;81fb  e0          DATA 0xe0
    .byte 0xe8              ;81fc  e8          DATA 0xe8
    .byte 0xf0              ;81fd  f0          DATA 0xf0
    .byte 0xf8              ;81fe  f8          DATA 0xf8
    .byte 0x00              ;81ff  00          DATA 0x00

sub_8200:
    sta 0x40                ;8200  85 40
    ldx 0x02c9              ;8202  ae c9 02
    lda 0x81e0,x            ;8205  bd e0 81
    beq lab_8211            ;8208  f0 07
    ldx #0x00               ;820a  a2 00
    mul 0x40,x              ;820c  62 40
    pla                     ;820e  68
    sta 0x40                ;820f  85 40

lab_8211:
    lda 0x40                ;8211  a5 40
    rts                     ;8213  60

sub_8214:
    sta 0x40                ;8214  85 40
    ldx 0x02ca              ;8216  ae ca 02
    lda 0x81e0,x            ;8219  bd e0 81
    beq lab_8225            ;821c  f0 07
    ldx #0x00               ;821e  a2 00
    mul 0x40,x              ;8220  62 40
    pla                     ;8222  68
    sta 0x40                ;8223  85 40

lab_8225:
    lda 0x40                ;8225  a5 40
    rts                     ;8227  60

    .byte 0xad              ;8228  ad          DATA 0xad
    .byte 0xc8              ;8229  c8          DATA 0xc8
    .byte 0x02              ;822a  02          DATA 0x02
    .byte 0x60              ;822b  60          DATA 0x60 '`'

sub_822c:
    lda #0x04               ;822c  a9 04
    sta 0x0101              ;822e  8d 01 01
    lda #0x00               ;8231  a9 00
    asl a                   ;8233  0a
    ora #0xa0               ;8234  09 a0
    sta 0x0100              ;8236  8d 00 01
    lda #0x00               ;8239  a9 00
    sta 0x4c                ;823b  85 4c
    lda #0x01               ;823d  a9 01
    sta 0x4d                ;823f  85 4d
    ldm #0x02,0x4e          ;8241  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x04,0x4f          ;8244  3c 04 4f     Number of I2C bytes to read = 4
    jsr sub_46e5_i2c_wr_rd  ;8247  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0104              ;824a  ad 04 01
    and #0x1f               ;824d  29 1f
    sta 0x02c9              ;824f  8d c9 02
    lda 0x0105              ;8252  ad 05 01
    and #0x1f               ;8255  29 1f
    sta 0x02ca              ;8257  8d ca 02
    lda 0x0102              ;825a  ad 02 01
    sta 0x02d6              ;825d  8d d6 02
    sta 0x02d8              ;8260  8d d8 02
    lda 0x0103              ;8263  ad 03 01
    sta 0x02d7              ;8266  8d d7 02
    and #0x7f               ;8269  29 7f
    sta 0x02d9              ;826b  8d d9 02
    bne lab_827f            ;826e  d0 0f
    lda 0x02d6              ;8270  ad d6 02
    cmp #0x3c               ;8273  c9 3c
    bcs lab_827f            ;8275  b0 08
    lda #0xff               ;8277  a9 ff
    sta 0x02d6              ;8279  8d d6 02
    sta 0x02d7              ;827c  8d d7 02

lab_827f:
    rts                     ;827f  60

lab_8280:
    pha                     ;8280  48
    bbs 5,IREQ1,lab_82d9    ;8281  a7 3c 55
    bbs 5,0xf6,lab_82d5     ;8284  a7 f6 4e
    seb 7,TM                ;8287  ef 23
    lda PREY                ;8289  a5 26
    eor #0xff               ;828b  49 ff
    sta 0x02cc              ;828d  8d cc 02
    lda TY                  ;8290  a5 27
    eor #0xff               ;8292  49 ff
    sta 0x02cd              ;8294  8d cd 02
    lda 0x02d3              ;8297  ad d3 02
    inc a                   ;829a  3a
    cmp #0x08               ;829b  c9 08
    bcc lab_82bd            ;829d  90 1e
    lda 0x02d1              ;829f  ad d1 02
    lsr a                   ;82a2  4a
    ror 0x02d0              ;82a3  6e d0 02
    lsr a                   ;82a6  4a
    ror 0x02d0              ;82a7  6e d0 02
    lsr a                   ;82aa  4a
    sta 0x02cf              ;82ab  8d cf 02
    lda 0x02d0              ;82ae  ad d0 02
    ror a                   ;82b1  6a
    sta 0x02ce              ;82b2  8d ce 02
    lda #0x00               ;82b5  a9 00
    sta 0x02d0              ;82b7  8d d0 02
    sta 0x02d1              ;82ba  8d d1 02

lab_82bd:
    sta 0x02d3              ;82bd  8d d3 02
    clc                     ;82c0  18
    lda 0x02d0              ;82c1  ad d0 02
    adc 0x02cc              ;82c4  6d cc 02
    sta 0x02d0              ;82c7  8d d0 02
    lda 0x02d1              ;82ca  ad d1 02
    adc 0x02cd              ;82cd  6d cd 02
    sta 0x02d1              ;82d0  8d d1 02
    bra lab_82e7            ;82d3  80 12

lab_82d5:
    clb 5,0xf6              ;82d5  bf f6
    bra lab_82e7            ;82d7  80 0e

lab_82d9:
    clb 5,IREQ1             ;82d9  bf 3c
    lda #0x24               ;82db  a9 24
    sta 0x02cc              ;82dd  8d cc 02
    lda #0xf4               ;82e0  a9 f4
    sta 0x02cd              ;82e2  8d cd 02
    clb 4,0xf6              ;82e5  9f f6

lab_82e7:
    ldm #0xff,TY            ;82e7  3c ff 27
    ldm #0xff,PREY          ;82ea  3c ff 26
    clb 7,TM                ;82ed  ff 23
    pla                     ;82ef  68
    rti                     ;82f0  40

sub_82f1:
    lda #0x00               ;82f1  a9 00
    sta 0x02cb              ;82f3  8d cb 02
    sta 0x02d2              ;82f6  8d d2 02
    lda #0x24               ;82f9  a9 24
    sta 0x02cc              ;82fb  8d cc 02
    lda #0xf4               ;82fe  a9 f4
    sta 0x02cd              ;8300  8d cd 02
    clb 4,0xf6              ;8303  9f f6
    seb 5,0xf6              ;8305  af f6
    ldm #0xff,TY            ;8307  3c ff 27
    ldm #0xff,PREY          ;830a  3c ff 26
    sei                     ;830d  78
    seb 1,ICON2             ;830e  2f 3f
    clb 1,IREQ2             ;8310  3f 3d
    clb 7,TM                ;8312  ff 23
    cli                     ;8314  58
    rts                     ;8315  60

sub_8316:
    sei                     ;8316  78
    seb 7,TM                ;8317  ef 23
    clb 1,ICON2             ;8319  3f 3f
    cli                     ;831b  58
    lda #0x00               ;831c  a9 00
    sta 0x02cb              ;831e  8d cb 02
    sta 0x02d2              ;8321  8d d2 02
    clb 4,0xf6              ;8324  9f f6
    clb 5,0xf6              ;8326  bf f6
    rts                     ;8328  60

sub_8329:
    bbs 0,P8_P4I,lab_832d   ;8329  07 10 01
    rts                     ;832c  60

lab_832d:
    txa                     ;832d  8a
    pha                     ;832e  48
    tya                     ;832f  98
    pha                     ;8330  48
    bbs 5,IREQ1,lab_835f    ;8331  a7 3c 2b
    lda 0x02cd              ;8334  ad cd 02
    cmp #0x1c               ;8337  c9 1c
    bcc lab_8347            ;8339  90 0c
    lda 0x02cc              ;833b  ad cc 02
    sta 0x42                ;833e  85 42
    lda 0x02cd              ;8340  ad cd 02
    sta 0x43                ;8343  85 43
    bra lab_8351            ;8345  80 0a

lab_8347:
    lda 0x02ce              ;8347  ad ce 02
    sta 0x42                ;834a  85 42
    lda 0x02cf              ;834c  ad cf 02
    sta 0x43                ;834f  85 43

lab_8351:
    lda 0x43                ;8351  a5 43
    cmp #0xf4               ;8353  c9 f4
    bcc lab_8369            ;8355  90 12
    bne lab_835f            ;8357  d0 06
    lda 0x42                ;8359  a5 42
    cmp #0x24               ;835b  c9 24
    bcc lab_8369            ;835d  90 0a

lab_835f:
    lda #0x24               ;835f  a9 24
    sta 0x42                ;8361  85 42
    lda #0xf4               ;8363  a9 f4
    sta 0x43                ;8365  85 43
    bra lab_837f            ;8367  80 16

lab_8369:
    lda 0x43                ;8369  a5 43
    cmp #0x09               ;836b  c9 09
    bcc lab_8377            ;836d  90 08
    bne lab_837f            ;836f  d0 0e
    lda 0x42                ;8371  a5 42
    cmp #0xc4               ;8373  c9 c4
    bcs lab_837f            ;8375  b0 08

lab_8377:
    lda #0xc4               ;8377  a9 c4
    sta 0x42                ;8379  85 42
    lda #0x09               ;837b  a9 09
    sta 0x43                ;837d  85 43

lab_837f:
    lsr 0x43                ;837f  46 43
    ror 0x42                ;8381  66 42
    lsr 0x43                ;8383  46 43
    ror 0x42                ;8385  66 42
    lsr 0x43                ;8387  46 43
    ror 0x42                ;8389  66 42
    lsr 0x43                ;838b  46 43
    ror 0x42                ;838d  66 42
    lda #0x96               ;838f  a9 96
    sta 0x40                ;8391  85 40
    lda #0x98               ;8393  a9 98
    sta 0x41                ;8395  85 41
    sei                     ;8397  78
    jsr sub_f254            ;8398  20 54 f2
    cli                     ;839b  58
    lda 0x40                ;839c  a5 40
    sta 0x02d2              ;839e  8d d2 02
    lda 0x02d2              ;83a1  ad d2 02
    cmp #0x0b               ;83a4  c9 0b
    bcs lab_83ac            ;83a6  b0 04
    clb 4,0xf6              ;83a8  9f f6
    bra lab_83ae            ;83aa  80 02

lab_83ac:
    seb 4,0xf6              ;83ac  8f f6

lab_83ae:
    lda 0x0280              ;83ae  ad 80 02
    bne lab_83be            ;83b1  d0 0b
    lda 0x02cb              ;83b3  ad cb 02
    beq lab_8416            ;83b6  f0 5e
    dec 0x02cb              ;83b8  ce cb 02
    jmp lab_8413            ;83bb  4c 13 84

lab_83be:
    lda 0x02cb              ;83be  ad cb 02
    sta 0x41                ;83c1  85 41
    ldy 0x0280              ;83c3  ac 80 02
    lda 0x84b3,y            ;83c6  b9 b3 84
    ldx #0x00               ;83c9  a2 00
    mul 0x41,x              ;83cb  62 41
    sta 0x41                ;83cd  85 41
    pla                     ;83cf  68
    beq lab_83d5            ;83d0  f0 03
    ldm #0xff,0x41          ;83d2  3c ff 41

lab_83d5:
    lda 0x41                ;83d5  a5 41
    cmp #0xe6               ;83d7  c9 e6
    bcc lab_83dd            ;83d9  90 02
    lda #0xe6               ;83db  a9 e6

lab_83dd:
    clc                     ;83dd  18
    adc #0x19               ;83de  69 19
    sta 0x45                ;83e0  85 45
    lda 0x41                ;83e2  a5 41
    beq lab_83ea            ;83e4  f0 04
    sec                     ;83e6  38
    sbc 0x84b3,y            ;83e7  f9 b3 84

lab_83ea:
    clc                     ;83ea  18
    adc #0x0f               ;83eb  69 0f
    sta 0x44                ;83ed  85 44
    lda 0x02cb              ;83ef  ad cb 02
    beq lab_8400            ;83f2  f0 0c
    lda 0x02d2              ;83f4  ad d2 02
    cmp 0x44                ;83f7  c5 44
    bcs lab_8400            ;83f9  b0 05
    dec 0x02cb              ;83fb  ce cb 02
    bra lab_8413            ;83fe  80 13

lab_8400:
    lda 0x02cb              ;8400  ad cb 02
    cmp #0x2c               ;8403  c9 2c
    bcs lab_8416            ;8405  b0 0f
    lda 0x02d2              ;8407  ad d2 02
    cmp 0x45                ;840a  c5 45
    bcc lab_8416            ;840c  90 08
    beq lab_8416            ;840e  f0 06
    inc 0x02cb              ;8410  ee cb 02

lab_8413:
    jsr sub_71bc            ;8413  20 bc 71

lab_8416:
    pla                     ;8416  68
    tay                     ;8417  a8
    pla                     ;8418  68
    tax                     ;8419  aa
    lda 0x02cb              ;841a  ad cb 02
    rts                     ;841d  60

    .byte 0xad              ;841e  ad          DATA 0xad
    .byte 0x80              ;841f  80          DATA 0x80
    .byte 0x02              ;8420  02          DATA 0x02
    .byte 0xd0              ;8421  d0          DATA 0xd0
    .byte 0x05              ;8422  05          DATA 0x05
    .byte 0xa9              ;8423  a9          DATA 0xa9
    .byte 0x00              ;8424  00          DATA 0x00
    .byte 0x4c              ;8425  4c          DATA 0x4c 'L'
    .byte 0xaf              ;8426  af          DATA 0xaf
    .byte 0x84              ;8427  84          DATA 0x84
    .byte 0xa7              ;8428  a7          DATA 0xa7
    .byte 0x3c              ;8429  3c          DATA 0x3c '<'
    .byte 0x2b              ;842a  2b          DATA 0x2b '+'
    .byte 0xad              ;842b  ad          DATA 0xad
    .byte 0xcd              ;842c  cd          DATA 0xcd
    .byte 0x02              ;842d  02          DATA 0x02
    .byte 0xc9              ;842e  c9          DATA 0xc9
    .byte 0x1c              ;842f  1c          DATA 0x1c
    .byte 0x90              ;8430  90          DATA 0x90
    .byte 0x0c              ;8431  0c          DATA 0x0c
    .byte 0xad              ;8432  ad          DATA 0xad
    .byte 0xcc              ;8433  cc          DATA 0xcc
    .byte 0x02              ;8434  02          DATA 0x02
    .byte 0x85              ;8435  85          DATA 0x85
    .byte 0x42              ;8436  42          DATA 0x42 'B'
    .byte 0xad              ;8437  ad          DATA 0xad
    .byte 0xcd              ;8438  cd          DATA 0xcd
    .byte 0x02              ;8439  02          DATA 0x02
    .byte 0x85              ;843a  85          DATA 0x85
    .byte 0x43              ;843b  43          DATA 0x43 'C'
    .byte 0x80              ;843c  80          DATA 0x80
    .byte 0x0a              ;843d  0a          DATA 0x0a
    .byte 0xad              ;843e  ad          DATA 0xad
    .byte 0xce              ;843f  ce          DATA 0xce
    .byte 0x02              ;8440  02          DATA 0x02
    .byte 0x85              ;8441  85          DATA 0x85
    .byte 0x42              ;8442  42          DATA 0x42 'B'
    .byte 0xad              ;8443  ad          DATA 0xad
    .byte 0xcf              ;8444  cf          DATA 0xcf
    .byte 0x02              ;8445  02          DATA 0x02
    .byte 0x85              ;8446  85          DATA 0x85
    .byte 0x43              ;8447  43          DATA 0x43 'C'
    .byte 0xa5              ;8448  a5          DATA 0xa5
    .byte 0x43              ;8449  43          DATA 0x43 'C'
    .byte 0xc9              ;844a  c9          DATA 0xc9
    .byte 0xf4              ;844b  f4          DATA 0xf4
    .byte 0x90              ;844c  90          DATA 0x90
    .byte 0x12              ;844d  12          DATA 0x12
    .byte 0xd0              ;844e  d0          DATA 0xd0
    .byte 0x06              ;844f  06          DATA 0x06
    .byte 0xa5              ;8450  a5          DATA 0xa5
    .byte 0x42              ;8451  42          DATA 0x42 'B'
    .byte 0xc9              ;8452  c9          DATA 0xc9
    .byte 0x24              ;8453  24          DATA 0x24 '$'
    .byte 0x90              ;8454  90          DATA 0x90
    .byte 0x0a              ;8455  0a          DATA 0x0a
    .byte 0xa9              ;8456  a9          DATA 0xa9
    .byte 0x24              ;8457  24          DATA 0x24 '$'
    .byte 0x85              ;8458  85          DATA 0x85
    .byte 0x42              ;8459  42          DATA 0x42 'B'
    .byte 0xa9              ;845a  a9          DATA 0xa9
    .byte 0xf4              ;845b  f4          DATA 0xf4
    .byte 0x85              ;845c  85          DATA 0x85
    .byte 0x43              ;845d  43          DATA 0x43 'C'
    .byte 0x80              ;845e  80          DATA 0x80
    .byte 0x16              ;845f  16          DATA 0x16
    .byte 0xa5              ;8460  a5          DATA 0xa5
    .byte 0x43              ;8461  43          DATA 0x43 'C'
    .byte 0xc9              ;8462  c9          DATA 0xc9
    .byte 0x09              ;8463  09          DATA 0x09
    .byte 0x90              ;8464  90          DATA 0x90
    .byte 0x08              ;8465  08          DATA 0x08
    .byte 0xd0              ;8466  d0          DATA 0xd0
    .byte 0x0e              ;8467  0e          DATA 0x0e
    .byte 0xa5              ;8468  a5          DATA 0xa5
    .byte 0x42              ;8469  42          DATA 0x42 'B'
    .byte 0xc9              ;846a  c9          DATA 0xc9
    .byte 0xc4              ;846b  c4          DATA 0xc4
    .byte 0xb0              ;846c  b0          DATA 0xb0
    .byte 0x08              ;846d  08          DATA 0x08
    .byte 0xa9              ;846e  a9          DATA 0xa9
    .byte 0xc4              ;846f  c4          DATA 0xc4
    .byte 0x85              ;8470  85          DATA 0x85
    .byte 0x42              ;8471  42          DATA 0x42 'B'
    .byte 0xa9              ;8472  a9          DATA 0xa9
    .byte 0x09              ;8473  09          DATA 0x09
    .byte 0x85              ;8474  85          DATA 0x85
    .byte 0x43              ;8475  43          DATA 0x43 'C'
    .byte 0x46              ;8476  46          DATA 0x46 'F'
    .byte 0x43              ;8477  43          DATA 0x43 'C'
    .byte 0x66              ;8478  66          DATA 0x66 'f'
    .byte 0x42              ;8479  42          DATA 0x42 'B'
    .byte 0x46              ;847a  46          DATA 0x46 'F'
    .byte 0x43              ;847b  43          DATA 0x43 'C'
    .byte 0x66              ;847c  66          DATA 0x66 'f'
    .byte 0x42              ;847d  42          DATA 0x42 'B'
    .byte 0x46              ;847e  46          DATA 0x46 'F'
    .byte 0x43              ;847f  43          DATA 0x43 'C'
    .byte 0x66              ;8480  66          DATA 0x66 'f'
    .byte 0x42              ;8481  42          DATA 0x42 'B'
    .byte 0x46              ;8482  46          DATA 0x46 'F'
    .byte 0x43              ;8483  43          DATA 0x43 'C'
    .byte 0x66              ;8484  66          DATA 0x66 'f'
    .byte 0x42              ;8485  42          DATA 0x42 'B'
    .byte 0xad              ;8486  ad          DATA 0xad
    .byte 0x80              ;8487  80          DATA 0x80
    .byte 0x02              ;8488  02          DATA 0x02
    .byte 0x0a              ;8489  0a          DATA 0x0a
    .byte 0xaa              ;848a  aa          DATA 0xaa
    .byte 0xbd              ;848b  bd          DATA 0xbd
    .byte 0xbd              ;848c  bd          DATA 0xbd
    .byte 0x84              ;848d  84          DATA 0x84
    .byte 0x85              ;848e  85          DATA 0x85
    .byte 0x40              ;848f  40          DATA 0x40 '@'
    .byte 0xbd              ;8490  bd          DATA 0xbd
    .byte 0xbe              ;8491  be          DATA 0xbe
    .byte 0x84              ;8492  84          DATA 0x84
    .byte 0x85              ;8493  85          DATA 0x85
    .byte 0x41              ;8494  41          DATA 0x41 'A'
    .byte 0x78              ;8495  78          DATA 0x78 'x'
    .byte 0x20              ;8496  20          DATA 0x20 ' '
    .byte 0x54              ;8497  54          DATA 0x54 'T'
    .byte 0xf2              ;8498  f2          DATA 0xf2
    .byte 0x58              ;8499  58          DATA 0x58 'X'
    .byte 0xa5              ;849a  a5          DATA 0xa5
    .byte 0x40              ;849b  40          DATA 0x40 '@'
    .byte 0x38              ;849c  38          DATA 0x38 '8'
    .byte 0xae              ;849d  ae          DATA 0xae
    .byte 0x80              ;849e  80          DATA 0x80
    .byte 0x02              ;849f  02          DATA 0x02
    .byte 0xfd              ;84a0  fd          DATA 0xfd
    .byte 0xd1              ;84a1  d1          DATA 0xd1
    .byte 0x84              ;84a2  84          DATA 0x84
    .byte 0x10              ;84a3  10          DATA 0x10
    .byte 0x04              ;84a4  04          DATA 0x04
    .byte 0xa9              ;84a5  a9          DATA 0xa9
    .byte 0x00              ;84a6  00          DATA 0x00
    .byte 0x80              ;84a7  80          DATA 0x80
    .byte 0x06              ;84a8  06          DATA 0x06
    .byte 0xc9              ;84a9  c9          DATA 0xc9
    .byte 0x2c              ;84aa  2c          DATA 0x2c ','
    .byte 0x90              ;84ab  90          DATA 0x90
    .byte 0x02              ;84ac  02          DATA 0x02
    .byte 0xa9              ;84ad  a9          DATA 0xa9
    .byte 0x2c              ;84ae  2c          DATA 0x2c ','
    .byte 0x8d              ;84af  8d          DATA 0x8d
    .byte 0xcb              ;84b0  cb          DATA 0xcb
    .byte 0x02              ;84b1  02          DATA 0x02
    .byte 0x60              ;84b2  60          DATA 0x60 '`'
    .byte 0xff              ;84b3  ff          DATA 0xff
    .byte 0x10              ;84b4  10          DATA 0x10
    .byte 0x0d              ;84b5  0d          DATA 0x0d
    .byte 0x0b              ;84b6  0b          DATA 0x0b
    .byte 0x09              ;84b7  09          DATA 0x09
    .byte 0x08              ;84b8  08          DATA 0x08
    .byte 0x07              ;84b9  07          DATA 0x07
    .byte 0x06              ;84ba  06          DATA 0x06
    .byte 0x04              ;84bb  04          DATA 0x04
    .byte 0x03              ;84bc  03          DATA 0x03
    .byte 0x99              ;84bd  99          DATA 0x99
    .byte 0x00              ;84be  00          DATA 0x00
    .byte 0x89              ;84bf  89          DATA 0x89
    .byte 0x09              ;84c0  09          DATA 0x09
    .byte 0xbd              ;84c1  bd          DATA 0xbd
    .byte 0x0b              ;84c2  0b          DATA 0x0b
    .byte 0xdf              ;84c3  df          DATA 0xdf
    .byte 0x0d              ;84c4  0d          DATA 0x0d
    .byte 0xf4              ;84c5  f4          DATA 0xf4
    .byte 0x10              ;84c6  10          DATA 0x10
    .byte 0x13              ;84c7  13          DATA 0x13
    .byte 0x13              ;84c8  13          DATA 0x13
    .byte 0xcc              ;84c9  cc          DATA 0xcc
    .byte 0x15              ;84ca  15          DATA 0x15
    .byte 0x6e              ;84cb  6e          DATA 0x6e 'n'
    .byte 0x19              ;84cc  19          DATA 0x19
    .byte 0x26              ;84cd  26          DATA 0x26 '&'
    .byte 0x26              ;84ce  26          DATA 0x26 '&'
    .byte 0xdd              ;84cf  dd          DATA 0xdd
    .byte 0x32              ;84d0  32          DATA 0x32 '2'
    .byte 0x00              ;84d1  00          DATA 0x00
    .byte 0x01              ;84d2  01          DATA 0x01
    .byte 0x01              ;84d3  01          DATA 0x01
    .byte 0x01              ;84d4  01          DATA 0x01
    .byte 0x02              ;84d5  02          DATA 0x02
    .byte 0x02              ;84d6  02          DATA 0x02
    .byte 0x02              ;84d7  02          DATA 0x02
    .byte 0x03              ;84d8  03          DATA 0x03
    .byte 0x04              ;84d9  04          DATA 0x04
    .byte 0x06              ;84da  06          DATA 0x06
    .byte 0x05              ;84db  05          DATA 0x05
    .byte 0x05              ;84dc  05          DATA 0x05
    .byte 0x05              ;84dd  05          DATA 0x05
    .byte 0x05              ;84de  05          DATA 0x05
    .byte 0x03              ;84df  03          DATA 0x03
    .byte 0x03              ;84e0  03          DATA 0x03
    .byte 0x02              ;84e1  02          DATA 0x02
    .byte 0x02              ;84e2  02          DATA 0x02
    .byte 0x02              ;84e3  02          DATA 0x02
    .byte 0x05              ;84e4  05          DATA 0x05
    .byte 0x02              ;84e5  02          DATA 0x02
    .byte 0x06              ;84e6  06          DATA 0x06
    .byte 0x01              ;84e7  01          DATA 0x01
    .byte 0x01              ;84e8  01          DATA 0x01
    .byte 0x01              ;84e9  01          DATA 0x01
    .byte 0x01              ;84ea  01          DATA 0x01

sub_84eb:
    lda #0x00               ;84eb  a9 00
    sta 0x05bd              ;84ed  8d bd 05
    sta 0x05bc              ;84f0  8d bc 05
    jsr sub_853b            ;84f3  20 3b 85
    bbs 0,0xff,lab_853a     ;84f6  07 ff 41
    clb 2,0xe9              ;84f9  5f e9
    ldx #0x00               ;84fb  a2 00

lab_84fd:
    lda 0x0102,x            ;84fd  bd 02 01
    cmp 0x84db,x            ;8500  dd db 84
    bcc lab_8507            ;8503  90 02
    lda #0x00               ;8505  a9 00

lab_8507:
    sta 0x0290,x            ;8507  9d 90 02
    lda 0x010e,x            ;850a  bd 0e 01
    beq lab_852a            ;850d  f0 1b
    cmp #0x33               ;850f  c9 33
    bcs lab_8528            ;8511  b0 15
    cpx #0x06               ;8513  e0 06
    bne lab_851e            ;8515  d0 07
    ldy 0x02a0,x            ;8517  bc a0 02
    cpy #0x32               ;851a  c0 32
    beq lab_852a            ;851c  f0 0c

lab_851e:
    seb 2,0xe9              ;851e  4f e9
    dec a                   ;8520  1a
    bne lab_852a            ;8521  d0 07
    lda #0x00               ;8523  a9 00
    sta 0x0290,x            ;8525  9d 90 02

lab_8528:
    lda #0x00               ;8528  a9 00

lab_852a:
    sta 0x02a0,x            ;852a  9d a0 02
    inx                     ;852d  e8
    cpx #0x0c               ;852e  e0 0c
    bcc lab_84fd            ;8530  90 cb
    bbc 2,0xe9,lab_853a     ;8532  57 e9 05
    clb 2,0xe9              ;8535  5f e9
    jsr sub_855f            ;8537  20 5f 85     TODO writes unknown data to an unknown I2C device

lab_853a:
    rts                     ;853a  60

sub_853b:
    lda #0x70               ;853b  a9 70
    sta 0x0101              ;853d  8d 01 01
    lda #0x03               ;8540  a9 03
    asl a                   ;8542  0a
    ora #0xa0               ;8543  09 a0
    sta 0x0100              ;8545  8d 00 01
    lda #0x00               ;8548  a9 00
    sta 0x4c                ;854a  85 4c
    lda #0x01               ;854c  a9 01
    sta 0x4d                ;854e  85 4d
    ldm #0x02,0x4e          ;8550  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x18,0x4f          ;8553  3c 18 4f     Number of I2C bytes to read = 24
    jsr sub_46e5_i2c_wr_rd  ;8556  20 e5 46     Perform an I2C write-then-read transaction
    bbc 0,0xff,lab_855e     ;8559  17 ff 02
    seb 1,0x76              ;855c  2f 76

lab_855e:
    rts                     ;855e  60


;TODO writes unknown data to an unknown I2C device
sub_855f:
    ldx #0x00               ;855f  a2 00
lab_8561_loop:
    lda 0x0290,x            ;8561  bd 90 02
    sta 0x0102,x            ;8564  9d 02 01
    lda 0x02a0,x            ;8567  bd a0 02
    sta 0x010e,x            ;856a  9d 0e 01
    inx                     ;856d  e8
    cpx #0x0c               ;856e  e0 0c
    bcc lab_8561_loop       ;8570  90 ef
    lda #0x70               ;8572  a9 70
    sta 0x4a                ;8574  85 4a
    lda #0x03               ;8576  a9 03
    sta 0x4b                ;8578  85 4b
    lda #0x00               ;857a  a9 00
    sta 0x4c                ;857c  85 4c
    lda #0x01               ;857e  a9 01
    sta 0x4d                ;8580  85 4d
    ldm #0x18,0x4e          ;8582  3c 18 4e
    ldm #0x00,0x4f          ;8585  3c 00 4f
    jsr sub_4b4e_i2c_write  ;8588  20 4e 4b     TODO probably writes to an I2C device
    bbc 0,0xff,lab_8590_rts ;858b  17 ff 02
    seb 1,0x76              ;858e  2f 76
lab_8590_rts:
    rts                     ;8590  60


sub_8591:
    bbs 5,P8_P4I,lab_85a8   ;8591  a7 10 14
    lda #0x06               ;8594  a9 06
    sta 0x029f              ;8596  8d 9f 02
    clb 7,P8_P4I            ;8599  ff 10
    lda #0x03               ;859b  a9 03
    sta 0x01af              ;859d  8d af 01
    ldy #0x2e               ;85a0  a0 2e
    jsr sub_3300            ;85a2  20 00 33
    clc                     ;85a5  18
    bra lab_85a9            ;85a6  80 01

lab_85a8:
    sec                     ;85a8  38

lab_85a9:
    rts                     ;85a9  60

    .byte 0x67              ;85aa  67          DATA 0x67 'g'
    .byte 0xe6              ;85ab  e6          DATA 0xe6
    .byte 0x1f              ;85ac  1f          DATA 0x1f
    .byte 0xa7              ;85ad  a7          DATA 0xa7
    .byte 0x10              ;85ae  10          DATA 0x10
    .byte 0x1c              ;85af  1c          DATA 0x1c
    .byte 0xa9              ;85b0  a9          DATA 0xa9
    .byte 0x01              ;85b1  01          DATA 0x01
    .byte 0x8d              ;85b2  8d          DATA 0x8d
    .byte 0x9f              ;85b3  9f          DATA 0x9f
    .byte 0x02              ;85b4  02          DATA 0x02
    .byte 0x2f              ;85b5  2f          DATA 0x2f '/'
    .byte 0x00              ;85b6  00          DATA 0x00
    .byte 0x4f              ;85b7  4f          DATA 0x4f 'O'
    .byte 0x00              ;85b8  00          DATA 0x00
    .byte 0x20              ;85b9  20          DATA 0x20 ' '
    .byte 0x39              ;85ba  39          DATA 0x39 '9'
    .byte 0x86              ;85bb  86          DATA 0x86
    .byte 0x07              ;85bc  07          DATA 0x07
    .byte 0xff              ;85bd  ff          DATA 0xff
    .byte 0x0d              ;85be  0d          DATA 0x0d
    .byte 0xa9              ;85bf  a9          DATA 0xa9
    .byte 0x09              ;85c0  09          DATA 0x09
    .byte 0x8d              ;85c1  8d          DATA 0x8d
    .byte 0xaf              ;85c2  af          DATA 0xaf
    .byte 0x01              ;85c3  01          DATA 0x01
    .byte 0xa0              ;85c4  a0          DATA 0xa0
    .byte 0x2e              ;85c5  2e          DATA 0x2e '.'
    .byte 0x20              ;85c6  20          DATA 0x20 ' '
    .byte 0x00              ;85c7  00          DATA 0x00
    .byte 0x33              ;85c8  33          DATA 0x33 '3'
    .byte 0x18              ;85c9  18          DATA 0x18
    .byte 0x80              ;85ca  80          DATA 0x80
    .byte 0x01              ;85cb  01          DATA 0x01
    .byte 0x38              ;85cc  38          DATA 0x38 '8'
    .byte 0x60              ;85cd  60          DATA 0x60 '`'

sub_85ce:
    lda #0x02               ;85ce  a9 02
    sta 0x029f              ;85d0  8d 9f 02
    clb 7,P8_P4I            ;85d3  ff 10
    bbs 5,P8_P4I,lab_85dd   ;85d5  a7 10 05
    lda #0x03               ;85d8  a9 03
    bbc 3,0xe9,lab_85e1     ;85da  77 e9 04

lab_85dd:
    clb 3,0xe9              ;85dd  7f e9
    lda #0x32               ;85df  a9 32

lab_85e1:
    sta 0x01af              ;85e1  8d af 01
    clb 5,P8_P4I            ;85e4  bf 10
    clb 7,P2                ;85e6  ff 04
    ldy #0x2e               ;85e8  a0 2e
    jsr sub_3300            ;85ea  20 00 33
    rts                     ;85ed  60

    .byte 0xa7              ;85ee  a7          DATA 0xa7
    .byte 0x10              ;85ef  10          DATA 0x10
    .byte 0x1c              ;85f0  1c          DATA 0x1c
    .byte 0xa9              ;85f1  a9          DATA 0xa9
    .byte 0x03              ;85f2  03          DATA 0x03
    .byte 0x8d              ;85f3  8d          DATA 0x8d
    .byte 0x9f              ;85f4  9f          DATA 0x9f
    .byte 0x02              ;85f5  02          DATA 0x02
    .byte 0x2f              ;85f6  2f          DATA 0x2f '/'
    .byte 0x00              ;85f7  00          DATA 0x00
    .byte 0x4f              ;85f8  4f          DATA 0x4f 'O'
    .byte 0x00              ;85f9  00          DATA 0x00
    .byte 0x20              ;85fa  20          DATA 0x20 ' '
    .byte 0x39              ;85fb  39          DATA 0x39 '9'
    .byte 0x86              ;85fc  86          DATA 0x86
    .byte 0x07              ;85fd  07          DATA 0x07
    .byte 0xff              ;85fe  ff          DATA 0xff
    .byte 0x0d              ;85ff  0d          DATA 0x0d
    .byte 0xa9              ;8600  a9          DATA 0xa9
    .byte 0x09              ;8601  09          DATA 0x09
    .byte 0x8d              ;8602  8d          DATA 0x8d
    .byte 0xaf              ;8603  af          DATA 0xaf
    .byte 0x01              ;8604  01          DATA 0x01
    .byte 0xa0              ;8605  a0          DATA 0xa0
    .byte 0x2e              ;8606  2e          DATA 0x2e '.'
    .byte 0x20              ;8607  20          DATA 0x20 ' '
    .byte 0x00              ;8608  00          DATA 0x00
    .byte 0x33              ;8609  33          DATA 0x33 '3'
    .byte 0x18              ;860a  18          DATA 0x18
    .byte 0x80              ;860b  80          DATA 0x80
    .byte 0x01              ;860c  01          DATA 0x01
    .byte 0x38              ;860d  38          DATA 0x38 '8'
    .byte 0x60              ;860e  60          DATA 0x60 '`'

sub_860f:
    bbc 7,P8_P4I,lab_862e   ;860f  f7 10 1c
    lda #0x04               ;8612  a9 04
    sta 0x029f              ;8614  8d 9f 02
    seb 1,P0                ;8617  2f 00
    seb 2,P0                ;8619  4f 00
    jsr sub_8639            ;861b  20 39 86
    bbs 0,0xff,lab_862e     ;861e  07 ff 0d
    lda #0x09               ;8621  a9 09
    sta 0x01af              ;8623  8d af 01
    ldy #0x2e               ;8626  a0 2e
    jsr sub_3300            ;8628  20 00 33
    clc                     ;862b  18
    bra lab_862f            ;862c  80 01

lab_862e:
    sec                     ;862e  38

lab_862f:
    rts                     ;862f  60

    .byte 0x20              ;8630  20          DATA 0x20 ' '
    .byte 0x0f              ;8631  0f          DATA 0x0f
    .byte 0x86              ;8632  86          DATA 0x86
    .byte 0xa9              ;8633  a9          DATA 0xa9
    .byte 0x05              ;8634  05          DATA 0x05
    .byte 0x8d              ;8635  8d          DATA 0x8d
    .byte 0x9f              ;8636  9f          DATA 0x9f
    .byte 0x02              ;8637  02          DATA 0x02
    .byte 0x60              ;8638  60          DATA 0x60 '`'

sub_8639:
    seb 7,P8_P4I            ;8639  ef 10
    ldy #0x01               ;863b  a0 01
    jsr sub_f21e            ;863d  20 1e f2
    lda #0x44               ;8640  a9 44
    sta 0x0100              ;8642  8d 00 01
    lda #0x00               ;8645  a9 00
    sta 0x4c                ;8647  85 4c
    lda #0x01               ;8649  a9 01
    sta 0x4d                ;864b  85 4d
    ldm #0x01,0x4e          ;864d  3c 01 4e     Number of I2C bytes to write = 1
    ldm #0x00,0x4f          ;8650  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;8653  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;8656  60

    .byte 0xad              ;8657  ad          DATA 0xad
    .byte 0x9f              ;8658  9f          DATA 0x9f
    .byte 0x02              ;8659  02          DATA 0x02
    .byte 0xc9              ;865a  c9          DATA 0xc9
    .byte 0x01              ;865b  01          DATA 0x01
    .byte 0xd0              ;865c  d0          DATA 0xd0
    .byte 0x38              ;865d  38          DATA 0x38 '8'
    .byte 0x20              ;865e  20          DATA 0x20 ' '
    .byte 0x29              ;865f  29          DATA 0x29 ')'
    .byte 0x83              ;8660  83          DATA 0x83
    .byte 0x20              ;8661  20          DATA 0x20 ' '
    .byte 0xea              ;8662  ea          DATA 0xea
    .byte 0x86              ;8663  86          DATA 0x86
    .byte 0x07              ;8664  07          DATA 0x07
    .byte 0xff              ;8665  ff          DATA 0xff
    .byte 0x29              ;8666  29          DATA 0x29 ')'
    .byte 0x20              ;8667  20          DATA 0x20 ' '
    .byte 0x84              ;8668  84          DATA 0x84
    .byte 0x87              ;8669  87          DATA 0x87
    .byte 0x20              ;866a  20          DATA 0x20 ' '
    .byte 0x75              ;866b  75          DATA 0x75 'u'
    .byte 0x9f              ;866c  9f          DATA 0x9f
    .byte 0x20              ;866d  20          DATA 0x20 ' '
    .byte 0x14              ;866e  14          DATA 0x14
    .byte 0x88              ;866f  88          DATA 0x88
    .byte 0x97              ;8670  97          DATA 0x97
    .byte 0xe9              ;8671  e9          DATA 0xe9
    .byte 0x12              ;8672  12          DATA 0x12
    .byte 0xae              ;8673  ae          DATA 0xae
    .byte 0xfc              ;8674  fc          DATA 0xfc
    .byte 0x02              ;8675  02          DATA 0x02
    .byte 0xe0              ;8676  e0          DATA 0xe0
    .byte 0x05              ;8677  05          DATA 0x05
    .byte 0x90              ;8678  90          DATA 0x90
    .byte 0x04              ;8679  04          DATA 0x04
    .byte 0x9f              ;867a  9f          DATA 0x9f
    .byte 0xe9              ;867b  e9          DATA 0xe9
    .byte 0x80              ;867c  80          DATA 0x80
    .byte 0x07              ;867d  07          DATA 0x07
    .byte 0xaf              ;867e  af          DATA 0xaf
    .byte 0xe9              ;867f  e9          DATA 0xe9
    .byte 0xee              ;8680  ee          DATA 0xee
    .byte 0xfc              ;8681  fc          DATA 0xfc
    .byte 0x02              ;8682  02          DATA 0x02
    .byte 0x80              ;8683  80          DATA 0x80
    .byte 0x0b              ;8684  0b          DATA 0x0b
    .byte 0xaf              ;8685  af          DATA 0xaf
    .byte 0x10              ;8686  10          DATA 0x10
    .byte 0xef              ;8687  ef          DATA 0xef
    .byte 0x04              ;8688  04          DATA 0x04
    .byte 0xa0              ;8689  a0          DATA 0xa0
    .byte 0x0a              ;868a  0a          DATA 0x0a
    .byte 0x20              ;868b  20          DATA 0x20 ' '
    .byte 0x2c              ;868c  2c          DATA 0x2c ','
    .byte 0xf2              ;868d  f2          DATA 0xf2
    .byte 0xcf              ;868e  cf          DATA 0xcf
    .byte 0x10              ;868f  10          DATA 0x10
    .byte 0x80              ;8690  80          DATA 0x80
    .byte 0x57              ;8691  57          DATA 0x57 'W'
    .byte 0xff              ;8692  ff          DATA 0xff
    .byte 0x10              ;8693  10          DATA 0x10
    .byte 0x80              ;8694  80          DATA 0x80
    .byte 0x53              ;8695  53          DATA 0x53 'S'
    .byte 0xc9              ;8696  c9          DATA 0xc9
    .byte 0x02              ;8697  02          DATA 0x02
    .byte 0xd0              ;8698  d0          DATA 0xd0
    .byte 0x05              ;8699  05          DATA 0x05
    .byte 0x20              ;869a  20          DATA 0x20 ' '
    .byte 0xee              ;869b  ee          DATA 0xee
    .byte 0x85              ;869c  85          DATA 0x85
    .byte 0x80              ;869d  80          DATA 0x80
    .byte 0x4a              ;869e  4a          DATA 0x4a 'J'
    .byte 0xc9              ;869f  c9          DATA 0xc9
    .byte 0x06              ;86a0  06          DATA 0x06
    .byte 0xd0              ;86a1  d0          DATA 0xd0
    .byte 0x05              ;86a2  05          DATA 0x05
    .byte 0x20              ;86a3  20          DATA 0x20 ' '
    .byte 0xaa              ;86a4  aa          DATA 0xaa
    .byte 0x85              ;86a5  85          DATA 0x85
    .byte 0x80              ;86a6  80          DATA 0x80
    .byte 0x41              ;86a7  41          DATA 0x41 'A'
    .byte 0xc9              ;86a8  c9          DATA 0xc9
    .byte 0x03              ;86a9  03          DATA 0x03
    .byte 0xd0              ;86aa  d0          DATA 0xd0
    .byte 0x0e              ;86ab  0e          DATA 0x0e
    .byte 0x20              ;86ac  20          DATA 0x20 ' '
    .byte 0x54              ;86ad  54          DATA 0x54 'T'
    .byte 0x87              ;86ae  87          DATA 0x87
    .byte 0x20              ;86af  20          DATA 0x20 ' '
    .byte 0x84              ;86b0  84          DATA 0x84
    .byte 0x87              ;86b1  87          DATA 0x87
    .byte 0x20              ;86b2  20          DATA 0x20 ' '
    .byte 0x75              ;86b3  75          DATA 0x75 'u'
    .byte 0x9f              ;86b4  9f          DATA 0x9f
    .byte 0x20              ;86b5  20          DATA 0x20 ' '
    .byte 0x14              ;86b6  14          DATA 0x14
    .byte 0x88              ;86b7  88          DATA 0x88
    .byte 0x80              ;86b8  80          DATA 0x80
    .byte 0x2f              ;86b9  2f          DATA 0x2f '/'
    .byte 0xc9              ;86ba  c9          DATA 0xc9
    .byte 0x04              ;86bb  04          DATA 0x04
    .byte 0xd0              ;86bc  d0          DATA 0xd0
    .byte 0x0e              ;86bd  0e          DATA 0x0e
    .byte 0x20              ;86be  20          DATA 0x20 ' '
    .byte 0xea              ;86bf  ea          DATA 0xea
    .byte 0x86              ;86c0  86          DATA 0x86
    .byte 0x07              ;86c1  07          DATA 0x07
    .byte 0xff              ;86c2  ff          DATA 0xff
    .byte 0x06              ;86c3  06          DATA 0x06
    .byte 0x20              ;86c4  20          DATA 0x20 ' '
    .byte 0x75              ;86c5  75          DATA 0x75 'u'
    .byte 0x87              ;86c6  87          DATA 0x87
    .byte 0x20              ;86c7  20          DATA 0x20 ' '
    .byte 0x14              ;86c8  14          DATA 0x14
    .byte 0x88              ;86c9  88          DATA 0x88
    .byte 0x80              ;86ca  80          DATA 0x80
    .byte 0x1d              ;86cb  1d          DATA 0x1d
    .byte 0xc9              ;86cc  c9          DATA 0xc9
    .byte 0x05              ;86cd  05          DATA 0x05
    .byte 0xd0              ;86ce  d0          DATA 0xd0
    .byte 0x19              ;86cf  19          DATA 0x19
    .byte 0x20              ;86d0  20          DATA 0x20 ' '
    .byte 0xea              ;86d1  ea          DATA 0xea
    .byte 0x86              ;86d2  86          DATA 0x86
    .byte 0x07              ;86d3  07          DATA 0x07
    .byte 0xff              ;86d4  ff          DATA 0xff
    .byte 0x13              ;86d5  13          DATA 0x13
    .byte 0x20              ;86d6  20          DATA 0x20 ' '
    .byte 0x75              ;86d7  75          DATA 0x75 'u'
    .byte 0x87              ;86d8  87          DATA 0x87
    .byte 0xa7              ;86d9  a7          DATA 0xa7
    .byte 0xef              ;86da  ef          DATA 0xef
    .byte 0x02              ;86db  02          DATA 0x02
    .byte 0xbf              ;86dc  bf          DATA 0xbf
    .byte 0xef              ;86dd  ef          DATA 0xef
    .byte 0xc7              ;86de  c7          DATA 0xc7
    .byte 0xef              ;86df  ef          DATA 0xef
    .byte 0x02              ;86e0  02          DATA 0x02
    .byte 0xdf              ;86e1  df          DATA 0xdf
    .byte 0xef              ;86e2  ef          DATA 0xef
    .byte 0x07              ;86e3  07          DATA 0x07
    .byte 0xf1              ;86e4  f1          DATA 0xf1
    .byte 0x03              ;86e5  03          DATA 0x03
    .byte 0x20              ;86e6  20          DATA 0x20 ' '
    .byte 0x70              ;86e7  70          DATA 0x70 'p'
    .byte 0x50              ;86e8  50          DATA 0x50 'P'
    .byte 0x60              ;86e9  60          DATA 0x60 '`'
    .byte 0xa9              ;86ea  a9          DATA 0xa9
    .byte 0x44              ;86eb  44          DATA 0x44 'D'
    .byte 0x8d              ;86ec  8d          DATA 0x8d
    .byte 0x00              ;86ed  00          DATA 0x00
    .byte 0x01              ;86ee  01          DATA 0x01
    .byte 0xa9              ;86ef  a9          DATA 0xa9
    .byte 0x00              ;86f0  00          DATA 0x00
    .byte 0x85              ;86f1  85          DATA 0x85
    .byte 0x4c              ;86f2  4c          DATA 0x4c 'L'
    .byte 0xa9              ;86f3  a9          DATA 0xa9
    .byte 0x01              ;86f4  01          DATA 0x01
    .byte 0x85              ;86f5  85          DATA 0x85
    .byte 0x4d              ;86f6  4d          DATA 0x4d 'M'
    .byte 0x3c              ;86f7  3c          DATA 0x3c '<'
    .byte 0x01              ;86f8  01          DATA 0x01
    .byte 0x4e              ;86f9  4e          DATA 0x4e 'N'
    .byte 0x3c              ;86fa  3c          DATA 0x3c '<'
    .byte 0x03              ;86fb  03          DATA 0x03
    .byte 0x4f              ;86fc  4f          DATA 0x4f 'O'
    .byte 0x20              ;86fd  20          DATA 0x20 ' '
    .byte 0x8e              ;86fe  8e          DATA 0x8e
    .byte 0x47              ;86ff  47          DATA 0x47 'G'
    .byte 0x20              ;8700  20          DATA 0x20 ' '
    .byte 0x0b              ;8701  0b          DATA 0x0b
    .byte 0x87              ;8702  87          DATA 0x87
    .byte 0x18              ;8703  18          DATA 0x18
    .byte 0x17              ;8704  17          DATA 0x17
    .byte 0xff              ;8705  ff          DATA 0xff
    .byte 0x03              ;8706  03          DATA 0x03
    .byte 0x8f              ;8707  8f          DATA 0x8f
    .byte 0x76              ;8708  76          DATA 0x76 'v'
    .byte 0x38              ;8709  38          DATA 0x38 '8'
    .byte 0x60              ;870a  60          DATA 0x60 '`'
    .byte 0xa2              ;870b  a2          DATA 0xa2
    .byte 0x00              ;870c  00          DATA 0x00
    .byte 0xad              ;870d  ad          DATA 0xad
    .byte 0xbf              ;870e  bf          DATA 0xbf
    .byte 0x05              ;870f  05          DATA 0x05
    .byte 0xc9              ;8710  c9          DATA 0xc9
    .byte 0x0a              ;8711  0a          DATA 0x0a
    .byte 0x90              ;8712  90          DATA 0x90
    .byte 0x02              ;8713  02          DATA 0x02
    .byte 0xa2              ;8714  a2          DATA 0xa2
    .byte 0x01              ;8715  01          DATA 0x01
    .byte 0x8e              ;8716  8e          DATA 0x8e
    .byte 0x04              ;8717  04          DATA 0x04
    .byte 0x01              ;8718  01          DATA 0x01
    .byte 0xa2              ;8719  a2          DATA 0xa2
    .byte 0x01              ;871a  01          DATA 0x01
    .byte 0xa7              ;871b  a7          DATA 0xa7
    .byte 0xf4              ;871c  f4          DATA 0xf4
    .byte 0x07              ;871d  07          DATA 0x07
    .byte 0xad              ;871e  ad          DATA 0xad
    .byte 0xd2              ;871f  d2          DATA 0xd2
    .byte 0x02              ;8720  02          DATA 0x02
    .byte 0xc9              ;8721  c9          DATA 0xc9
    .byte 0x0f              ;8722  0f          DATA 0x0f
    .byte 0x90              ;8723  90          DATA 0x90
    .byte 0x03              ;8724  03          DATA 0x03
    .byte 0x37              ;8725  37          DATA 0x37 '7'
    .byte 0xef              ;8726  ef          DATA 0xef
    .byte 0x01              ;8727  01          DATA 0x01
    .byte 0xca              ;8728  ca          DATA 0xca
    .byte 0x8e              ;8729  8e          DATA 0x8e
    .byte 0x05              ;872a  05          DATA 0x05
    .byte 0x01              ;872b  01          DATA 0x01
    .byte 0xa2              ;872c  a2          DATA 0xa2
    .byte 0x01              ;872d  01          DATA 0x01
    .byte 0xad              ;872e  ad          DATA 0xad
    .byte 0xbe              ;872f  be          DATA 0xbe
    .byte 0x05              ;8730  05          DATA 0x05
    .byte 0xc9              ;8731  c9          DATA 0xc9
    .byte 0x0a              ;8732  0a          DATA 0x0a
    .byte 0xb0              ;8733  b0          DATA 0xb0
    .byte 0x01              ;8734  01          DATA 0x01
    .byte 0xca              ;8735  ca          DATA 0xca
    .byte 0x8e              ;8736  8e          DATA 0x8e
    .byte 0x06              ;8737  06          DATA 0x06
    .byte 0x01              ;8738  01          DATA 0x01
    .byte 0xa2              ;8739  a2          DATA 0xa2
    .byte 0x01              ;873a  01          DATA 0x01
    .byte 0xad              ;873b  ad          DATA 0xad
    .byte 0xbc              ;873c  bc          DATA 0xbc
    .byte 0x05              ;873d  05          DATA 0x05
    .byte 0xc9              ;873e  c9          DATA 0xc9
    .byte 0x0a              ;873f  0a          DATA 0x0a
    .byte 0xb0              ;8740  b0          DATA 0xb0
    .byte 0x01              ;8741  01          DATA 0x01
    .byte 0xca              ;8742  ca          DATA 0xca
    .byte 0x8e              ;8743  8e          DATA 0x8e
    .byte 0x07              ;8744  07          DATA 0x07
    .byte 0x01              ;8745  01          DATA 0x01
    .byte 0xa2              ;8746  a2          DATA 0xa2
    .byte 0x01              ;8747  01          DATA 0x01
    .byte 0xad              ;8748  ad          DATA 0xad
    .byte 0xbd              ;8749  bd          DATA 0xbd
    .byte 0x05              ;874a  05          DATA 0x05
    .byte 0xc9              ;874b  c9          DATA 0xc9
    .byte 0x07              ;874c  07          DATA 0x07
    .byte 0xb0              ;874d  b0          DATA 0xb0
    .byte 0x01              ;874e  01          DATA 0x01
    .byte 0xca              ;874f  ca          DATA 0xca
    .byte 0x8e              ;8750  8e          DATA 0x8e
    .byte 0x08              ;8751  08          DATA 0x08
    .byte 0x01              ;8752  01          DATA 0x01
    .byte 0x60              ;8753  60          DATA 0x60 '`'
    .byte 0xa9              ;8754  a9          DATA 0xa9
    .byte 0x44              ;8755  44          DATA 0x44 'D'
    .byte 0x8d              ;8756  8d          DATA 0x8d
    .byte 0x00              ;8757  00          DATA 0x00
    .byte 0x01              ;8758  01          DATA 0x01
    .byte 0xa9              ;8759  a9          DATA 0xa9
    .byte 0x00              ;875a  00          DATA 0x00
    .byte 0x85              ;875b  85          DATA 0x85
    .byte 0x4c              ;875c  4c          DATA 0x4c 'L'
    .byte 0xa9              ;875d  a9          DATA 0xa9
    .byte 0x01              ;875e  01          DATA 0x01
    .byte 0x85              ;875f  85          DATA 0x85
    .byte 0x4d              ;8760  4d          DATA 0x4d 'M'
    .byte 0x3c              ;8761  3c          DATA 0x3c '<'
    .byte 0x01              ;8762  01          DATA 0x01
    .byte 0x4e              ;8763  4e          DATA 0x4e 'N'
    .byte 0x3c              ;8764  3c          DATA 0x3c '<'
    .byte 0x03              ;8765  03          DATA 0x03
    .byte 0x4f              ;8766  4f          DATA 0x4f 'O'
    .byte 0x20              ;8767  20          DATA 0x20 ' '
    .byte 0xe5              ;8768  e5          DATA 0xe5
    .byte 0x46              ;8769  46          DATA 0x46 'F'
    .byte 0x20              ;876a  20          DATA 0x20 ' '
    .byte 0x0b              ;876b  0b          DATA 0x0b
    .byte 0x87              ;876c  87          DATA 0x87
    .byte 0x18              ;876d  18          DATA 0x18
    .byte 0x17              ;876e  17          DATA 0x17
    .byte 0xff              ;876f  ff          DATA 0xff
    .byte 0x03              ;8770  03          DATA 0x03
    .byte 0x8f              ;8771  8f          DATA 0x8f
    .byte 0x76              ;8772  76          DATA 0x76 'v'
    .byte 0x38              ;8773  38          DATA 0x38 '8'
    .byte 0x60              ;8774  60          DATA 0x60 '`'
    .byte 0xad              ;8775  ad          DATA 0xad
    .byte 0x01              ;8776  01          DATA 0x01
    .byte 0x01              ;8777  01          DATA 0x01
    .byte 0xc9              ;8778  c9          DATA 0xc9
    .byte 0x40              ;8779  40          DATA 0x40 '@'
    .byte 0x90              ;877a  90          DATA 0x90
    .byte 0x03              ;877b  03          DATA 0x03
    .byte 0x4c              ;877c  4c          DATA 0x4c 'L'
    .byte 0x13              ;877d  13          DATA 0x13
    .byte 0x88              ;877e  88          DATA 0x88
    .byte 0x09              ;877f  09          DATA 0x09
    .byte 0xc0              ;8780  c0          DATA 0xc0
    .byte 0x8d              ;8781  8d          DATA 0x8d
    .byte 0x01              ;8782  01          DATA 0x01
    .byte 0x01              ;8783  01          DATA 0x01
    .byte 0x37              ;8784  37          DATA 0x37 '7'
    .byte 0xe9              ;8785  e9          DATA 0xe9
    .byte 0x08              ;8786  08          DATA 0x08
    .byte 0xa9              ;8787  a9          DATA 0xa9
    .byte 0xff              ;8788  ff          DATA 0xff
    .byte 0x8d              ;8789  8d          DATA 0x8d
    .byte 0x01              ;878a  01          DATA 0x01
    .byte 0x01              ;878b  01          DATA 0x01
    .byte 0x8d              ;878c  8d          DATA 0x8d
    .byte 0x02              ;878d  02          DATA 0x02
    .byte 0x01              ;878e  01          DATA 0x01
    .byte 0xad              ;878f  ad          DATA 0xad
    .byte 0x02              ;8790  02          DATA 0x02
    .byte 0x01              ;8791  01          DATA 0x01
    .byte 0x29              ;8792  29          DATA 0x29 ')'
    .byte 0x0f              ;8793  0f          DATA 0x0f
    .byte 0xaa              ;8794  aa          DATA 0xaa
    .byte 0xbd              ;8795  bd          DATA 0xbd
    .byte 0xef              ;8796  ef          DATA 0xef
    .byte 0x88              ;8797  88          DATA 0x88
    .byte 0x8d              ;8798  8d          DATA 0x8d
    .byte 0x70              ;8799  70          DATA 0x70 'p'
    .byte 0x03              ;879a  03          DATA 0x03
    .byte 0xad              ;879b  ad          DATA 0xad
    .byte 0x01              ;879c  01          DATA 0x01
    .byte 0x01              ;879d  01          DATA 0x01
    .byte 0x29              ;879e  29          DATA 0x29 ')'
    .byte 0x0f              ;879f  0f          DATA 0x0f
    .byte 0xaa              ;87a0  aa          DATA 0xaa
    .byte 0xbd              ;87a1  bd          DATA 0xbd
    .byte 0xef              ;87a2  ef          DATA 0xef
    .byte 0x88              ;87a3  88          DATA 0x88
    .byte 0x8d              ;87a4  8d          DATA 0x8d
    .byte 0x71              ;87a5  71          DATA 0x71 'q'
    .byte 0x03              ;87a6  03          DATA 0x03
    .byte 0xad              ;87a7  ad          DATA 0xad
    .byte 0x02              ;87a8  02          DATA 0x02
    .byte 0x01              ;87a9  01          DATA 0x01
    .byte 0x4a              ;87aa  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87ab  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87ac  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87ad  4a          DATA 0x4a 'J'
    .byte 0xaa              ;87ae  aa          DATA 0xaa
    .byte 0xbd              ;87af  bd          DATA 0xbd
    .byte 0xef              ;87b0  ef          DATA 0xef
    .byte 0x88              ;87b1  88          DATA 0x88
    .byte 0x8d              ;87b2  8d          DATA 0x8d
    .byte 0x72              ;87b3  72          DATA 0x72 'r'
    .byte 0x03              ;87b4  03          DATA 0x03
    .byte 0xad              ;87b5  ad          DATA 0xad
    .byte 0x01              ;87b6  01          DATA 0x01
    .byte 0x01              ;87b7  01          DATA 0x01
    .byte 0x4a              ;87b8  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87b9  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87ba  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87bb  4a          DATA 0x4a 'J'
    .byte 0xaa              ;87bc  aa          DATA 0xaa
    .byte 0xbd              ;87bd  bd          DATA 0xbd
    .byte 0xef              ;87be  ef          DATA 0xef
    .byte 0x88              ;87bf  88          DATA 0x88
    .byte 0x8d              ;87c0  8d          DATA 0x8d
    .byte 0x73              ;87c1  73          DATA 0x73 's'
    .byte 0x03              ;87c2  03          DATA 0x03
    .byte 0xad              ;87c3  ad          DATA 0xad
    .byte 0x03              ;87c4  03          DATA 0x03
    .byte 0x01              ;87c5  01          DATA 0x01
    .byte 0x29              ;87c6  29          DATA 0x29 ')'
    .byte 0x03              ;87c7  03          DATA 0x03
    .byte 0xaa              ;87c8  aa          DATA 0xaa
    .byte 0xbd              ;87c9  bd          DATA 0xbd
    .byte 0xff              ;87ca  ff          DATA 0xff
    .byte 0x88              ;87cb  88          DATA 0x88
    .byte 0x8d              ;87cc  8d          DATA 0x8d
    .byte 0x74              ;87cd  74          DATA 0x74 't'
    .byte 0x03              ;87ce  03          DATA 0x03
    .byte 0xad              ;87cf  ad          DATA 0xad
    .byte 0x03              ;87d0  03          DATA 0x03
    .byte 0x01              ;87d1  01          DATA 0x01
    .byte 0x4a              ;87d2  4a          DATA 0x4a 'J'
    .byte 0x4a              ;87d3  4a          DATA 0x4a 'J'
    .byte 0x29              ;87d4  29          DATA 0x29 ')'
    .byte 0x03              ;87d5  03          DATA 0x03
    .byte 0xaa              ;87d6  aa          DATA 0xaa
    .byte 0xbd              ;87d7  bd          DATA 0xbd
    .byte 0xff              ;87d8  ff          DATA 0xff
    .byte 0x88              ;87d9  88          DATA 0x88
    .byte 0x8d              ;87da  8d          DATA 0x8d
    .byte 0x75              ;87db  75          DATA 0x75 'u'
    .byte 0x03              ;87dc  03          DATA 0x03
    .byte 0xad              ;87dd  ad          DATA 0xad
    .byte 0x04              ;87de  04          DATA 0x04
    .byte 0x01              ;87df  01          DATA 0x01
    .byte 0x8d              ;87e0  8d          DATA 0x8d
    .byte 0x76              ;87e1  76          DATA 0x76 'v'
    .byte 0x03              ;87e2  03          DATA 0x03
    .byte 0xad              ;87e3  ad          DATA 0xad
    .byte 0x05              ;87e4  05          DATA 0x05
    .byte 0x01              ;87e5  01          DATA 0x01
    .byte 0x8d              ;87e6  8d          DATA 0x8d
    .byte 0x77              ;87e7  77          DATA 0x77 'w'
    .byte 0x03              ;87e8  03          DATA 0x03
    .byte 0xad              ;87e9  ad          DATA 0xad
    .byte 0x06              ;87ea  06          DATA 0x06
    .byte 0x01              ;87eb  01          DATA 0x01
    .byte 0x8d              ;87ec  8d          DATA 0x8d
    .byte 0x78              ;87ed  78          DATA 0x78 'x'
    .byte 0x03              ;87ee  03          DATA 0x03
    .byte 0xad              ;87ef  ad          DATA 0xad
    .byte 0x07              ;87f0  07          DATA 0x07
    .byte 0x01              ;87f1  01          DATA 0x01
    .byte 0x8d              ;87f2  8d          DATA 0x8d
    .byte 0x79              ;87f3  79          DATA 0x79 'y'
    .byte 0x03              ;87f4  03          DATA 0x03
    .byte 0xad              ;87f5  ad          DATA 0xad
    .byte 0x08              ;87f6  08          DATA 0x08
    .byte 0x01              ;87f7  01          DATA 0x01
    .byte 0x8d              ;87f8  8d          DATA 0x8d
    .byte 0x7a              ;87f9  7a          DATA 0x7a 'z'
    .byte 0x03              ;87fa  03          DATA 0x03
    .byte 0xad              ;87fb  ad          DATA 0xad
    .byte 0x74              ;87fc  74          DATA 0x74 't'
    .byte 0x03              ;87fd  03          DATA 0x03
    .byte 0xd0              ;87fe  d0          DATA 0xd0
    .byte 0x04              ;87ff  04          DATA 0x04
    .byte 0xaf              ;8800  af          DATA 0xaf
    .byte 0xef              ;8801  ef          DATA 0xef
    .byte 0x80              ;8802  80          DATA 0x80
    .byte 0x02              ;8803  02          DATA 0x02
    .byte 0xbf              ;8804  bf          DATA 0xbf
    .byte 0xef              ;8805  ef          DATA 0xef
    .byte 0xad              ;8806  ad          DATA 0xad
    .byte 0x75              ;8807  75          DATA 0x75 'u'
    .byte 0x03              ;8808  03          DATA 0x03
    .byte 0xc9              ;8809  c9          DATA 0xc9
    .byte 0x01              ;880a  01          DATA 0x01
    .byte 0xf0              ;880b  f0          DATA 0xf0
    .byte 0x04              ;880c  04          DATA 0x04
    .byte 0xcf              ;880d  cf          DATA 0xcf
    .byte 0xef              ;880e  ef          DATA 0xef
    .byte 0x80              ;880f  80          DATA 0x80
    .byte 0x02              ;8810  02          DATA 0x02
    .byte 0xdf              ;8811  df          DATA 0xdf
    .byte 0xef              ;8812  ef          DATA 0xef
    .byte 0x60              ;8813  60          DATA 0x60 '`'
    .byte 0x27              ;8814  27          DATA 0x27 '''
    .byte 0xe9              ;8815  e9          DATA 0xe9
    .byte 0x21              ;8816  21          DATA 0x21 '!'
    .byte 0x87              ;8817  87          DATA 0x87
    .byte 0xf6              ;8818  f6          DATA 0xf6
    .byte 0x1e              ;8819  1e          DATA 0x1e
    .byte 0xad              ;881a  ad          DATA 0xad
    .byte 0xc7              ;881b  c7          DATA 0xc7
    .byte 0x05              ;881c  05          DATA 0x05
    .byte 0x29              ;881d  29          DATA 0x29 ')'
    .byte 0x07              ;881e  07          DATA 0x07
    .byte 0xaa              ;881f  aa          DATA 0xaa
    .byte 0xbd              ;8820  bd          DATA 0xbd
    .byte 0x03              ;8821  03          DATA 0x03
    .byte 0x89              ;8822  89          DATA 0x89
    .byte 0xf0              ;8823  f0          DATA 0xf0
    .byte 0x13              ;8824  13          DATA 0x13
    .byte 0xa2              ;8825  a2          DATA 0xa2
    .byte 0x00              ;8826  00          DATA 0x00
    .byte 0x4a              ;8827  4a          DATA 0x4a 'J'
    .byte 0x90              ;8828  90          DATA 0x90
    .byte 0x09              ;8829  09          DATA 0x09
    .byte 0x48              ;882a  48          DATA 0x48 'H'
    .byte 0x8a              ;882b  8a          DATA 0x8a
    .byte 0x48              ;882c  48          DATA 0x48 'H'
    .byte 0x20              ;882d  20          DATA 0x20 ' '
    .byte 0xb7              ;882e  b7          DATA 0xb7
    .byte 0x88              ;882f  88          DATA 0x88
    .byte 0x68              ;8830  68          DATA 0x68 'h'
    .byte 0xaa              ;8831  aa          DATA 0xaa
    .byte 0x68              ;8832  68          DATA 0x68 'h'
    .byte 0xe8              ;8833  e8          DATA 0xe8
    .byte 0xe0              ;8834  e0          DATA 0xe0
    .byte 0x04              ;8835  04          DATA 0x04
    .byte 0x90              ;8836  90          DATA 0x90
    .byte 0xef              ;8837  ef          DATA 0xef
    .byte 0xa2              ;8838  a2          DATA 0xa2
    .byte 0x04              ;8839  04          DATA 0x04
    .byte 0xad              ;883a  ad          DATA 0xad
    .byte 0x74              ;883b  74          DATA 0x74 't'
    .byte 0x03              ;883c  03          DATA 0x03
    .byte 0xf0              ;883d  f0          DATA 0xf0
    .byte 0x13              ;883e  13          DATA 0x13
    .byte 0x5f              ;883f  5f          DATA 0x5f '_'
    .byte 0x00              ;8840  00          DATA 0x00
    .byte 0xad              ;8841  ad          DATA 0xad
    .byte 0xc7              ;8842  c7          DATA 0xc7
    .byte 0x05              ;8843  05          DATA 0x05
    .byte 0x83              ;8844  83          DATA 0x83
    .byte 0x07              ;8845  07          DATA 0x07
    .byte 0xad              ;8846  ad          DATA 0xad
    .byte 0x74              ;8847  74          DATA 0x74 't'
    .byte 0x03              ;8848  03          DATA 0x03
    .byte 0xc9              ;8849  c9          DATA 0xc9
    .byte 0x02              ;884a  02          DATA 0x02
    .byte 0xf0              ;884b  f0          DATA 0xf0
    .byte 0x08              ;884c  08          DATA 0x08
    .byte 0x20              ;884d  20          DATA 0x20 ' '
    .byte 0xb7              ;884e  b7          DATA 0xb7
    .byte 0x88              ;884f  88          DATA 0x88
    .byte 0x80              ;8850  80          DATA 0x80
    .byte 0x03              ;8851  03          DATA 0x03
    .byte 0x20              ;8852  20          DATA 0x20 ' '
    .byte 0xe4              ;8853  e4          DATA 0xe4
    .byte 0xaa              ;8854  aa          DATA 0xaa
    .byte 0x37              ;8855  37          DATA 0x37 '7'
    .byte 0x00              ;8856  00          DATA 0x00
    .byte 0x13              ;8857  13          DATA 0x13
    .byte 0xa2              ;8858  a2          DATA 0xa2
    .byte 0x05              ;8859  05          DATA 0x05
    .byte 0xad              ;885a  ad          DATA 0xad
    .byte 0x75              ;885b  75          DATA 0x75 'u'
    .byte 0x03              ;885c  03          DATA 0x03
    .byte 0xc9              ;885d  c9          DATA 0xc9
    .byte 0x01              ;885e  01          DATA 0x01
    .byte 0xd0              ;885f  d0          DATA 0xd0
    .byte 0x07              ;8860  07          DATA 0x07
    .byte 0x3f              ;8861  3f          DATA 0x3f '?'
    .byte 0x00              ;8862  00          DATA 0x00
    .byte 0x20              ;8863  20          DATA 0x20 ' '
    .byte 0xb7              ;8864  b7          DATA 0xb7
    .byte 0x88              ;8865  88          DATA 0x88
    .byte 0x80              ;8866  80          DATA 0x80
    .byte 0x03              ;8867  03          DATA 0x03
    .byte 0x20              ;8868  20          DATA 0x20 ' '
    .byte 0xe4              ;8869  e4          DATA 0xe4
    .byte 0xaa              ;886a  aa          DATA 0xaa
    .byte 0xad              ;886b  ad          DATA 0xad
    .byte 0x76              ;886c  76          DATA 0x76 'v'
    .byte 0x03              ;886d  03          DATA 0x03
    .byte 0xf0              ;886e  f0          DATA 0xf0
    .byte 0x0a              ;886f  0a          DATA 0x0a
    .byte 0x8d              ;8870  8d          DATA 0x8d
    .byte 0x96              ;8871  96          DATA 0x96
    .byte 0x02              ;8872  02          DATA 0x02
    .byte 0xa9              ;8873  a9          DATA 0xa9
    .byte 0x32              ;8874  32          DATA 0x32 '2'
    .byte 0x8d              ;8875  8d          DATA 0x8d
    .byte 0xa6              ;8876  a6          DATA 0xa6
    .byte 0x02              ;8877  02          DATA 0x02
    .byte 0x4f              ;8878  4f          DATA 0x4f 'O'
    .byte 0xe9              ;8879  e9          DATA 0xe9
    .byte 0xad              ;887a  ad          DATA 0xad
    .byte 0xc7              ;887b  c7          DATA 0xc7
    .byte 0x05              ;887c  05          DATA 0x05
    .byte 0xd3              ;887d  d3          DATA 0xd3
    .byte 0x05              ;887e  05          DATA 0x05
    .byte 0xa2              ;887f  a2          DATA 0xa2
    .byte 0x07              ;8880  07          DATA 0x07
    .byte 0x20              ;8881  20          DATA 0x20 ' '
    .byte 0xb7              ;8882  b7          DATA 0xb7
    .byte 0x88              ;8883  88          DATA 0x88
    .byte 0xad              ;8884  ad          DATA 0xad
    .byte 0xc7              ;8885  c7          DATA 0xc7
    .byte 0x05              ;8886  05          DATA 0x05
    .byte 0xb3              ;8887  b3          DATA 0xb3
    .byte 0x1e              ;8888  1e          DATA 0x1e
    .byte 0xad              ;8889  ad          DATA 0xad
    .byte 0x79              ;888a  79          DATA 0x79 'y'
    .byte 0x03              ;888b  03          DATA 0x03
    .byte 0xf0              ;888c  f0          DATA 0xf0
    .byte 0x0a              ;888d  0a          DATA 0x0a
    .byte 0x8d              ;888e  8d          DATA 0x8d
    .byte 0x99              ;888f  99          DATA 0x99
    .byte 0x02              ;8890  02          DATA 0x02
    .byte 0xa9              ;8891  a9          DATA 0xa9
    .byte 0x32              ;8892  32          DATA 0x32 '2'
    .byte 0x8d              ;8893  8d          DATA 0x8d
    .byte 0xa9              ;8894  a9          DATA 0xa9
    .byte 0x02              ;8895  02          DATA 0x02
    .byte 0x4f              ;8896  4f          DATA 0x4f 'O'
    .byte 0xe9              ;8897  e9          DATA 0xe9
    .byte 0xad              ;8898  ad          DATA 0xad
    .byte 0x7a              ;8899  7a          DATA 0x7a 'z'
    .byte 0x03              ;889a  03          DATA 0x03
    .byte 0xf0              ;889b  f0          DATA 0xf0
    .byte 0x0a              ;889c  0a          DATA 0x0a
    .byte 0x8d              ;889d  8d          DATA 0x8d
    .byte 0x9a              ;889e  9a          DATA 0x9a
    .byte 0x02              ;889f  02          DATA 0x02
    .byte 0xa9              ;88a0  a9          DATA 0xa9
    .byte 0x32              ;88a1  32          DATA 0x32 '2'
    .byte 0x8d              ;88a2  8d          DATA 0x8d
    .byte 0xaa              ;88a3  aa          DATA 0xaa
    .byte 0x02              ;88a4  02          DATA 0x02
    .byte 0x4f              ;88a5  4f          DATA 0x4f 'O'
    .byte 0xe9              ;88a6  e9          DATA 0xe9
    .byte 0x57              ;88a7  57          DATA 0x57 'W'
    .byte 0xe9              ;88a8  e9          DATA 0xe9
    .byte 0x0c              ;88a9  0c          DATA 0x0c
    .byte 0x5f              ;88aa  5f          DATA 0x5f '_'
    .byte 0xe9              ;88ab  e9          DATA 0xe9
    .byte 0xad              ;88ac  ad          DATA 0xad
    .byte 0x9f              ;88ad  9f          DATA 0x9f
    .byte 0x02              ;88ae  02          DATA 0x02
    .byte 0xc9              ;88af  c9          DATA 0xc9
    .byte 0x03              ;88b0  03          DATA 0x03
    .byte 0xf0              ;88b1  f0          DATA 0xf0
    .byte 0x03              ;88b2  03          DATA 0x03
    .byte 0x20              ;88b3  20          DATA 0x20 ' '
    .byte 0x5f              ;88b4  5f          DATA 0x5f '_'
    .byte 0x85              ;88b5  85          DATA 0x85
    .byte 0x60              ;88b6  60          DATA 0x60 '`'
    .byte 0xe0              ;88b7  e0          DATA 0xe0
    .byte 0x04              ;88b8  04          DATA 0x04
    .byte 0xb0              ;88b9  b0          DATA 0xb0
    .byte 0x26              ;88ba  26          DATA 0x26 '&'
    .byte 0xad              ;88bb  ad          DATA 0xad
    .byte 0x9f              ;88bc  9f          DATA 0x9f
    .byte 0x02              ;88bd  02          DATA 0x02
    .byte 0xc9              ;88be  c9          DATA 0xc9
    .byte 0x01              ;88bf  01          DATA 0x01
    .byte 0xd0              ;88c0  d0          DATA 0xd0
    .byte 0x09              ;88c1  09          DATA 0x09
    .byte 0xad              ;88c2  ad          DATA 0xad
    .byte 0xfc              ;88c3  fc          DATA 0xfc
    .byte 0x02              ;88c4  02          DATA 0x02
    .byte 0xc9              ;88c5  c9          DATA 0xc9
    .byte 0x05              ;88c6  05          DATA 0x05
    .byte 0xb0              ;88c7  b0          DATA 0xb0
    .byte 0x13              ;88c8  13          DATA 0x13
    .byte 0x80              ;88c9  80          DATA 0x80
    .byte 0x04              ;88ca  04          DATA 0x04
    .byte 0xc9              ;88cb  c9          DATA 0xc9
    .byte 0x03              ;88cc  03          DATA 0x03
    .byte 0xf0              ;88cd  f0          DATA 0xf0
    .byte 0x0d              ;88ce  0d          DATA 0x0d
    .byte 0xbd              ;88cf  bd          DATA 0xbd
    .byte 0x70              ;88d0  70          DATA 0x70 'p'
    .byte 0x03              ;88d1  03          DATA 0x03
    .byte 0xc9              ;88d2  c9          DATA 0xc9
    .byte 0x03              ;88d3  03          DATA 0x03
    .byte 0x90              ;88d4  90          DATA 0x90
    .byte 0x0b              ;88d5  0b          DATA 0x0b
    .byte 0x8f              ;88d6  8f          DATA 0x8f
    .byte 0xe9              ;88d7  e9          DATA 0xe9
    .byte 0xa9              ;88d8  a9          DATA 0xa9
    .byte 0x00              ;88d9  00          DATA 0x00
    .byte 0x80              ;88da  80          DATA 0x80
    .byte 0x08              ;88db  08          DATA 0x08
    .byte 0xbd              ;88dc  bd          DATA 0xbd
    .byte 0xf8              ;88dd  f8          DATA 0xf8
    .byte 0x02              ;88de  02          DATA 0x02
    .byte 0x80              ;88df  80          DATA 0x80
    .byte 0x03              ;88e0  03          DATA 0x03
    .byte 0xbd              ;88e1  bd          DATA 0xbd
    .byte 0x70              ;88e2  70          DATA 0x70 'p'
    .byte 0x03              ;88e3  03          DATA 0x03
    .byte 0xd0              ;88e4  d0          DATA 0xd0
    .byte 0x05              ;88e5  05          DATA 0x05
    .byte 0x20              ;88e6  20          DATA 0x20 ' '
    .byte 0xe4              ;88e7  e4          DATA 0xe4
    .byte 0xaa              ;88e8  aa          DATA 0xaa
    .byte 0x80              ;88e9  80          DATA 0x80
    .byte 0x03              ;88ea  03          DATA 0x03
    .byte 0x20              ;88eb  20          DATA 0x20 ' '
    .byte 0x15              ;88ec  15          DATA 0x15
    .byte 0xab              ;88ed  ab          DATA 0xab
    .byte 0x60              ;88ee  60          DATA 0x60 '`'
    .byte 0x01              ;88ef  01          DATA 0x01
    .byte 0x02              ;88f0  02          DATA 0x02
    .byte 0x01              ;88f1  01          DATA 0x01
    .byte 0x03              ;88f2  03          DATA 0x03
    .byte 0x01              ;88f3  01          DATA 0x01
    .byte 0x02              ;88f4  02          DATA 0x02
    .byte 0x01              ;88f5  01          DATA 0x01
    .byte 0x04              ;88f6  04          DATA 0x04
    .byte 0x01              ;88f7  01          DATA 0x01
    .byte 0x02              ;88f8  02          DATA 0x02
    .byte 0x01              ;88f9  01          DATA 0x01
    .byte 0x03              ;88fa  03          DATA 0x03
    .byte 0x01              ;88fb  01          DATA 0x01
    .byte 0x02              ;88fc  02          DATA 0x02
    .byte 0x01              ;88fd  01          DATA 0x01
    .byte 0x00              ;88fe  00          DATA 0x00
    .byte 0x01              ;88ff  01          DATA 0x01
    .byte 0x02              ;8900  02          DATA 0x02
    .byte 0x01              ;8901  01          DATA 0x01
    .byte 0x00              ;8902  00          DATA 0x00
    .byte 0x00              ;8903  00          DATA 0x00
    .byte 0x01              ;8904  01          DATA 0x01
    .byte 0x03              ;8905  03          DATA 0x03
    .byte 0x0c              ;8906  0c          DATA 0x0c
    .byte 0x0f              ;8907  0f          DATA 0x0f
    .byte 0x03              ;8908  03          DATA 0x03
    .byte 0x00              ;8909  00          DATA 0x00
    .byte 0x00              ;890a  00          DATA 0x00
    .byte 0x00              ;890b  00          DATA 0x00
    .byte 0x00              ;890c  00          DATA 0x00

sub_890d:
    ldy #0x19               ;890d  a0 19
lab_890f_loop:
    lda #0xcd               ;890f  a9 cd
    sta 0x0150,y            ;8911  99 50 01
    sta 0x0200,y            ;8914  99 00 02
    lda #0x00               ;8917  a9 00
    sta 0x0170,y            ;8919  99 70 01
    dey                     ;891c  88
    bpl lab_890f_loop       ;891d  10 f0
    sta 0x0200              ;891f  8d 00 02
    sta 0xb8                ;8922  85 b8
    clb 0,0xfd              ;8924  1f fd
    clb 3,0xfd              ;8926  7f fd
    ldy #0x07               ;8928  a0 07
    jsr sub_3361            ;892a  20 61 33
    ldy #0x0a               ;892d  a0 0a
    jsr sub_3361            ;892f  20 61 33
    jsr sub_af93            ;8932  20 93 af
    rts                     ;8935  60

sub_8936:
    ldy #0x19               ;8936  a0 19
    lda #0xcd               ;8938  a9 cd
lab_893a_loop:
    sta 0x0200,y            ;893a  99 00 02
    dey                     ;893d  88
    bne lab_893a_loop            ;893e  d0 fa
    lda #0x00               ;8940  a9 00
    sta 0x0200              ;8942  8d 00 02
    rts                     ;8945  60

sub_8946:
    txa                     ;8946  8a
    pha                     ;8947  48
    ldx 0xb8                ;8948  a6 b8

lab_894a:
    dex                     ;894a  ca
    cpx #0x03               ;894b  e0 03
    bcc lab_8962            ;894d  90 13
    lda 0x0170,x            ;894f  bd 70 01
    bbs 7,a,lab_8956        ;8952  e3 02
    bne lab_8962            ;8954  d0 0c

lab_8956:
    lda #0xcd               ;8956  a9 cd
    sta 0x0150,x            ;8958  9d 50 01
    lda #0x00               ;895b  a9 00
    sta 0x0170,x            ;895d  9d 70 01
    bra lab_894a            ;8960  80 e8

lab_8962:
    inx                     ;8962  e8
    stx 0xb8                ;8963  86 b8
    pla                     ;8965  68
    tax                     ;8966  aa
    rts                     ;8967  60

sub_8968:
    bbs 5,0xfd,lab_8979     ;8968  a7 fd 0e
    bbc 1,0xed,lab_897a     ;896b  37 ed 0c
    lda 0xb8                ;896e  a5 b8
    beq lab_897a            ;8970  f0 08
    lda 0x71                ;8972  a5 71
    cmp 0x0150              ;8974  cd 50 01
    beq lab_897a            ;8977  f0 01

lab_8979:
    rts                     ;8979  60

lab_897a:
    lda 0xb8                ;897a  a5 b8
    pha                     ;897c  48
    ldx #0x02               ;897d  a2 02
    lda 0x0201              ;897f  ad 01 02

lab_8982:
    cmp 0x0200,x            ;8982  dd 00 02
    beq lab_89eb            ;8985  f0 64
    inx                     ;8987  e8
    cpx #0x06               ;8988  e0 06
    bcs lab_8992            ;898a  b0 06
    cpx 0xb7                ;898c  e4 b7
    bcc lab_8982            ;898e  90 f2
    beq lab_8982            ;8990  f0 f0

lab_8992:
    ldx #0x01               ;8992  a2 01
    lda 0x71                ;8994  a5 71

lab_8996:
    cmp 0x0200,x            ;8996  dd 00 02
    beq lab_89a5            ;8999  f0 0a
    inx                     ;899b  e8
    cpx 0xb7                ;899c  e4 b7
    bcc lab_8996            ;899e  90 f6
    beq lab_8996            ;89a0  f0 f4
    jmp lab_8a38            ;89a2  4c 38 8a

lab_89a5:
    clb 1,0xfd              ;89a5  3f fd
    ldy #0x00               ;89a7  a0 00
    jsr sub_8aa1            ;89a9  20 a1 8a
    ldy 0xb8                ;89ac  a4 b8
    cpy #0x1a               ;89ae  c0 1a
    bcc lab_89bf            ;89b0  90 0d
    jsr sub_8c25            ;89b2  20 25 8c
    jsr sub_8946            ;89b5  20 46 89
    lda 0xb8                ;89b8  a5 b8
    sta 0x016e              ;89ba  8d 6e 01
    bra lab_89cd            ;89bd  80 0e

lab_89bf:
    ldy 0xb8                ;89bf  a4 b8
    cpy #0x1a               ;89c1  c0 1a
    bne lab_89c7            ;89c3  d0 02
    ldy #0x02               ;89c5  a0 02

lab_89c7:
    lda 0x8ef7,y            ;89c7  b9 f7 8e
    sta 0x016e              ;89ca  8d 6e 01

lab_89cd:
    lda 0xb7                ;89cd  a5 b7
    sta 0xb6                ;89cf  85 b6

lab_89d1:
    ldx 0xb6                ;89d1  a6 b6
    lda 0x0200,x            ;89d3  bd 00 02
    cmp #0xcd               ;89d6  c9 cd
    bcs lab_89e0            ;89d8  b0 06
    ldy 0x016e              ;89da  ac 6e 01
    jsr sub_8aa1            ;89dd  20 a1 8a

lab_89e0:
    ldx 0xb6                ;89e0  a6 b6
    dex                     ;89e2  ca
    stx 0xb6                ;89e3  86 b6
    cpx #0x01               ;89e5  e0 01
    bcs lab_89d1            ;89e7  b0 e8
    bra lab_8a38            ;89e9  80 4d

lab_89eb:
    cmp 0x71                ;89eb  c5 71
    bne lab_8a38            ;89ed  d0 49
    seb 1,0xfd              ;89ef  2f fd
    ldx #0x00               ;89f1  a2 00
    jsr sub_8a80            ;89f3  20 80 8a
    ldy #0x00               ;89f6  a0 00
    jsr sub_8aa1            ;89f8  20 a1 8a
    ldy 0xb8                ;89fb  a4 b8
    cpy #0x1a               ;89fd  c0 1a
    bcc lab_8a0e            ;89ff  90 0d
    jsr sub_8c25            ;8a01  20 25 8c
    jsr sub_8946            ;8a04  20 46 89
    lda 0xb8                ;8a07  a5 b8
    sta 0x016e              ;8a09  8d 6e 01
    bra lab_8a1c            ;8a0c  80 0e

lab_8a0e:
    ldy 0xb8                ;8a0e  a4 b8
    cpy #0x1a               ;8a10  c0 1a
    bne lab_8a16            ;8a12  d0 02
    ldy #0x02               ;8a14  a0 02

lab_8a16:
    lda 0x8ef7,y            ;8a16  b9 f7 8e
    sta 0x016e              ;8a19  8d 6e 01

lab_8a1c:
    lda 0xb7                ;8a1c  a5 b7
    clb 0,a                 ;8a1e  1b
    sta 0xb6                ;8a1f  85 b6

lab_8a21:
    ldx 0xb6                ;8a21  a6 b6
    jsr sub_8a80            ;8a23  20 80 8a
    bcc lab_8a2e            ;8a26  90 06
    ldy 0x016e              ;8a28  ac 6e 01
    jsr sub_8aa1            ;8a2b  20 a1 8a

lab_8a2e:
    ldx 0xb6                ;8a2e  a6 b6
    dex                     ;8a30  ca
    dex                     ;8a31  ca
    stx 0xb6                ;8a32  86 b6
    cpx #0x02               ;8a34  e0 02
    bcs lab_8a21            ;8a36  b0 e9

lab_8a38:
    pla                     ;8a38  68
    cmp 0xb8                ;8a39  c5 b8
    beq lab_8a40            ;8a3b  f0 03
    jsr sub_8a41            ;8a3d  20 41 8a

lab_8a40:
    rts                     ;8a40  60

sub_8a41:
    lda 0xb8                ;8a41  a5 b8
    cmp #0x02               ;8a43  c9 02
    bcc lab_8a6f            ;8a45  90 28
    bbs 0,0xfd,lab_8a65     ;8a47  07 fd 1b
    seb 0,0xfd              ;8a4a  0f fd
    ldy #0x1d               ;8a4c  a0 1d
    jsr sub_3361            ;8a4e  20 61 33
    jsr sub_8a75            ;8a51  20 75 8a
    lda 0x70                ;8a54  a5 70
    sta 0x0170              ;8a56  8d 70 01
    lda 0x71                ;8a59  a5 71
    sta 0xb4                ;8a5b  85 b4
    lda 0x90                ;8a5d  a5 90
    sta 0xb2                ;8a5f  85 b2
    lda 0x91                ;8a61  a5 91
    sta 0xb3                ;8a63  85 b3

lab_8a65:
    ldy #0x07               ;8a65  a0 07
    jsr sub_33c6            ;8a67  20 c6 33
    bcs lab_8a6f            ;8a6a  b0 03
    jsr sub_8cdc            ;8a6c  20 dc 8c

lab_8a6f:
    ldy #0x11               ;8a6f  a0 11
    jsr sub_f2ac            ;8a71  20 ac f2
    rts                     ;8a74  60

sub_8a75:
    seb 4,0xfd              ;8a75  8f fd
    lda #0x00               ;8a77  a9 00
    sta 0xb9                ;8a79  85 b9
    lda 0xb8                ;8a7b  a5 b8
    sta 0xba                ;8a7d  85 ba
    rts                     ;8a7f  60

sub_8a80:
    cpx #0x00               ;8a80  e0 00
    beq lab_8a93            ;8a82  f0 0f
    lda 0x0200,x            ;8a84  bd 00 02
    cmp 0x71                ;8a87  c5 71
    beq lab_8a93            ;8a89  f0 08
    inx                     ;8a8b  e8
    lda 0x0200,x            ;8a8c  bd 00 02
    cmp 0x71                ;8a8f  c5 71
    bne lab_8a9d            ;8a91  d0 0a

lab_8a93:
    txa                     ;8a93  8a
    eor #0x01               ;8a94  49 01
    tax                     ;8a96  aa
    lda 0x0200,x            ;8a97  bd 00 02
    sec                     ;8a9a  38
    bra lab_8aa0            ;8a9b  80 03

lab_8a9d:
    lda #0xff               ;8a9d  a9 ff
    clc                     ;8a9f  18

lab_8aa0:
    rts                     ;8aa0  60

sub_8aa1:
    cpy #0x1a               ;8aa1  c0 1a
    bcs lab_8af6            ;8aa3  b0 51
    sty 0x016e              ;8aa5  8c 6e 01
    ldy #0x00               ;8aa8  a0 00

lab_8aaa:
    cmp 0x0150,y            ;8aaa  d9 50 01
    beq lab_8af8            ;8aad  f0 49
    iny                     ;8aaf  c8
    cpy 0xb8                ;8ab0  c4 b8
    bcc lab_8aaa            ;8ab2  90 f6
    cmp #0x01               ;8ab4  c9 01
    bcc lab_8af6            ;8ab6  90 3e
    cmp #0xcd               ;8ab8  c9 cd
    bcs lab_8af6            ;8aba  b0 3a
    ldy 0xb8                ;8abc  a4 b8
    cpy #0x1b               ;8abe  c0 1b
    bcs lab_8af6            ;8ac0  b0 34
    ldy 0xb8                ;8ac2  a4 b8
    cpy #0x02               ;8ac4  c0 02
    bcc lab_8ae0            ;8ac6  90 18
    cpy 0x016e              ;8ac8  cc 6e 01
    beq lab_8ae0            ;8acb  f0 13
    pha                     ;8acd  48
    ldx 0xb8                ;8ace  a6 b8
    dex                     ;8ad0  ca
    ldy 0xb8                ;8ad1  a4 b8

lab_8ad3:
    jsr sub_9605            ;8ad3  20 05 96
    dex                     ;8ad6  ca
    dey                     ;8ad7  88
    cpy 0x016e              ;8ad8  cc 6e 01
    beq lab_8adf            ;8adb  f0 02
    bcs lab_8ad3            ;8add  b0 f4

lab_8adf:
    pla                     ;8adf  68

lab_8ae0:
    sta 0x0150,y            ;8ae0  99 50 01
    lda #0x00               ;8ae3  a9 00
    sta 0x0170,y            ;8ae5  99 70 01
    lda 0xb8                ;8ae8  a5 b8
    inc a                   ;8aea  3a
    cmp #0x1a               ;8aeb  c9 1a
    bcc lab_8af1            ;8aed  90 02
    lda #0x1a               ;8aef  a9 1a

lab_8af1:
    sta 0xb8                ;8af1  85 b8
    sec                     ;8af3  38
    bra lab_8af9            ;8af4  80 03

lab_8af6:
    ldy #0xff               ;8af6  a0 ff

lab_8af8:
    clc                     ;8af8  18

lab_8af9:
    rts                     ;8af9  60

sub_8afa:
    bbs 0,0xf2,lab_8b75     ;8afa  07 f2 78
    lda 0x90                ;8afd  a5 90
    beq lab_8b75            ;8aff  f0 74
    lda 0x91                ;8b01  a5 91
    beq lab_8b75            ;8b03  f0 70
    lda 0x0399              ;8b05  ad 99 03
    beq lab_8b75            ;8b08  f0 6b
    ldx #0x01               ;8b0a  a2 01

lab_8b0c:
    lda 0x0480,x            ;8b0c  bd 80 04
    sta 0x4c                ;8b0f  85 4c
    lda 0x04e0,x            ;8b11  bd e0 04
    sta 0x4d                ;8b14  85 4d
    lda 0x90                ;8b16  a5 90
    sta 0x4e                ;8b18  85 4e
    lda 0x91                ;8b1a  a5 91
    sta 0x4f                ;8b1c  85 4f
    jsr sub_8f89            ;8b1e  20 89 8f
    cpy #0x01               ;8b21  c0 01
    beq lab_8b29            ;8b23  f0 04
    cpy #0x03               ;8b25  c0 03
    bne lab_8b48            ;8b27  d0 1f

lab_8b29:
    ldy 0xb8                ;8b29  a4 b8
    bne lab_8b36            ;8b2b  d0 09
    lda 0x71                ;8b2d  a5 71
    sta 0x0150              ;8b2f  8d 50 01
    sta 0xb4                ;8b32  85 b4
    inc 0xb8                ;8b34  e6 b8

lab_8b36:
    txa                     ;8b36  8a
    pha                     ;8b37  48
    ldy 0xb8                ;8b38  a4 b8
    lda 0x03c0,x            ;8b3a  bd c0 03
    jsr sub_8aa1            ;8b3d  20 a1 8a
    pla                     ;8b40  68
    tax                     ;8b41  aa
    ldy 0xb8                ;8b42  a4 b8
    cpy #0x1a               ;8b44  c0 1a
    bcs lab_8b50            ;8b46  b0 08

lab_8b48:
    inx                     ;8b48  e8
    cpx 0x0399              ;8b49  ec 99 03
    bcc lab_8b0c            ;8b4c  90 be
    beq lab_8b0c            ;8b4e  f0 bc

lab_8b50:
    lda 0xb8                ;8b50  a5 b8
    cmp #0x02               ;8b52  c9 02
    bcc lab_8b75            ;8b54  90 1f
    lda 0x71                ;8b56  a5 71
    sta 0x0150              ;8b58  8d 50 01
    lda 0x90                ;8b5b  a5 90
    sta 0xb2                ;8b5d  85 b2
    lda 0x91                ;8b5f  a5 91
    sta 0xb3                ;8b61  85 b3
    lda #0x00               ;8b63  a9 00
    sta 0x0262              ;8b65  8d 62 02
    lda #0x00               ;8b68  a9 00
    sta 0x0263              ;8b6a  8d 63 02
    jsr sub_8a75            ;8b6d  20 75 8a
    seb 0,0xfd              ;8b70  0f fd
    jsr sub_8cdc            ;8b72  20 dc 8c

lab_8b75:
    rts                     ;8b75  60

sub_8b76:
    ldy 0xb8                ;8b76  a4 b8
    cpy #0x1b               ;8b78  c0 1b
    bcs lab_8b8b            ;8b7a  b0 0f
    ldy #0x00               ;8b7c  a0 00

lab_8b7e:
    cmp 0x0150,y            ;8b7e  d9 50 01
    beq lab_8b8a            ;8b81  f0 07
    iny                     ;8b83  c8
    cpy 0xb8                ;8b84  c4 b8
    bcc lab_8b7e            ;8b86  90 f6
    ldy #0xff               ;8b88  a0 ff

lab_8b8a:
    clc                     ;8b8a  18

lab_8b8b:
    rts                     ;8b8b  60

sub_8b8c:
    jsr sub_8a75            ;8b8c  20 75 8a
    lda 0x71                ;8b8f  a5 71
    sta 0xb4                ;8b91  85 b4
    lda 0x90                ;8b93  a5 90
    sta 0xb2                ;8b95  85 b2
    lda 0x91                ;8b97  a5 91
    sta 0xb3                ;8b99  85 b3
    bbc 0,0xfd,lab_8bc9     ;8b9b  17 fd 2b
    jsr sub_8bca            ;8b9e  20 ca 8b
    jsr sub_8c25            ;8ba1  20 25 8c
    bbs 0,0xfc,lab_8bbd     ;8ba4  07 fc 16
    lda 0xb8                ;8ba7  a5 b8
    cmp #0x02               ;8ba9  c9 02
    bcc lab_8bbd            ;8bab  90 10
    ldm #0x03,0xbb          ;8bad  3c 03 bb
    ldx #0x00               ;8bb0  a2 00
    stx 0x016f              ;8bb2  8e 6f 01
    ldm #0x00,0x71          ;8bb5  3c 00 71
    jsr sub_9204            ;8bb8  20 04 92
    bra lab_8bc9            ;8bbb  80 0c

lab_8bbd:
    jsr sub_9204            ;8bbd  20 04 92
    ldm #0x00,0xbb          ;8bc0  3c 00 bb
    jsr sub_9516            ;8bc3  20 16 95
    jsr sub_7664            ;8bc6  20 64 76

lab_8bc9:
    rts                     ;8bc9  60

sub_8bca:
    lda 0xb8                ;8bca  a5 b8
    beq lab_8c24            ;8bcc  f0 56
    cmp #0x1b               ;8bce  c9 1b
    bcs lab_8c24            ;8bd0  b0 52
    lda 0x44                ;8bd2  a5 44
    pha                     ;8bd4  48
    lda 0x71                ;8bd5  a5 71
    pha                     ;8bd7  48
    clb 0,0xf9              ;8bd8  1f f9
    clb 1,0xf9              ;8bda  3f f9
    clb 2,0xf9              ;8bdc  5f f9
    clb 2,0xfd              ;8bde  5f fd
    lda 0xb8                ;8be0  a5 b8
    dec a                   ;8be2  1a
    sta 0x44                ;8be3  85 44

lab_8be5:
    ldx 0x44                ;8be5  a6 44
    lda 0x0170,x            ;8be7  bd 70 01
    bbs 7,a,lab_8c09        ;8bea  e3 1d
    lda 0x0150,x            ;8bec  bd 50 01
    cmp #0x01               ;8bef  c9 01
    bcc lab_8c09            ;8bf1  90 16
    cmp #0xcd               ;8bf3  c9 cd
    bcs lab_8c09            ;8bf5  b0 12
    sta 0x71                ;8bf7  85 71
    jsr sub_4dd1            ;8bf9  20 d1 4d

    ldy #0x04               ;8bfc  a0 04
    jsr sub_f22c_delay      ;8bfe  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_8e1c            ;8c01  20 1c 8e
    ldx 0x44                ;8c04  a6 44
    sta 0x0170,x            ;8c06  9d 70 01

lab_8c09:
    lda 0x44                ;8c09  a5 44
    dec a                   ;8c0b  1a
    sta 0x44                ;8c0c  85 44
    bpl lab_8be5            ;8c0e  10 d5
    pla                     ;8c10  68
    sta 0x71                ;8c11  85 71
    jsr sub_4dd1            ;8c13  20 d1 4d
    seb 0,0xf9              ;8c16  0f f9

    ldy #0x04               ;8c18  a0 04
    jsr sub_f22c_delay      ;8c1a  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_51d8            ;8c1d  20 d8 51
    clc                     ;8c20  18
    pla                     ;8c21  68
    sta 0x44                ;8c22  85 44

lab_8c24:
    rts                     ;8c24  60

sub_8c25:
    lda 0x44                ;8c25  a5 44
    pha                     ;8c27  48
    lda 0xb8                ;8c28  a5 b8
    cmp #0x02               ;8c2a  c9 02
    bcs lab_8c33            ;8c2c  b0 05
    clb 0,0xfd              ;8c2e  1f fd
    jmp lab_8cbc            ;8c30  4c bc 8c

lab_8c33:
    ldm #0x01,0xb6          ;8c33  3c 01 b6

lab_8c36:
    ldx 0xb6                ;8c36  a6 b6
    lda 0x0170,x            ;8c38  bd 70 01
    bbs 7,a,lab_8cb0        ;8c3b  e3 73
    lda 0x0150,x            ;8c3d  bd 50 01
    jsr sub_8cc0            ;8c40  20 c0 8c
    bcc lab_8c87            ;8c43  90 42
    lda 0x0170,x            ;8c45  bd 70 01
    ldy #0x01               ;8c48  a0 01

lab_8c4a:
    cmp 0x0170,y            ;8c4a  d9 70 01
    beq lab_8c51            ;8c4d  f0 02
    bcs lab_8c58            ;8c4f  b0 07

lab_8c51:
    iny                     ;8c51  c8
    cpy 0xb6                ;8c52  c4 b6
    bcc lab_8c4a            ;8c54  90 f4
    bra lab_8cb0            ;8c56  80 58

lab_8c58:
    sty 0x44                ;8c58  84 44
    ldx 0xb6                ;8c5a  a6 b6
    lda 0x0150,x            ;8c5c  bd 50 01
    sta 0x016a              ;8c5f  8d 6a 01
    lda 0x0170,x            ;8c62  bd 70 01
    sta 0x018a              ;8c65  8d 8a 01

lab_8c68:
    lda 0x014f,x            ;8c68  bd 4f 01
    sta 0x0150,x            ;8c6b  9d 50 01
    lda 0x016f,x            ;8c6e  bd 6f 01
    sta 0x0170,x            ;8c71  9d 70 01
    dex                     ;8c74  ca
    cpx 0x44                ;8c75  e4 44
    bne lab_8c68            ;8c77  d0 ef
    lda 0x018a              ;8c79  ad 8a 01
    sta 0x0170,x            ;8c7c  9d 70 01
    lda 0x016a              ;8c7f  ad 6a 01
    sta 0x0150,x            ;8c82  9d 50 01
    bra lab_8cb0            ;8c85  80 29

lab_8c87:
    ldx 0xb6                ;8c87  a6 b6
    inx                     ;8c89  e8
    cpx 0xb8                ;8c8a  e4 b8
    bcs lab_8cb0            ;8c8c  b0 22
    ldx 0xb6                ;8c8e  a6 b6

lab_8c90:
    lda 0x0151,x            ;8c90  bd 51 01
    sta 0x0150,x            ;8c93  9d 50 01
    lda 0x0171,x            ;8c96  bd 71 01
    sta 0x0170,x            ;8c99  9d 70 01
    inx                     ;8c9c  e8
    cpx 0xb8                ;8c9d  e4 b8
    bcc lab_8c90            ;8c9f  90 ef
    ldx 0xb8                ;8ca1  a6 b8
    dex                     ;8ca3  ca
    stx 0xb8                ;8ca4  86 b8
    lda #0xcd               ;8ca6  a9 cd
    sta 0x0150,x            ;8ca8  9d 50 01
    lda #0x00               ;8cab  a9 00
    sta 0x0170,x            ;8cad  9d 70 01

lab_8cb0:
    ldx 0xb6                ;8cb0  a6 b6
    inx                     ;8cb2  e8
    stx 0xb6                ;8cb3  86 b6
    cpx 0xb8                ;8cb5  e4 b8
    bcs lab_8cbc            ;8cb7  b0 03
    jmp lab_8c36            ;8cb9  4c 36 8c

lab_8cbc:
    pla                     ;8cbc  68
    sta 0x44                ;8cbd  85 44
    rts                     ;8cbf  60

sub_8cc0:
    cpx #0x00               ;8cc0  e0 00
    beq lab_8cdb            ;8cc2  f0 17
    stx 0x40                ;8cc4  86 40
    ldy #0x00               ;8cc6  a0 00

lab_8cc8:
    cmp 0x0150,y            ;8cc8  d9 50 01
    beq lab_8cda            ;8ccb  f0 0d
    iny                     ;8ccd  c8
    cpy 0x40                ;8cce  c4 40
    bcc lab_8cc8            ;8cd0  90 f6
    cmp #0xcd               ;8cd2  c9 cd
    bcs lab_8cda            ;8cd4  b0 04
    cmp #0x01               ;8cd6  c9 01
    bcs lab_8cdb            ;8cd8  b0 01

lab_8cda:
    clc                     ;8cda  18

lab_8cdb:
    rts                     ;8cdb  60

sub_8cdc:
    lda #0x00               ;8cdc  a9 00
    bbs 2,0xf3,lab_8d06     ;8cde  47 f3 25
    bbc 0,0xfd,lab_8d06     ;8ce1  17 fd 22
    ldy 0xb8                ;8ce4  a4 b8
    cpy #0x02               ;8ce6  c0 02
    bcc lab_8d06            ;8ce8  90 1c
    ldy #0x3c               ;8cea  a0 3c
    jsr sub_3361            ;8cec  20 61 33
    ldy 0x0170              ;8cef  ac 70 01
    jsr sub_279f            ;8cf2  20 9f 27
    and 0x9085,y            ;8cf5  39 85 90
    clc                     ;8cf8  18
    adc 0x9075,y            ;8cf9  79 75 90
    sta 0x01af              ;8cfc  8d af 01
    pha                     ;8cff  48
    ldy #0x07               ;8d00  a0 07
    jsr sub_3300            ;8d02  20 00 33
    pla                     ;8d05  68

lab_8d06:
    rts                     ;8d06  60

;XXX appears unused
sub_8d07:
    lda 0x0170              ;8d07  ad 70 01
    cmp #0x02               ;8d0a  c9 02
    bcs lab_8d18            ;8d0c  b0 0a
    lda 0x00bd              ;8d0e  a5 bd
    cmp #0x0e               ;8d10  c9 0e
    bcs lab_8d22            ;8d12  b0 0e
    inc 0x00bd              ;8d14  e6 bd
    bra lab_8d22            ;8d16  80 0a

lab_8d18:
    lda 0x00bd              ;8d18  a5 bd
    beq lab_8d22            ;8d1a  f0 06
    dec 0x00bd              ;8d1c  c6 bd
    beq lab_8d22            ;8d1e  f0 02
    dec 0x00bd              ;8d20  c6 bd

lab_8d22:
    jsr sub_32f3            ;8d22  20 f3 32
    rts                     ;8d25  60

    .byte 0xa0              ;8d26  a0          DATA 0xa0
    .byte 0x10              ;8d27  10          DATA 0x10
    .byte 0x20              ;8d28  20          DATA 0x20 ' '
    .byte 0x17              ;8d29  17          DATA 0x17
    .byte 0x8f              ;8d2a  8f          DATA 0x8f
    .byte 0xbd              ;8d2b  bd          DATA 0xbd
    .byte 0x50              ;8d2c  50          DATA 0x50 'P'
    .byte 0x01              ;8d2d  01          DATA 0x01
    .byte 0x88              ;8d2e  88          DATA 0x88
    .byte 0xf0              ;8d2f  f0          DATA 0xf0
    .byte 0x52              ;8d30  52          DATA 0x52 'R'
    .byte 0xc9              ;8d31  c9          DATA 0xc9
    .byte 0x01              ;8d32  01          DATA 0x01
    .byte 0x90              ;8d33  90          DATA 0x90
    .byte 0xf3              ;8d34  f3          DATA 0xf3
    .byte 0xc9              ;8d35  c9          DATA 0xc9
    .byte 0xcd              ;8d36  cd          DATA 0xcd
    .byte 0xb0              ;8d37  b0          DATA 0xb0
    .byte 0xef              ;8d38  ef          DATA 0xef
    .byte 0x20              ;8d39  20          DATA 0x20 ' '
    .byte 0x55              ;8d3a  55          DATA 0x55 'U'
    .byte 0x76              ;8d3b  76          DATA 0x76 'v'
    .byte 0x1f              ;8d3c  1f          DATA 0x1f
    .byte 0xf9              ;8d3d  f9          DATA 0xf9
    .byte 0x3f              ;8d3e  3f          DATA 0x3f '?'
    .byte 0xf9              ;8d3f  f9          DATA 0xf9
    .byte 0x5f              ;8d40  5f          DATA 0x5f '_'
    .byte 0xf9              ;8d41  f9          DATA 0xf9
    .byte 0x5f              ;8d42  5f          DATA 0x5f '_'
    .byte 0xfd              ;8d43  fd          DATA 0xfd
    .byte 0xa5              ;8d44  a5          DATA 0xa5
    .byte 0x71              ;8d45  71          DATA 0x71 'q'
    .byte 0x48              ;8d46  48          DATA 0x48 'H'
    .byte 0xbd              ;8d47  bd          DATA 0xbd
    .byte 0x70              ;8d48  70          DATA 0x70 'p'
    .byte 0x01              ;8d49  01          DATA 0x01
    .byte 0x29              ;8d4a  29          DATA 0x29 ')'
    .byte 0xf0              ;8d4b  f0          DATA 0xf0
    .byte 0x48              ;8d4c  48          DATA 0x48 'H'
    .byte 0xbd              ;8d4d  bd          DATA 0xbd
    .byte 0x50              ;8d4e  50          DATA 0x50 'P'
    .byte 0x01              ;8d4f  01          DATA 0x01
    .byte 0x85              ;8d50  85          DATA 0x85
    .byte 0x71              ;8d51  71          DATA 0x71 'q'
    .byte 0x20              ;8d52  20          DATA 0x20 ' '
    .byte 0xd1              ;8d53  d1          DATA 0xd1
    .byte 0x4d              ;8d54  4d          DATA 0x4d 'M'
    .byte 0xa0              ;8d55  a0          DATA 0xa0
    .byte 0x02              ;8d56  02          DATA 0x02
    .byte 0x20              ;8d57  20          DATA 0x20 ' '
    .byte 0x2c              ;8d58  2c          DATA 0x2c ','
    .byte 0xf2              ;8d59  f2          DATA 0xf2
    .byte 0xa0              ;8d5a  a0          DATA 0xa0
    .byte 0x02              ;8d5b  02          DATA 0x02
    .byte 0x20              ;8d5c  20          DATA 0x20 ' '
    .byte 0x1e              ;8d5d  1e          DATA 0x1e
    .byte 0xf2              ;8d5e  f2          DATA 0xf2
    .byte 0x20              ;8d5f  20          DATA 0x20 ' '
    .byte 0x1c              ;8d60  1c          DATA 0x1c
    .byte 0x8e              ;8d61  8e          DATA 0x8e
    .byte 0xa6              ;8d62  a6          DATA 0xa6
    .byte 0xb9              ;8d63  b9          DATA 0xb9
    .byte 0x97              ;8d64  97          DATA 0x97
    .byte 0xfd              ;8d65  fd          DATA 0xfd
    .byte 0x02              ;8d66  02          DATA 0x02
    .byte 0xa6              ;8d67  a6          DATA 0xa6
    .byte 0xba              ;8d68  ba          DATA 0xba
    .byte 0x9d              ;8d69  9d          DATA 0x9d
    .byte 0x70              ;8d6a  70          DATA 0x70 'p'
    .byte 0x01              ;8d6b  01          DATA 0x01
    .byte 0x68              ;8d6c  68          DATA 0x68 'h'
    .byte 0x1d              ;8d6d  1d          DATA 0x1d
    .byte 0x70              ;8d6e  70          DATA 0x70 'p'
    .byte 0x01              ;8d6f  01          DATA 0x01
    .byte 0x9d              ;8d70  9d          DATA 0x9d
    .byte 0x70              ;8d71  70          DATA 0x70 'p'
    .byte 0x01              ;8d72  01          DATA 0x01
    .byte 0x68              ;8d73  68          DATA 0x68 'h'
    .byte 0x85              ;8d74  85          DATA 0x85
    .byte 0x71              ;8d75  71          DATA 0x71 'q'
    .byte 0x20              ;8d76  20          DATA 0x20 ' '
    .byte 0xd1              ;8d77  d1          DATA 0xd1
    .byte 0x4d              ;8d78  4d          DATA 0x4d 'M'
    .byte 0x0f              ;8d79  0f          DATA 0x0f
    .byte 0xf9              ;8d7a  f9          DATA 0xf9
    .byte 0xa0              ;8d7b  a0          DATA 0xa0
    .byte 0x01              ;8d7c  01          DATA 0x01
    .byte 0x20              ;8d7d  20          DATA 0x20 ' '
    .byte 0x2c              ;8d7e  2c          DATA 0x2c ','
    .byte 0xf2              ;8d7f  f2          DATA 0xf2
    .byte 0x20              ;8d80  20          DATA 0x20 ' '
    .byte 0x64              ;8d81  64          DATA 0x64 'd'
    .byte 0x76              ;8d82  76          DATA 0x76 'v'
    .byte 0x60              ;8d83  60          DATA 0x60 '`'
    .byte 0xa5              ;8d84  a5          DATA 0xa5
    .byte 0xb8              ;8d85  b8          DATA 0xb8
    .byte 0xf0              ;8d86  f0          DATA 0xf0
    .byte 0x16              ;8d87  16          DATA 0x16
    .byte 0xc9              ;8d88  c9          DATA 0xc9
    .byte 0x1b              ;8d89  1b          DATA 0x1b
    .byte 0xb0              ;8d8a  b0          DATA 0xb0
    .byte 0x12              ;8d8b  12          DATA 0x12
    .byte 0xa9              ;8d8c  a9          DATA 0xa9
    .byte 0x00              ;8d8d  00          DATA 0x00
    .byte 0x8d              ;8d8e  8d          DATA 0x8d
    .byte 0x8f              ;8d8f  8f          DATA 0x8f
    .byte 0x01              ;8d90  01          DATA 0x01
    .byte 0xa0              ;8d91  a0          DATA 0xa0
    .byte 0x07              ;8d92  07          DATA 0x07
    .byte 0x20              ;8d93  20          DATA 0x20 ' '
    .byte 0x61              ;8d94  61          DATA 0x61 'a'
    .byte 0x33              ;8d95  33          DATA 0x33 '3'
    .byte 0xa0              ;8d96  a0          DATA 0xa0
    .byte 0x3c              ;8d97  3c          DATA 0x3c '<'
    .byte 0x20              ;8d98  20          DATA 0x20 ' '
    .byte 0x00              ;8d99  00          DATA 0x00
    .byte 0x33              ;8d9a  33          DATA 0x33 '3'
    .byte 0x20              ;8d9b  20          DATA 0x20 ' '
    .byte 0x9f              ;8d9c  9f          DATA 0x9f
    .byte 0x8d              ;8d9d  8d          DATA 0x8d
    .byte 0x60              ;8d9e  60          DATA 0x60 '`'
    .byte 0xad              ;8d9f  ad          DATA 0xad
    .byte 0x8f              ;8da0  8f          DATA 0x8f
    .byte 0x01              ;8da1  01          DATA 0x01
    .byte 0x3a              ;8da2  3a          DATA 0x3a ':'
    .byte 0xc5              ;8da3  c5          DATA 0xc5
    .byte 0xb8              ;8da4  b8          DATA 0xb8
    .byte 0xb0              ;8da5  b0          DATA 0xb0
    .byte 0x57              ;8da6  57          DATA 0x57 'W'
    .byte 0x8d              ;8da7  8d          DATA 0x8d
    .byte 0x8f              ;8da8  8f          DATA 0x8f
    .byte 0x01              ;8da9  01          DATA 0x01
    .byte 0x20              ;8daa  20          DATA 0x20 ' '
    .byte 0x55              ;8dab  55          DATA 0x55 'U'
    .byte 0x76              ;8dac  76          DATA 0x76 'v'
    .byte 0x1f              ;8dad  1f          DATA 0x1f
    .byte 0xf9              ;8dae  f9          DATA 0xf9
    .byte 0x3f              ;8daf  3f          DATA 0x3f '?'
    .byte 0xf9              ;8db0  f9          DATA 0xf9
    .byte 0x5f              ;8db1  5f          DATA 0x5f '_'
    .byte 0xf9              ;8db2  f9          DATA 0xf9
    .byte 0x5f              ;8db3  5f          DATA 0x5f '_'
    .byte 0xfd              ;8db4  fd          DATA 0xfd
    .byte 0xa5              ;8db5  a5          DATA 0xa5
    .byte 0x71              ;8db6  71          DATA 0x71 'q'
    .byte 0x48              ;8db7  48          DATA 0x48 'H'
    .byte 0xae              ;8db8  ae          DATA 0xae
    .byte 0x8f              ;8db9  8f          DATA 0x8f
    .byte 0x01              ;8dba  01          DATA 0x01
    .byte 0xbd              ;8dbb  bd          DATA 0xbd
    .byte 0x70              ;8dbc  70          DATA 0x70 'p'
    .byte 0x01              ;8dbd  01          DATA 0x01
    .byte 0x29              ;8dbe  29          DATA 0x29 ')'
    .byte 0xf0              ;8dbf  f0          DATA 0xf0
    .byte 0x9d              ;8dc0  9d          DATA 0x9d
    .byte 0x70              ;8dc1  70          DATA 0x70 'p'
    .byte 0x01              ;8dc2  01          DATA 0x01
    .byte 0xbd              ;8dc3  bd          DATA 0xbd
    .byte 0x50              ;8dc4  50          DATA 0x50 'P'
    .byte 0x01              ;8dc5  01          DATA 0x01
    .byte 0x85              ;8dc6  85          DATA 0x85
    .byte 0x71              ;8dc7  71          DATA 0x71 'q'
    .byte 0x20              ;8dc8  20          DATA 0x20 ' '
    .byte 0xd1              ;8dc9  d1          DATA 0xd1
    .byte 0x4d              ;8dca  4d          DATA 0x4d 'M'
    .byte 0xa0              ;8dcb  a0          DATA 0xa0
    .byte 0x02              ;8dcc  02          DATA 0x02
    .byte 0x20              ;8dcd  20          DATA 0x20 ' '
    .byte 0x2c              ;8dce  2c          DATA 0x2c ','
    .byte 0xf2              ;8dcf  f2          DATA 0xf2
    .byte 0xa0              ;8dd0  a0          DATA 0xa0
    .byte 0x02              ;8dd1  02          DATA 0x02
    .byte 0x20              ;8dd2  20          DATA 0x20 ' '
    .byte 0x1e              ;8dd3  1e          DATA 0x1e
    .byte 0xf2              ;8dd4  f2          DATA 0xf2
    .byte 0x20              ;8dd5  20          DATA 0x20 ' '
    .byte 0x1c              ;8dd6  1c          DATA 0x1c
    .byte 0x8e              ;8dd7  8e          DATA 0x8e
    .byte 0xae              ;8dd8  ae          DATA 0xae
    .byte 0x8f              ;8dd9  8f          DATA 0x8f
    .byte 0x01              ;8dda  01          DATA 0x01
    .byte 0x1d              ;8ddb  1d          DATA 0x1d
    .byte 0x70              ;8ddc  70          DATA 0x70 'p'
    .byte 0x01              ;8ddd  01          DATA 0x01
    .byte 0x9d              ;8dde  9d          DATA 0x9d
    .byte 0x70              ;8ddf  70          DATA 0x70 'p'
    .byte 0x01              ;8de0  01          DATA 0x01
    .byte 0x68              ;8de1  68          DATA 0x68 'h'
    .byte 0x85              ;8de2  85          DATA 0x85
    .byte 0x71              ;8de3  71          DATA 0x71 'q'
    .byte 0x20              ;8de4  20          DATA 0x20 ' '
    .byte 0xd1              ;8de5  d1          DATA 0xd1
    .byte 0x4d              ;8de6  4d          DATA 0x4d 'M'
    .byte 0x0f              ;8de7  0f          DATA 0x0f
    .byte 0xf9              ;8de8  f9          DATA 0xf9
    .byte 0xa0              ;8de9  a0          DATA 0xa0
    .byte 0x01              ;8dea  01          DATA 0x01
    .byte 0x20              ;8deb  20          DATA 0x20 ' '
    .byte 0x2c              ;8dec  2c          DATA 0x2c ','
    .byte 0xf2              ;8ded  f2          DATA 0xf2
    .byte 0xa5              ;8dee  a5          DATA 0xa5
    .byte 0xbb              ;8def  bb          DATA 0xbb
    .byte 0xc9              ;8df0  c9          DATA 0xc9
    .byte 0x03              ;8df1  03          DATA 0x03
    .byte 0xf0              ;8df2  f0          DATA 0xf0
    .byte 0x03              ;8df3  03          DATA 0x03
    .byte 0x20              ;8df4  20          DATA 0x20 ' '
    .byte 0x64              ;8df5  64          DATA 0x64 'd'
    .byte 0x76              ;8df6  76          DATA 0x76 'v'
    .byte 0xa0              ;8df7  a0          DATA 0xa0
    .byte 0x3b              ;8df8  3b          DATA 0x3b ';'
    .byte 0x20              ;8df9  20          DATA 0x20 ' '
    .byte 0x00              ;8dfa  00          DATA 0x00
    .byte 0x33              ;8dfb  33          DATA 0x33 '3'
    .byte 0x80              ;8dfc  80          DATA 0x80
    .byte 0x1d              ;8dfd  1d          DATA 0x1d
    .byte 0xa0              ;8dfe  a0          DATA 0xa0
    .byte 0x15              ;8dff  15          DATA 0x15
    .byte 0x20              ;8e00  20          DATA 0x20 ' '
    .byte 0xac              ;8e01  ac          DATA 0xac
    .byte 0xf2              ;8e02  f2          DATA 0xf2
    .byte 0x27              ;8e03  27          DATA 0x27 '''
    .byte 0xed              ;8e04  ed          DATA 0xed
    .byte 0x03              ;8e05  03          DATA 0x03
    .byte 0x20              ;8e06  20          DATA 0x20 ' '
    .byte 0x25              ;8e07  25          DATA 0x25 '%'
    .byte 0x8c              ;8e08  8c          DATA 0x8c
    .byte 0xad              ;8e09  ad          DATA 0xad
    .byte 0x70              ;8e0a  70          DATA 0x70 'p'
    .byte 0x01              ;8e0b  01          DATA 0x01
    .byte 0xd0              ;8e0c  d0          DATA 0xd0
    .byte 0x0a              ;8e0d  0a          DATA 0x0a
    .byte 0xad              ;8e0e  ad          DATA 0xad
    .byte 0x71              ;8e0f  71          DATA 0x71 'q'
    .byte 0x01              ;8e10  01          DATA 0x01
    .byte 0xd0              ;8e11  d0          DATA 0xd0
    .byte 0x05              ;8e12  05          DATA 0x05
    .byte 0x20              ;8e13  20          DATA 0x20 ' '
    .byte 0x84              ;8e14  84          DATA 0x84
    .byte 0x8d              ;8e15  8d          DATA 0x8d
    .byte 0x80              ;8e16  80          DATA 0x80
    .byte 0x03              ;8e17  03          DATA 0x03
    .byte 0x20              ;8e18  20          DATA 0x20 ' '
    .byte 0xae              ;8e19  ae          DATA 0xae
    .byte 0x90              ;8e1a  90          DATA 0x90
    .byte 0x60              ;8e1b  60          DATA 0x60 '`'

sub_8e1c:
    jsr sub_8e4d            ;8e1c  20 4d 8e
    bcc lab_8e30            ;8e1f  90 0f
    lda #0x02               ;8e21  a9 02
    jsr sub_26d8            ;8e23  20 d8 26
    jsr sub_51a7            ;8e26  20 a7 51
    sta 0x02dd              ;8e29  8d dd 02
    lda #0x00               ;8e2c  a9 00
    bra lab_8e3b            ;8e2e  80 0b

lab_8e30:
    lda #0x02               ;8e30  a9 02
    jsr sub_26d8            ;8e32  20 d8 26
    jsr sub_51a7            ;8e35  20 a7 51
    sta 0x02dd              ;8e38  8d dd 02

lab_8e3b:
    pha                     ;8e3b  48
    lda #0x03               ;8e3c  a9 03
    jsr sub_26d8            ;8e3e  20 d8 26
    jsr sub_51c7            ;8e41  20 c7 51
    sta 0x02de              ;8e44  8d de 02
    tax                     ;8e47  aa
    pla                     ;8e48  68
    jsr sub_5197            ;8e49  20 97 51
    rts                     ;8e4c  60

sub_8e4d:
    bbs 0,0xf2,lab_8e6c     ;8e4d  07 f2 1c
    bbc 4,P0,lab_8e64       ;8e50  97 00 11
    lda #0x01               ;8e53  a9 01
    sta 0x02dc              ;8e55  8d dc 02
    lda #0x07               ;8e58  a9 07
    jsr sub_26d8            ;8e5a  20 d8 26
    sta 0x02db              ;8e5d  8d db 02
    cmp #0x38               ;8e60  c9 38
    bra lab_8eb1            ;8e62  80 4d

lab_8e64:
    lda #0x00               ;8e64  a9 00
    sta 0x02dc              ;8e66  8d dc 02
    sec                     ;8e69  38
    bra lab_8eb1            ;8e6a  80 45

lab_8e6c:
    lda 0x40                ;8e6c  a5 40
    pha                     ;8e6e  48
    lda 0x71                ;8e6f  a5 71
    pha                     ;8e71  48
    lda #0x02               ;8e72  a9 02
    jsr sub_26d8            ;8e74  20 d8 26
    clc                     ;8e77  18
    adc #0x4c               ;8e78  69 4c
    bcc lab_8e7e            ;8e7a  90 02
    lda #0xff               ;8e7c  a9 ff

lab_8e7e:
    sta 0x40                ;8e7e  85 40
    dec 0x71                ;8e80  c6 71
    jsr sub_4dd1            ;8e82  20 d1 4d

    ldy #0x14               ;8e85  a0 14
    jsr sub_f22c_delay      ;8e87  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x02               ;8e8a  a9 02
    jsr sub_26d8            ;8e8c  20 d8 26
    cmp 0x40                ;8e8f  c5 40
    bcs lab_8ea6            ;8e91  b0 13
    inc 0x71                ;8e93  e6 71
    inc 0x71                ;8e95  e6 71
    jsr sub_4dd1            ;8e97  20 d1 4d

    ldy #0x14               ;8e9a  a0 14
    jsr sub_f22c_delay      ;8e9c  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x02               ;8e9f  a9 02
    jsr sub_26d8            ;8ea1  20 d8 26
    cmp 0x40                ;8ea4  c5 40

lab_8ea6:
    pla                     ;8ea6  68
    sta 0x71                ;8ea7  85 71
    php                     ;8ea9  08
    jsr sub_4dd1            ;8eaa  20 d1 4d
    plp                     ;8ead  28
    pla                     ;8eae  68
    sta 0x40                ;8eaf  85 40

lab_8eb1:
    rts                     ;8eb1  60

sub_8eb2:
    bbs 0,0xf2,lab_8ec1     ;8eb2  07 f2 0c
    bbc 4,P0,lab_8ec8       ;8eb5  97 00 10
    lda #0x07               ;8eb8  a9 07
    jsr sub_26d8            ;8eba  20 d8 26
    cmp #0x38               ;8ebd  c9 38
    bcs lab_8ec8            ;8ebf  b0 07

lab_8ec1:
    lda #0x02               ;8ec1  a9 02
    jsr sub_26d8            ;8ec3  20 d8 26
    bra lab_8eca            ;8ec6  80 02

lab_8ec8:
    lda #0x00               ;8ec8  a9 00

lab_8eca:
    rts                     ;8eca  60

sub_8ecb:
    ldy #0x00               ;8ecb  a0 00
    ldx #0x00               ;8ecd  a2 00

lab_8ecf:
    lda 0x0170,x            ;8ecf  bd 70 01
    and #0x60               ;8ed2  29 60
    beq lab_8eef            ;8ed4  f0 19
    sec                     ;8ed6  38
    lda 0x0170,x            ;8ed7  bd 70 01
    sbc #0x20               ;8eda  e9 20
    sta 0x0170,x            ;8edc  9d 70 01
    and #0x60               ;8edf  29 60
    bne lab_8eed            ;8ee1  d0 0a
    lda 0x0170,x            ;8ee3  bd 70 01
    and #0x7f               ;8ee6  29 7f
    sta 0x0170,x            ;8ee8  9d 70 01
    bra lab_8eef            ;8eeb  80 02

lab_8eed:
    ldy #0x01               ;8eed  a0 01

lab_8eef:
    inx                     ;8eef  e8
    cpx 0xb8                ;8ef0  e4 b8
    bcc lab_8ecf            ;8ef2  90 db
    cpy #0x01               ;8ef4  c0 01
    rts                     ;8ef6  60

    .byte 0x00              ;8ef7  00          DATA 0x00
    .byte 0x01              ;8ef8  01          DATA 0x01
    .byte 0x01              ;8ef9  01          DATA 0x01
    .byte 0x02              ;8efa  02          DATA 0x02
    .byte 0x02              ;8efb  02          DATA 0x02
    .byte 0x02              ;8efc  02          DATA 0x02
    .byte 0x03              ;8efd  03          DATA 0x03
    .byte 0x03              ;8efe  03          DATA 0x03
    .byte 0x03              ;8eff  03          DATA 0x03
    .byte 0x04              ;8f00  04          DATA 0x04
    .byte 0x04              ;8f01  04          DATA 0x04
    .byte 0x04              ;8f02  04          DATA 0x04
    .byte 0x04              ;8f03  04          DATA 0x04
    .byte 0x04              ;8f04  04          DATA 0x04
    .byte 0x04              ;8f05  04          DATA 0x04
    .byte 0x04              ;8f06  04          DATA 0x04
    .byte 0x04              ;8f07  04          DATA 0x04
    .byte 0x04              ;8f08  04          DATA 0x04
    .byte 0x04              ;8f09  04          DATA 0x04
    .byte 0x04              ;8f0a  04          DATA 0x04
    .byte 0x04              ;8f0b  04          DATA 0x04
    .byte 0x04              ;8f0c  04          DATA 0x04
    .byte 0x04              ;8f0d  04          DATA 0x04
    .byte 0x04              ;8f0e  04          DATA 0x04
    .byte 0x04              ;8f0f  04          DATA 0x04
    .byte 0x04              ;8f10  04          DATA 0x04
    .byte 0x04              ;8f11  04          DATA 0x04
    .byte 0x04              ;8f12  04          DATA 0x04
    .byte 0x04              ;8f13  04          DATA 0x04
    .byte 0x04              ;8f14  04          DATA 0x04
    .byte 0x04              ;8f15  04          DATA 0x04
    .byte 0x04              ;8f16  04          DATA 0x04
    .byte 0xa5              ;8f17  a5          DATA 0xa5
    .byte 0xb8              ;8f18  b8          DATA 0xb8
    .byte 0x29              ;8f19  29          DATA 0x29 ')'
    .byte 0x1f              ;8f1a  1f          DATA 0x1f
    .byte 0x85              ;8f1b  85          DATA 0x85
    .byte 0xb8              ;8f1c  b8          DATA 0xb8
    .byte 0xaa              ;8f1d  aa          DATA 0xaa
    .byte 0xc9              ;8f1e  c9          DATA 0xc9
    .byte 0x02              ;8f1f  02          DATA 0x02
    .byte 0x90              ;8f20  90          DATA 0x90
    .byte 0x29              ;8f21  29          DATA 0x29 ')'
    .byte 0x97              ;8f22  97          DATA 0x97
    .byte 0xfd              ;8f23  fd          DATA 0xfd
    .byte 0x10              ;8f24  10          DATA 0x10
    .byte 0xa5              ;8f25  a5          DATA 0xa5
    .byte 0xb9              ;8f26  b9          DATA 0xb9
    .byte 0x3a              ;8f27  3a          DATA 0x3a ':'
    .byte 0xdd              ;8f28  dd          DATA 0xdd
    .byte 0xf7              ;8f29  f7          DATA 0xf7
    .byte 0x8e              ;8f2a  8e          DATA 0x8e
    .byte 0x90              ;8f2b  90          DATA 0x90
    .byte 0x02              ;8f2c  02          DATA 0x02
    .byte 0xa9              ;8f2d  a9          DATA 0xa9
    .byte 0x01              ;8f2e  01          DATA 0x01
    .byte 0x85              ;8f2f  85          DATA 0x85
    .byte 0xb9              ;8f30  b9          DATA 0xb9
    .byte 0x9f              ;8f31  9f          DATA 0x9f
    .byte 0xfd              ;8f32  fd          DATA 0xfd
    .byte 0x80              ;8f33  80          DATA 0x80
    .byte 0x0e              ;8f34  0e          DATA 0x0e
    .byte 0xa5              ;8f35  a5          DATA 0xa5
    .byte 0xba              ;8f36  ba          DATA 0xba
    .byte 0x3a              ;8f37  3a          DATA 0x3a ':'
    .byte 0xc5              ;8f38  c5          DATA 0xc5
    .byte 0xb8              ;8f39  b8          DATA 0xb8
    .byte 0x90              ;8f3a  90          DATA 0x90
    .byte 0x03              ;8f3b  03          DATA 0x03
    .byte 0xbd              ;8f3c  bd          DATA 0xbd
    .byte 0xf7              ;8f3d  f7          DATA 0xf7
    .byte 0x8e              ;8f3e  8e          DATA 0x8e
    .byte 0x85              ;8f3f  85          DATA 0x85
    .byte 0xba              ;8f40  ba          DATA 0xba
    .byte 0x8f              ;8f41  8f          DATA 0x8f
    .byte 0xfd              ;8f42  fd          DATA 0xfd
    .byte 0xaa              ;8f43  aa          DATA 0xaa
    .byte 0x38              ;8f44  38          DATA 0x38 '8'
    .byte 0xbd              ;8f45  bd          DATA 0xbd
    .byte 0x70              ;8f46  70          DATA 0x70 'p'
    .byte 0x01              ;8f47  01          DATA 0x01
    .byte 0xf3              ;8f48  f3          DATA 0xf3
    .byte 0x01              ;8f49  01          DATA 0x01
    .byte 0x18              ;8f4a  18          DATA 0x18
    .byte 0x60              ;8f4b  60          DATA 0x60 '`'
    .byte 0xa5              ;8f4c  a5          DATA 0xa5
    .byte 0xb8              ;8f4d  b8          DATA 0xb8
    .byte 0xc9              ;8f4e  c9          DATA 0xc9
    .byte 0x03              ;8f4f  03          DATA 0x03
    .byte 0x90              ;8f50  90          DATA 0x90
    .byte 0x21              ;8f51  21          DATA 0x21 '!'
    .byte 0xaa              ;8f52  aa          DATA 0xaa
    .byte 0x87              ;8f53  87          DATA 0x87
    .byte 0xfd              ;8f54  fd          DATA 0xfd
    .byte 0x0e              ;8f55  0e          DATA 0x0e
    .byte 0xa5              ;8f56  a5          DATA 0xa5
    .byte 0xb9              ;8f57  b9          DATA 0xb9
    .byte 0xc9              ;8f58  c9          DATA 0xc9
    .byte 0x01              ;8f59  01          DATA 0x01
    .byte 0xf0              ;8f5a  f0          DATA 0xf0
    .byte 0x02              ;8f5b  02          DATA 0x02
    .byte 0xb0              ;8f5c  b0          DATA 0xb0
    .byte 0x03              ;8f5d  03          DATA 0x03
    .byte 0xbd              ;8f5e  bd          DATA 0xbd
    .byte 0xf7              ;8f5f  f7          DATA 0xf7
    .byte 0x8e              ;8f60  8e          DATA 0x8e
    .byte 0x1a              ;8f61  1a          DATA 0x1a
    .byte 0x85              ;8f62  85          DATA 0x85
    .byte 0xb9              ;8f63  b9          DATA 0xb9
    .byte 0xa5              ;8f64  a5          DATA 0xa5
    .byte 0xba              ;8f65  ba          DATA 0xba
    .byte 0xdd              ;8f66  dd          DATA 0xdd
    .byte 0xf7              ;8f67  f7          DATA 0xf7
    .byte 0x8e              ;8f68  8e          DATA 0x8e
    .byte 0xf0              ;8f69  f0          DATA 0xf0
    .byte 0x02              ;8f6a  02          DATA 0x02
    .byte 0xb0              ;8f6b  b0          DATA 0xb0
    .byte 0x02              ;8f6c  02          DATA 0x02
    .byte 0xa5              ;8f6d  a5          DATA 0xa5
    .byte 0xb8              ;8f6e  b8          DATA 0xb8
    .byte 0x1a              ;8f6f  1a          DATA 0x1a
    .byte 0x85              ;8f70  85          DATA 0x85
    .byte 0xba              ;8f71  ba          DATA 0xba
    .byte 0x38              ;8f72  38          DATA 0x38 '8'
    .byte 0x60              ;8f73  60          DATA 0x60 '`'
    .byte 0x97              ;8f74  97          DATA 0x97
    .byte 0xfd              ;8f75  fd          DATA 0xfd
    .byte 0x11              ;8f76  11          DATA 0x11
    .byte 0xc4              ;8f77  c4          DATA 0xc4
    .byte 0xb9              ;8f78  b9          DATA 0xb9
    .byte 0xf0              ;8f79  f0          DATA 0xf0
    .byte 0x02              ;8f7a  02          DATA 0x02
    .byte 0xb0              ;8f7b  b0          DATA 0xb0
    .byte 0x0b              ;8f7c  0b          DATA 0x0b
    .byte 0x20              ;8f7d  20          DATA 0x20 ' '
    .byte 0x17              ;8f7e  17          DATA 0x17
    .byte 0x8f              ;8f7f  8f          DATA 0x8f
    .byte 0xe0              ;8f80  e0          DATA 0xe0
    .byte 0x01              ;8f81  01          DATA 0x01
    .byte 0xd0              ;8f82  d0          DATA 0xd0
    .byte 0x04              ;8f83  04          DATA 0x04
    .byte 0xa9              ;8f84  a9          DATA 0xa9
    .byte 0x03              ;8f85  03          DATA 0x03
    .byte 0x85              ;8f86  85          DATA 0x85
    .byte 0xba              ;8f87  ba          DATA 0xba
    .byte 0x60              ;8f88  60          DATA 0x60 '`'

sub_8f89:
    lda 0x40                ;8f89  a5 40
    pha                     ;8f8b  48
    ldy #0x00               ;8f8c  a0 00
    lda 0x4c                ;8f8e  a5 4c
    bne lab_8f96            ;8f90  d0 04
    lda 0x4d                ;8f92  a5 4d
    beq lab_8fb6            ;8f94  f0 20

lab_8f96:
    lda 0x4e                ;8f96  a5 4e
    bne lab_8f9e            ;8f98  d0 04
    lda 0x4f                ;8f9a  a5 4f
    beq lab_8fb6            ;8f9c  f0 18

lab_8f9e:
    lda 0x4e                ;8f9e  a5 4e
    and #0x0f               ;8fa0  29 0f
    cmp #0x03               ;8fa2  c9 03
    bcs lab_8fb8            ;8fa4  b0 12
    ldy #0x02               ;8fa6  a0 02
    lda 0x4c                ;8fa8  a5 4c
    cmp 0x4e                ;8faa  c5 4e
    bne lab_8fb6            ;8fac  d0 08
    lda 0x4d                ;8fae  a5 4d
    cmp 0x4f                ;8fb0  c5 4f
    bne lab_8fb6            ;8fb2  d0 02
    ldy #0x01               ;8fb4  a0 01

lab_8fb6:
    bra lab_900f            ;8fb6  80 57

lab_8fb8:
    lda 0x4c                ;8fb8  a5 4c
    and #0x0f               ;8fba  29 0f
    cmp #0x03               ;8fbc  c9 03
    bcs lab_8fe2            ;8fbe  b0 22
    ldy #0x02               ;8fc0  a0 02
    lda 0x4c                ;8fc2  a5 4c
    and #0x0f               ;8fc4  29 0f
    beq lab_8fe0            ;8fc6  f0 18
    ldy #0x02               ;8fc8  a0 02
    lda 0x4c                ;8fca  a5 4c
    and #0xf0               ;8fcc  29 f0
    sta 0x40                ;8fce  85 40
    lda 0x4e                ;8fd0  a5 4e
    and #0xf0               ;8fd2  29 f0
    cmp 0x40                ;8fd4  c5 40
    bne lab_8fe0            ;8fd6  d0 08
    lda 0x4d                ;8fd8  a5 4d
    cmp 0x4f                ;8fda  c5 4f
    bne lab_8fe0            ;8fdc  d0 02
    ldy #0x01               ;8fde  a0 01

lab_8fe0:
    bra lab_900f            ;8fe0  80 2d

lab_8fe2:
    ldy #0x02               ;8fe2  a0 02
    lda 0x4c                ;8fe4  a5 4c
    and #0xf0               ;8fe6  29 f0
    sta 0x40                ;8fe8  85 40
    lda 0x4e                ;8fea  a5 4e
    and #0xf0               ;8fec  29 f0
    cmp 0x40                ;8fee  c5 40
    bne lab_900f            ;8ff0  d0 1d
    lda 0x4d                ;8ff2  a5 4d
    cmp 0x4f                ;8ff4  c5 4f
    bne lab_900f            ;8ff6  d0 17
    lda 0x4c                ;8ff8  a5 4c
    cmp 0x4e                ;8ffa  c5 4e
    bne lab_9004            ;8ffc  d0 06
    lda 0x4d                ;8ffe  a5 4d
    cmp 0x4f                ;9000  c5 4f
    beq lab_9009            ;9002  f0 05

lab_9004:
    lda 0x028c              ;9004  ad 8c 02
    bne lab_900d            ;9007  d0 04

lab_9009:
    ldy #0x01               ;9009  a0 01
    bra lab_900f            ;900b  80 02

lab_900d:
    ldy #0x03               ;900d  a0 03

lab_900f:
    pla                     ;900f  68
    sta 0x40                ;9010  85 40
    rts                     ;9012  60

;XXX appears unused
sub_9013:
    txa                     ;9013  8a
    pha                     ;9014  48
    tya                     ;9015  98
    pha                     ;9016  48
    bbc 0,0x00fd,lab_903e   ;9017  17 fd 24
    lda 0x00b2              ;901a  a5 b2
    and #0x0f               ;901c  29 0f
    cmp #0x03               ;901e  c9 03
    bcc lab_903e            ;9020  90 1c
    tay                     ;9022  a8
    lda 0x00b2              ;9023  a5 b2
    sta 0x02e0              ;9025  8d e0 02
    lda 0x00b3              ;9028  a5 b3
    sta 0x02e1              ;902a  8d e1 02
    lda #0x1e               ;902d  a9 1e
    sta 0x02e0,y            ;902f  99 e0 02
    ldy #0x1a               ;9032  a0 1a
    jsr sub_33c6            ;9034  20 c6 33
    bcs lab_903e            ;9037  b0 05
    ldy #0x1a               ;9039  a0 1a
    jsr sub_3300            ;903b  20 00 33

lab_903e:
    pla                     ;903e  68
    tay                     ;903f  a8
    pla                     ;9040  68
    tax                     ;9041  aa
    rts                     ;9042  60

sub_9043:
    txa                     ;9043  8a
    pha                     ;9044  48
    lda #0x00               ;9045  a9 00
    ldx #0x0f               ;9047  a2 0f

lab_9049:
    sta 0x02e0,x            ;9049  9d e0 02
    dex                     ;904c  ca
    bpl lab_9049            ;904d  10 fa
    pla                     ;904f  68
    tax                     ;9050  aa
    rts                     ;9051  60

;XXX appears unused
sub_9052:
    ldy #0x00               ;9052  a0 00
    ldx #0x03               ;9054  a2 03

lab_9056:
    lda 0x02e0,x            ;9056  bd e0 02
    beq lab_9062            ;9059  f0 07
    dec 0x02e0,x            ;905b  de e0 02
    beq lab_9062            ;905e  f0 02
    ldy #0x01               ;9060  a0 01

lab_9062:
    inx                     ;9062  e8
    cpx #0x10               ;9063  e0 10
    bcc lab_9056            ;9065  90 ef
    cpy #0x01               ;9067  c0 01
    rts                     ;9069  60

lab_906a:
    jsr sub_9052            ;906a  20 52 90
    bcc lab_9074            ;906d  90 05
    ldy #0x1a               ;906f  a0 1a
    jsr sub_3300            ;9071  20 00 33

lab_9074:
    rts                     ;9074  60

mem_9075:
    .byte 0x04              ;9075  04          DATA 0x04
    .byte 0x04              ;9076  04          DATA 0x04
    .byte 0x04              ;9077  04          DATA 0x04
    .byte 0x04              ;9078  04          DATA 0x04
    .byte 0x05              ;9079  05          DATA 0x05
    .byte 0x06              ;907a  06          DATA 0x06
    .byte 0x06              ;907b  06          DATA 0x06
    .byte 0x06              ;907c  06          DATA 0x06
    .byte 0x07              ;907d  07          DATA 0x07
    .byte 0x07              ;907e  07          DATA 0x07
    .byte 0x07              ;907f  07          DATA 0x07
    .byte 0x07              ;9080  07          DATA 0x07
    .byte 0x08              ;9081  08          DATA 0x08
    .byte 0x08              ;9082  08          DATA 0x08
    .byte 0x0a              ;9083  0a          DATA 0x0a
    .byte 0x0a              ;9084  0a          DATA 0x0a

mem_9085:
    .byte 0x01              ;9085  01          DATA 0x01
    .byte 0x01              ;9086  01          DATA 0x01
    .byte 0x01              ;9087  01          DATA 0x01
    .byte 0x01              ;9088  01          DATA 0x01
    .byte 0x03              ;9089  03          DATA 0x03
    .byte 0x03              ;908a  03          DATA 0x03
    .byte 0x03              ;908b  03          DATA 0x03
    .byte 0x03              ;908c  03          DATA 0x03
    .byte 0x03              ;908d  03          DATA 0x03
    .byte 0x03              ;908e  03          DATA 0x03
    .byte 0x07              ;908f  07          DATA 0x07
    .byte 0x07              ;9090  07          DATA 0x07
    .byte 0x07              ;9091  07          DATA 0x07
    .byte 0x07              ;9092  07          DATA 0x07
    .byte 0x07              ;9093  07          DATA 0x07
    .byte 0x07              ;9094  07          DATA 0x07
    .byte 0xa5              ;9095  a5          DATA 0xa5
    .byte 0x6e              ;9096  6e          DATA 0x6e 'n'
    .byte 0xc9              ;9097  c9          DATA 0xc9
    .byte 0x04              ;9098  04          DATA 0x04
    .byte 0xb0              ;9099  b0          DATA 0xb0
    .byte 0x05              ;909a  05          DATA 0x05
    .byte 0x20              ;909b  20          DATA 0x20 ' '
    .byte 0x84              ;909c  84          DATA 0x84
    .byte 0x8d              ;909d  8d          DATA 0x8d
    .byte 0x80              ;909e  80          DATA 0x80
    .byte 0x32              ;909f  32          DATA 0x32 '2'
    .byte 0x20              ;90a0  20          DATA 0x20 ' '
    .byte 0x26              ;90a1  26          DATA 0x26 '&'
    .byte 0x8d              ;90a2  8d          DATA 0x8d
    .byte 0xa0              ;90a3  a0          DATA 0xa0
    .byte 0x10              ;90a4  10          DATA 0x10
    .byte 0x20              ;90a5  20          DATA 0x20 ' '
    .byte 0xac              ;90a6  ac          DATA 0xac
    .byte 0xf2              ;90a7  f2          DATA 0xf2
    .byte 0x27              ;90a8  27          DATA 0x27 '''
    .byte 0xed              ;90a9  ed          DATA 0xed
    .byte 0x24              ;90aa  24          DATA 0x24 '$'
    .byte 0x20              ;90ab  20          DATA 0x20 ' '
    .byte 0x71              ;90ac  71          DATA 0x71 'q'
    .byte 0x95              ;90ad  95          DATA 0x95
    .byte 0x07              ;90ae  07          DATA 0x07
    .byte 0xfc              ;90af  fc          DATA 0xfc
    .byte 0x1e              ;90b0  1e          DATA 0x1e
    .byte 0x47              ;90b1  47          DATA 0x47 'G'
    .byte 0xf3              ;90b2  f3          DATA 0xf3
    .byte 0x1b              ;90b3  1b          DATA 0x1b
    .byte 0x07              ;90b4  07          DATA 0x07
    .byte 0xf3              ;90b5  f3          DATA 0xf3
    .byte 0x18              ;90b6  18          DATA 0x18
    .byte 0x67              ;90b7  67          DATA 0x67 'g'
    .byte 0xfe              ;90b8  fe          DATA 0xfe
    .byte 0x15              ;90b9  15          DATA 0x15
    .byte 0x27              ;90ba  27          DATA 0x27 '''
    .byte 0xed              ;90bb  ed          DATA 0xed
    .byte 0x12              ;90bc  12          DATA 0x12
    .byte 0xad              ;90bd  ad          DATA 0xad
    .byte 0x70              ;90be  70          DATA 0x70 'p'
    .byte 0x01              ;90bf  01          DATA 0x01
    .byte 0xc9              ;90c0  c9          DATA 0xc9
    .byte 0x08              ;90c1  08          DATA 0x08
    .byte 0xb0              ;90c2  b0          DATA 0xb0
    .byte 0x0b              ;90c3  0b          DATA 0x0b
    .byte 0x20              ;90c4  20          DATA 0x20 ' '
    .byte 0xf2              ;90c5  f2          DATA 0xf2
    .byte 0xde              ;90c6  de          DATA 0xde
    .byte 0x3c              ;90c7  3c          DATA 0x3c '<'
    .byte 0x00              ;90c8  00          DATA 0x00
    .byte 0xbb              ;90c9  bb          DATA 0xbb
    .byte 0x20              ;90ca  20          DATA 0x20 ' '
    .byte 0x9a              ;90cb  9a          DATA 0x9a
    .byte 0x92              ;90cc  92          DATA 0x92
    .byte 0x80              ;90cd  80          DATA 0x80
    .byte 0x03              ;90ce  03          DATA 0x03
    .byte 0x20              ;90cf  20          DATA 0x20 ' '
    .byte 0xdc              ;90d0  dc          DATA 0xdc
    .byte 0x8c              ;90d1  8c          DATA 0x8c
    .byte 0x60              ;90d2  60          DATA 0x60 '`'

sub_90d3:
    bbs 3,0xfe,lab_90eb     ;90d3  67 fe 15
    jsr sub_90f4            ;90d6  20 f4 90
    jsr sub_f2ac            ;90d9  20 ac f2
    lda 0x92                ;90dc  a5 92
    sta 0x90                ;90de  85 90
    lda 0x93                ;90e0  a5 93
    sta 0x91                ;90e2  85 91
    lda 0xbb                ;90e4  a5 bb
    jsr sub_964e            ;90e6  20 4e 96
    bra lab_90f3            ;90e9  80 08

lab_90eb:
    jsr sub_9188            ;90eb  20 88 91
    lda #0x05               ;90ee  a9 05
    jsr sub_964e            ;90f0  20 4e 96

lab_90f3:
    rts                     ;90f3  60

sub_90f4:
    lda 0x40                ;90f4  a5 40
    pha                     ;90f6  48
    ldy #0x00               ;90f7  a0 00
    lda 0x92                ;90f9  a5 92
    bne lab_9101            ;90fb  d0 04
    lda 0x93                ;90fd  a5 93
    beq lab_9119            ;90ff  f0 18

lab_9101:
    lda 0xb2                ;9101  a5 b2
    and #0x0f               ;9103  29 0f
    cmp #0x03               ;9105  c9 03
    bcs lab_911b            ;9107  b0 12
    ldy #0x02               ;9109  a0 02
    lda 0x92                ;910b  a5 92
    cmp 0xb2                ;910d  c5 b2
    bne lab_9119            ;910f  d0 08
    lda 0x93                ;9111  a5 93
    cmp 0xb3                ;9113  c5 b3
    bne lab_9119            ;9115  d0 02
    ldy #0x01               ;9117  a0 01

lab_9119:
    bra lab_9184            ;9119  80 69

lab_911b:
    lda 0x92                ;911b  a5 92
    and #0x0f               ;911d  29 0f
    cmp #0x03               ;911f  c9 03
    bcs lab_9145            ;9121  b0 22
    ldy #0x02               ;9123  a0 02
    lda 0x92                ;9125  a5 92
    and #0x0f               ;9127  29 0f
    beq lab_9143            ;9129  f0 18
    ldy #0x02               ;912b  a0 02
    lda 0x92                ;912d  a5 92
    and #0xf0               ;912f  29 f0
    sta 0x40                ;9131  85 40
    lda 0xb2                ;9133  a5 b2
    and #0xf0               ;9135  29 f0
    cmp 0x40                ;9137  c5 40
    bne lab_9143            ;9139  d0 08
    lda 0x93                ;913b  a5 93
    cmp 0xb3                ;913d  c5 b3
    bne lab_9143            ;913f  d0 02
    ldy #0x01               ;9141  a0 01

lab_9143:
    bra lab_9184            ;9143  80 3f

lab_9145:
    ldy #0x02               ;9145  a0 02
    lda 0x92                ;9147  a5 92
    and #0xf0               ;9149  29 f0
    sta 0x40                ;914b  85 40
    lda 0xb2                ;914d  a5 b2
    and #0xf0               ;914f  29 f0
    cmp 0x40                ;9151  c5 40
    bne lab_9184            ;9153  d0 2f
    lda 0x93                ;9155  a5 93
    cmp 0xb3                ;9157  c5 b3
    bne lab_9184            ;9159  d0 29
    lda 0x92                ;915b  a5 92
    cmp 0xb2                ;915d  c5 b2
    bne lab_9167            ;915f  d0 06
    lda 0x93                ;9161  a5 93
    cmp 0xb3                ;9163  c5 b3
    beq lab_916c            ;9165  f0 05

lab_9167:
    lda 0x028c              ;9167  ad 8c 02
    bne lab_9182            ;916a  d0 16

lab_916c:
    ldy #0x01               ;916c  a0 01
    lda 0x92                ;916e  a5 92
    sta 0x90                ;9170  85 90
    lda 0x93                ;9172  a5 93
    sta 0x91                ;9174  85 91
    lda 0x92                ;9176  a5 92
    sta 0xb2                ;9178  85 b2
    lda 0x93                ;917a  a5 93
    sta 0xb3                ;917c  85 b3
    clb 5,0xfb              ;917e  bf fb
    bra lab_9184            ;9180  80 02

lab_9182:
    ldy #0x03               ;9182  a0 03

lab_9184:
    pla                     ;9184  68
    sta 0x40                ;9185  85 40
    rts                     ;9187  60

sub_9188:
    ldy #0x00               ;9188  a0 00
    lda 0x92                ;918a  a5 92
    beq lab_91a4            ;918c  f0 16
    lda 0x93                ;918e  a5 93
    beq lab_91a4            ;9190  f0 12
    ldy #0x02               ;9192  a0 02
    lda 0x92                ;9194  a5 92
    cmp 0x05d2              ;9196  cd d2 05
    bne lab_91a4            ;9199  d0 09
    lda 0x93                ;919b  a5 93
    cmp 0x05d3              ;919d  cd d3 05
    bne lab_91a4            ;91a0  d0 02
    ldy #0x01               ;91a2  a0 01

lab_91a4:
    rts                     ;91a4  60

sub_91a5:
    ldy #0x1a               ;91a5  a0 1a
    jsr sub_f2ac            ;91a7  20 ac f2
    clb 5,0xfb              ;91aa  bf fb
    bbs 3,0xfe,lab_9203     ;91ac  67 fe 54
    lda 0x40                ;91af  a5 40
    pha                     ;91b1  48
    ldy #0x02               ;91b2  a0 02
    lda 0xb2                ;91b4  a5 b2
    and #0x0f               ;91b6  29 0f
    cmp #0x03               ;91b8  c9 03
    bcc lab_91da            ;91ba  90 1e
    lda 0x92                ;91bc  a5 92
    and #0x0f               ;91be  29 0f
    cmp #0x03               ;91c0  c9 03
    bcc lab_91da            ;91c2  90 16
    lda 0x92                ;91c4  a5 92
    and #0xf0               ;91c6  29 f0
    sta 0x40                ;91c8  85 40
    lda 0xb2                ;91ca  a5 b2
    and #0xf0               ;91cc  29 f0
    cmp 0x40                ;91ce  c5 40
    bne lab_91da            ;91d0  d0 08
    lda 0x93                ;91d2  a5 93
    cmp 0xb3                ;91d4  c5 b3
    bne lab_91da            ;91d6  d0 02
    ldy #0x03               ;91d8  a0 03

lab_91da:
    cpy #0x03               ;91da  c0 03
    beq lab_91fb            ;91dc  f0 1d
    lda 0xb8                ;91de  a5 b8
    cmp #0x02               ;91e0  c9 02
    bcc lab_9200            ;91e2  90 1c
    lda 0x90                ;91e4  a5 90
    sta 0x0262              ;91e6  8d 62 02
    lda 0x91                ;91e9  a5 91
    sta 0x0263              ;91eb  8d 63 02
    lda #0x00               ;91ee  a9 00
    sta 0x016f              ;91f0  8d 6f 01
    ldm #0x04,0xbb          ;91f3  3c 04 bb
    jsr sub_9970            ;91f6  20 70 99
    bra lab_9200            ;91f9  80 05

lab_91fb:
    jsr sub_99e0            ;91fb  20 e0 99
    seb 5,0xfc              ;91fe  af fc

lab_9200:
    pla                     ;9200  68
    sta 0x40                ;9201  85 40

lab_9203:
    rts                     ;9203  60

sub_9204:
    lda 0x42                ;9204  a5 42
    pha                     ;9206  48
    lda 0x43                ;9207  a5 43
    pha                     ;9209  48
    lda 0x0150              ;920a  ad 50 01
    cmp 0x71                ;920d  c5 71
    beq lab_927f            ;920f  f0 6e
    jsr sub_7655            ;9211  20 55 76
    clb 0,0xf9              ;9214  1f f9
    jsr sub_9509            ;9216  20 09 95
    jsr sub_44c1            ;9219  20 c1 44
    jsr sub_8936            ;921c  20 36 89
    lda #0x00               ;921f  a9 00
    sta 0x92                ;9221  85 92
    lda #0x00               ;9223  a9 00
    sta 0x93                ;9225  85 93
    lda #0x00               ;9227  a9 00
    sta 0x90                ;9229  85 90
    lda #0x00               ;922b  a9 00
    sta 0x91                ;922d  85 91
    lda 0x0150              ;922f  ad 50 01
    sta 0x71                ;9232  85 71
    jsr sub_4dd1            ;9234  20 d1 4d
    ldy #0x1f               ;9237  a0 1f
    jsr sub_f2ac            ;9239  20 ac f2
    ldy 0x0150              ;923c  ac 50 01
    lda 0xb2                ;923f  a5 b2
    sta 0x4a                ;9241  85 4a
    lda 0xb3                ;9243  a5 b3
    sta 0x4b                ;9245  85 4b
    jsr sub_e4ad            ;9247  20 ad e4
    jsr sub_ed56            ;924a  20 56 ed
    lda 0xbb                ;924d  a5 bb
    cmp #0x03               ;924f  c9 03
    beq lab_927f            ;9251  f0 2c
    cpy #0x05               ;9253  c0 05
    bcs lab_927f            ;9255  b0 28
    cpy #0x03               ;9257  c0 03
    bcc lab_927f            ;9259  90 24
    beq lab_9262            ;925b  f0 05
    ldy 0x028c              ;925d  ac 8c 02
    bne lab_927f            ;9260  d0 1d

lab_9262:
    lda 0x4a                ;9262  a5 4a
    cmp #0x15               ;9264  c9 15
    bcc lab_927f            ;9266  90 17
    lda 0x0420,x            ;9268  bd 20 04
    cmp #0xe0               ;926b  c9 e0
    bcs lab_9277            ;926d  b0 08
    jsr sub_7664            ;926f  20 64 76
    ldm #0x64,0xb5          ;9272  3c 64 b5
    bra lab_9282            ;9275  80 0b

lab_9277:
    lda 0x0420,x            ;9277  bd 20 04
    sbc #0x20               ;927a  e9 20
    sta 0x0420,x            ;927c  9d 20 04

lab_927f:
    ldm #0x1e,0xb5          ;927f  3c 1e b5

lab_9282:
    ldy #0x02               ;9282  a0 02
    jsr sub_f22c_delay      ;9284  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_51d8            ;9287  20 d8 51
    jsr sub_8cdc            ;928a  20 dc 8c
    clb 4,0xfb              ;928d  9f fb
    seb 5,0xfd              ;928f  af fd
    seb 0,0xf9              ;9291  0f f9
    pla                     ;9293  68
    sta 0x43                ;9294  85 43
    pla                     ;9296  68
    sta 0x42                ;9297  85 42
    rts                     ;9299  60

sub_929a:
    lda 0x0040              ;929a  a5 40
    pha                     ;929c  48
    lda 0x0041              ;929d  a5 41
    pha                     ;929f  48
    ldm #0x00,0x0041        ;92a0  3c 00 41

lab_92a3:
    lda 0x0041              ;92a3  a5 41
    sta 0x0040              ;92a5  85 40

lab_92a7:
    inc 0x0041              ;92a7  e6 41

lab_92a9:
    ldx 0x0041              ;92a9  a6 41
    cpx 0x00b8              ;92ab  e4 b8
    bcs lab_930b            ;92ad  b0 5c
    cpx #0x04               ;92af  e0 04
    bcs lab_930b            ;92b1  b0 58
    lda 0x0170,x            ;92b3  bd 70 01
    bbs 7,a,lab_92a7        ;92b6  e3 ef
    ldy 0x0040              ;92b8  a4 40
    cmp 0x0170,y            ;92ba  d9 70 01
    bcc lab_92a7            ;92bd  90 e8
    beq lab_92a7            ;92bf  f0 e6
    lda 0x0150,x            ;92c1  bd 50 01
    tay                     ;92c4  a8
    lda 0x00b2              ;92c5  a5 b2
    sta 0x004a              ;92c7  85 4a
    lda 0x00b3              ;92c9  a5 b3
    sta 0x004b              ;92cb  85 4b
    jsr sub_e4ad            ;92cd  20 ad e4
    bcc lab_92a3            ;92d0  90 d1
    lda 0x004a              ;92d2  a5 4a
    cmp #0x1a               ;92d4  c9 1a
    bcs lab_92e2            ;92d6  b0 0a
    lda 0x0420,x            ;92d8  bd 20 04
    and #0x1f               ;92db  29 1f
    sta 0x0420,x            ;92dd  9d 20 04
    bra lab_92a3            ;92e0  80 c1

lab_92e2:
    cpy #0x01               ;92e2  c0 01
    bne lab_92ef            ;92e4  d0 09
    lda 0x0420,x            ;92e6  bd 20 04
    cmp #0xe0               ;92e9  c9 e0
    bcc lab_92a3            ;92eb  90 b6
    bra lab_92a7            ;92ed  80 b8

lab_92ef:
    cpy #0x02               ;92ef  c0 02
    bne lab_92fa            ;92f1  d0 07
    ldx 0x0041              ;92f3  a6 41
    jsr sub_95a7            ;92f5  20 a7 95
    bra lab_92a9            ;92f8  80 af

lab_92fa:
    ldx 0x028c              ;92fa  ae 8c 02
    beq lab_9305            ;92fd  f0 06
    cpy #0x03               ;92ff  c0 03
    beq lab_92a3            ;9301  f0 a0
    bra lab_92a7            ;9303  80 a2

lab_9305:
    cpy #0x03               ;9305  c0 03
    bcs lab_92a3            ;9307  b0 9a
    bra lab_92a7            ;9309  80 9c

lab_930b:
    ldx 0x0040              ;930b  a6 40
    beq lab_9352            ;930d  f0 43
    ldy #0x00               ;930f  a0 00
    jsr sub_951e            ;9311  20 1e 95
    jsr sub_9204            ;9314  20 04 92
    lda 0x006d              ;9317  a5 6d
    jsr sub_51c7            ;9319  20 c7 51
    sta 0x006f              ;931c  85 6f
    tax                     ;931e  aa
    jsr sub_8eb2            ;931f  20 b2 8e
    sta 0x006c              ;9322  85 6c
    jsr sub_51a7            ;9324  20 a7 51
    sta 0x006e              ;9327  85 6e
    jsr sub_5197            ;9329  20 97 51
    sta 0x0070              ;932c  85 70
    sta 0x0170              ;932e  8d 70 01
    lda 0x006e              ;9331  a5 6e
    cmp #0x05               ;9333  c9 05
    bcc lab_933d            ;9335  90 06
    lda 0x006f              ;9337  a5 6f
    cmp #0x04               ;9339  c9 04
    bcc lab_9350            ;933b  90 13

lab_933d:
    ldx #0x00               ;933d  a2 00
    ldy 0x0040              ;933f  a4 40
    jsr sub_951e            ;9341  20 1e 95
    jsr sub_9204            ;9344  20 04 92
    jsr sub_9516            ;9347  20 16 95
    jsr sub_7664            ;934a  20 64 76
    jsr sub_8c25            ;934d  20 25 8c

lab_9350:
    bra lab_9368            ;9350  80 16

lab_9352:
    lda 0x00b2              ;9352  a5 b2
    and #0x0f               ;9354  29 0f
    cmp #0x03               ;9356  c9 03
    bcc lab_9365            ;9358  90 0b
    lda 0x00bd              ;935a  a5 bd
    cmp #0x0a               ;935c  c9 0a
    bcc lab_9365            ;935e  90 05
    jsr sub_936f            ;9360  20 6f 93
    bra lab_9368            ;9363  80 03

lab_9365:
    jsr sub_8cdc            ;9365  20 dc 8c

lab_9368:
    pla                     ;9368  68
    sta 0x0041              ;9369  85 41
    pla                     ;936b  68
    sta 0x0040              ;936c  85 40
    rts                     ;936e  60

sub_936f:
    lda 0x0040              ;936f  a5 40
    pha                     ;9371  48
    ldy #0x19               ;9372  a0 19
    jsr sub_f2ac            ;9374  20 ac f2
    lda 0x00b2              ;9377  a5 b2
    sta 0x0090              ;9379  85 90
    lda 0x00b3              ;937b  a5 b3
    sta 0x0091              ;937d  85 91
    ldx #0x00               ;937f  a2 00
    stx 0x0040              ;9381  86 40

lab_9383:
    inx                     ;9383  e8
    cpx 0x00b8              ;9384  e4 b8
    bcs lab_93b5            ;9386  b0 2d
    lda 0x0170,x            ;9388  bd 70 01
    bbs 7,a,lab_9383        ;938b  e3 f6
    cmp 0x0170              ;938d  cd 70 01
    bcc lab_9383            ;9390  90 f1
    beq lab_9383            ;9392  f0 ef
    stx 0x0040              ;9394  86 40
    lda 0x0150,x            ;9396  bd 50 01
    tay                     ;9399  a8
    lda 0x00b2              ;939a  a5 b2
    sta 0x004a              ;939c  85 4a
    lda 0x00b3              ;939e  a5 b3
    sta 0x004b              ;93a0  85 4b
    jsr sub_e4ad            ;93a2  20 ad e4
    bcc lab_93ed            ;93a5  90 46
    lda 0x004a              ;93a7  a5 4a
    cmp #0x1a               ;93a9  c9 1a
    bcc lab_93ed            ;93ab  90 40
    cpy #0x03               ;93ad  c0 03
    bcs lab_93ce            ;93af  b0 1d
    ldx 0x0040              ;93b1  a6 40
    bra lab_9383            ;93b3  80 ce

lab_93b5:
    ldx #0x00               ;93b5  a2 00

lab_93b7:
    stx 0x0040              ;93b7  86 40

lab_93b9:
    inx                     ;93b9  e8
    cpx 0x00b8              ;93ba  e4 b8
    bcs lab_93ed            ;93bc  b0 2f
    lda 0x0170,x            ;93be  bd 70 01
    bbs 7,a,lab_93b9        ;93c1  e3 f6
    ldy 0x0040              ;93c3  a4 40
    cmp 0x0170,y            ;93c5  d9 70 01
    bcc lab_93b9            ;93c8  90 ef
    beq lab_93b9            ;93ca  f0 ed
    bra lab_93b7            ;93cc  80 e9

lab_93ce:
    lda 0x0480,x            ;93ce  bd 80 04
    and #0x0f               ;93d1  29 0f
    tay                     ;93d3  a8
    lda 0x02e0,y            ;93d4  b9 e0 02
    bne lab_9401            ;93d7  d0 28
    jsr sub_9013            ;93d9  20 13 90
    lda 0x0480,x            ;93dc  bd 80 04
    sta 0x00b2              ;93df  85 b2
    lda 0x04e0,x            ;93e1  bd e0 04
    sta 0x00b3              ;93e4  85 b3
    ldx 0x0040              ;93e6  a6 40
    lda 0x0150,x            ;93e8  bd 50 01
    sta 0x00b4              ;93eb  85 b4

lab_93ed:
    ldx 0x0040              ;93ed  a6 40
    beq lab_9401            ;93ef  f0 10
    ldy #0x00               ;93f1  a0 00
    jsr sub_951e            ;93f3  20 1e 95
    jsr sub_9204            ;93f6  20 04 92
    lda #0x00               ;93f9  a9 00
    sta 0x00bd              ;93fb  85 bd
    seb 5,0x00fc            ;93fd  af fc
    bra lab_9407            ;93ff  80 06

lab_9401:
    jsr sub_7664            ;9401  20 64 76
    jsr sub_8cdc            ;9404  20 dc 8c

lab_9407:
    pla                     ;9407  68
    sta 0x0040              ;9408  85 40
    rts                     ;940a  60

;XXX appears unused
sub_940b:
    lda 0x0040              ;940b  a5 40
    pha                     ;940d  48
    lda 0x0041              ;940e  a5 41
    pha                     ;9410  48
    ldm #0x00,0x0041        ;9411  3c 00 41

lab_9414:
    lda 0x0041              ;9414  a5 41
    sta 0x0040              ;9416  85 40

lab_9418:
    inc 0x0041              ;9418  e6 41
    ldx 0x0041              ;941a  a6 41
    cpx 0x00b8              ;941c  e4 b8
    bcs lab_9457            ;941e  b0 37
    lda 0x0170,x            ;9420  bd 70 01
    bbs 7,a,lab_9418        ;9423  e3 f3
    ldy 0x0040              ;9425  a4 40
    cmp 0x0170,y            ;9427  d9 70 01
    bcc lab_9418            ;942a  90 ec
    beq lab_9418            ;942c  f0 ea
    lda 0x0150,x            ;942e  bd 50 01
    tay                     ;9431  a8
    lda 0x00b2              ;9432  a5 b2
    sta 0x004a              ;9434  85 4a
    lda 0x00b3              ;9436  a5 b3
    sta 0x004b              ;9438  85 4b
    jsr sub_e4ad            ;943a  20 ad e4
    bcc lab_9418            ;943d  90 d9
    lda 0x0170              ;943f  ad 70 01
    cmp #0x03               ;9442  c9 03
    bcc lab_9451            ;9444  90 0b
    lda 0x028c              ;9446  ad 8c 02
    beq lab_9451            ;9449  f0 06
    cpy #0x03               ;944b  c0 03
    beq lab_9414            ;944d  f0 c5
    bra lab_9418            ;944f  80 c7

lab_9451:
    cpy #0x03               ;9451  c0 03
    bcs lab_9414            ;9453  b0 bf
    bra lab_9418            ;9455  80 c1

lab_9457:
    ldx 0x0040              ;9457  a6 40
    beq lab_9480            ;9459  f0 25
    lda 0x0150,x            ;945b  bd 50 01
    tay                     ;945e  a8
    jsr sub_e4ad            ;945f  20 ad e4
    lda 0x0480,x            ;9462  bd 80 04
    sta 0x00b2              ;9465  85 b2
    lda 0x04e0,x            ;9467  bd e0 04
    sta 0x00b3              ;946a  85 b3
    ldx 0x0040              ;946c  a6 40
    lda 0x0150,x            ;946e  bd 50 01
    sta 0x00b4              ;9471  85 b4
    ldy #0x00               ;9473  a0 00
    jsr sub_951e            ;9475  20 1e 95
    ldm #0x00,0x0071        ;9478  3c 00 71
    jsr sub_9204            ;947b  20 04 92
    bra lab_9483            ;947e  80 03

lab_9480:
    jsr sub_9204            ;9480  20 04 92

lab_9483:
    pla                     ;9483  68
    sta 0x0041              ;9484  85 41
    pla                     ;9486  68
    sta 0x0040              ;9487  85 40
    rts                     ;9489  60

sub_948a:
    lda 0xb8                ;948a  a5 b8
    beq lab_94e8            ;948c  f0 5a
    cmp #0x1b               ;948e  c9 1b
    bcs lab_94e8            ;9490  b0 56
    lda 0x71                ;9492  a5 71
    ldx #0x00               ;9494  a2 00

lab_9496:
    cmp 0x0150,x            ;9496  dd 50 01
    beq lab_94a2            ;9499  f0 07
    inx                     ;949b  e8
    cpx 0xb8                ;949c  e4 b8
    bcc lab_9496            ;949e  90 f6
    bra lab_94e8            ;94a0  80 46

lab_94a2:
    bbs 0,0xf4,lab_94ae     ;94a2  07 f4 09
    cpx #0x01               ;94a5  e0 01
    bcs lab_94ab            ;94a7  b0 02
    ldx 0xb8                ;94a9  a6 b8

lab_94ab:
    dex                     ;94ab  ca
    bra lab_94b5            ;94ac  80 07

lab_94ae:
    inx                     ;94ae  e8
    cpx 0xb8                ;94af  e4 b8
    bcc lab_94b5            ;94b1  90 02
    ldx #0x00               ;94b3  a2 00

lab_94b5:
    lda 0x0150,x            ;94b5  bd 50 01
    sta 0x71                ;94b8  85 71
    clb 0,0xf9              ;94ba  1f f9
    jsr sub_544b            ;94bc  20 4b 54     Clears many registers
    jsr sub_4dd1            ;94bf  20 d1 4d
    lda 0x0170,x            ;94c2  bd 70 01
    tax                     ;94c5  aa
    lda 0x5264,x            ;94c6  bd 64 52
    sta 0x6c                ;94c9  85 6c
    jsr sub_51d8            ;94cb  20 d8 51
    jsr sub_8936            ;94ce  20 36 89
    lda #0x00               ;94d1  a9 00
    sta 0x92                ;94d3  85 92
    lda #0x00               ;94d5  a9 00
    sta 0x93                ;94d7  85 93
    lda #0x00               ;94d9  a9 00
    sta 0x90                ;94db  85 90
    lda #0x00               ;94dd  a9 00
    sta 0x91                ;94df  85 91
    clb 4,0xfb              ;94e1  9f fb
    jsr sub_8cdc            ;94e3  20 dc 8c
    seb 0,0xf9              ;94e6  0f f9

lab_94e8:
    rts                     ;94e8  60

    .byte 0x60              ;94e9  60          DATA 0x60 '`'
    .byte 0xad              ;94ea  ad          DATA 0xad
    .byte 0x70              ;94eb  70          DATA 0x70 'p'
    .byte 0x01              ;94ec  01          DATA 0x01
    .byte 0xc9              ;94ed  c9          DATA 0xc9
    .byte 0x03              ;94ee  03          DATA 0x03
    .byte 0xb0              ;94ef  b0          DATA 0xb0
    .byte 0x05              ;94f0  05          DATA 0x05
    .byte 0x20              ;94f1  20          DATA 0x20 ' '
    .byte 0xf3              ;94f2  f3          DATA 0xf3
    .byte 0x32              ;94f3  32          DATA 0x32 '2'
    .byte 0x80              ;94f4  80          DATA 0x80
    .byte 0x12              ;94f5  12          DATA 0x12
    .byte 0x20              ;94f6  20          DATA 0x20 ' '
    .byte 0xdc              ;94f7  dc          DATA 0xdc
    .byte 0x8c              ;94f8  8c          DATA 0x8c
    .byte 0xc9              ;94f9  c9          DATA 0xc9
    .byte 0x01              ;94fa  01          DATA 0x01
    .byte 0x90              ;94fb  90          DATA 0x90
    .byte 0x0a              ;94fc  0a          DATA 0x0a
    .byte 0x69              ;94fd  69          DATA 0x69 'i'
    .byte 0x0a              ;94fe  0a          DATA 0x0a
    .byte 0x8d              ;94ff  8d          DATA 0x8d
    .byte 0xaf              ;9500  af          DATA 0xaf
    .byte 0x01              ;9501  01          DATA 0x01
    .byte 0xa0              ;9502  a0          DATA 0xa0
    .byte 0x07              ;9503  07          DATA 0x07
    .byte 0x20              ;9504  20          DATA 0x20 ' '
    .byte 0x00              ;9505  00          DATA 0x00
    .byte 0x33              ;9506  33          DATA 0x33 '3'
    .byte 0x18              ;9507  18          DATA 0x18
    .byte 0x60              ;9508  60          DATA 0x60 '`'

sub_9509:
    clb 1,0xf9              ;9509  3f f9
    clb 2,0xf9              ;950b  5f f9
    clb 3,0xf9              ;950d  7f f9
    clb 2,0xfd              ;950f  5f fd
    lda #0x00               ;9511  a9 00
    sta 0xbe                ;9513  85 be
    rts                     ;9515  60

sub_9516:
    clb 4,0xfb              ;9516  9f fb
    clb 5,0xfd              ;9518  bf fd
    ldm #0x00,0xb5          ;951a  3c 00 b5
    rts                     ;951d  60

sub_951e:
    lda 0x44                ;951e  a5 44
    pha                     ;9520  48
    sty 0x44                ;9521  84 44
    cpx 0x44                ;9523  e4 44
    bcs lab_953a            ;9525  b0 13
    ldy #0x1a               ;9527  a0 1a
    jsr sub_9605            ;9529  20 05 96
    txa                     ;952c  8a
    tay                     ;952d  a8
    inx                     ;952e  e8

lab_952f:
    jsr sub_9605            ;952f  20 05 96
    inx                     ;9532  e8
    iny                     ;9533  c8
    cpy 0x44                ;9534  c4 44
    bcc lab_952f            ;9536  90 f7
    bra lab_9553            ;9538  80 19

lab_953a:
    cpx 0x44                ;953a  e4 44
    bcc lab_956d            ;953c  90 2f
    beq lab_956d            ;953e  f0 2d
    ldy #0x1a               ;9540  a0 1a
    jsr sub_9605            ;9542  20 05 96
    txa                     ;9545  8a
    tay                     ;9546  a8
    dex                     ;9547  ca

lab_9548:
    jsr sub_9605            ;9548  20 05 96
    dex                     ;954b  ca
    dey                     ;954c  88
    cpy 0x44                ;954d  c4 44
    beq lab_9553            ;954f  f0 02
    bcs lab_9548            ;9551  b0 f5

lab_9553:
    ldx #0x1a               ;9553  a2 1a
    jsr sub_9605            ;9555  20 05 96
    ldy #0x00               ;9558  a0 00
    sty 0x016a              ;955a  8c 6a 01
    sty 0x018a              ;955d  8c 8a 01
    lda 0x0170              ;9560  ad 70 01
    and #0x1f               ;9563  29 1f
    sta 0x0170              ;9565  8d 70 01
    ldy #0x13               ;9568  a0 13
    jsr sub_f2ac            ;956a  20 ac f2

lab_956d:
    pla                     ;956d  68
    sta 0x44                ;956e  85 44
    rts                     ;9570  60

    .byte 0xa6              ;9571  a6          DATA 0xa6
    .byte 0xb9              ;9572  b9          DATA 0xb9
    .byte 0x97              ;9573  97          DATA 0x97
    .byte 0xfd              ;9574  fd          DATA 0xfd
    .byte 0x02              ;9575  02          DATA 0x02
    .byte 0xa6              ;9576  a6          DATA 0xa6
    .byte 0xba              ;9577  ba          DATA 0xba
    .byte 0xe0              ;9578  e0          DATA 0xe0
    .byte 0x02              ;9579  02          DATA 0x02
    .byte 0x90              ;957a  90          DATA 0x90
    .byte 0x2a              ;957b  2a          DATA 0x2a '*'
    .byte 0xbd              ;957c  bd          DATA 0xbd
    .byte 0x70              ;957d  70          DATA 0x70 'p'
    .byte 0x01              ;957e  01          DATA 0x01
    .byte 0xe3              ;957f  e3          DATA 0xe3
    .byte 0x25              ;9580  25          DATA 0x25 '%'
    .byte 0xdd              ;9581  dd          DATA 0xdd
    .byte 0x6f              ;9582  6f          DATA 0x6f 'o'
    .byte 0x01              ;9583  01          DATA 0x01
    .byte 0x90              ;9584  90          DATA 0x90
    .byte 0x20              ;9585  20          DATA 0x20 ' '
    .byte 0xf0              ;9586  f0          DATA 0xf0
    .byte 0x1e              ;9587  1e          DATA 0x1e
    .byte 0xa5              ;9588  a5          DATA 0xa5
    .byte 0x44              ;9589  44          DATA 0x44 'D'
    .byte 0x48              ;958a  48          DATA 0x48 'H'
    .byte 0x86              ;958b  86          DATA 0x86
    .byte 0x44              ;958c  44          DATA 0x44 'D'
    .byte 0xa0              ;958d  a0          DATA 0xa0
    .byte 0x01              ;958e  01          DATA 0x01
    .byte 0xbd              ;958f  bd          DATA 0xbd
    .byte 0x70              ;9590  70          DATA 0x70 'p'
    .byte 0x01              ;9591  01          DATA 0x01
    .byte 0xd9              ;9592  d9          DATA 0xd9
    .byte 0x70              ;9593  70          DATA 0x70 'p'
    .byte 0x01              ;9594  01          DATA 0x01
    .byte 0xf0              ;9595  f0          DATA 0xf0
    .byte 0x02              ;9596  02          DATA 0x02
    .byte 0xb0              ;9597  b0          DATA 0xb0
    .byte 0x07              ;9598  07          DATA 0x07
    .byte 0xc8              ;9599  c8          DATA 0xc8
    .byte 0xc4              ;959a  c4          DATA 0xc4
    .byte 0x44              ;959b  44          DATA 0x44 'D'
    .byte 0x90              ;959c  90          DATA 0x90
    .byte 0xf4              ;959d  f4          DATA 0xf4
    .byte 0x80              ;959e  80          DATA 0x80
    .byte 0x03              ;959f  03          DATA 0x03
    .byte 0x20              ;95a0  20          DATA 0x20 ' '
    .byte 0x1e              ;95a1  1e          DATA 0x1e
    .byte 0x95              ;95a2  95          DATA 0x95
    .byte 0x68              ;95a3  68          DATA 0x68 'h'
    .byte 0x85              ;95a4  85          DATA 0x85
    .byte 0x44              ;95a5  44          DATA 0x44 'D'
    .byte 0x60              ;95a6  60          DATA 0x60 '`'

sub_95a7:
    tya                     ;95a7  98
    pha                     ;95a8  48
    lda 0x0170,x            ;95a9  bd 70 01
    ora #0xe0               ;95ac  09 e0
    sta 0x0170,x            ;95ae  9d 70 01
    ldy 0xb8                ;95b1  a4 b8
    dey                     ;95b3  88
    jsr sub_951e            ;95b4  20 1e 95
    ldy #0x0a               ;95b7  a0 0a
    jsr sub_33c6            ;95b9  20 c6 33
    bcs lab_95c3            ;95bc  b0 05
    ldy #0x0a               ;95be  a0 0a
    jsr sub_3300            ;95c0  20 00 33

lab_95c3:
    pla                     ;95c3  68
    tay                     ;95c4  a8
    rts                     ;95c5  60

sub_95c6:
    lda 0x44                ;95c6  a5 44
    pha                     ;95c8  48
    lda 0x45                ;95c9  a5 45
    pha                     ;95cb  48
    stx 0x44                ;95cc  86 44
    sty 0x45                ;95ce  84 45
    cpx 0x45                ;95d0  e4 45
    beq lab_95fe            ;95d2  f0 2a
    ldx 0x45                ;95d4  a6 45
    ldy #0x1a               ;95d6  a0 1a
    jsr sub_9605            ;95d8  20 05 96
    ldx 0x44                ;95db  a6 44
    ldy 0x45                ;95dd  a4 45
    jsr sub_9605            ;95df  20 05 96
    ldx #0x1a               ;95e2  a2 1a
    ldy 0x44                ;95e4  a4 44
    jsr sub_9605            ;95e6  20 05 96
    ldy #0x00               ;95e9  a0 00
    sty 0x016a              ;95eb  8c 6a 01
    sty 0x018a              ;95ee  8c 8a 01
    lda 0x0170              ;95f1  ad 70 01
    and #0x1f               ;95f4  29 1f
    sta 0x0170              ;95f6  8d 70 01
    ldy #0x14               ;95f9  a0 14
    jsr sub_f2ac            ;95fb  20 ac f2

lab_95fe:
    pla                     ;95fe  68
    sta 0x45                ;95ff  85 45
    pla                     ;9601  68
    sta 0x44                ;9602  85 44
    rts                     ;9604  60

sub_9605:
    lda 0x0150,x            ;9605  bd 50 01
    sta 0x0150,y            ;9608  99 50 01
    lda 0x0170,x            ;960b  bd 70 01
    sta 0x0170,y            ;960e  99 70 01
    rts                     ;9611  60

    .byte 0x1e              ;9612  1e          DATA 0x1e
    .byte 0x96              ;9613  96          DATA 0x96
    .byte 0x26              ;9614  26          DATA 0x26 '&'
    .byte 0x96              ;9615  96          DATA 0x96
    .byte 0x2e              ;9616  2e          DATA 0x2e '.'
    .byte 0x96              ;9617  96          DATA 0x96
    .byte 0x36              ;9618  36          DATA 0x36 '6'
    .byte 0x96              ;9619  96          DATA 0x96
    .byte 0x3e              ;961a  3e          DATA 0x3e '>'
    .byte 0x96              ;961b  96          DATA 0x96
    .byte 0x46              ;961c  46          DATA 0x46 'F'
    .byte 0x96              ;961d  96          DATA 0x96
    .byte 0x72              ;961e  72          DATA 0x72 'r'
    .byte 0x96              ;961f  96          DATA 0x96
    .byte 0xbd              ;9620  bd          DATA 0xbd
    .byte 0x96              ;9621  96          DATA 0x96
    .byte 0xd0              ;9622  d0          DATA 0xd0
    .byte 0x96              ;9623  96          DATA 0x96
    .byte 0xec              ;9624  ec          DATA 0xec
    .byte 0x96              ;9625  96          DATA 0x96
    .byte 0x3f              ;9626  3f          DATA 0x3f '?'
    .byte 0x97              ;9627  97          DATA 0x97
    .byte 0x7d              ;9628  7d          DATA 0x7d '}'
    .byte 0x97              ;9629  97          DATA 0x97
    .byte 0x9d              ;962a  9d          DATA 0x9d
    .byte 0x97              ;962b  97          DATA 0x97
    .byte 0xdd              ;962c  dd          DATA 0xdd
    .byte 0x97              ;962d  97          DATA 0x97
    .byte 0xe5              ;962e  e5          DATA 0xe5
    .byte 0x97              ;962f  97          DATA 0x97
    .byte 0xe9              ;9630  e9          DATA 0xe9
    .byte 0x97              ;9631  97          DATA 0x97
    .byte 0x09              ;9632  09          DATA 0x09
    .byte 0x98              ;9633  98          DATA 0x98
    .byte 0x0d              ;9634  0d          DATA 0x0d
    .byte 0x98              ;9635  98          DATA 0x98
    .byte 0x15              ;9636  15          DATA 0x15
    .byte 0x98              ;9637  98          DATA 0x98
    .byte 0x50              ;9638  50          DATA 0x50 'P'
    .byte 0x98              ;9639  98          DATA 0x98
    .byte 0x8b              ;963a  8b          DATA 0x8b
    .byte 0x98              ;963b  98          DATA 0x98
    .byte 0xf1              ;963c  f1          DATA 0xf1
    .byte 0x98              ;963d  98          DATA 0x98
    .byte 0xf9              ;963e  f9          DATA 0xf9
    .byte 0x98              ;963f  98          DATA 0x98
    .byte 0x60              ;9640  60          DATA 0x60 '`'
    .byte 0x99              ;9641  99          DATA 0x99
    .byte 0x70              ;9642  70          DATA 0x70 'p'
    .byte 0x99              ;9643  99          DATA 0x99
    .byte 0xe0              ;9644  e0          DATA 0xe0
    .byte 0x99              ;9645  99          DATA 0x99
    .byte 0x03              ;9646  03          DATA 0x03
    .byte 0x9a              ;9647  9a          DATA 0x9a
    .byte 0x04              ;9648  04          DATA 0x04
    .byte 0x9a              ;9649  9a          DATA 0x9a
    .byte 0x05              ;964a  05          DATA 0x05
    .byte 0x9a              ;964b  9a          DATA 0x9a
    .byte 0x66              ;964c  66          DATA 0x66 'f'
    .byte 0x22              ;964d  22          DATA 0x22 '"'

sub_964e:
    cmp #0x06               ;964e  c9 06
    bcs lab_9671            ;9650  b0 1f
    asl a                   ;9652  0a
    tax                     ;9653  aa
    tya                     ;9654  98
    cmp #0x04               ;9655  c9 04
    bcs lab_9671            ;9657  b0 18
    asl a                   ;9659  0a
    tay                     ;965a  a8
    lda 0x9612,x            ;965b  bd 12 96
    sta 0x42                ;965e  85 42
    lda 0x9613,x            ;9660  bd 13 96
    sta 0x43                ;9663  85 43
    lda [0x42],y            ;9665  b1 42
    sta 0x40                ;9667  85 40
    iny                     ;9669  c8
    lda [0x42],y            ;966a  b1 42
    sta 0x41                ;966c  85 41
    jsr [0x40]              ;966e  02 40
    clc                     ;9670  18

lab_9671:
    rts                     ;9671  60

    .byte 0x20              ;9672  20          DATA 0x20 ' '
    .byte 0xf2              ;9673  f2          DATA 0xf2
    .byte 0xde              ;9674  de          DATA 0xde
    .byte 0xac              ;9675  ac          DATA 0xac
    .byte 0x6f              ;9676  6f          DATA 0x6f 'o'
    .byte 0x01              ;9677  01          DATA 0x01
    .byte 0xd0              ;9678  d0          DATA 0xd0
    .byte 0x03              ;9679  03          DATA 0x03
    .byte 0xee              ;967a  ee          DATA 0xee
    .byte 0x6f              ;967b  6f          DATA 0x6f 'o'
    .byte 0x01              ;967c  01          DATA 0x01
    .byte 0xee              ;967d  ee          DATA 0xee
    .byte 0x6f              ;967e  6f          DATA 0x6f 'o'
    .byte 0x01              ;967f  01          DATA 0x01
    .byte 0xac              ;9680  ac          DATA 0xac
    .byte 0x6f              ;9681  6f          DATA 0x6f 'o'
    .byte 0x01              ;9682  01          DATA 0x01
    .byte 0xc4              ;9683  c4          DATA 0xc4
    .byte 0xb8              ;9684  b8          DATA 0xb8
    .byte 0xb0              ;9685  b0          DATA 0xb0
    .byte 0x14              ;9686  14          DATA 0x14
    .byte 0xb9              ;9687  b9          DATA 0xb9
    .byte 0x70              ;9688  70          DATA 0x70 'p'
    .byte 0x01              ;9689  01          DATA 0x01
    .byte 0xe3              ;968a  e3          DATA 0xe3
    .byte 0x0f              ;968b  0f          DATA 0x0f
    .byte 0xc9              ;968c  c9          DATA 0xc9
    .byte 0x03              ;968d  03          DATA 0x03
    .byte 0x90              ;968e  90          DATA 0x90
    .byte 0x0b              ;968f  0b          DATA 0x0b
    .byte 0xa2              ;9690  a2          DATA 0xa2
    .byte 0x00              ;9691  00          DATA 0x00
    .byte 0x20              ;9692  20          DATA 0x20 ' '
    .byte 0xc6              ;9693  c6          DATA 0xc6
    .byte 0x95              ;9694  95          DATA 0x95
    .byte 0x20              ;9695  20          DATA 0x20 ' '
    .byte 0x04              ;9696  04          DATA 0x04
    .byte 0x92              ;9697  92          DATA 0x92
    .byte 0x38              ;9698  38          DATA 0x38 '8'
    .byte 0x80              ;9699  80          DATA 0x80
    .byte 0x21              ;969a  21          DATA 0x21 '!'
    .byte 0xa5              ;969b  a5          DATA 0xa5
    .byte 0xb4              ;969c  b4          DATA 0xb4
    .byte 0x20              ;969d  20          DATA 0x20 ' '
    .byte 0x76              ;969e  76          DATA 0x76 'v'
    .byte 0x8b              ;969f  8b          DATA 0x8b
    .byte 0x98              ;96a0  98          DATA 0x98
    .byte 0x10              ;96a1  10          DATA 0x10
    .byte 0x02              ;96a2  02          DATA 0x02
    .byte 0xa9              ;96a3  a9          DATA 0xa9
    .byte 0x00              ;96a4  00          DATA 0x00
    .byte 0xaa              ;96a5  aa          DATA 0xaa
    .byte 0xa0              ;96a6  a0          DATA 0xa0
    .byte 0x00              ;96a7  00          DATA 0x00
    .byte 0x20              ;96a8  20          DATA 0x20 ' '
    .byte 0x1e              ;96a9  1e          DATA 0x1e
    .byte 0x95              ;96aa  95          DATA 0x95
    .byte 0x20              ;96ab  20          DATA 0x20 ' '
    .byte 0x04              ;96ac  04          DATA 0x04
    .byte 0x92              ;96ad  92          DATA 0x92
    .byte 0x20              ;96ae  20          DATA 0x20 ' '
    .byte 0x16              ;96af  16          DATA 0x16
    .byte 0x95              ;96b0  95          DATA 0x95
    .byte 0xa9              ;96b1  a9          DATA 0xa9
    .byte 0x00              ;96b2  00          DATA 0x00
    .byte 0x8d              ;96b3  8d          DATA 0x8d
    .byte 0x6f              ;96b4  6f          DATA 0x6f 'o'
    .byte 0x01              ;96b5  01          DATA 0x01
    .byte 0x3c              ;96b6  3c          DATA 0x3c '<'
    .byte 0x00              ;96b7  00          DATA 0x00
    .byte 0xbb              ;96b8  bb          DATA 0xbb
    .byte 0x20              ;96b9  20          DATA 0x20 ' '
    .byte 0x64              ;96ba  64          DATA 0x64 'd'
    .byte 0x76              ;96bb  76          DATA 0x76 'v'
    .byte 0x60              ;96bc  60          DATA 0x60 '`'
    .byte 0x20              ;96bd  20          DATA 0x20 ' '
    .byte 0xf2              ;96be  f2          DATA 0xf2
    .byte 0xde              ;96bf  de          DATA 0xde
    .byte 0xa5              ;96c0  a5          DATA 0xa5
    .byte 0x71              ;96c1  71          DATA 0x71 'q'
    .byte 0x85              ;96c2  85          DATA 0x85
    .byte 0xb4              ;96c3  b4          DATA 0xb4
    .byte 0xa9              ;96c4  a9          DATA 0xa9
    .byte 0x00              ;96c5  00          DATA 0x00
    .byte 0x8d              ;96c6  8d          DATA 0x8d
    .byte 0x6f              ;96c7  6f          DATA 0x6f 'o'
    .byte 0x01              ;96c8  01          DATA 0x01
    .byte 0x3c              ;96c9  3c          DATA 0x3c '<'
    .byte 0x00              ;96ca  00          DATA 0x00
    .byte 0xbb              ;96cb  bb          DATA 0xbb
    .byte 0x20              ;96cc  20          DATA 0x20 ' '
    .byte 0x64              ;96cd  64          DATA 0x64 'd'
    .byte 0x76              ;96ce  76          DATA 0x76 'v'
    .byte 0x60              ;96cf  60          DATA 0x60 '`'
    .byte 0x20              ;96d0  20          DATA 0x20 ' '
    .byte 0xf2              ;96d1  f2          DATA 0xf2
    .byte 0xde              ;96d2  de          DATA 0xde
    .byte 0x9f              ;96d3  9f          DATA 0x9f
    .byte 0xfb              ;96d4  fb          DATA 0xfb
    .byte 0xbf              ;96d5  bf          DATA 0xbf
    .byte 0xfb              ;96d6  fb          DATA 0xfb
    .byte 0xa2              ;96d7  a2          DATA 0xa2
    .byte 0x00              ;96d8  00          DATA 0x00
    .byte 0x20              ;96d9  20          DATA 0x20 ' '
    .byte 0xa7              ;96da  a7          DATA 0xa7
    .byte 0x95              ;96db  95          DATA 0x95
    .byte 0x20              ;96dc  20          DATA 0x20 ' '
    .byte 0x55              ;96dd  55          DATA 0x55 'U'
    .byte 0x76              ;96de  76          DATA 0x76 'v'
    .byte 0x20              ;96df  20          DATA 0x20 ' '
    .byte 0xca              ;96e0  ca          DATA 0xca
    .byte 0x8b              ;96e1  8b          DATA 0x8b
    .byte 0x20              ;96e2  20          DATA 0x20 ' '
    .byte 0x25              ;96e3  25          DATA 0x25 '%'
    .byte 0x8c              ;96e4  8c          DATA 0x8c
    .byte 0x20              ;96e5  20          DATA 0x20 ' '
    .byte 0x04              ;96e6  04          DATA 0x04
    .byte 0x92              ;96e7  92          DATA 0x92
    .byte 0x3c              ;96e8  3c          DATA 0x3c '<'
    .byte 0x00              ;96e9  00          DATA 0x00
    .byte 0xbb              ;96ea  bb          DATA 0xbb
    .byte 0x60              ;96eb  60          DATA 0x60 '`'
    .byte 0x20              ;96ec  20          DATA 0x20 ' '
    .byte 0xf2              ;96ed  f2          DATA 0xf2
    .byte 0xde              ;96ee  de          DATA 0xde
    .byte 0x9f              ;96ef  9f          DATA 0x9f
    .byte 0xfb              ;96f0  fb          DATA 0xfb
    .byte 0xbf              ;96f1  bf          DATA 0xbf
    .byte 0xfb              ;96f2  fb          DATA 0xfb
    .byte 0xa5              ;96f3  a5          DATA 0xa5
    .byte 0xb4              ;96f4  b4          DATA 0xb4
    .byte 0x20              ;96f5  20          DATA 0x20 ' '
    .byte 0x76              ;96f6  76          DATA 0x76 'v'
    .byte 0x8b              ;96f7  8b          DATA 0x8b
    .byte 0x98              ;96f8  98          DATA 0x98
    .byte 0x10              ;96f9  10          DATA 0x10
    .byte 0x02              ;96fa  02          DATA 0x02
    .byte 0xa9              ;96fb  a9          DATA 0xa9
    .byte 0x00              ;96fc  00          DATA 0x00
    .byte 0xaa              ;96fd  aa          DATA 0xaa
    .byte 0xa0              ;96fe  a0          DATA 0xa0
    .byte 0x00              ;96ff  00          DATA 0x00
    .byte 0x20              ;9700  20          DATA 0x20 ' '
    .byte 0x1e              ;9701  1e          DATA 0x1e
    .byte 0x95              ;9702  95          DATA 0x95
    .byte 0xa2              ;9703  a2          DATA 0xa2
    .byte 0x02              ;9704  02          DATA 0x02
    .byte 0xe4              ;9705  e4          DATA 0xe4
    .byte 0xb8              ;9706  b8          DATA 0xb8
    .byte 0xb0              ;9707  b0          DATA 0xb0
    .byte 0x27              ;9708  27          DATA 0x27 '''
    .byte 0xbd              ;9709  bd          DATA 0xbd
    .byte 0x70              ;970a  70          DATA 0x70 'p'
    .byte 0x01              ;970b  01          DATA 0x01
    .byte 0xe3              ;970c  e3          DATA 0xe3
    .byte 0x22              ;970d  22          DATA 0x22 '"'
    .byte 0xc9              ;970e  c9          DATA 0xc9
    .byte 0x03              ;970f  03          DATA 0x03
    .byte 0x90              ;9710  90          DATA 0x90
    .byte 0x1e              ;9711  1e          DATA 0x1e
    .byte 0x8e              ;9712  8e          DATA 0x8e
    .byte 0x6f              ;9713  6f          DATA 0x6f 'o'
    .byte 0x01              ;9714  01          DATA 0x01
    .byte 0x3c              ;9715  3c          DATA 0x3c '<'
    .byte 0x01              ;9716  01          DATA 0x01
    .byte 0xbb              ;9717  bb          DATA 0xbb
    .byte 0xa5              ;9718  a5          DATA 0xa5
    .byte 0xb2              ;9719  b2          DATA 0xb2
    .byte 0x29              ;971a  29          DATA 0x29 ')'
    .byte 0x0f              ;971b  0f          DATA 0x0f
    .byte 0xc9              ;971c  c9          DATA 0xc9
    .byte 0x03              ;971d  03          DATA 0x03
    .byte 0xf0              ;971e  f0          DATA 0xf0
    .byte 0x03              ;971f  03          DATA 0x03
    .byte 0x3c              ;9720  3c          DATA 0x3c '<'
    .byte 0x02              ;9721  02          DATA 0x02
    .byte 0xbb              ;9722  bb          DATA 0xbb
    .byte 0xae              ;9723  ae          DATA 0xae
    .byte 0x6f              ;9724  6f          DATA 0x6f 'o'
    .byte 0x01              ;9725  01          DATA 0x01
    .byte 0xa0              ;9726  a0          DATA 0xa0
    .byte 0x00              ;9727  00          DATA 0x00
    .byte 0x20              ;9728  20          DATA 0x20 ' '
    .byte 0x1e              ;9729  1e          DATA 0x1e
    .byte 0x95              ;972a  95          DATA 0x95
    .byte 0x20              ;972b  20          DATA 0x20 ' '
    .byte 0x04              ;972c  04          DATA 0x04
    .byte 0x92              ;972d  92          DATA 0x92
    .byte 0x80              ;972e  80          DATA 0x80
    .byte 0x0e              ;972f  0e          DATA 0x0e
    .byte 0x20              ;9730  20          DATA 0x20 ' '
    .byte 0x04              ;9731  04          DATA 0x04
    .byte 0x92              ;9732  92          DATA 0x92
    .byte 0x20              ;9733  20          DATA 0x20 ' '
    .byte 0x16              ;9734  16          DATA 0x16
    .byte 0x95              ;9735  95          DATA 0x95
    .byte 0xa9              ;9736  a9          DATA 0xa9
    .byte 0x00              ;9737  00          DATA 0x00
    .byte 0x8d              ;9738  8d          DATA 0x8d
    .byte 0x6f              ;9739  6f          DATA 0x6f 'o'
    .byte 0x01              ;973a  01          DATA 0x01
    .byte 0x20              ;973b  20          DATA 0x20 ' '
    .byte 0x64              ;973c  64          DATA 0x64 'd'
    .byte 0x76              ;973d  76          DATA 0x76 'v'
    .byte 0x60              ;973e  60          DATA 0x60 '`'
    .byte 0x20              ;973f  20          DATA 0x20 ' '
    .byte 0xf2              ;9740  f2          DATA 0xf2
    .byte 0xde              ;9741  de          DATA 0xde
    .byte 0x9f              ;9742  9f          DATA 0x9f
    .byte 0xfb              ;9743  fb          DATA 0xfb
    .byte 0xbf              ;9744  bf          DATA 0xbf
    .byte 0xfb              ;9745  fb          DATA 0xfb
    .byte 0xee              ;9746  ee          DATA 0xee
    .byte 0x6f              ;9747  6f          DATA 0x6f 'o'
    .byte 0x01              ;9748  01          DATA 0x01
    .byte 0xac              ;9749  ac          DATA 0xac
    .byte 0x6f              ;974a  6f          DATA 0x6f 'o'
    .byte 0x01              ;974b  01          DATA 0x01
    .byte 0xc4              ;974c  c4          DATA 0xc4
    .byte 0xb8              ;974d  b8          DATA 0xb8
    .byte 0xb0              ;974e  b0          DATA 0xb0
    .byte 0x14              ;974f  14          DATA 0x14
    .byte 0xb9              ;9750  b9          DATA 0xb9
    .byte 0x70              ;9751  70          DATA 0x70 'p'
    .byte 0x01              ;9752  01          DATA 0x01
    .byte 0xe3              ;9753  e3          DATA 0xe3
    .byte 0x0f              ;9754  0f          DATA 0x0f
    .byte 0xc9              ;9755  c9          DATA 0xc9
    .byte 0x03              ;9756  03          DATA 0x03
    .byte 0x90              ;9757  90          DATA 0x90
    .byte 0x0b              ;9758  0b          DATA 0x0b
    .byte 0xa2              ;9759  a2          DATA 0xa2
    .byte 0x00              ;975a  00          DATA 0x00
    .byte 0x20              ;975b  20          DATA 0x20 ' '
    .byte 0xc6              ;975c  c6          DATA 0xc6
    .byte 0x95              ;975d  95          DATA 0x95
    .byte 0x20              ;975e  20          DATA 0x20 ' '
    .byte 0x04              ;975f  04          DATA 0x04
    .byte 0x92              ;9760  92          DATA 0x92
    .byte 0x38              ;9761  38          DATA 0x38 '8'
    .byte 0x80              ;9762  80          DATA 0x80
    .byte 0x18              ;9763  18          DATA 0x18
    .byte 0xa2              ;9764  a2          DATA 0xa2
    .byte 0x00              ;9765  00          DATA 0x00
    .byte 0x88              ;9766  88          DATA 0x88
    .byte 0x20              ;9767  20          DATA 0x20 ' '
    .byte 0x1e              ;9768  1e          DATA 0x1e
    .byte 0x95              ;9769  95          DATA 0x95
    .byte 0x20              ;976a  20          DATA 0x20 ' '
    .byte 0x04              ;976b  04          DATA 0x04
    .byte 0x92              ;976c  92          DATA 0x92
    .byte 0x20              ;976d  20          DATA 0x20 ' '
    .byte 0x16              ;976e  16          DATA 0x16
    .byte 0x95              ;976f  95          DATA 0x95
    .byte 0xa9              ;9770  a9          DATA 0xa9
    .byte 0x00              ;9771  00          DATA 0x00
    .byte 0x8d              ;9772  8d          DATA 0x8d
    .byte 0x6f              ;9773  6f          DATA 0x6f 'o'
    .byte 0x01              ;9774  01          DATA 0x01
    .byte 0x3c              ;9775  3c          DATA 0x3c '<'
    .byte 0x00              ;9776  00          DATA 0x00
    .byte 0xbb              ;9777  bb          DATA 0xbb
    .byte 0x20              ;9778  20          DATA 0x20 ' '
    .byte 0x64              ;9779  64          DATA 0x64 'd'
    .byte 0x76              ;977a  76          DATA 0x76 'v'
    .byte 0x18              ;977b  18          DATA 0x18
    .byte 0x60              ;977c  60          DATA 0x60 '`'
    .byte 0xa5              ;977d  a5          DATA 0xa5
    .byte 0x92              ;977e  92          DATA 0x92
    .byte 0x29              ;977f  29          DATA 0x29 ')'
    .byte 0x0f              ;9780  0f          DATA 0x0f
    .byte 0xc9              ;9781  c9          DATA 0xc9
    .byte 0x03              ;9782  03          DATA 0x03
    .byte 0xb0              ;9783  b0          DATA 0xb0
    .byte 0x05              ;9784  05          DATA 0x05
    .byte 0x20              ;9785  20          DATA 0x20 ' '
    .byte 0x3f              ;9786  3f          DATA 0x3f '?'
    .byte 0x97              ;9787  97          DATA 0x97
    .byte 0x80              ;9788  80          DATA 0x80
    .byte 0x12              ;9789  12          DATA 0x12
    .byte 0x20              ;978a  20          DATA 0x20 ' '
    .byte 0xf2              ;978b  f2          DATA 0xf2
    .byte 0xde              ;978c  de          DATA 0xde
    .byte 0xa9              ;978d  a9          DATA 0xa9
    .byte 0x00              ;978e  00          DATA 0x00
    .byte 0x8d              ;978f  8d          DATA 0x8d
    .byte 0x6f              ;9790  6f          DATA 0x6f 'o'
    .byte 0x01              ;9791  01          DATA 0x01
    .byte 0x3c              ;9792  3c          DATA 0x3c '<'
    .byte 0x00              ;9793  00          DATA 0x00
    .byte 0xbb              ;9794  bb          DATA 0xbb
    .byte 0xa5              ;9795  a5          DATA 0xa5
    .byte 0x71              ;9796  71          DATA 0x71 'q'
    .byte 0x85              ;9797  85          DATA 0x85
    .byte 0xb4              ;9798  b4          DATA 0xb4
    .byte 0x20              ;9799  20          DATA 0x20 ' '
    .byte 0x64              ;979a  64          DATA 0x64 'd'
    .byte 0x76              ;979b  76          DATA 0x76 'v'
    .byte 0x60              ;979c  60          DATA 0x60 '`'
    .byte 0x20              ;979d  20          DATA 0x20 ' '
    .byte 0xf2              ;979e  f2          DATA 0xf2
    .byte 0xde              ;979f  de          DATA 0xde
    .byte 0xee              ;97a0  ee          DATA 0xee
    .byte 0x6f              ;97a1  6f          DATA 0x6f 'o'
    .byte 0x01              ;97a2  01          DATA 0x01
    .byte 0xac              ;97a3  ac          DATA 0xac
    .byte 0x6f              ;97a4  6f          DATA 0x6f 'o'
    .byte 0x01              ;97a5  01          DATA 0x01
    .byte 0xc4              ;97a6  c4          DATA 0xc4
    .byte 0xb8              ;97a7  b8          DATA 0xb8
    .byte 0xb0              ;97a8  b0          DATA 0xb0
    .byte 0x1c              ;97a9  1c          DATA 0x1c
    .byte 0xb9              ;97aa  b9          DATA 0xb9
    .byte 0x70              ;97ab  70          DATA 0x70 'p'
    .byte 0x01              ;97ac  01          DATA 0x01
    .byte 0xe3              ;97ad  e3          DATA 0xe3
    .byte 0x17              ;97ae  17          DATA 0x17
    .byte 0xc9              ;97af  c9          DATA 0xc9
    .byte 0x03              ;97b0  03          DATA 0x03
    .byte 0x90              ;97b1  90          DATA 0x90
    .byte 0x13              ;97b2  13          DATA 0x13
    .byte 0xa2              ;97b3  a2          DATA 0xa2
    .byte 0x00              ;97b4  00          DATA 0x00
    .byte 0x20              ;97b5  20          DATA 0x20 ' '
    .byte 0xc6              ;97b6  c6          DATA 0xc6
    .byte 0x95              ;97b7  95          DATA 0x95
    .byte 0xae              ;97b8  ae          DATA 0xae
    .byte 0x6f              ;97b9  6f          DATA 0x6f 'o'
    .byte 0x01              ;97ba  01          DATA 0x01
    .byte 0x20              ;97bb  20          DATA 0x20 ' '
    .byte 0xa7              ;97bc  a7          DATA 0xa7
    .byte 0x95              ;97bd  95          DATA 0x95
    .byte 0xce              ;97be  ce          DATA 0xce
    .byte 0x6f              ;97bf  6f          DATA 0x6f 'o'
    .byte 0x01              ;97c0  01          DATA 0x01
    .byte 0x20              ;97c1  20          DATA 0x20 ' '
    .byte 0x04              ;97c2  04          DATA 0x04
    .byte 0x92              ;97c3  92          DATA 0x92
    .byte 0x80              ;97c4  80          DATA 0x80
    .byte 0x16              ;97c5  16          DATA 0x16
    .byte 0xa2              ;97c6  a2          DATA 0xa2
    .byte 0x00              ;97c7  00          DATA 0x00
    .byte 0x20              ;97c8  20          DATA 0x20 ' '
    .byte 0xa7              ;97c9  a7          DATA 0xa7
    .byte 0x95              ;97ca  95          DATA 0x95
    .byte 0x20              ;97cb  20          DATA 0x20 ' '
    .byte 0x04              ;97cc  04          DATA 0x04
    .byte 0x92              ;97cd  92          DATA 0x92
    .byte 0x20              ;97ce  20          DATA 0x20 ' '
    .byte 0x16              ;97cf  16          DATA 0x16
    .byte 0x95              ;97d0  95          DATA 0x95
    .byte 0xa9              ;97d1  a9          DATA 0xa9
    .byte 0x00              ;97d2  00          DATA 0x00
    .byte 0x8d              ;97d3  8d          DATA 0x8d
    .byte 0x6f              ;97d4  6f          DATA 0x6f 'o'
    .byte 0x01              ;97d5  01          DATA 0x01
    .byte 0x3c              ;97d6  3c          DATA 0x3c '<'
    .byte 0x00              ;97d7  00          DATA 0x00
    .byte 0xbb              ;97d8  bb          DATA 0xbb
    .byte 0x20              ;97d9  20          DATA 0x20 ' '
    .byte 0x64              ;97da  64          DATA 0x64 'd'
    .byte 0x76              ;97db  76          DATA 0x76 'v'
    .byte 0x60              ;97dc  60          DATA 0x60 '`'
    .byte 0x20              ;97dd  20          DATA 0x20 ' '
    .byte 0x3f              ;97de  3f          DATA 0x3f '?'
    .byte 0x97              ;97df  97          DATA 0x97
    .byte 0xb0              ;97e0  b0          DATA 0xb0
    .byte 0x02              ;97e1  02          DATA 0x02
    .byte 0xaf              ;97e2  af          DATA 0xaf
    .byte 0xfc              ;97e3  fc          DATA 0xfc
    .byte 0x60              ;97e4  60          DATA 0x60 '`'
    .byte 0x20              ;97e5  20          DATA 0x20 ' '
    .byte 0x3f              ;97e6  3f          DATA 0x3f '?'
    .byte 0x97              ;97e7  97          DATA 0x97
    .byte 0x60              ;97e8  60          DATA 0x60 '`'
    .byte 0xa5              ;97e9  a5          DATA 0xa5
    .byte 0x92              ;97ea  92          DATA 0x92
    .byte 0x29              ;97eb  29          DATA 0x29 ')'
    .byte 0x0f              ;97ec  0f          DATA 0x0f
    .byte 0xc9              ;97ed  c9          DATA 0xc9
    .byte 0x04              ;97ee  04          DATA 0x04
    .byte 0xb0              ;97ef  b0          DATA 0xb0
    .byte 0x05              ;97f0  05          DATA 0x05
    .byte 0x20              ;97f1  20          DATA 0x20 ' '
    .byte 0x3f              ;97f2  3f          DATA 0x3f '?'
    .byte 0x97              ;97f3  97          DATA 0x97
    .byte 0x80              ;97f4  80          DATA 0x80
    .byte 0x12              ;97f5  12          DATA 0x12
    .byte 0x20              ;97f6  20          DATA 0x20 ' '
    .byte 0xf2              ;97f7  f2          DATA 0xf2
    .byte 0xde              ;97f8  de          DATA 0xde
    .byte 0xa9              ;97f9  a9          DATA 0xa9
    .byte 0x00              ;97fa  00          DATA 0x00
    .byte 0x8d              ;97fb  8d          DATA 0x8d
    .byte 0x6f              ;97fc  6f          DATA 0x6f 'o'
    .byte 0x01              ;97fd  01          DATA 0x01
    .byte 0x3c              ;97fe  3c          DATA 0x3c '<'
    .byte 0x00              ;97ff  00          DATA 0x00
    .byte 0xbb              ;9800  bb          DATA 0xbb
    .byte 0xa5              ;9801  a5          DATA 0xa5
    .byte 0x71              ;9802  71          DATA 0x71 'q'
    .byte 0x85              ;9803  85          DATA 0x85
    .byte 0xb4              ;9804  b4          DATA 0xb4
    .byte 0x20              ;9805  20          DATA 0x20 ' '
    .byte 0x64              ;9806  64          DATA 0x64 'd'
    .byte 0x76              ;9807  76          DATA 0x76 'v'
    .byte 0x60              ;9808  60          DATA 0x60 '`'
    .byte 0x20              ;9809  20          DATA 0x20 ' '
    .byte 0x9d              ;980a  9d          DATA 0x9d
    .byte 0x97              ;980b  97          DATA 0x97
    .byte 0x60              ;980c  60          DATA 0x60 '`'
    .byte 0x20              ;980d  20          DATA 0x20 ' '
    .byte 0x3f              ;980e  3f          DATA 0x3f '?'
    .byte 0x97              ;980f  97          DATA 0x97
    .byte 0xb0              ;9810  b0          DATA 0xb0
    .byte 0x02              ;9811  02          DATA 0x02
    .byte 0xaf              ;9812  af          DATA 0xaf
    .byte 0xfc              ;9813  fc          DATA 0xfc
    .byte 0x60              ;9814  60          DATA 0x60 '`'
    .byte 0x20              ;9815  20          DATA 0x20 ' '
    .byte 0xf2              ;9816  f2          DATA 0xf2
    .byte 0xde              ;9817  de          DATA 0xde
    .byte 0x9f              ;9818  9f          DATA 0x9f
    .byte 0xfb              ;9819  fb          DATA 0xfb
    .byte 0xbf              ;981a  bf          DATA 0xbf
    .byte 0xfb              ;981b  fb          DATA 0xfb
    .byte 0xee              ;981c  ee          DATA 0xee
    .byte 0x6f              ;981d  6f          DATA 0x6f 'o'
    .byte 0x01              ;981e  01          DATA 0x01
    .byte 0xac              ;981f  ac          DATA 0xac
    .byte 0x6f              ;9820  6f          DATA 0x6f 'o'
    .byte 0x01              ;9821  01          DATA 0x01
    .byte 0xc4              ;9822  c4          DATA 0xc4
    .byte 0xb8              ;9823  b8          DATA 0xb8
    .byte 0xb0              ;9824  b0          DATA 0xb0
    .byte 0x14              ;9825  14          DATA 0x14
    .byte 0xb9              ;9826  b9          DATA 0xb9
    .byte 0x70              ;9827  70          DATA 0x70 'p'
    .byte 0x01              ;9828  01          DATA 0x01
    .byte 0xe3              ;9829  e3          DATA 0xe3
    .byte 0x0f              ;982a  0f          DATA 0x0f
    .byte 0xc9              ;982b  c9          DATA 0xc9
    .byte 0x03              ;982c  03          DATA 0x03
    .byte 0x90              ;982d  90          DATA 0x90
    .byte 0x0b              ;982e  0b          DATA 0x0b
    .byte 0xa2              ;982f  a2          DATA 0xa2
    .byte 0x00              ;9830  00          DATA 0x00
    .byte 0x20              ;9831  20          DATA 0x20 ' '
    .byte 0xc6              ;9832  c6          DATA 0xc6
    .byte 0x95              ;9833  95          DATA 0x95
    .byte 0x20              ;9834  20          DATA 0x20 ' '
    .byte 0x04              ;9835  04          DATA 0x04
    .byte 0x92              ;9836  92          DATA 0x92
    .byte 0x38              ;9837  38          DATA 0x38 '8'
    .byte 0x80              ;9838  80          DATA 0x80
    .byte 0x15              ;9839  15          DATA 0x15
    .byte 0xa2              ;983a  a2          DATA 0xa2
    .byte 0x00              ;983b  00          DATA 0x00
    .byte 0x88              ;983c  88          DATA 0x88
    .byte 0x20              ;983d  20          DATA 0x20 ' '
    .byte 0x1e              ;983e  1e          DATA 0x1e
    .byte 0x95              ;983f  95          DATA 0x95
    .byte 0x20              ;9840  20          DATA 0x20 ' '
    .byte 0x0b              ;9841  0b          DATA 0x0b
    .byte 0x94              ;9842  94          DATA 0x94
    .byte 0xa9              ;9843  a9          DATA 0xa9
    .byte 0x00              ;9844  00          DATA 0x00
    .byte 0x8d              ;9845  8d          DATA 0x8d
    .byte 0x6f              ;9846  6f          DATA 0x6f 'o'
    .byte 0x01              ;9847  01          DATA 0x01
    .byte 0x3c              ;9848  3c          DATA 0x3c '<'
    .byte 0x00              ;9849  00          DATA 0x00
    .byte 0xbb              ;984a  bb          DATA 0xbb
    .byte 0x20              ;984b  20          DATA 0x20 ' '
    .byte 0x64              ;984c  64          DATA 0x64 'd'
    .byte 0x76              ;984d  76          DATA 0x76 'v'
    .byte 0x18              ;984e  18          DATA 0x18
    .byte 0x60              ;984f  60          DATA 0x60 '`'
    .byte 0x20              ;9850  20          DATA 0x20 ' '
    .byte 0xf2              ;9851  f2          DATA 0xf2
    .byte 0xde              ;9852  de          DATA 0xde
    .byte 0x9f              ;9853  9f          DATA 0x9f
    .byte 0xfb              ;9854  fb          DATA 0xfb
    .byte 0xbf              ;9855  bf          DATA 0xbf
    .byte 0xfb              ;9856  fb          DATA 0xfb
    .byte 0xee              ;9857  ee          DATA 0xee
    .byte 0x6f              ;9858  6f          DATA 0x6f 'o'
    .byte 0x01              ;9859  01          DATA 0x01
    .byte 0xac              ;985a  ac          DATA 0xac
    .byte 0x6f              ;985b  6f          DATA 0x6f 'o'
    .byte 0x01              ;985c  01          DATA 0x01
    .byte 0xc4              ;985d  c4          DATA 0xc4
    .byte 0xb8              ;985e  b8          DATA 0xb8
    .byte 0xb0              ;985f  b0          DATA 0xb0
    .byte 0x14              ;9860  14          DATA 0x14
    .byte 0xb9              ;9861  b9          DATA 0xb9
    .byte 0x70              ;9862  70          DATA 0x70 'p'
    .byte 0x01              ;9863  01          DATA 0x01
    .byte 0xe3              ;9864  e3          DATA 0xe3
    .byte 0x0f              ;9865  0f          DATA 0x0f
    .byte 0xc9              ;9866  c9          DATA 0xc9
    .byte 0x03              ;9867  03          DATA 0x03
    .byte 0x90              ;9868  90          DATA 0x90
    .byte 0x0b              ;9869  0b          DATA 0x0b
    .byte 0xa2              ;986a  a2          DATA 0xa2
    .byte 0x00              ;986b  00          DATA 0x00
    .byte 0x20              ;986c  20          DATA 0x20 ' '
    .byte 0xc6              ;986d  c6          DATA 0xc6
    .byte 0x95              ;986e  95          DATA 0x95
    .byte 0x20              ;986f  20          DATA 0x20 ' '
    .byte 0x04              ;9870  04          DATA 0x04
    .byte 0x92              ;9871  92          DATA 0x92
    .byte 0x38              ;9872  38          DATA 0x38 '8'
    .byte 0x80              ;9873  80          DATA 0x80
    .byte 0x15              ;9874  15          DATA 0x15
    .byte 0xa2              ;9875  a2          DATA 0xa2
    .byte 0x00              ;9876  00          DATA 0x00
    .byte 0x88              ;9877  88          DATA 0x88
    .byte 0x20              ;9878  20          DATA 0x20 ' '
    .byte 0x1e              ;9879  1e          DATA 0x1e
    .byte 0x95              ;987a  95          DATA 0x95
    .byte 0x20              ;987b  20          DATA 0x20 ' '
    .byte 0x0b              ;987c  0b          DATA 0x0b
    .byte 0x94              ;987d  94          DATA 0x94
    .byte 0xa9              ;987e  a9          DATA 0xa9
    .byte 0x00              ;987f  00          DATA 0x00
    .byte 0x8d              ;9880  8d          DATA 0x8d
    .byte 0x6f              ;9881  6f          DATA 0x6f 'o'
    .byte 0x01              ;9882  01          DATA 0x01
    .byte 0x3c              ;9883  3c          DATA 0x3c '<'
    .byte 0x00              ;9884  00          DATA 0x00
    .byte 0xbb              ;9885  bb          DATA 0xbb
    .byte 0x20              ;9886  20          DATA 0x20 ' '
    .byte 0x64              ;9887  64          DATA 0x64 'd'
    .byte 0x76              ;9888  76          DATA 0x76 'v'
    .byte 0x18              ;9889  18          DATA 0x18
    .byte 0x60              ;988a  60          DATA 0x60 '`'
    .byte 0x20              ;988b  20          DATA 0x20 ' '
    .byte 0xf2              ;988c  f2          DATA 0xf2
    .byte 0xde              ;988d  de          DATA 0xde
    .byte 0x9f              ;988e  9f          DATA 0x9f
    .byte 0xfb              ;988f  fb          DATA 0xfb
    .byte 0xbf              ;9890  bf          DATA 0xbf
    .byte 0xfb              ;9891  fb          DATA 0xfb
    .byte 0xee              ;9892  ee          DATA 0xee
    .byte 0x6f              ;9893  6f          DATA 0x6f 'o'
    .byte 0x01              ;9894  01          DATA 0x01
    .byte 0xac              ;9895  ac          DATA 0xac
    .byte 0x6f              ;9896  6f          DATA 0x6f 'o'
    .byte 0x01              ;9897  01          DATA 0x01
    .byte 0xc4              ;9898  c4          DATA 0xc4
    .byte 0xb8              ;9899  b8          DATA 0xb8
    .byte 0xb0              ;989a  b0          DATA 0xb0
    .byte 0x1c              ;989b  1c          DATA 0x1c
    .byte 0xb9              ;989c  b9          DATA 0xb9
    .byte 0x70              ;989d  70          DATA 0x70 'p'
    .byte 0x01              ;989e  01          DATA 0x01
    .byte 0xe3              ;989f  e3          DATA 0xe3
    .byte 0x17              ;98a0  17          DATA 0x17
    .byte 0xc9              ;98a1  c9          DATA 0xc9
    .byte 0x03              ;98a2  03          DATA 0x03
    .byte 0x90              ;98a3  90          DATA 0x90
    .byte 0x13              ;98a4  13          DATA 0x13
    .byte 0xa2              ;98a5  a2          DATA 0xa2
    .byte 0x00              ;98a6  00          DATA 0x00
    .byte 0x20              ;98a7  20          DATA 0x20 ' '
    .byte 0xc6              ;98a8  c6          DATA 0xc6
    .byte 0x95              ;98a9  95          DATA 0x95
    .byte 0xae              ;98aa  ae          DATA 0xae
    .byte 0x6f              ;98ab  6f          DATA 0x6f 'o'
    .byte 0x01              ;98ac  01          DATA 0x01
    .byte 0x20              ;98ad  20          DATA 0x20 ' '
    .byte 0xa7              ;98ae  a7          DATA 0xa7
    .byte 0x95              ;98af  95          DATA 0x95
    .byte 0xce              ;98b0  ce          DATA 0xce
    .byte 0x6f              ;98b1  6f          DATA 0x6f 'o'
    .byte 0x01              ;98b2  01          DATA 0x01
    .byte 0x20              ;98b3  20          DATA 0x20 ' '
    .byte 0x04              ;98b4  04          DATA 0x04
    .byte 0x92              ;98b5  92          DATA 0x92
    .byte 0x80              ;98b6  80          DATA 0x80
    .byte 0x38              ;98b7  38          DATA 0x38 '8'
    .byte 0xa2              ;98b8  a2          DATA 0xa2
    .byte 0x00              ;98b9  00          DATA 0x00
    .byte 0x20              ;98ba  20          DATA 0x20 ' '
    .byte 0xa7              ;98bb  a7          DATA 0xa7
    .byte 0x95              ;98bc  95          DATA 0x95
    .byte 0xa5              ;98bd  a5          DATA 0xa5
    .byte 0xb4              ;98be  b4          DATA 0xb4
    .byte 0x20              ;98bf  20          DATA 0x20 ' '
    .byte 0x76              ;98c0  76          DATA 0x76 'v'
    .byte 0x8b              ;98c1  8b          DATA 0x8b
    .byte 0x98              ;98c2  98          DATA 0x98
    .byte 0x10              ;98c3  10          DATA 0x10
    .byte 0x02              ;98c4  02          DATA 0x02
    .byte 0xa9              ;98c5  a9          DATA 0xa9
    .byte 0x00              ;98c6  00          DATA 0x00
    .byte 0xaa              ;98c7  aa          DATA 0xaa
    .byte 0xbd              ;98c8  bd          DATA 0xbd
    .byte 0x70              ;98c9  70          DATA 0x70 'p'
    .byte 0x01              ;98ca  01          DATA 0x01
    .byte 0xe3              ;98cb  e3          DATA 0xe3
    .byte 0x05              ;98cc  05          DATA 0x05
    .byte 0x20              ;98cd  20          DATA 0x20 ' '
    .byte 0x0b              ;98ce  0b          DATA 0x0b
    .byte 0x94              ;98cf  94          DATA 0x94
    .byte 0x80              ;98d0  80          DATA 0x80
    .byte 0x13              ;98d1  13          DATA 0x13
    .byte 0xa0              ;98d2  a0          DATA 0xa0
    .byte 0x00              ;98d3  00          DATA 0x00
    .byte 0x20              ;98d4  20          DATA 0x20 ' '
    .byte 0x1e              ;98d5  1e          DATA 0x1e
    .byte 0x95              ;98d6  95          DATA 0x95
    .byte 0x20              ;98d7  20          DATA 0x20 ' '
    .byte 0x04              ;98d8  04          DATA 0x04
    .byte 0x92              ;98d9  92          DATA 0x92
    .byte 0x20              ;98da  20          DATA 0x20 ' '
    .byte 0x16              ;98db  16          DATA 0x16
    .byte 0x95              ;98dc  95          DATA 0x95
    .byte 0xa5              ;98dd  a5          DATA 0xa5
    .byte 0xb2              ;98de  b2          DATA 0xb2
    .byte 0x85              ;98df  85          DATA 0x85
    .byte 0x90              ;98e0  90          DATA 0x90
    .byte 0xa5              ;98e1  a5          DATA 0xa5
    .byte 0xb3              ;98e2  b3          DATA 0xb3
    .byte 0x85              ;98e3  85          DATA 0x85
    .byte 0x91              ;98e4  91          DATA 0x91
    .byte 0xa9              ;98e5  a9          DATA 0xa9
    .byte 0x00              ;98e6  00          DATA 0x00
    .byte 0x8d              ;98e7  8d          DATA 0x8d
    .byte 0x6f              ;98e8  6f          DATA 0x6f 'o'
    .byte 0x01              ;98e9  01          DATA 0x01
    .byte 0x3c              ;98ea  3c          DATA 0x3c '<'
    .byte 0x00              ;98eb  00          DATA 0x00
    .byte 0xbb              ;98ec  bb          DATA 0xbb
    .byte 0x20              ;98ed  20          DATA 0x20 ' '
    .byte 0x64              ;98ee  64          DATA 0x64 'd'
    .byte 0x76              ;98ef  76          DATA 0x76 'v'
    .byte 0x60              ;98f0  60          DATA 0x60 '`'
    .byte 0x20              ;98f1  20          DATA 0x20 ' '
    .byte 0x15              ;98f2  15          DATA 0x15
    .byte 0x98              ;98f3  98          DATA 0x98
    .byte 0xb0              ;98f4  b0          DATA 0xb0
    .byte 0x02              ;98f5  02          DATA 0x02
    .byte 0xaf              ;98f6  af          DATA 0xaf
    .byte 0xfc              ;98f7  fc          DATA 0xfc
    .byte 0x60              ;98f8  60          DATA 0x60 '`'
    .byte 0xee              ;98f9  ee          DATA 0xee
    .byte 0x6f              ;98fa  6f          DATA 0x6f 'o'
    .byte 0x01              ;98fb  01          DATA 0x01
    .byte 0xac              ;98fc  ac          DATA 0xac
    .byte 0x6f              ;98fd  6f          DATA 0x6f 'o'
    .byte 0x01              ;98fe  01          DATA 0x01
    .byte 0xc4              ;98ff  c4          DATA 0xc4
    .byte 0xb8              ;9900  b8          DATA 0xb8
    .byte 0xb0              ;9901  b0          DATA 0xb0
    .byte 0x13              ;9902  13          DATA 0x13
    .byte 0xb9              ;9903  b9          DATA 0xb9
    .byte 0x70              ;9904  70          DATA 0x70 'p'
    .byte 0x01              ;9905  01          DATA 0x01
    .byte 0xe3              ;9906  e3          DATA 0xe3
    .byte 0x0e              ;9907  0e          DATA 0x0e
    .byte 0xc9              ;9908  c9          DATA 0xc9
    .byte 0x03              ;9909  03          DATA 0x03
    .byte 0x90              ;990a  90          DATA 0x90
    .byte 0x0a              ;990b  0a          DATA 0x0a
    .byte 0xa2              ;990c  a2          DATA 0xa2
    .byte 0x00              ;990d  00          DATA 0x00
    .byte 0x20              ;990e  20          DATA 0x20 ' '
    .byte 0xc6              ;990f  c6          DATA 0xc6
    .byte 0x95              ;9910  95          DATA 0x95
    .byte 0x20              ;9911  20          DATA 0x20 ' '
    .byte 0x04              ;9912  04          DATA 0x04
    .byte 0x92              ;9913  92          DATA 0x92
    .byte 0x80              ;9914  80          DATA 0x80
    .byte 0x49              ;9915  49          DATA 0x49 'I'
    .byte 0xa5              ;9916  a5          DATA 0xa5
    .byte 0xb4              ;9917  b4          DATA 0xb4
    .byte 0x20              ;9918  20          DATA 0x20 ' '
    .byte 0x76              ;9919  76          DATA 0x76 'v'
    .byte 0x8b              ;991a  8b          DATA 0x8b
    .byte 0x98              ;991b  98          DATA 0x98
    .byte 0x10              ;991c  10          DATA 0x10
    .byte 0x02              ;991d  02          DATA 0x02
    .byte 0xa9              ;991e  a9          DATA 0xa9
    .byte 0x00              ;991f  00          DATA 0x00
    .byte 0xaa              ;9920  aa          DATA 0xaa
    .byte 0xa0              ;9921  a0          DATA 0xa0
    .byte 0x00              ;9922  00          DATA 0x00
    .byte 0x20              ;9923  20          DATA 0x20 ' '
    .byte 0x1e              ;9924  1e          DATA 0x1e
    .byte 0x95              ;9925  95          DATA 0x95
    .byte 0x20              ;9926  20          DATA 0x20 ' '
    .byte 0x04              ;9927  04          DATA 0x04
    .byte 0x92              ;9928  92          DATA 0x92
    .byte 0x20              ;9929  20          DATA 0x20 ' '
    .byte 0x16              ;992a  16          DATA 0x16
    .byte 0x95              ;992b  95          DATA 0x95
    .byte 0xa9              ;992c  a9          DATA 0xa9
    .byte 0x00              ;992d  00          DATA 0x00
    .byte 0x8d              ;992e  8d          DATA 0x8d
    .byte 0x6f              ;992f  6f          DATA 0x6f 'o'
    .byte 0x01              ;9930  01          DATA 0x01
    .byte 0x3c              ;9931  3c          DATA 0x3c '<'
    .byte 0x00              ;9932  00          DATA 0x00
    .byte 0xbb              ;9933  bb          DATA 0xbb
    .byte 0xad              ;9934  ad          DATA 0xad
    .byte 0x62              ;9935  62          DATA 0x62 'b'
    .byte 0x02              ;9936  02          DATA 0x02
    .byte 0x85              ;9937  85          DATA 0x85
    .byte 0xb2              ;9938  b2          DATA 0xb2
    .byte 0xad              ;9939  ad          DATA 0xad
    .byte 0x63              ;993a  63          DATA 0x63 'c'
    .byte 0x02              ;993b  02          DATA 0x02
    .byte 0x85              ;993c  85          DATA 0x85
    .byte 0xb3              ;993d  b3          DATA 0xb3
    .byte 0xa5              ;993e  a5          DATA 0xa5
    .byte 0xb2              ;993f  b2          DATA 0xb2
    .byte 0x85              ;9940  85          DATA 0x85
    .byte 0x90              ;9941  90          DATA 0x90
    .byte 0xa5              ;9942  a5          DATA 0xa5
    .byte 0xb3              ;9943  b3          DATA 0xb3
    .byte 0x85              ;9944  85          DATA 0x85
    .byte 0x91              ;9945  91          DATA 0x91
    .byte 0x7f              ;9946  7f          DATA 0x7f
    .byte 0xfd              ;9947  fd          DATA 0xfd
    .byte 0x20              ;9948  20          DATA 0x20 ' '
    .byte 0x73              ;9949  73          DATA 0x73 's'
    .byte 0x41              ;994a  41          DATA 0x41 'A'
    .byte 0xa5              ;994b  a5          DATA 0xa5
    .byte 0x50              ;994c  50          DATA 0x50 'P'
    .byte 0xd0              ;994d  d0          DATA 0xd0
    .byte 0x04              ;994e  04          DATA 0x04
    .byte 0x6f              ;994f  6f          DATA 0x6f 'o'
    .byte 0xfd              ;9950  fd          DATA 0xfd
    .byte 0xaf              ;9951  af          DATA 0xaf
    .byte 0xfc              ;9952  fc          DATA 0xfc
    .byte 0x20              ;9953  20          DATA 0x20 ' '
    .byte 0x7f              ;9954  7f          DATA 0x7f
    .byte 0x43              ;9955  43          DATA 0x43 'C'
    .byte 0x20              ;9956  20          DATA 0x20 ' '
    .byte 0xb9              ;9957  b9          DATA 0xb9
    .byte 0x43              ;9958  43          DATA 0x43 'C'
    .byte 0x20              ;9959  20          DATA 0x20 ' '
    .byte 0x4a              ;995a  4a          DATA 0x4a 'J'
    .byte 0x66              ;995b  66          DATA 0x66 'f'
    .byte 0x20              ;995c  20          DATA 0x20 ' '
    .byte 0x64              ;995d  64          DATA 0x64 'd'
    .byte 0x76              ;995e  76          DATA 0x76 'v'
    .byte 0x60              ;995f  60          DATA 0x60 '`'
    .byte 0xa5              ;9960  a5          DATA 0xa5
    .byte 0x71              ;9961  71          DATA 0x71 'q'
    .byte 0x85              ;9962  85          DATA 0x85
    .byte 0xb4              ;9963  b4          DATA 0xb4
    .byte 0xa9              ;9964  a9          DATA 0xa9
    .byte 0x00              ;9965  00          DATA 0x00
    .byte 0x8d              ;9966  8d          DATA 0x8d
    .byte 0x6f              ;9967  6f          DATA 0x6f 'o'
    .byte 0x01              ;9968  01          DATA 0x01
    .byte 0x3c              ;9969  3c          DATA 0x3c '<'
    .byte 0x00              ;996a  00          DATA 0x00
    .byte 0xbb              ;996b  bb          DATA 0xbb
    .byte 0x20              ;996c  20          DATA 0x20 ' '
    .byte 0x64              ;996d  64          DATA 0x64 'd'
    .byte 0x76              ;996e  76          DATA 0x76 'v'
    .byte 0x60              ;996f  60          DATA 0x60 '`'

sub_9970:
    inc 0x016f              ;9970  ee 6f 01
    ldy 0x016f              ;9973  ac 6f 01
    cpy 0xb8                ;9976  c4 b8
    bcs lab_9996            ;9978  b0 1c
    lda 0x0170,y            ;997a  b9 70 01
    bbs 7,a,lab_9996        ;997d  e3 17
    cmp #0x03               ;997f  c9 03
    bcc lab_9996            ;9981  90 13
    ldx #0x00               ;9983  a2 00
    jsr sub_95c6            ;9985  20 c6 95
    ldx 0x016f              ;9988  ae 6f 01
    jsr sub_95a7            ;998b  20 a7 95
    dec 0x016f              ;998e  ce 6f 01
    jsr sub_9204            ;9991  20 04 92
    bra lab_99df            ;9994  80 49

lab_9996:
    lda 0xb4                ;9996  a5 b4
    jsr sub_8b76            ;9998  20 76 8b
    tya                     ;999b  98
    bpl lab_99a0            ;999c  10 02
    lda #0x00               ;999e  a9 00

lab_99a0:
    tax                     ;99a0  aa
    ldy #0x00               ;99a1  a0 00
    jsr sub_951e            ;99a3  20 1e 95
    jsr sub_9204            ;99a6  20 04 92
    jsr sub_9516            ;99a9  20 16 95
    lda #0x00               ;99ac  a9 00
    sta 0x016f              ;99ae  8d 6f 01
    ldm #0x00,0xbb          ;99b1  3c 00 bb
    lda 0x0262              ;99b4  ad 62 02
    sta 0xb2                ;99b7  85 b2
    lda 0x0263              ;99b9  ad 63 02
    sta 0xb3                ;99bc  85 b3
    lda 0xb2                ;99be  a5 b2
    sta 0x90                ;99c0  85 90
    lda 0xb3                ;99c2  a5 b3
    sta 0x91                ;99c4  85 91
    clb 3,0xfd              ;99c6  7f fd
    jsr sub_4173            ;99c8  20 73 41
    lda 0x50                ;99cb  a5 50
    bne lab_99d3            ;99cd  d0 04
    seb 3,0xfd              ;99cf  6f fd
    seb 5,0xfc              ;99d1  af fc

lab_99d3:
    jsr sub_437f            ;99d3  20 7f 43
    jsr sub_43b9            ;99d6  20 b9 43
    jsr sub_664a            ;99d9  20 4a 66
    jsr sub_7664            ;99dc  20 64 76

lab_99df:
    rts                     ;99df  60

sub_99e0:
    lda 0x92                ;99e0  a5 92
    sta 0x90                ;99e2  85 90
    lda 0x93                ;99e4  a5 93
    sta 0x91                ;99e6  85 91
    lda 0x90                ;99e8  a5 90
    sta 0xb2                ;99ea  85 b2
    lda 0x91                ;99ec  a5 91
    sta 0xb3                ;99ee  85 b3
    clb 4,0xfb              ;99f0  9f fb
    clb 5,0xfb              ;99f2  bf fb
    lda #0x00               ;99f4  a9 00
    sta 0x016f              ;99f6  8d 6f 01
    ldm #0x00,0xbb          ;99f9  3c 00 bb
    jsr sub_9516            ;99fc  20 16 95
    jsr sub_7664            ;99ff  20 64 76
    rts                     ;9a02  60

    .byte 0x60              ;9a03  60          DATA 0x60 '`'
    .byte 0x60              ;9a04  60          DATA 0x60 '`'
    .byte 0xbf              ;9a05  bf          DATA 0xbf
    .byte 0xfb              ;9a06  fb          DATA 0xfb
    .byte 0x20              ;9a07  20          DATA 0x20 ' '
    .byte 0xfd              ;9a08  fd          DATA 0xfd
    .byte 0x45              ;9a09  45          DATA 0x45 'E'
    .byte 0x60              ;9a0a  60          DATA 0x60 '`'

sub_9a0b:
    bbc 5,0xfd,lab_9a51     ;9a0b  b7 fd 43
    ldy #0x07               ;9a0e  a0 07
    jsr sub_3361            ;9a10  20 61 33
    ldy #0x0a               ;9a13  a0 0a
    jsr sub_3361            ;9a15  20 61 33
    ldy #0x3b               ;9a18  a0 3b
    jsr sub_3361            ;9a1a  20 61 33
    ldy #0x3c               ;9a1d  a0 3c
    jsr sub_3361            ;9a1f  20 61 33
    clb 5,0xfd              ;9a22  bf fd
    clb 4,0xfb              ;9a24  9f fb
    lda 0xb2                ;9a26  a5 b2
    sta 0x90                ;9a28  85 90
    lda 0xb3                ;9a2a  a5 b3
    sta 0x91                ;9a2c  85 91
    lda 0xb2                ;9a2e  a5 b2
    sta 0x92                ;9a30  85 92
    lda 0xb3                ;9a32  a5 b3
    sta 0x93                ;9a34  85 93
    lda 0xb4                ;9a36  a5 b4
    sta 0x71                ;9a38  85 71
    jsr sub_8b76            ;9a3a  20 76 8b
    cpy #0x1a               ;9a3d  c0 1a
    bcs lab_9a4a            ;9a3f  b0 09
    tya                     ;9a41  98
    tax                     ;9a42  aa
    ldy #0x00               ;9a43  a0 00
    jsr sub_951e            ;9a45  20 1e 95
    bra lab_9a51            ;9a48  80 07

lab_9a4a:
    lda 0xb4                ;9a4a  a5 b4
    ldy #0x00               ;9a4c  a0 00
    jsr sub_8aa1            ;9a4e  20 a1 8a

lab_9a51:
    rts                     ;9a51  60

    .byte 0x53              ;9a52  53          DATA 0x53 'S'
    .byte 0x87              ;9a53  87          DATA 0x87
    .byte 0x68              ;9a54  68          DATA 0x68 'h'
    .byte 0xdb              ;9a55  db          DATA 0xdb

sub_9a56:
    ldm #0x02,0xf0          ;9a56  3c 02 f0
    clb 0,0xf2              ;9a59  1f f2
    clb 3,P0                ;9a5b  7f 00
    ldm #0x01,0x59          ;9a5d  3c 01 59
    clb 1,0xf2              ;9a60  3f f2
    jsr sub_4e8a            ;9a62  20 8a 4e
    jsr sub_6fab            ;9a65  20 ab 6f
    ldm #0x00,0x71          ;9a68  3c 00 71
    seb 2,0xf5              ;9a6b  4f f5
    seb 3,0xf3              ;9a6d  6f f3
    seb 0,0xf4              ;9a6f  0f f4
    jsr sub_9adf            ;9a71  20 df 9a
    rts                     ;9a74  60

sub_9a75:
    seb 5,0xf3              ;9a75  af f3
    clb 0,0xf2              ;9a77  1f f2
    clb 3,P0                ;9a79  7f 00
    lda 0xf0                ;9a7b  a5 f0
    and #0x40               ;9a7d  29 40
    ora #0x02               ;9a7f  09 02
    sta 0xf0                ;9a81  85 f0
    ldm #0x01,0x59          ;9a83  3c 01 59
    clb 1,0xf2              ;9a86  3f f2
    jsr sub_4e8a            ;9a88  20 8a 4e
    bbs 6,0xf0,lab_9a91     ;9a8b  c7 f0 03
    jsr sub_6fab            ;9a8e  20 ab 6f

lab_9a91:
    ldm #0x00,0x71          ;9a91  3c 00 71
    jsr sub_9ab4            ;9a94  20 b4 9a
    jsr sub_70bb            ;9a97  20 bb 70
    rts                     ;9a9a  60

sub_9a9b:
    seb 4,0xf3              ;9a9b  8f f3
    clb 0,0xf2              ;9a9d  1f f2
    clb 3,P0                ;9a9f  7f 00
    ldm #0x02,0xf0          ;9aa1  3c 02 f0
    ldm #0x01,0x59          ;9aa4  3c 01 59
    jsr sub_4e8a            ;9aa7  20 8a 4e
    jsr sub_6fab            ;9aaa  20 ab 6f
    ldm #0x00,0x71          ;9aad  3c 00 71
    jsr sub_9ab4            ;9ab0  20 b4 9a
    rts                     ;9ab3  60

sub_9ab4:
    seb 3,0xf3              ;9ab4  6f f3
    jsr sub_de3e            ;9ab6  20 3e de
    seb 0,0xf4              ;9ab9  0f f4
    jsr sub_9adf            ;9abb  20 df 9a
    rts                     ;9abe  60

sub_9abf:
    jsr sub_4a72            ;9abf  20 72 4a
    seb 0,0xf5              ;9ac2  0f f5
    lda 0x90                ;9ac4  a5 90
    sta 0x0264              ;9ac6  8d 64 02
    lda 0x91                ;9ac9  a5 91
    sta 0x0265              ;9acb  8d 65 02
    jsr sub_de3e            ;9ace  20 3e de
    seb 0,0xf4              ;9ad1  0f f4
    jsr sub_9adf            ;9ad3  20 df 9a
    rts                     ;9ad6  60

sub_9ad7:
    seb 2,0xf3              ;9ad7  4f f3
    seb 0,0xf4              ;9ad9  0f f4
    jsr sub_9adf            ;9adb  20 df 9a
    rts                     ;9ade  60

sub_9adf:
    clb 6,0xf5              ;9adf  df f5
    clb 7,0xf5              ;9ae1  ff f5
    clb 0,0xf3              ;9ae3  1f f3
    ldm #0x00,0x5c          ;9ae5  3c 00 5c
    ldm #0x00,0x5d          ;9ae8  3c 00 5d
    seb 1,0xf3              ;9aeb  2f f3
    lda 0x71                ;9aed  a5 71
    sta 0x0266              ;9aef  8d 66 02
    ldy #0x05               ;9af2  a0 05

lab_9af4:
    bbc 5,0xf8,lab_9af4     ;9af4  b7 f8 fd
    clb 5,0xf8              ;9af7  bf f8
    dey                     ;9af9  88
    bpl lab_9af4            ;9afa  10 f8
    lda 0x66                ;9afc  a5 66
    cmp #0x01               ;9afe  c9 01
    beq lab_9b06            ;9b00  f0 04
    cmp #0x06               ;9b02  c9 06
    bne lab_9af4            ;9b04  d0 ee

lab_9b06:
    jsr sub_9b0a            ;9b06  20 0a 9b
    rts                     ;9b09  60

sub_9b0a:
    clb 0,0xf3              ;9b0a  1f f3
    clb 3,0xfa              ;9b0c  7f fa
    lda #0x00               ;9b0e  a9 00
    sta 0x02b7              ;9b10  8d b7 02
    clb 5,0xf5              ;9b13  bf f5
    clb 0,0xf9              ;9b15  1f f9
    jsr sub_544b            ;9b17  20 4b 54     Clears many registers
    jsr sub_44a7            ;9b1a  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;9b1d  20 0d 89
    jsr sub_9043            ;9b20  20 43 90
    ldm #0x00,0x5d          ;9b23  3c 00 5d
    clb 7,0xf8              ;9b26  ff f8
    ldm #0x00,0x50          ;9b28  3c 00 50
    bbs 6,0xf0,lab_9b3d     ;9b2b  c7 f0 0f
    bbs 3,0xf0,lab_9b3d     ;9b2e  67 f0 0c
    bbs 4,0xf0,lab_9b3d     ;9b31  87 f0 09
    bbs 5,0xf0,lab_9b3d     ;9b34  a7 f0 06
    jsr sub_7673            ;9b37  20 73 76
    jsr sub_71bc            ;9b3a  20 bc 71

lab_9b3d:
    jsr sub_9e44            ;9b3d  20 44 9e
    bbs 0,0xf2,lab_9b4c     ;9b40  07 f2 09
    bbs 3,0xf3,lab_9b4c     ;9b43  67 f3 06
    bbs 0,0xf5,lab_9b4c     ;9b46  07 f5 03
    jsr sub_4faf            ;9b49  20 af 4f     TODO writes 3 bytes to an unknown I2C device

lab_9b4c:
    jsr sub_501a            ;9b4c  20 1a 50     TODO writes 3 bytes to an unknown I2C device
    jsr sub_437f            ;9b4f  20 7f 43
    jsr sub_43b9            ;9b52  20 b9 43
    jsr sub_664a            ;9b55  20 4a 66
    ldy #0x32               ;9b58  a0 32
    jsr sub_40a3            ;9b5a  20 a3 40
    bcc lab_9b93            ;9b5d  90 34

lab_9b5f:
    bbs 3,0xf7,lab_9b96     ;9b5f  67 f7 34
    bbs 2,0xe6,lab_9b96     ;9b62  47 e6 31
    bbs 1,0xe8,lab_9b6b     ;9b65  27 e8 03
    bbs 0,0xe8,lab_9b96     ;9b68  07 e8 2b

lab_9b6b:
    lda 0x5e                ;9b6b  a5 5e
    beq lab_9b96            ;9b6d  f0 27
    bbc 0,0xf7,lab_9b5f     ;9b6f  17 f7 ed
    lda 0x73                ;9b72  a5 73
    cmp #0x0b               ;9b74  c9 0b
    beq lab_9b8c            ;9b76  f0 14
    cmp #0x05               ;9b78  c9 05
    beq lab_9b8c            ;9b7a  f0 10
    cmp #0x0e               ;9b7c  c9 0e
    beq lab_9b8c            ;9b7e  f0 0c
    cmp #0x14               ;9b80  c9 14
    beq lab_9b8c            ;9b82  f0 08
    cmp #0x22               ;9b84  c9 22
    beq lab_9b8c            ;9b86  f0 04
    cmp #0x23               ;9b88  c9 23
    bne lab_9b93            ;9b8a  d0 07

lab_9b8c:
    clb 0,0xf7              ;9b8c  1f f7
    jsr sub_9b99            ;9b8e  20 99 9b
    bra lab_9b5f            ;9b91  80 cc

lab_9b93:
    jsr sub_9b99            ;9b93  20 99 9b

lab_9b96:
    seb 0,0xf9              ;9b96  0f f9
    rts                     ;9b98  60

sub_9b99:
    ldy #0x1d               ;9b99  a0 1d
    jsr sub_3361            ;9b9b  20 61 33
    clb 0,0xf9              ;9b9e  1f f9
    jsr sub_544b            ;9ba0  20 4b 54     Clears many registers
    lda #0x00               ;9ba3  a9 00
    sta 0x90                ;9ba5  85 90
    sta 0x91                ;9ba7  85 91
    sta 0x92                ;9ba9  85 92
    sta 0x93                ;9bab  85 93
    clb 2,0xfb              ;9bad  5f fb
    clb 0,0xfd              ;9baf  1f fd
    clb 2,0xf4              ;9bb1  5f f4
    clb 6,0xfb              ;9bb3  df fb
    bbc 0,0xf4,lab_9bc2     ;9bb5  17 f4 0a
    lda #0x01               ;9bb8  a9 01
    sta 0x78                ;9bba  85 78
    lda #0x00               ;9bbc  a9 00
    sta 0x79                ;9bbe  85 79
    bra lab_9bca            ;9bc0  80 08

lab_9bc2:
    lda #0xff               ;9bc2  a9 ff
    sta 0x78                ;9bc4  85 78
    lda #0xff               ;9bc6  a9 ff
    sta 0x79                ;9bc8  85 79

lab_9bca:
    ldm #0x02,0x57          ;9bca  3c 02 57
    jsr sub_43e9            ;9bcd  20 e9 43
    ldy #0x08               ;9bd0  a0 08
    lda [0x4a],y            ;9bd2  b1 4a
    sta 0x40                ;9bd4  85 40
    iny                     ;9bd6  c8
    lda [0x4a],y            ;9bd7  b1 4a
    sta 0x41                ;9bd9  85 41
    jsr [0x40]              ;9bdb  02 40
    jsr sub_c2b2            ;9bdd  20 b2 c2
    rts                     ;9be0  60

sub_9be1:
    bbc 4,0xf1,lab_9be7     ;9be1  97 f1 03
    jsr sub_aeb4            ;9be4  20 b4 ae

lab_9be7:
    lda #0x02               ;9be7  a9 02
    jsr sub_26d8            ;9be9  20 d8 26
    sta 0x6c                ;9bec  85 6c
    cmp 0x0267              ;9bee  cd 67 02
    bcc lab_9c15            ;9bf1  90 22
    jsr sub_8e4d            ;9bf3  20 4d 8e
    bcs lab_9c15            ;9bf6  b0 1d
    bbs 0,0xf2,lab_9c21     ;9bf8  07 f2 26
    bbc 2,0xf3,lab_9c07     ;9bfb  57 f3 09
    lda #0x03               ;9bfe  a9 03
    jsr sub_26d8            ;9c00  20 d8 26
    cmp #0x2b               ;9c03  c9 2b
    bcs lab_9c15            ;9c05  b0 0e

lab_9c07:
    jsr sub_597a            ;9c07  20 7a 59
    bbc 0,0xf0,lab_9c21     ;9c0a  17 f0 14
    bbs 0,0xf5,lab_9c21     ;9c0d  07 f5 11
    bbs 3,0xf3,lab_9c21     ;9c10  67 f3 0e
    bcs lab_9c21            ;9c13  b0 0c

lab_9c15:
    lda 0x71                ;9c15  a5 71
    cmp 0x0266              ;9c17  cd 66 02
    beq lab_9c21            ;9c1a  f0 05
    jsr sub_9b99            ;9c1c  20 99 9b
    bra lab_9c24            ;9c1f  80 03

lab_9c21:
    jsr sub_9c25            ;9c21  20 25 9c

lab_9c24:
    rts                     ;9c24  60

sub_9c25:
    bbs 3,0xf3,lab_9c85     ;9c25  67 f3 5d
    bbs 0,0xf5,lab_9c85     ;9c28  07 f5 5a
    bbs 2,0xf3,lab_9c64     ;9c2b  47 f3 36
    clb 1,0xf3              ;9c2e  3f f3
    clb 0,0xf5              ;9c30  1f f5
    clb 1,0xf5              ;9c32  3f f5
    ldy #0x08               ;9c34  a0 08
    jsr sub_3361            ;9c36  20 61 33
    jsr sub_4fd3            ;9c39  20 d3 4f     TODO writes 3 bytes to an unknown I2C device
    jsr sub_4ff7            ;9c3c  20 f7 4f     TODO writes 3 bytes to an unknown I2C device
    jsr sub_437f            ;9c3f  20 7f 43
    jsr sub_43b9            ;9c42  20 b9 43
    jsr sub_664a            ;9c45  20 4a 66
    jsr sub_7694            ;9c48  20 94 76
    lda 0x92                ;9c4b  a5 92
    sta 0x90                ;9c4d  85 90
    lda 0x93                ;9c4f  a5 93
    sta 0x91                ;9c51  85 91
    seb 1,0x5c              ;9c53  2f 5c
    bbs 0,0xf2,lab_9c5f     ;9c55  07 f2 07
    seb 0,0xf9              ;9c58  0f f9
    ldm #0x32,0x5d          ;9c5a  3c 32 5d
    bra lab_9c61            ;9c5d  80 02

lab_9c5f:
    seb 7,0xf8              ;9c5f  ef f8

lab_9c61:
    jmp lab_9d10            ;9c61  4c 10 9d

lab_9c64:
    clb 1,0xf3              ;9c64  3f f3
    clb 0,0xf5              ;9c66  1f f5
    lda 0x71                ;9c68  a5 71
    sta 0x0266              ;9c6a  8d 66 02
    lda 0x92                ;9c6d  a5 92
    sta 0x90                ;9c6f  85 90
    lda 0x93                ;9c71  a5 93
    sta 0x91                ;9c73  85 91
    ldy #0x08               ;9c75  a0 08
    jsr sub_3300            ;9c77  20 00 33
    jsr sub_7694            ;9c7a  20 94 76
    bbs 0,0xf2,lab_9c82     ;9c7d  07 f2 02
    seb 0,0xf9              ;9c80  0f f9

lab_9c82:
    jmp lab_9d10            ;9c82  4c 10 9d

lab_9c85:
    lda 0x71                ;9c85  a5 71
    cmp 0x0266              ;9c87  cd 66 02
    beq lab_9ca4            ;9c8a  f0 18
    lda 0x92                ;9c8c  a5 92
    sta 0x90                ;9c8e  85 90
    lda 0x93                ;9c90  a5 93
    sta 0x91                ;9c92  85 91
    jsr sub_de52            ;9c94  20 52 de
    jsr sub_44a7            ;9c97  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;9c9a  20 0d 89
    seb 0,0xf4              ;9c9d  0f f4
    jsr sub_9b99            ;9c9f  20 99 9b
    bra lab_9d10            ;9ca2  80 6c

lab_9ca4:
    bbs 6,0xf3,lab_9cb9     ;9ca4  c7 f3 12
    lda 0x6c                ;9ca7  a5 6c
    cmp 0x0267              ;9ca9  cd 67 02
    bcc lab_9cb9            ;9cac  90 0b
    lda 0x92                ;9cae  a5 92
    sta 0x90                ;9cb0  85 90
    lda 0x93                ;9cb2  a5 93
    sta 0x91                ;9cb4  85 91
    jsr sub_de52            ;9cb6  20 52 de

lab_9cb9:
    bbs 2,0xf5,lab_9d0b     ;9cb9  47 f5 4f
    bbs 6,0xf3,lab_9d06     ;9cbc  c7 f3 47
    bbs 0,0xf5,lab_9cda     ;9cbf  07 f5 18
    bbs 5,0xf3,lab_9cd5     ;9cc2  a7 f3 10
    bbs 4,0xf3,lab_9cd0     ;9cc5  87 f3 08
    jsr sub_de5e            ;9cc8  20 5e de
    jsr sub_9d43            ;9ccb  20 43 9d
    bra lab_9d10            ;9cce  80 40

lab_9cd0:
    jsr sub_e094            ;9cd0  20 94 e0
    bra lab_9d10            ;9cd3  80 3b

lab_9cd5:
    jsr sub_9d57            ;9cd5  20 57 9d
    bra lab_9d10            ;9cd8  80 36

lab_9cda:
    clb 0,0xf5              ;9cda  1f f5
    jsr sub_e1db            ;9cdc  20 db e1
    bcc lab_9ce6            ;9cdf  90 05
    jsr sub_9c25            ;9ce1  20 25 9c
    bra lab_9d10            ;9ce4  80 2a

lab_9ce6:
    bbc 4,0xf1,lab_9cf3     ;9ce6  97 f1 0a
    jsr sub_9c25            ;9ce9  20 25 9c
    jsr sub_aed8            ;9cec  20 d8 ae
    seb 3,0xf5              ;9cef  6f f5
    bra lab_9d10            ;9cf1  80 1d

lab_9cf3:
    bbs 1,0xf5,lab_9d01     ;9cf3  27 f5 0b
    seb 1,0xf5              ;9cf6  2f f5
    bbs 6,0xf0,lab_9d01     ;9cf8  c7 f0 06
    bbs 5,0xf0,lab_9d01     ;9cfb  a7 f0 03
    jsr sub_74d2            ;9cfe  20 d2 74

lab_9d01:
    jsr sub_9abf            ;9d01  20 bf 9a
    bra lab_9d10            ;9d04  80 0a

lab_9d06:
    jsr sub_e46e            ;9d06  20 6e e4
    bra lab_9d10            ;9d09  80 05

lab_9d0b:
    jsr sub_9d7d            ;9d0b  20 7d 9d
    bra lab_9d10            ;9d0e  80 00

lab_9d10:
    rts                     ;9d10  60

sub_9d11:
    lda 0x0266              ;9d11  ad 66 02
    sta 0x71                ;9d14  85 71
    jsr sub_4dd1            ;9d16  20 d1 4d
    jsr sub_9c25            ;9d19  20 25 9c
    rts                     ;9d1c  60

sub_9d1d:
    bbc 2,0xf3,lab_9d2e     ;9d1d  57 f3 0e
    clb 2,0xf3              ;9d20  5f f3
    ldy #0x08               ;9d22  a0 08
    jsr sub_3361            ;9d24  20 61 33
    lda 0x59                ;9d27  a5 59
    sta 0x5a                ;9d29  85 5a
    jsr sub_9d11            ;9d2b  20 11 9d

lab_9d2e:
    rts                     ;9d2e  60

    .byte 0x17              ;9d2f  17          DATA 0x17
    .byte 0xf5              ;9d30  f5          DATA 0xf5
    .byte 0x10              ;9d31  10          DATA 0x10
    .byte 0x1f              ;9d32  1f          DATA 0x1f
    .byte 0xf5              ;9d33  f5          DATA 0xf5
    .byte 0x3f              ;9d34  3f          DATA 0x3f '?'
    .byte 0xf5              ;9d35  f5          DATA 0xf5
    .byte 0xa0              ;9d36  a0          DATA 0xa0
    .byte 0x08              ;9d37  08          DATA 0x08
    .byte 0x20              ;9d38  20          DATA 0x20 ' '
    .byte 0x61              ;9d39  61          DATA 0x61 'a'
    .byte 0x33              ;9d3a  33          DATA 0x33 '3'
    .byte 0xa5              ;9d3b  a5          DATA 0xa5
    .byte 0x59              ;9d3c  59          DATA 0x59 'Y'
    .byte 0x85              ;9d3d  85          DATA 0x85
    .byte 0x5a              ;9d3e  5a          DATA 0x5a 'Z'
    .byte 0x20              ;9d3f  20          DATA 0x20 ' '
    .byte 0x11              ;9d40  11          DATA 0x11
    .byte 0x9d              ;9d41  9d          DATA 0x9d
    .byte 0x60              ;9d42  60          DATA 0x60 '`'

sub_9d43:
    bbc 3,0xf3,lab_9d4b     ;9d43  77 f3 05
    clb 3,0xf3              ;9d46  7f f3
    jsr sub_9d11            ;9d48  20 11 9d

lab_9d4b:
    rts                     ;9d4b  60

sub_9d4c:
    clb 4,0xf3              ;9d4c  9f f3
    lda 0x71                ;9d4e  a5 71
    sta 0x0266              ;9d50  8d 66 02
    jsr sub_9d43            ;9d53  20 43 9d
    rts                     ;9d56  60

sub_9d57:
    clb 5,0xf3              ;9d57  bf f3
    jsr sub_e27c            ;9d59  20 7c e2
    lda 0x03c0,x            ;9d5c  bd c0 03
    sta 0x71                ;9d5f  85 71
    sta 0x0266              ;9d61  8d 66 02
    lda 0x0480,x            ;9d64  bd 80 04
    sta 0x90                ;9d67  85 90
    lda 0x04e0,x            ;9d69  bd e0 04
    sta 0x91                ;9d6c  85 91
    jsr sub_44a7            ;9d6e  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;9d71  20 0d 89
    jsr sub_9d43            ;9d74  20 43 9d
    ldm #0x00,0x5d          ;9d77  3c 00 5d
    seb 7,0xf8              ;9d7a  ef f8
    rts                     ;9d7c  60

sub_9d7d:
    clb 2,0xf5              ;9d7d  5f f5
    jsr sub_9d43            ;9d7f  20 43 9d
    jsr sub_2c1a            ;9d82  20 1a 2c
    ldm #0x00,0x5d          ;9d85  3c 00 5d
    ldm #0x00,0x5c          ;9d88  3c 00 5c
    clb 0,0xf9              ;9d8b  1f f9
    jsr sub_44a7            ;9d8d  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;9d90  20 0d 89
    jsr sub_544b            ;9d93  20 4b 54     Clears many registers
    clb 2,0xfa              ;9d96  5f fa
    clb 7,0xfb              ;9d98  ff fb
    clb 2,0xf4              ;9d9a  5f f4
    clb 6,0xfb              ;9d9c  df fb
    clb 3,0xfa              ;9d9e  7f fa
    rts                     ;9da0  60

sub_9da1:
    bbc 2,0xf5,lab_9dcc     ;9da1  57 f5 28
    clb 2,0xf5              ;9da4  5f f5
    clb 3,0xf3              ;9da6  7f f3
    clb 1,0xf3              ;9da8  3f f3
    lda 0x0266              ;9daa  ad 66 02
    sta 0x71                ;9dad  85 71
    jsr sub_2c1a            ;9daf  20 1a 2c

    ldy #0x0a               ;9db2  a0 0a
    jsr sub_f22c_delay      ;9db4  20 2c f2     Delay an unknown time period for Y iterations

    clb 0,0xf9              ;9db7  1f f9
    jsr sub_44a7            ;9db9  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;9dbc  20 0d 89
    jsr sub_544b            ;9dbf  20 4b 54     Clears many registers
    clb 2,0xfa              ;9dc2  5f fa
    clb 7,0xfb              ;9dc4  ff fb
    clb 2,0xf4              ;9dc6  5f f4
    clb 6,0xfb              ;9dc8  df fb
    clb 3,0xfa              ;9dca  7f fa

lab_9dcc:
    rts                     ;9dcc  60

sub_9dcd:
    ldy #0x11               ;9dcd  a0 11
    jsr sub_3361            ;9dcf  20 61 33
    ldy #0x12               ;9dd2  a0 12
    jsr sub_3361            ;9dd4  20 61 33
    jsr sub_9a0b            ;9dd7  20 0b 9a
    clc                     ;9dda  18
    bbs 1,0xe5,lab_9df3     ;9ddb  27 e5 15
    bbs 6,0xf3,lab_9df3     ;9dde  c7 f3 12
    bbs 5,0xf3,lab_9df3     ;9de1  a7 f3 0f
    bbs 4,0xf3,lab_9df3     ;9de4  87 f3 0c
    bbs 3,0xf3,lab_9df3     ;9de7  67 f3 09
    bbs 0,0xf5,lab_9df3     ;9dea  07 f5 06
    bbs 2,0xf3,lab_9df3     ;9ded  47 f3 03
    bbc 1,0xf3,lab_9e20     ;9df0  37 f3 2d

lab_9df3:
    jsr sub_9e21            ;9df3  20 21 9e
    ldy #0x08               ;9df6  a0 08
    jsr sub_3361            ;9df8  20 61 33
    ldy #0x1b               ;9dfb  a0 1b
    jsr sub_3361            ;9dfd  20 61 33
    jsr sub_4fd3            ;9e00  20 d3 4f     TODO writes 3 bytes to an unknown I2C device
    jsr sub_4ff7            ;9e03  20 f7 4f     TODO writes 3 bytes to an unknown I2C device
    lda 0x0266              ;9e06  ad 66 02
    sta 0x71                ;9e09  85 71
    jsr sub_4dd1            ;9e0b  20 d1 4d
    bbs 0,0xf2,lab_9e13     ;9e0e  07 f2 02
    seb 0,0xf9              ;9e11  0f f9

lab_9e13:
    jsr sub_4173            ;9e13  20 73 41
    jsr sub_8b8c            ;9e16  20 8c 8b
    jsr sub_71bc            ;9e19  20 bc 71
    jsr sub_7694            ;9e1c  20 94 76
    sec                     ;9e1f  38

lab_9e20:
    rts                     ;9e20  60

sub_9e21:
    clb 1,0xe5              ;9e21  3f e5
    clb 2,0xf5              ;9e23  5f f5
    clb 6,0xf3              ;9e25  df f3
    clb 5,0xf3              ;9e27  bf f3
    clb 1,0xf5              ;9e29  3f f5
    clb 4,0xf3              ;9e2b  9f f3
    clb 3,0xf3              ;9e2d  7f f3
    clb 0,0xf5              ;9e2f  1f f5
    clb 2,0xf3              ;9e31  5f f3
    clb 1,0xf3              ;9e33  3f f3
    rts                     ;9e35  60

    .byte 0x98              ;9e36  98          DATA 0x98
    .byte 0x48              ;9e37  48          DATA 0x48 'H'
    .byte 0xa0              ;9e38  a0          DATA 0xa0
    .byte 0x07              ;9e39  07          DATA 0x07
    .byte 0xb1              ;9e3a  b1          DATA 0xb1
    .byte 0x40              ;9e3b  40          DATA 0x40 '@'
    .byte 0x91              ;9e3c  91          DATA 0x91
    .byte 0x42              ;9e3d  42          DATA 0x42 'B'
    .byte 0x88              ;9e3e  88          DATA 0x88
    .byte 0x10              ;9e3f  10          DATA 0x10
    .byte 0xf9              ;9e40  f9          DATA 0xf9
    .byte 0x68              ;9e41  68          DATA 0x68 'h'
    .byte 0xa8              ;9e42  a8          DATA 0xa8
    .byte 0x60              ;9e43  60          DATA 0x60 '`'

sub_9e44:
    lda #0xd0               ;9e44  a9 d0
    sta 0x0101              ;9e46  8d 01 01
    lda #0x04               ;9e49  a9 04
    asl a                   ;9e4b  0a
    ora #0xa0               ;9e4c  09 a0
    sta 0x0100              ;9e4e  8d 00 01
    lda #0x00               ;9e51  a9 00
    sta 0x4c                ;9e53  85 4c
    lda #0x01               ;9e55  a9 01
    sta 0x4d                ;9e57  85 4d
    ldm #0x02,0x4e          ;9e59  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x04,0x4f          ;9e5c  3c 04 4f     Number of I2C bytes to read = 4
    jsr sub_46e5_i2c_wr_rd  ;9e5f  20 e5 46     Perform an I2C write-then-read transaction
    lda #0x00               ;9e62  a9 00
    bbs 5,0xf3,lab_9e8a     ;9e64  a7 f3 23
    bbs 6,0xf3,lab_9e8a     ;9e67  c7 f3 20
    lda 0x0288              ;9e6a  ad 88 02
    and #0x01               ;9e6d  29 01
    bne lab_9e8a            ;9e6f  d0 19
    bbc 2,0xf3,lab_9e8a     ;9e71  57 f3 16
    ldx #0x00               ;9e74  a2 00
    bbc 0,0xf2,lab_9e7b     ;9e76  17 f2 02
    ldx #0x02               ;9e79  a2 02

lab_9e7b:
    lda 0x0102,x            ;9e7b  bd 02 01
    cmp #0xff               ;9e7e  c9 ff
    bcs lab_9e84            ;9e80  b0 02
    bra lab_9e9a            ;9e82  80 16

lab_9e84:
    clc                     ;9e84  18
    lda 0x9a52,x            ;9e85  bd 52 9a
    bra lab_9e9a            ;9e88  80 10

lab_9e8a:
    bbc 0,0xf2,lab_9e8f     ;9e8a  17 f2 02
    inc a                   ;9e8d  3a
    inc a                   ;9e8e  3a

lab_9e8f:
    tax                     ;9e8f  aa
    lda 0x0102,x            ;9e90  bd 02 01
    cmp #0xff               ;9e93  c9 ff
    bcc lab_9e9a            ;9e95  90 03
    lda 0x9a52,x            ;9e97  bd 52 9a

lab_9e9a:
    sta 0x0267              ;9e9a  8d 67 02
    rts                     ;9e9d  60

sub_9e9e:
    lda #0x00               ;9e9e  a9 00
    sta 0x05bd              ;9ea0  8d bd 05
    sta 0x05bc              ;9ea3  8d bc 05
    sta 0x05bf              ;9ea6  8d bf 05
    sta 0x05be              ;9ea9  8d be 05
    jsr sub_9fe2_coding     ;9eac  20 e2 9f     TODO coding related, reads coding, maybe activates new coding
    jsr sub_ab7e            ;9eaf  20 7e ab
    lda 0x0102              ;9eb2  ad 02 01
    cmp #0x80               ;9eb5  c9 80
    bcc lab_9ec3            ;9eb7  90 0a
    lda #0x00               ;9eb9  a9 00
    sta 0x0102              ;9ebb  8d 02 01
    jsr sub_ab9d            ;9ebe  20 9d ab
    lda #0x00               ;9ec1  a9 00

lab_9ec3:
    sta 0x05c0              ;9ec3  8d c0 05
    and #0x01               ;9ec6  29 01
    bne lab_9ece            ;9ec8  d0 04
    clb 5,0xe7              ;9eca  bf e7
    bra lab_9ed0            ;9ecc  80 02

lab_9ece:
    seb 5,0xe7              ;9ece  af e7

lab_9ed0:
    bbc 3,0xf1,lab_9ed8     ;9ed0  77 f1 05
    ldy #0x36               ;9ed3  a0 36
    jsr sub_3300            ;9ed5  20 00 33

lab_9ed8:
    rts                     ;9ed8  60

sub_9ed9:
    bbs 6,0xf1,lab_9ef0     ;9ed9  c7 f1 14
    jsr sub_2835            ;9edc  20 35 28
    ldy #0x0c               ;9edf  a0 0c
    jsr sub_3361            ;9ee1  20 61 33
    ldy #0x0d               ;9ee4  a0 0d
    jsr sub_3361            ;9ee6  20 61 33
    ldy #0x0e               ;9ee9  a0 0e
    jsr sub_3361            ;9eeb  20 61 33
    seb 4,P8_P4I            ;9eee  8f 10

lab_9ef0:
    jsr sub_7673            ;9ef0  20 73 76
    clb 6,P8_P4I            ;9ef3  df 10
    lda #0x00               ;9ef5  a9 00
    ldx #0x03               ;9ef7  a2 03

lab_9ef9:
    sta 0x02f0,x            ;9ef9  9d f0 02
    sta 0x02f4,x            ;9efc  9d f4 02
    dex                     ;9eff  ca
    bpl lab_9ef9            ;9f00  10 f7
    jsr sub_2f51            ;9f02  20 51 2f
    clb 3,0xf2              ;9f05  7f f2
    clb 5,P8_P4I            ;9f07  bf 10
    clb 7,P2                ;9f09  ff 04
    clb 7,P8_P4I            ;9f0b  ff 10
    clb 6,0xf0              ;9f0d  df f0
    jsr sub_aebe            ;9f0f  20 be ae
    clb 4,0xf1              ;9f12  9f f1
    jsr sub_c9ce            ;9f14  20 ce c9
    jsr sub_d3da            ;9f17  20 da d3
    seb 7,0xf0              ;9f1a  ef f0
    seb 5,0xf4              ;9f1c  af f4
    jsr sub_814d            ;9f1e  20 4d 81
    clb 1,0xf6              ;9f21  3f f6
    clb 0,0xf6              ;9f23  1f f6
    lda #0x05               ;9f25  a9 05
    sta 0x5a                ;9f27  85 5a
    lda #0x13               ;9f29  a9 13
    sta 0x5b                ;9f2b  85 5b
    jsr sub_664a            ;9f2d  20 4a 66
    seb 3,0xe9              ;9f30  6f e9
    rts                     ;9f32  60

;KWP1281 0x06 Disconnect
kwp_06_disconnect:
    ldy #0x27               ;9f33  a0 27
    jsr sub_3361            ;9f35  20 61 33
    ldy #0x28               ;9f38  a0 28
    jsr sub_3361            ;9f3a  20 61 33
    lda 0x05b9              ;9f3d  ad b9 05
    and #0xfc               ;9f40  29 fc
    beq lab_9f47            ;9f42  f0 03
    jsr sub_7b65            ;9f44  20 65 7b

lab_9f47:
    lda #0x00               ;9f47  a9 00
    sta 0x05b9              ;9f49  8d b9 05
    jsr sub_b40f_disconnect ;9f4c  20 0f b4     Terminate KWP1281 or TechniSat session
    clb 5,0xf4              ;9f4f  bf f4
    bbs 0,0xf1,lab_9f56     ;9f51  07 f1 02
    clb 7,0xf0              ;9f54  ff f0

lab_9f56:
    bbs 3,0xe6,lab_9f6e     ;9f56  67 e6 15
    bbs 7,0xf1,lab_9f6e     ;9f59  e7 f1 12
    ldy #0x09               ;9f5c  a0 09
    jsr sub_33c6            ;9f5e  20 c6 33
    bcs lab_9f66            ;9f61  b0 03
    bbc 1,0xee,lab_9f6e     ;9f63  37 ee 08

lab_9f66:
    jsr sub_2835            ;9f66  20 35 28
    jsr sub_2921            ;9f69  20 21 29
    bra lab_9f74            ;9f6c  80 06

lab_9f6e:
    jsr sub_2b51            ;9f6e  20 51 2b
    jsr sub_9da1            ;9f71  20 a1 9d

lab_9f74:
    rts                     ;9f74  60

    .byte 0xa2              ;9f75  a2          DATA 0xa2
    .byte 0x03              ;9f76  03          DATA 0x03
    .byte 0xbd              ;9f77  bd          DATA 0xbd
    .byte 0x70              ;9f78  70          DATA 0x70 'p'
    .byte 0x03              ;9f79  03          DATA 0x03
    .byte 0xd0              ;9f7a  d0          DATA 0xd0
    .byte 0x03              ;9f7b  03          DATA 0x03
    .byte 0x9d              ;9f7c  9d          DATA 0x9d
    .byte 0xf8              ;9f7d  f8          DATA 0xf8
    .byte 0x02              ;9f7e  02          DATA 0x02
    .byte 0xdd              ;9f7f  dd          DATA 0xdd
    .byte 0xf0              ;9f80  f0          DATA 0xf0
    .byte 0x02              ;9f81  02          DATA 0x02
    .byte 0x9d              ;9f82  9d          DATA 0x9d
    .byte 0xf0              ;9f83  f0          DATA 0xf0
    .byte 0x02              ;9f84  02          DATA 0x02
    .byte 0xd0              ;9f85  d0          DATA 0xd0
    .byte 0x17              ;9f86  17          DATA 0x17
    .byte 0xfe              ;9f87  fe          DATA 0xfe
    .byte 0xf4              ;9f88  f4          DATA 0xf4
    .byte 0x02              ;9f89  02          DATA 0x02
    .byte 0xbd              ;9f8a  bd          DATA 0xbd
    .byte 0xf4              ;9f8b  f4          DATA 0xf4
    .byte 0x02              ;9f8c  02          DATA 0x02
    .byte 0xc9              ;9f8d  c9          DATA 0xc9
    .byte 0x05              ;9f8e  05          DATA 0x05
    .byte 0x90              ;9f8f  90          DATA 0x90
    .byte 0x12              ;9f90  12          DATA 0x12
    .byte 0xbd              ;9f91  bd          DATA 0xbd
    .byte 0x70              ;9f92  70          DATA 0x70 'p'
    .byte 0x03              ;9f93  03          DATA 0x03
    .byte 0x9d              ;9f94  9d          DATA 0x9d
    .byte 0xf8              ;9f95  f8          DATA 0xf8
    .byte 0x02              ;9f96  02          DATA 0x02
    .byte 0xa9              ;9f97  a9          DATA 0xa9
    .byte 0x00              ;9f98  00          DATA 0x00
    .byte 0x9d              ;9f99  9d          DATA 0x9d
    .byte 0xf4              ;9f9a  f4          DATA 0xf4
    .byte 0x02              ;9f9b  02          DATA 0x02
    .byte 0x80              ;9f9c  80          DATA 0x80
    .byte 0x05              ;9f9d  05          DATA 0x05
    .byte 0xa9              ;9f9e  a9          DATA 0xa9
    .byte 0x00              ;9f9f  00          DATA 0x00
    .byte 0x9d              ;9fa0  9d          DATA 0x9d
    .byte 0xf4              ;9fa1  f4          DATA 0xf4
    .byte 0x02              ;9fa2  02          DATA 0x02
    .byte 0xca              ;9fa3  ca          DATA 0xca
    .byte 0x10              ;9fa4  10          DATA 0x10
    .byte 0xd1              ;9fa5  d1          DATA 0xd1
    .byte 0x60              ;9fa6  60          DATA 0x60 '`'


read_ee_part_num:
;Read part number from EEPROM, or a default
    lda #0xf4               ;9fa7  a9 f4
    sta 0x0101              ;9fa9  8d 01 01     Store as EEPROM address

    lda #0x02               ;9fac  a9 02
    asl a                   ;9fae  0a
    ora #0xa0               ;9faf  09 a0
    sta 0x0100              ;9fb1  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;9fb4  a9 00
    sta 0x4c                ;9fb6  85 4c        Store as I2C buffer pointer low
    lda #0x01               ;9fb8  a9 01
    sta 0x4d                ;9fba  85 4d        Store as I2C buffer pointer low

    ldm #0x02,0x4e          ;9fbc  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x0c,0x4f          ;9fbf  3c 0c 4f     Number of I2C bytes to read = 12
    jsr sub_46e5_i2c_wr_rd  ;9fc2  20 e5 46     Perform an I2C write-then-read transaction

    lda 0x0102              ;9fc5  ad 02 01     A = first byte of part number
    bbc 7,a,lab_9fd5_rts    ;9fc8  f3 0b        Branch if bit 7 is clear

    ;Bit 7 is set.  Presumably this means that the part number has not been written
    ;to the EEPROM and contains all 0xFF.  Return a default "TechniSat  " string.

    ;Copy "TechniSat  " string
    ldx #0x0b               ;9fca  a2 0b
lab_9fcc_loop:
    lda technisat,x         ;9fcc  bd 40 ff
    sta 0x0102,x            ;9fcf  9d 02 01
    dex                     ;9fd2  ca
    bpl lab_9fcc_loop       ;9fd3  10 f7

lab_9fd5_rts:
    rts                     ;9fd5  60


copy_part_num_to_tx:
;Copy part number read from EEPROM to KWP1281 tx buffer
    ldx #0x0b               ;9fd6  a2 0b
lab_9fd8_loop:
    lda 0x0102,x            ;9fd8  bd 02 01     A = byte from part number read from EEPROM
    sta 0x0334,x            ;9fdb  9d 34 03     Write it into the KWP1281 tx buffer
    dex                     ;9fde  ca
    bpl lab_9fd8_loop       ;9fdf  10 f7        Loop until entire part number has been copied
    rts                     ;9fe1  60


sub_9fe2_coding:
;TODO coding related: reads coding, maybe activates new coding
    jsr read_ee_coding      ;9fe2  20 40 a0     Read coding and workshop code from EEPROM, or defaults
                            ;                   Returns:
                            ;                     0x102 Soft coding high byte
                            ;                     0x103 Soft coding low byte
                            ;                     0x104 Workshop code high byte
                            ;                     0x105 Workshop code low byte
                            ;                     0x106 "EEPROM valid" flag byte (0=valid, 0xFF=invalid)
    jsr sub_a0d5            ;9fe5  20 d5 a0
    lda 0x011a              ;9fe8  ad 1a 01
    asl a                   ;9feb  0a
    asl a                   ;9fec  0a
    asl a                   ;9fed  0a
    asl a                   ;9fee  0a
    sta 0x05c7              ;9fef  8d c7 05
    lda 0x0118              ;9ff2  ad 18 01
    and #0x07               ;9ff5  29 07
    ora 0x05c7              ;9ff7  0d c7 05
    sta 0x05c7              ;9ffa  8d c7 05
    ldx #0x00               ;9ffd  a2 00
    bbs 4,a,lab_a00e        ;9fff  83 0d
    ldy 0x0294              ;a001  ac 94 02
    cpy #0x02               ;a004  c0 02
    bne lab_a00e            ;a006  d0 06
    stx 0x0294              ;a008  8e 94 02
    stx 0x02a4              ;a00b  8e a4 02

lab_a00e:
    bbs 5,a,lab_a01c        ;a00e  a3 0c
    stx 0x0299              ;a010  8e 99 02
    stx 0x02a9              ;a013  8e a9 02
    stx 0x029a              ;a016  8e 9a 02
    stx 0x02aa              ;a019  8e aa 02

lab_a01c:
    bbs 6,a,lab_a024        ;a01c  c3 06
    stx 0x0297              ;a01e  8e 97 02
    stx 0x02a7              ;a021  8e a7 02

lab_a024:
    and #0x07               ;a024  29 07
    tax                     ;a026  aa
    lda 0x8903,x            ;a027  bd 03 89
    sta 0x4f                ;a02a  85 4f
    lda #0x00               ;a02c  a9 00
    ldx #0x00               ;a02e  a2 00

lab_a030:
    lsr 0x4f                ;a030  46 4f
    bcs lab_a03a            ;a032  b0 06
    sta 0x0290,x            ;a034  9d 90 02
    sta 0x02a0,x            ;a037  9d a0 02

lab_a03a:
    inx                     ;a03a  e8
    cpx #0x04               ;a03b  e0 04
    bcc lab_a030            ;a03d  90 f1
    rts                     ;a03f  60


read_ee_coding:
;Read coding and workshop code from EEPROM, or defaults
;
;Returns:
;  0x102 Soft coding high byte
;  0x103 Soft coding low byte
;  0x104 Workshop code high byte
;  0x105 Workshop code low byte
;  0x106 "EEPROM valid" flag byte (0=valid, 0xFF=invalid)
;
    lda #0x50               ;a040  a9 50
    sta 0x0101              ;a042  8d 01 01     Store as EEPROM address byte

    lda #0x03               ;a045  a9 03
    asl a                   ;a047  0a
    ora #0xa0               ;a048  09 a0
    sta 0x0100              ;a04a  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;a04d  a9 00
    sta 0x4c                ;a04f  85 4c        Store as I2C buffer pointer (low)
    lda #0x01               ;a051  a9 01
    sta 0x4d                ;a053  85 4d        Store as I2C buffer pointer (high)

    ldm #0x02,0x4e          ;a055  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x05,0x4f          ;a058  3c 05 4f     Number of I2C bytes to read = 5
    jsr sub_46e5_i2c_wr_rd  ;a05b  20 e5 46     Perform an I2C write-then-read transaction

    lda 0x0106              ;a05e  ad 06 01     Is the flag byte 0?
    beq lab_a075_rts        ;a061  f0 12          Yes: EEPROM has been programmed, branch

    ;EEPROM has not been programmed; return defaults instead

    ;Set default coding to 0x0320 (would be displayed as "0400" on tester)
    lda #0x03               ;a063  a9 03
    sta 0x0102              ;a065  8d 02 01     Soft coding high byte
    lda #0x20               ;a068  a9 20
    sta 0x0103              ;a06a  8d 03 01     Soft coding low byte

    ;Set default workshop code to 0x0000 (would be displyed as "00000" on tester)
    lda #0x00               ;a06d  a9 00
    sta 0x0104              ;a06f  8d 04 01     Workshop code high byte
    sta 0x0105              ;a072  8d 05 01     Workshop code low byte

lab_a075_rts:
    rts                     ;a075  60


kwp_write_ee_coding:
;Check if new coding from KWP1281 recoding is valid, write to EEPROM if so
;Called from KWP1281 0x10 Recoding (kwp_10_recoding)
;
    lda 0x0323              ;a076  ad 23 03     A = uart rx buffer byte 3
    sta 0x0102              ;a079  8d 02 01
    lda 0x0324              ;a07c  ad 24 03     A = uart rx buffer byte 4
    sta 0x0103              ;a07f  8d 03 01
    jsr sub_a0d5            ;a082  20 d5 a0

    ldy #0x04               ;a085  a0 04
lab_a087_loop:
    lda 0x0116,y            ;a087  b9 16 01
    cmp mem_ac26,y          ;a08a  d9 26 ac
    beq lab_a091_eq         ;a08d  f0 02
    bcs lab_a0d4_rts        ;a08f  b0 43
lab_a091_eq:
    dey                     ;a091  88
    bpl lab_a087_loop       ;a092  10 f3

    ;Coding is valid.  Now set up to write coding & workshop code to the EEPROM.

    lda 0x0323              ;a094  ad 23 03     A = uart rx buffer byte 3
    sta 0x0102              ;a097  8d 02 01     Store as Soft coding high byte

    lda 0x0324              ;a09a  ad 24 03     A = uart rx buffer byte 4
    sta 0x0103              ;a09d  8d 03 01     Store as Soft coding low byte

    lda 0x0325              ;a0a0  ad 25 03     A = uart rx buffer byte 5
    sta 0x0104              ;a0a3  8d 04 01     Store as Workshop code high byte

    lda 0x0326              ;a0a6  ad 26 03     A = uart rx buffer byte 6
    sta 0x0105              ;a0a9  8d 05 01     Store as Workshop code low byte

    lda #0x00               ;a0ac  a9 00        A = 0
    sta 0x0106              ;a0ae  8d 06 01     Store as "EEPROM valid" flag byte (0=valid, 0xFF=invalid)

    ; Fall through into write_ee_coding


write_ee_coding:
;Write coding and workshop code to the EEPROM
;This is unconditional; the values are not checked first.
;Called from sub_a124 after successful login
    lda #0x50               ;a0b1  a9 50
    sta 0x0101              ;a0b3  8d 01 01     Store as EEPROM address

    lda #0x03               ;a0b6  a9 03
    asl a                   ;a0b8  0a
    ora #0xa0               ;a0b9  09 a0
    sta 0x0100              ;a0bb  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;a0be  a9 00
    sta 0x4c                ;a0c0  85 4c        Store as buffer pointer low
    lda #0x01               ;a0c2  a9 01
    sta 0x4d                ;a0c4  85 4d        Store as buffer pointer high

    ldm #0x07,0x4e          ;a0c6  3c 07 4e     Number of I2C bytes to write = 7
    ldm #0x00,0x4f          ;a0c9  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;a0cc  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;a0cf  a0 0a
    jsr sub_f22c_delay      ;a0d1  20 2c f2     Delay an unknown time period for Y iterations

lab_a0d4_rts:
    rts                     ;a0d4  60


sub_a0d5:
    ;Push 0x44, 0x45
    lda 0x44                ;a0d5  a5 44
    pha                     ;a0d7  48
    lda 0x45                ;a0d8  a5 45
    pha                     ;a0da  48

    lda 0x0102              ;a0db  ad 02 01     A = Soft Coding high byte
    lsr a                   ;a0de  4a
    sta 0x45                ;a0df  85 45
    lda 0x0103              ;a0e1  ad 03 01     A = Soft Coding low byte
    ror a                   ;a0e4  6a
    sta 0x44                ;a0e5  85 44
    jsr sub_6be9            ;a0e7  20 e9 6b     Convert binary number in 0x44-0x45 to decimal number in ASCII in 0x0116-0x11a

    ;Pop 0x44, 0x45
    pla                     ;a0ea  68
    sta 0x45                ;a0eb  85 45
    pla                     ;a0ed  68
    sta 0x44                ;a0ee  85 44
    rts                     ;a0f0  60


copy_coding_to_tx:
;Copy coding and workshop read from EEPROM to KWP1281 tx buffer
;Called by KWP1281 0x00 Read Identification (kwp_00_read_id)
    lda 0x0102              ;a0f1  ad 02 01     A = Soft Coding high byte
    sta 0x0335              ;a0f4  8d 35 03     Store as KWP1281 tx buffer byte 4: Soft Coding (high byte)

    lda 0x0103              ;a0f7  ad 03 01     A = Soft Coding low byte
    sta 0x0336              ;a0fa  8d 36 03     Store as KWP1281 tx buffer byte 5: Soft Coding (low byte)

    lda 0x0104              ;a0fd  ad 04 01     A = Workshop Code high byte
    sta 0x0337              ;a100  8d 37 03     Store as KWP1281 tx buffer byte 6: Workshop Code (high byte)

    lda 0x0105              ;a103  ad 05 01     A = Workshop Code low byte
    sta 0x0338              ;a106  8d 38 03     Store as KWP1281 tx buffer byte 7: Workshop Code (low byte)
    rts                     ;a109  60


;Called by KWP1281 0x2b Login
;Convert SAFE code binary number in KWP1281 rx buffer
;into a five digit decimal number in ASCII in 0x116-0x11a
sub_a10a:
    ;Push 0x44, 0x45
    lda 0x44                ;a10a  a5 44
    pha                     ;a10c  48
    lda 0x45                ;a10d  a5 45
    pha                     ;a10f  48

    ;Copy attempted SAFE code into 0x44-0x45 (read by sub_6be9)
    lda 0x0323              ;a110  ad 23 03     A = KWP1281 rx buffer byte 3: SAFE code (high byte)
    sta 0x45                ;a113  85 45
    lda 0x0324              ;a115  ad 24 03     A = KWP1281 rx buffer byte 4: SAFE code (low byte)
    sta 0x44                ;a118  85 44

    ;0x44 now contains attempted SAFE code in binary (low byte)
    ;0x45 now contains attempted SAFE code in binary (high byte)

    jsr sub_6be9            ;a11a  20 e9 6b     Convert binary number in 0x44-0x45 to decimal number in ASCII in 0x0116-0x11a

    ;Result of sub_6be9:
    ;  0x0116   Attempted SAFE code as a decimal number in ASCII (ten thousands place)
    ;  0x0117   Attempted SAFE code as a decimal number in ASCII (thousands place)
    ;  0x0118   Attempted SAFE code as a decimal number in ASCII (hundreds place)
    ;  0x0119   Attempted SAFE code as a decimal number in ASCII (tens place)
    ;  0x011a   Attempted SAFE code as a decimal number in ASCII (ones place)

    ;Pop 0x44, 0x45
    pla                     ;a11d  68
    sta 0x45                ;a11e  85 45
    pla                     ;a120  68
    sta 0x44                ;a121  85 44
    rts                     ;a123  60


sub_a124:
;Called after successful login
    jsr read_ee_coding      ;a124  20 40 a0     Read coding and workshop code from EEPROM, or defaults
                            ;                   Returns:
                            ;                     0x102 Soft coding high byte
                            ;                     0x103 Soft coding low byte
                            ;                     0x104 Workshop code high byte
                            ;                     0x105 Workshop code low byte
                            ;                     0x106 "EEPROM valid" flag byte (0=valid, 0xFF=invalid)

    ;Replace bit 0 in the Soft Coding low byte with bit 0 from
    ;KWP1281 rx buffer byte 5 (Unknown byte).  TODO: what does this do?

    lda 0x0103              ;a127  ad 03 01     A = Soft coding low byte
    and #0b11111110         ;a12a  29 fe        Clear bit 0 of existing soft coding low byte
    sta 0x0103              ;a12c  8d 03 01     Store soft coding low byte

    lda 0x0325              ;a12f  ad 25 03     A = uart rx buffer byte 5 (Unknown byte)
    and #0b00000001         ;a132  29 01        Mask to leave only bit 0
    ora 0x0103              ;a134  0d 03 01     A = Soft coding with bit 0 replaced with bit 0 from unknown byte
    sta 0x0103              ;a137  8d 03 01     Store soft coding low byte

    ;Set Workshop Code from KWP1281 RX Buffer bytes 6 & 7

    lda 0x0326              ;a13a  ad 26 03     A = uart rx buffer byte 6 (Workshop Code high byte (binary))
    sta 0x0104              ;a13d  8d 04 01     Store workshop code high byte

    lda 0x0327              ;a140  ad 27 03     A = uart rx buffer byte 7 (Workshop Code low byte (binary))
    sta 0x0105              ;a143  8d 05 01     Store workshop code low byte

    jsr write_ee_coding     ;a146  20 b1 a0     Write coding and workshop code to EEPROM
    rts                     ;a149  60


read_ee_date:
;Read date from EEPROM, or a default
;Called from sub_a84f (group reading: 0x50 advanced id 1)
;Returns 6 ASCII characters: DDMMYY in buffer at 0x0102
;If date in EEPROM is invalid, returns "??????"
;
    lda #0x0e               ;a14a  a9 0e
    sta 0x0101              ;a14c  8d 01 01     Store as EEPROM address

    lda #0x03               ;a14f  a9 03
    asl a                   ;a151  0a
    ora #0xa0               ;a152  09 a0
    sta 0x0100              ;a154  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;a157  a9 00
    sta 0x4c                ;a159  85 4c        Store as buffer pointer low byte
    lda #0x01               ;a15b  a9 01
    sta 0x4d                ;a15d  85 4d        Store as buffer pointer high byte

    ldm #0x02,0x4e          ;a15f  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x06,0x4f          ;a162  3c 06 4f     Number of I2C bytes to read = 6
    jsr sub_46e5_i2c_wr_rd  ;a165  20 e5 46     Perform an I2C write-then-read transaction

    lda 0x0102              ;a168  ad 02 01     A = first byte from EEPROM data (first char of day in ASCII)
    and #0b11001111         ;a16b  29 cf
    cmp #0x04               ;a16d  c9 04
    bcc lab_a17c            ;a16f  90 0b        Branch if first char of day is 0-3.  A valid day is
                            ;                     "00"-"31" so this probably means the date in the
                            ;                     EEPROM is valid.

    ;Date in EEPROM is not valid
    ;Return a default of "??????" instead

    ldx #0x10               ;a171  a2 10        XXX this is probably a bug.  Date is only 6 chars.
lab_a173_loop:
    lda default_date,x      ;a173  bd 78 ff
    sta 0x0102,x            ;a176  9d 02 01
    dex                     ;a179  ca
    bpl lab_a173_loop       ;a17a  10 f7

lab_a17c:
    rts                     ;a17c  60


read_ee_serial_num:
;Read serial number from EEPROM, or a default if none
;Returns 14-byte serial number like "VWZAZ3B0000000" in buffer at 0x0102
;Called from sub_a88c (group reading advanced id 2)
    lda #0x00               ;a17d  a9 00
    sta 0x0101              ;a17f  8d 01 01     Store as EEPROM address

    lda #0x03               ;a182  a9 03
    asl a                   ;a184  0a
    ora #0xa0               ;a185  09 a0
    sta 0x0100              ;a187  8d 00 01     Store as I2C control byte (address & direction)

    lda #0x00               ;a18a  a9 00
    sta 0x4c                ;a18c  85 4c        Store as buffer pointer low
    lda #0x01               ;a18e  a9 01
    sta 0x4d                ;a190  85 4d        Store as buffer pointer high

    ldm #0x02,0x4e          ;a192  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x0e,0x4f          ;a195  3c 0e 4f     Number of I2C bytes to read = 14
    jsr sub_46e5_i2c_wr_rd  ;a198  20 e5 46     Perform an I2C write-then-read transaction

    lda 0x0102              ;a19b  ad 02 01     A = first byte of serial number read from EEPROM
    cmp #'V                 ;a19e  c9 56        Is it a "V" as in "VWZAZ..."?
    beq lab_a1ad_rts        ;a1a0  f0 0b          Yes, serial number is valid, branch to RTS

    ;EEPROM serial number is invalid
    ;Fill buffer with default serial number of "VWZAZ3B0000000"
    ldx #0x0e               ;a1a2  a2 0e
lab_a1a4_loop:
    lda default_serial,x    ;a1a4  bd 6a ff     A = byte from "VWZAZ3B0000000"
    sta 0x0102,x            ;a1a7  9d 02 01
    dex                     ;a1aa  ca
    bpl lab_a1a4_loop       ;a1ab  10 f7

lab_a1ad_rts:
    rts                     ;a1ad  60


;KWP1281 0x00 Read Identification
kwp_00_read_id:
    lda 0x05b7              ;a1ae  ad b7 05
    cmp #0xff               ;a1b1  c9 ff
    bne lab_a1de_next       ;a1b3  d0 29

    ;0x05b7 = 0xff

    lda #0x00               ;a1b5  a9 00
    cmp 0x05b9              ;a1b7  cd b9 05
    beq lab_a1c7            ;a1ba  f0 0b

    ;0x05b9 = 0x00

    sta 0x05b9              ;a1bc  8d b9 05
    jsr sub_7b65            ;a1bf  20 65 7b
    jsr sub_a319            ;a1c2  20 19 a3
    seb 5,P0                ;a1c5  af 00

lab_a1c7:
    ;Send id block 1/4 with "1J0035186D  " (Block length=0x0F)
    ;
    ;Response block:
    ;  0x0F Block length                  0x0331
    ;   xx  Block counter                 0x0332
    ;  0xF6 Block title (ascii/data)      0x0333
    ;  0x31 "1"                           0x0334
    ;  0x4a "J"                           0x0335
    ;  0x30 "0"                           0x0336
    ;  0x30 "0"                           0x0337
    ;  0x33 "3"                           0x0338
    ;  0x35 "5"                           0x0339
    ;  0x31 "1"                           0x033a
    ;  0x38 "8"                           0x033b
    ;  0x30 "6"                           0x033c
    ;  0x42 "D"                           0x033d
    ;  0x20 " "                           0x033e
    ;  0x20 " "                           0x033f
    ;  0x03 Block end                     0x0340

    lda #0x0f               ;a1c7  a9 0f        A = block length
    sta 0x0331              ;a1c9  8d 31 03     Store in KWP1281 tx buffer: block length

    lda #0xf6               ;a1cc  a9 f6        A = block title 0xF6 (Response with ASCII Data/ID code)
    sta 0x0333              ;a1ce  8d 33 03     Store in KWP1281 tx buffer: block title

    jsr read_ee_part_num    ;a1d1  20 a7 9f     Read part number from EEPROM, or a default
    jsr copy_part_num_to_tx ;a1d4  20 d6 9f     Copy part number read from EEPROM to KWP1281 tx buffer

    lda #0x04               ;a1d7  a9 04
    sta 0x05b7              ;a1d9  8d b7 05
    bra lab_a22f_done       ;a1dc  80 51

lab_a1de_next:
    cmp #0x01               ;a1de  c9 01
    bne lab_a1f9_next       ;a1e0  d0 17

    ;0x05b7 = 0x01

    ;Send id block 4/4 with coding (Block length=0x08)
    ;
    ;Response block:
    ;  0x08 Block length                  0x0331
    ;   xx  Block counter                 0x0332
    ;  0xF6 Block title (ascii/data)      0x0333
    ;  0x00 Unknown, always 0             0x0334
    ;   xx  Soft Coding (high byte)       0x0335
    ;   xx  Soft Coding (low byte)        0x0336
    ;   xx  Workshop Code (high byte)     0x0337
    ;   xx  Workshop Code (low byte)      0x0338
    ;  0x03 Block end                     0x0339
    ;
    ;The format of the coding and workshop code is the same as the
    ;recoding request block.  See kwp_10_recoding for examples.

    lda #0x08               ;a1e2  a9 08        A = block length
    sta 0x0331              ;a1e4  8d 31 03     Store in KWP1281 tx buffer: block length

    lda #0xf6               ;a1e7  a9 f6        A = block title 0xF6 (Response with ASCII Data/ID code)
    sta 0x0333              ;a1e9  8d 33 03     Store in KWP1281 tx buffer: block title

    lda #0x00               ;a1ec  a9 00        A = 0
    sta 0x0334              ;a1ee  8d 34 03     Store as KWP1281 tx buffer: unknown byte

    jsr sub_9fe2_coding     ;a1f1  20 e2 9f     TODO coding related, reads coding, maybe activates new coding
    jsr copy_coding_to_tx   ;a1f4  20 f1 a0     Copy coding and workshop read from EEPROM to KWP1281 tx buffer
    bra lab_a22f_done       ;a1f7  80 36

lab_a1f9_next:
    cmp #0x02               ;a1f9  c9 02
    bne lab_a20a_next       ;a1fb  d0 0d

    ;0x05b7 = 0x02

    ;Send id block 3/4 with "       0004" (Block length=0x0F)
    ;
    ;Response block:
    ;  0x0F Block length                  0x0331
    ;   xx  Block counter                 0x0332
    ;  0xF6 Block title (ascii/data)      0x0333
    ;  0x20 " "                           0x0334
    ;  0x20 " "                           0x0335
    ;  0x20 " "                           0x0336
    ;  0x20 " "                           0x0337
    ;  0x20 " "                           0x0338
    ;  0x20 " "                           0x0339
    ;  0x20 " "                           0x033a
    ;  0x20 " "                           0x033b
    ;  0x44 "0"                           0x033c
    ;  0x45 "0"                           0x033d
    ;  0x32 "0"                           0x033e
    ;  0x20 "4"                           0x033f
    ;  0x03 Block end                     0x0340

    ldx #0x0e               ;a1fd  a2 0e
lab_a1ff_loop:
    lda id_0004,x           ;a1ff  bd 5b ff     A = byte from 0x0f,0,0xf9,"        0004"
    sta 0x0331,x            ;a202  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a205  ca
    bpl lab_a1ff_loop       ;a206  10 f7
    bra lab_a22f_done       ;a208  80 25

lab_a20a_next:
    cmp #0x03               ;a20a  c9 03

    ;0x05b7 = 0x03

    ;Send id block 2/4 with " Radio YD5  " (Block length=0x0F)
    ;
    ;Response block:
    ;  0x0F Block length                  0x0331
    ;   xx  Block counter                 0x0332
    ;  0xF6 Block title (ascii/data)      0x0333
    ;  0x20 " "                           0x0334
    ;  0x52 "R"                           0x0335
    ;  0x61 "a"                           0x0336
    ;  0x64 "d"                           0x0337
    ;  0x69 "i"                           0x0338
    ;  0x6f "o"                           0x0339
    ;  0x20 " "                           0x033a
    ;  0x44 "Y"                           0x033b
    ;  0x45 "D"                           0x033c
    ;  0x32 "5"                           0x033d
    ;  0x20 " "                           0x033e
    ;  0x20 " "                           0x033f
    ;  0x03 Block end                     0x0340

    ldx #0x0e               ;a20c  a2 0e
lab_a20e_loop:
    lda id_radio,x          ;a20e  bd 4c ff     A = byte from 0x0f,0,0xf6," Radio      "
    sta 0x0331,x            ;a211  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a214  ca
    bpl lab_a20e_loop       ;a215  10 f7

    lda advanced_id+4       ;a217  ad 82 ff     A = "Y" from "YD5"
    sta 0x033b              ;a21a  8d 3b 03
    lda advanced_id+5       ;a21d  ad 83 ff     A = "D" from "YD5"
    sta 0x033c              ;a220  8d 3c 03
    lda advanced_id+6       ;a223  ad 84 ff     A = "5" from "YD5"
    sta 0x033d              ;a226  8d 3d 03

    bbs 5,0xf4,lab_a22f_done;a229  a7 f4 03
    jsr sub_9ed9            ;a22c  20 d9 9e

lab_a22f_done:
    dec 0x05b7              ;a22f  ce b7 05
    jsr kwp_send_tx_buf     ;a232  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;a235  60

;KWP1281 0x03 Read ROM/EEPROM
;
;Request block format:
;  0x06 Block length                    0x0320
;  0x3E Block counter                   0x0321
;  0x03 Block title (0x03)              0x0322
;  0x00 Number of bytes to read         0x0323
;  0x00 Address high                    0x0324
;  0x00 Address low                     0x0325
;  0x03 Block end                       0x0326
;
kwp_03_read_rom:
    lda 0x0324              ;a236  ad 24 03     A = address high

    cmp #0x20               ;a239  c9 20        Compare address high to 0x20 (ROM starts at 0x2000)
    bcc lab_a294            ;a23b  90 57        Send NAK response block if address high < 0x20

    cmp #0xff               ;a23d  c9 ff        Compare address high to 0xFF (XOR key starts at 0xFF00)
    bcs lab_a294            ;a23f  b0 53        Send NAK response block if address high >= 0xFF

    ldx #0xfd               ;a241  a2 fd        X = block title 0xFD: Response to Read ROM
    stx 0x4e                ;a243  86 4e        Encryption selector = 0xFD (bit 7 set enables encryption)
    bra lab_a253            ;a245  80 0c        Branch to memory read common code

;KWP1281 0x01 Read RAM
;
;Request block format:
;  0x06 Block length                    0x0320
;  0x3E Block counter                   0x0321
;  0x01 Block title (0x01)              0x0322
;  0x00 Number of bytes to read         0x0323
;  0x00 Address high                    0x0324
;  0x00 Address low                     0x0325
;  0x03 Block end                       0x0326
;
kwp_01_read_ram:
    ldm #0x00,0x4e          ;a247  3c 00 4e     Encryption selector = 0 (bit 7 clear disables encryption)
    ldx #0xfe               ;a24a  a2 fe        X = block title 0xFE: Response to Read RAM

    lda 0x0324              ;a24c  ad 24 03     A = address high
    cmp #0x08               ;a24f  c9 08        Compare to 0x08 (RAM ends at 0x07FF)
    bcs lab_a294            ;a251  b0 41        Send NAK response block if address high >= 0x08

    ;Fall through into memory read common code

;routine common to read rom/eeprom and read ram
lab_a253:
    bbc 1,0xe7,lab_a294     ;a253  37 e7 3e     if not authorized, branch to Send NAK response block
    sta 0x4d                ;a256  85 4d        Store address high as pointer high byte
    stx 0x0333              ;a258  8e 33 03     Store X in KWP1281 tx buffer: block title
    ldx 0x0320              ;a25b  ae 20 03     X = block length
    cpx #0x07               ;a25e  e0 07        Compare to 7 (expected block length = 6)
    bcs lab_a294            ;a260  b0 32        Send NAK response block if length >= 7
    lda 0x0323              ;a262  ad 23 03     A = number of bytes to read
    beq lab_a294            ;a265  f0 2d        Send NAK response block if number = 0
    cmp #0x29               ;a267  c9 29        Compare to 41
    bcs lab_a294            ;a269  b0 29        Send NAK response block if number >= 41

    ;number of bytes to read is between 1-40

    clc                     ;a26b  18
    adc #0x03               ;a26c  69 03        Add 3 for response block title, length, end
    sta 0x0331              ;a26e  8d 31 03     Store in tx buffer: block length

    ldx 0x0325              ;a271  ae 25 03     X = address low (also initial index into XOR key)
    stx 0x4c                ;a274  86 4c        Store address low as pointer low byte

    ldy #0x00               ;a276  a0 00
lab_a278:
    lda [0x4c],y            ;a278  b1 4c        Read memory at pointer
    bit 0x4e                ;a27a  24 4e        Set flags based on encryption selector
    bpl lab_a282            ;a27c  10 04        Skip encryption if bit 7 of encryption selector = 0

    ;encryption selector bit 7 = 1

    ;X still contains the address low byte, which is used
    ;as the initial index to the 256-byte XOR key at 0xFF00

    eor encryption_key,x    ;a27e  5d 00 ff     Encrypt it
    inx                     ;a281  e8

lab_a282:
    sta 0x0334,y            ;a282  99 34 03
    iny                     ;a285  c8
    cpy 0x0323              ;a286  cc 23 03
    bcc lab_a278            ;a289  90 ed
    lda #0x00               ;a28b  a9 00
    sta 0x05b7              ;a28d  8d b7 05
    jsr kwp_send_tx_buf     ;a290  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;a293  60

lab_a294:
    jsr kwp_send_nak        ;a294  20 61 b4     Send NAK response block
    rts                     ;a297  60

;KWP1281 0x02 Write RAM
kwp_02_write_ram:
    bbc 1,0xe7,lab_a294     ;a298  37 e7 f9     if not authorized, branch to Send NAK response block
    jsr kwp_send_nak        ;a29b  20 61 b4     Send NAK response block
    rts                     ;a29e  60

;KWP1281 0x04 Output Tests
kwp_04_output_tests:
    lda 0x05b9              ;a29f  ad b9 05
    cmp #0x00               ;a2a2  c9 00
    bne lab_a2b8_next       ;a2a4  d0 12

    ;0x05b9 = 0

    lda #0x03               ;a2a6  a9 03
    sta 0x0334              ;a2a8  8d 34 03
    lda #0x53               ;a2ab  a9 53
    sta 0x0335              ;a2ad  8d 35 03
    lda #0x03               ;a2b0  a9 03
    sta 0x05b9              ;a2b2  8d b9 05
    jmp lab_a2f0_done       ;a2b5  4c f0 a2

lab_a2b8_next:
    cmp #0x03               ;a2b8  c9 03
    bne lab_a2cd_next       ;a2ba  d0 11

    ;0x05b9 = 3

    lda #0x03               ;a2bc  a9 03
    sta 0x0334              ;a2be  8d 34 03
    lda #0x56               ;a2c1  a9 56
    sta 0x0335              ;a2c3  8d 35 03
    lda #0x02               ;a2c6  a9 02
    sta 0x05b9              ;a2c8  8d b9 05
    bra lab_a2f0_done       ;a2cb  80 23

lab_a2cd_next:
    cmp #0x02               ;a2cd  c9 02
    bne lab_a2e2_next       ;a2cf  d0 11

    ;0x05b9 = 2

    lda #0x04               ;a2d1  a9 04
    sta 0x0334              ;a2d3  8d 34 03
    lda #0xab               ;a2d6  a9 ab
    sta 0x0335              ;a2d8  8d 35 03
    lda #0x01               ;a2db  a9 01
    sta 0x05b9              ;a2dd  8d b9 05
    bra lab_a2f0_done       ;a2e0  80 0e

lab_a2e2_next:
    cmp #0x01               ;a2e2  c9 01
    bne lab_a2f0_done       ;a2e4  d0 0a

    ;0x05b9 = 1

    lda #0x00               ;a2e6  a9 00
    sta 0x05b9              ;a2e8  8d b9 05
    jsr kwp_09_ack          ;a2eb  20 5b b4     Send ACK response block
    bra lab_a302_rts        ;a2ee  80 12

lab_a2f0_done:
    lda #0x05               ;a2f0  a9 05
    sta 0x0331              ;a2f2  8d 31 03     Store in KWP1281 tx buffer: block length
    lda #0xf5               ;a2f5  a9 f5        A = block title 0xF5 (Response to Actuator/Output Tests)
    sta 0x0333              ;a2f7  8d 33 03     Store in KWP1281 tx buffer: block title
    lda #0x00               ;a2fa  a9 00
    sta 0x05b7              ;a2fc  8d b7 05
    jsr kwp_send_tx_buf     ;a2ff  20 9f b6     Send the block in the KWP1281 tx buffer

lab_a302_rts:
    rts                     ;a302  60

sub_a303:
    lda 0x05b9              ;a303  ad b9 05
    cmp #0x02               ;a306  c9 02
    bne lab_a30f            ;a308  d0 05
    jsr sub_a313            ;a30a  20 13 a3
    bra lab_a312            ;a30d  80 03

lab_a30f:
    jsr sub_a319            ;a30f  20 19 a3

lab_a312:
    rts                     ;a312  60

sub_a313:
    ldy #0x33               ;a313  a0 33
    lda #0xa3               ;a315  a9 a3
    bra lab_a31d            ;a317  80 04

sub_a319:
    ldy #0x43               ;a319  a0 43
    lda #0xa3               ;a31b  a9 a3

lab_a31d:
    sty 0x40                ;a31d  84 40
    sta 0x41                ;a31f  85 41
    ldy #0x0f               ;a321  a0 0f

lab_a323:
    lda [0x40],y            ;a323  b1 40
    sta 0x011c,y            ;a325  99 1c 01
    dey                     ;a328  88
    bpl lab_a323            ;a329  10 f8
    seb 7,0x58              ;a32b  ef 58
    jsr sub_becf            ;a32d  20 cf be
    clb 7,0x58              ;a330  ff 58
    rts                     ;a332  60

    .byte 0x44              ;a333  44          DATA 0x44 'D'
    .byte 0x49              ;a334  49          DATA 0x49 'I'
    .byte 0x53              ;a335  53          DATA 0x53 'S'
    .byte 0x50              ;a336  50          DATA 0x50 'P'
    .byte 0x4c              ;a337  4c          DATA 0x4c 'L'
    .byte 0x41              ;a338  41          DATA 0x41 'A'
    .byte 0x59              ;a339  59          DATA 0x59 'Y'
    .byte 0x20              ;a33a  20          DATA 0x20 ' '
    .byte 0x20              ;a33b  20          DATA 0x20 ' '
    .byte 0x20              ;a33c  20          DATA 0x20 ' '
    .byte 0x54              ;a33d  54          DATA 0x54 'T'
    .byte 0x45              ;a33e  45          DATA 0x45 'E'
    .byte 0x53              ;a33f  53          DATA 0x53 'S'
    .byte 0x54              ;a340  54          DATA 0x54 'T'
    .byte 0x20              ;a341  20          DATA 0x20 ' '
    .byte 0x20              ;a342  20          DATA 0x20 ' '
    .byte 0x20              ;a343  20          DATA 0x20 ' '
    .byte 0x20              ;a344  20          DATA 0x20 ' '
    .byte 0x20              ;a345  20          DATA 0x20 ' '
    .byte 0x20              ;a346  20          DATA 0x20 ' '
    .byte 0x20              ;a347  20          DATA 0x20 ' '
    .byte 0x20              ;a348  20          DATA 0x20 ' '
    .byte 0x20              ;a349  20          DATA 0x20 ' '
    .byte 0x20              ;a34a  20          DATA 0x20 ' '
    .byte 0x20              ;a34b  20          DATA 0x20 ' '
    .byte 0x20              ;a34c  20          DATA 0x20 ' '
    .byte 0x44              ;a34d  44          DATA 0x44 'D'
    .byte 0x49              ;a34e  49          DATA 0x49 'I'
    .byte 0x41              ;a34f  41          DATA 0x41 'A'
    .byte 0x47              ;a350  47          DATA 0x47 'G'
    .byte 0x2e              ;a351  2e          DATA 0x2e '.'
    .byte 0x20              ;a352  20          DATA 0x20 ' '

;KWP1281 0x05 Clear Faults
kwp_05_clear_faults:
    ldx #0x04               ;a353  a2 04

lab_a355:
    lda #0x00               ;a355  a9 00
    cpx #0x0b               ;a357  e0 0b
    beq lab_a361            ;a359  f0 06
    sta 0x0290,x            ;a35b  9d 90 02
    sta 0x02a0,x            ;a35e  9d a0 02

lab_a361:
    inx                     ;a361  e8
    cpx #0x0c               ;a362  e0 0c
    bcc lab_a355            ;a364  90 ef
    ldx #0x03               ;a366  a2 03

lab_a368:
    lda 0x02a0,x            ;a368  bd a0 02
    cmp #0x32               ;a36b  c9 32
    bcc lab_a377            ;a36d  90 08
    lda 0x02f8,x            ;a36f  bd f8 02
    sta 0x0290,x            ;a372  9d 90 02
    bra lab_a37f            ;a375  80 08

lab_a377:
    lda #0x00               ;a377  a9 00
    sta 0x0290,x            ;a379  9d 90 02
    sta 0x02a0,x            ;a37c  9d a0 02

lab_a37f:
    dex                     ;a37f  ca
    bpl lab_a368            ;a380  10 e6
    lda 0x05c7              ;a382  ad c7 05
    bbc 6,a,lab_a38f        ;a385  d3 08
    bbs 1,0xef,lab_a38f     ;a387  27 ef 05
    ldx #0x07               ;a38a  a2 07
    jsr sub_a3c7            ;a38c  20 c7 a3

lab_a38f:
    lda 0x05c7              ;a38f  ad c7 05
    bbc 5,a,lab_a39c        ;a392  b3 08
    bbs 4,0xef,lab_a39c     ;a394  87 ef 05
    ldx #0x0a               ;a397  a2 0a
    jsr sub_a3c7            ;a399  20 c7 a3

lab_a39c:
    lda #0x06               ;a39c  a9 06
    jsr sub_26d8            ;a39e  20 d8 26
    cmp #0x59               ;a3a1  c9 59
    bcs lab_a3aa            ;a3a3  b0 05
    ldx #0x06               ;a3a5  a2 06
    jsr sub_a3c7            ;a3a7  20 c7 a3

lab_a3aa:
    jsr sub_855f            ;a3aa  20 5f 85     TODO writes unknown data to an unknown I2C device
    lda #0x07               ;a3ad  a9 07
    sta 0x05b3              ;a3af  8d b3 05
    lda #0xc8               ;a3b2  a9 c8
    sta 0x05bb              ;a3b4  8d bb 05
    ldy #0x09               ;a3b7  a0 09
    sty 0x01af              ;a3b9  8c af 01
    ldy #0x2c               ;a3bc  a0 2c
    jsr sub_3300            ;a3be  20 00 33
    lda #0x00               ;a3c1  a9 00
    sta 0x05b7              ;a3c3  8d b7 05
    rts                     ;a3c6  60

sub_a3c7:
    lda #0x01               ;a3c7  a9 01
    sta 0x0290,x            ;a3c9  9d 90 02
    lda #0x32               ;a3cc  a9 32
    sta 0x02a0,x            ;a3ce  9d a0 02
    rts                     ;a3d1  60

    .byte 0x20              ;a3d2  20          DATA 0x20 ' '
    .byte 0x0f              ;a3d3  0f          DATA 0x0f
    .byte 0xb4              ;a3d4  b4          DATA 0xb4
    .byte 0x60              ;a3d5  60          DATA 0x60 '`'

;KWP1281 0x07 Read Faults
kwp_07_read_faults:
    lda 0x05b7              ;a3d6  ad b7 05
    cmp #0xff               ;a3d9  c9 ff
    bne lab_a3e5            ;a3db  d0 08
    lda #0x00               ;a3dd  a9 00
    sta 0x02af              ;a3df  8d af 02
    sta 0x05b0              ;a3e2  8d b0 05

lab_a3e5:
    ldy #0x00               ;a3e5  a0 00

lab_a3e7:
    lda 0x02af              ;a3e7  ad af 02
    asl a                   ;a3ea  0a
    asl a                   ;a3eb  0a
    tax                     ;a3ec  aa
    lda mem_abc1,x          ;a3ed  bd c1 ab
    sta 0x0335,y            ;a3f0  99 35 03
    lda mem_abc1+1,x        ;a3f3  bd c2 ab
    sta 0x0334,y            ;a3f6  99 34 03
    lda mem_abc1+2,x        ;a3f9  bd c3 ab
    sta 0x40                ;a3fc  85 40
    lda mem_abc1+3,x        ;a3fe  bd c4 ab
    sta 0x41                ;a401  85 41
    sty 0x028a              ;a403  8c 8a 02
    jsr [0x40]              ;a406  02 40
    ldy 0x028a              ;a408  ac 8a 02
    sta 0x0336,y            ;a40b  99 36 03
    cmp #0xff               ;a40e  c9 ff
    beq lab_a418            ;a410  f0 06
    inc 0x05b0              ;a412  ee b0 05
    iny                     ;a415  c8
    iny                     ;a416  c8
    iny                     ;a417  c8

lab_a418:
    inc 0x02af              ;a418  ee af 02
    cpy #0x0c               ;a41b  c0 0c
    bcs lab_a426            ;a41d  b0 07
    lda 0x02af              ;a41f  ad af 02
    cmp #0x0d               ;a422  c9 0d
    bcc lab_a3e7            ;a424  90 c1

lab_a426:
    lda 0x05b0              ;a426  ad b0 05
    beq lab_a433            ;a429  f0 08
    cpy #0x00               ;a42b  c0 00
    bne lab_a442            ;a42d  d0 13
    lda #0x09               ;a42f  a9 09        A = block title 0x09 (Acknowledge)
    bra lab_a444            ;a431  80 11

lab_a433:
    lda #0xff               ;a433  a9 ff
    sta 0x0335              ;a435  8d 35 03
    sta 0x0334              ;a438  8d 34 03
    lda #0x88               ;a43b  a9 88
    sta 0x0336              ;a43d  8d 36 03
    ldy #0x03               ;a440  a0 03

lab_a442:
    lda #0xfc               ;a442  a9 fc        A = block title 0xFC (Response to Read or Clear Faults)

lab_a444:
    sta 0x0333              ;a444  8d 33 03     Store in KWP1281 tx buffer: block title
    iny                     ;a447  c8
    iny                     ;a448  c8
    iny                     ;a449  c8
    sty 0x0331              ;a44a  8c 31 03     Store in KWP1281 tx buffer: block length
    ldx #0x01               ;a44d  a2 01
    lda 0x02af              ;a44f  ad af 02
    cmp #0x0d               ;a452  c9 0d
    bcc lab_a458            ;a454  90 02
    ldx #0x00               ;a456  a2 00

lab_a458:
    stx 0x05b7              ;a458  8e b7 05
    jsr kwp_send_tx_buf     ;a45b  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;a45e  60

;KWP1281 0x08 Single Reading
kwp_08_single_meas:
    jsr kwp_send_nak        ;a45f  20 61 b4    Send NAK response block
    rts                     ;a462  60

    .byte 0x20              ;a463  20          DATA 0x20 ' '
    .byte 0x5b              ;a464  5b          DATA 0x5b '['
    .byte 0xb4              ;a465  b4          DATA 0xb4
    .byte 0x60              ;a466  60          DATA 0x60 '`'

;KWP1281 0x0C Write EEPROM
kwp_0c_write_eeprom:
    jsr kwp_send_nak        ;a467  20 61 b4     Send NAK response block
    rts                     ;a46a  60

;KWP1281 0x10 Recoding
;
;The scan tool presents the soft coding to the user as a 15-bit number
;in decimal (00000-32767).  The scan tool multiplies this number by 2
;and then sends it in bytes 3 (high) and 4 (low).  The scan tool sends
;the workshop code directly in bytes 5 (high) and 6 (low).
;
;Example:
;  Soft Coding 01404 (decimal):
;    hex(1404 * 2) => 0x0AF8 => request byte 3 = 0x0A (high)
;                            => request byte 4 = 0xF8 (low)
;
;  Workshop Code 12345 (decimal):
;    hex(12345)    => 0x3039 => request byte 5 = 0x30 (high)
;                            => request byte 6 = 0x39 (low)
;
;Request block:
;  0x04 Block length                      0x0320
;   xx  Block counter                     0x0321
;  0x10 Block title                       0x0323
;   xx  Soft Coding high byte (binary)    0x0324
;   xx  Soft Coding low byte (binary)     0x0325
;   xx  Workshop Code high byte (binary)  0x0326
;   xx  Workshop Code low byte (binary)   0x0327
;  0x03 Block end                         0x0328
;
;After recoding, regardless of success or failure, the response for
;KWP1281 request block title 0x00 ID code request/ECU info is returned.
;This is a multi-block response of 4 id blocks where the id block 4/4
;contains the coding and workshop code.
;
kwp_10_recoding:
    jsr kwp_write_ee_coding   ;a46b  20 76 a0     Write new coding from KWP1281 to EEPROM if it is valid
    jsr sub_9fe2_coding       ;a46e  20 e2 9f     TODO coding related, reads coding, maybe activates new coding
    jsr sub_855f              ;a471  20 5f 85     TODO writes unknown data to an unknown I2C device
    lda #0x00                 ;a474  a9 00
    sta 0x05bd                ;a476  8d bd 05
    sta 0x05bc                ;a479  8d bc 05
    lda #0x00                 ;a47c  a9 00
    sta 0x05b3                ;a47e  8d b3 05
    jsr kwp_00_read_id        ;a481  20 ae a1
    rts                       ;a484  60

;KWP1281 0x11 Basic Setting Read
kwp_11_basic_read_nak:
    jsr kwp_send_nak        ;a485  20 61 b4     Send NAK response block
    rts                     ;a488  60

;KWP1281 0x12 ?
kwp_12_unknown_nak:
    jsr kwp_send_nak        ;a489  20 61 b4     Send NAK response block
    rts                     ;a48c  60

;KWP1281 0x19 Read EEPROM
;
;Returns the unencrypted contents of the two 24C08 EEPROMs (1K each).
;Responds with title 0xEF (unlike Premium 4 and 5 which respond with 0xFD).
;
;The two 1K EPROMs are presented as a single 0x0000-0x07FF (2K)
;address range.  Only this range may be read.  Also, some addresses
;are filtered from reading.  See sub_5ef7_read_eeprom for all the details.
;
;0x0000-0x03FF (first 1K)
;  "Right side" 24C08 EEPROM (closest to the antenna)
;  EEPROM addresses 0x009-0x00F are filtered out (zeroed).  The
;  filtered range includes the SAFE code at 0x00C-0x00F.
;
;0x0400-0x07FF (second 1K)
;  "Left side" 24C08 EEPROM
;  Identical to the real EEPROM contents
;
;Request block format:
;  0x06 Block length                0x0320
;  0x?? Block counter               0x0321
;  0x19 Block title (0x19)          0x0322
;  0x?? Number of bytes to read     0x0323
;  0x?? Address high                0x0324
;  0x?? Address low                 0x0325
;  0x03 Block end                   0x0326
;
;Response block format:
;  0x?? Block length                0x0331
;  0x?? Block counter               0x0332
;  0xEF Block title (0xEF)          0x0333
;  ... data bytes ...               0x0334
;  0x03 Block end (0x03)
;
kwp_19_read_eeprom:
    bbc 1,0xe7,lab_a4cb_nak ;a48d  37 e7 3b     if not authorized, branch to Send NAK response block
    clb 6,0xe9              ;a490  df e9        Clear bit 6 = Enable EEPROM filtering

    lda 0x0323              ;a492  ad 23 03     A = number of bytes to read
    beq lab_a4cb_nak        ;a495  f0 34        Send NAK response block if number = 0
    cmp #0x21               ;a497  c9 21        Compare to 41
    bcs lab_a4cb_nak        ;a499  b0 30        Send NAK response block if number >= 41

    ;At this point we need to move some data around in the KWP1281 rx buffer.  This same buffer
    ;memory is also used for TechniSat protocol requests.  We make the buffer look a little
    ;more like a TechniSat protocol request, since we call sub_5ef7_read_eeprom and it is
    ;actually a TechniSat protocol function.

    ldx 0x0325              ;a49b  ae 25 03     X = EEPROM address low
    stx 0x0323              ;a49e  8e 23 03     Store X as TechniSat protocol command 0x48 request param 0: eeprom address low
    sta 0x0325              ;a4a1  8d 25 03     Store A as TechniSat protocol command 0x48 request param 2: number of bytes to read

    ;Now the receive buffer looks more like a TechniSat protocol command 0x48 request:
    ;
    ;  number of parameters                0x321   don't care
    ;  command (0x48 = read eeprom)        0x322   don't care
    ;  param 0: eeprom address low         0x323   populated from KWP1281 request
    ;  param 1: eeprom address high        0x324   populated from KWP1281 request
    ;  param 2: number of bytes to read    0x325   populated from KWP1281 request
    ;  checksum                            0x326   don't care

    ;A still contains number of bytes to read
    clc                     ;a4a4  18
    adc #0x03               ;a4a5  69 03        Add 3 for block counter, block title, block end
    sta 0x0331              ;a4a7  8d 31 03     Store in KWP1281 tx buffer: block length

    jsr sub_5ef7_read_eeprom;a4aa  20 f7 5e     Read from EEPROM with some addresses filtered
    bcs lab_a4cb_nak        ;a4ad  b0 1c        If read from EEPROM failed, Send NAK response block

    ldy #0xef               ;a4af  a0 ef        Y = block title 0xEF (Read EEPROM Response)
    sty 0x0333              ;a4b1  8c 33 03     Store in KWP1281 tx buffer: block title

    ldy #0x00               ;a4b4  a0 00
lab_a4b6_loop:
    lda 0x0102,y            ;a4b6  b9 02 01     Read data byte
    sta 0x0334,y            ;a4b9  99 34 03     Copy it into KWP1281 tx buffer
    iny                     ;a4bc  c8
    cpy 0x0325              ;a4bd  cc 25 03     Compare to number of bytes to read
    bcc lab_a4b6_loop       ;a4c0  90 f4        Keep going until all bytes are copied

    lda #0x00               ;a4c2  a9 00
    sta 0x05b7              ;a4c4  8d b7 05
    jsr kwp_send_tx_buf     ;a4c7  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;a4ca  60

lab_a4cb_nak:
    jsr kwp_send_nak        ;a4cb  20 61 b4     Send NAK response block
    rts                     ;a4ce  60

;KWP1281 0x1A Write EEPROM
;
;This implementation is unreachable because the routine begins with an
;unconditional branch to send NAK.  This code was written and then disabled.
;It is still possible to write the EEPROM using the TechniSat protocol
;command 0x49 on address 0x7C.
;
;Request block format:
;  0x06 Block length                  0x0320
;  0x?? Block counter                 0x0321
;  0x1A Block title (0x1A)            0x0322
;  0x?? Number of bytes to write      0x0323    Must always be 1
;  0x?? Address high                  0x0324
;  0x?? Address low                   0x0325
;  0x?? Data byte to write            0x0326
;  0x03 Block end                     0x0327
;
;Response block format:
;  0x07 Block length (7)              0x0331
;  0x?? Block counter                 0x0332
;  0xF9 Block title (0xF9)            0x0333
;  0x?? Number of bytes written       0x0334    Always 1, even on failure
;  0x?? Address high                  0x0335
;  0x?? Address low                   0x0336
;  0x?? Status (0=success, 1=failure) 0x0337
;  0x03 Block end (0x03)              0x0338
;
kwp_1a_write_eeprom:
    bra lab_a4cb_nak        ;a4cf  80 fa        unconditionally branch to Send NAK response block

    bbc 1,0xe7,lab_a4cb_nak ;a4d1  37 e7 f7     if not authorized, branch to Send NAK response block
    clb 6,0xe9              ;a4d4  df e9        Clear bit 6 = Enable EEPROM filtering

    ;Check that the number of bytes to write is exactly 1
    lda 0x0323              ;a4d6  ad 23 03     A = number of bytes to write
    beq lab_a4cb_nak        ;a4d9  f0 f0        Send NAK response block if number = 0
    cmp #0x02               ;a4db  c9 02        Compare to 2
    bcs lab_a4cb_nak        ;a4dd  b0 ec        Send NAK response block if number >= 2

    ;At this point we need to move some data around in the KWP1281 rx buffer.  This same buffer
    ;memory is also used for TechniSat protocol requests.  We make the buffer look a little
    ;more like a TechniSat protocol request, since we call sub_5ef7_writ_eeprom and it is
    ;actually a TechniSat protocol function.

    ldx 0x0325              ;a4df  ae 25 03     X = EEPROM address low
    stx 0x0323              ;a4e2  8e 23 03     Store X as TechniSat protocol command 0x49 request param 0: eeprom address low
    stx 0x0336              ;a4e5  8e 36 03     Store as KWP1281 tx buffer: EEPROM address low
    ldx 0x0326              ;a4e8  ae 26 03     X = data byte to write
    stx 0x0325              ;a4eb  8e 25 03     Store X as TechniSat protocol command 0x49 request param 2: data byte

    ;A still contains number of bytes to write (always = 1)
    sta 0x0334              ;a4ee  8d 34 03     Store in KWP1281 tx buffer: number of bytes written (always = 1)
    inc a                   ;a4f1  3a           +1 for TechniSat protocol command 0x49 param 0: eeprom address low
    inc a                   ;a4f2  3a           +1 for TechniSat protocol command 0x49 param 1: eeprom adddress high
    sta 0x0321              ;a4f3  8d 21 03     Store as TechniSat protocol command 0x49 number of parameters

    ;Now the receive buffer looks more like a TechniSat protocol command 0x49 request:
    ;  number of parameters                0x321    populated from KWP1281 request
    ;  command (0x49 = write eeprom)       0x322    don't care
    ;  param 0: eeprom address low         0x323    populated from KWP1281 request
    ;  param 1: eeprom address high        0x324    populated from KWP1281 request
    ;  param 2+:  ... data bytes ...       0x325    populated from KWP1281 request
    ;  checksum                            0x326    don't care

    lda #0x07               ;a4f6  a9 07        A = 7 (block length of resposne)
    sta 0x0331              ;a4f8  8d 31 03     Store in KWP1281 tx buffer: block length

    jsr sub_5ef7_writ_eeprom;a4fb  20 59 5f     Write to the EEPROM with some addresses filtered

    ldy #0xf9               ;a4fe  a0 f9        A = KWP1281 Block title 0xF9 (Write EEPROM response)
    sty 0x0333              ;a500  8c 33 03     Store in KWP1281 tx buffer: block title

    lda 0x0324              ;a503  ad 24 03     A = EEPROM address high
    sta 0x0335              ;a506  8d 35 03     Store in KWP1281 tx buffer: EEPROM address high

    lda 0x0344              ;a509  ad 44 03     A = TechniSat protocol status byte (set by sub_5ef7_writ_eeprom)
    beq lab_a510            ;a50c  f0 02        Branch if status byte = 0 (success)

    ;EEPROM write failed
    lda #0x01               ;a50e  a9 01        A = 1

lab_a510:
    sta 0x0337              ;a510  8d 37 03     Store write status in KWP1281 tx buffer

    lda #0x00               ;a513  a9 00
    sta 0x05b7              ;a515  8d b7 05
    jsr kwp_send_tx_buf     ;a518  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;a51b  60

;KWP1281 0x1B Custom Usage
;nak: custom usage
kwp_1b_unknown_nak:
    jsr kwp_send_nak        ;a51c  20 61 b4     Send NAK response block
    rts                     ;a51f  60

;KWP1281 0x21 Adaptation Read
;nak: adaptation read
kwp_21_adp_read_nak:
    jsr kwp_send_nak        ;a520  20 61 b4     Send NAK response block
    rts                     ;a523  60

;KWP1281 0x22 Adaptation Transfer
;nak: adaptation transfer
kwp_22_adp_tran_nak:
    jsr kwp_send_nak        ;a524  20 61 b4     Send NAK response block
    rts                     ;a527  60

;KWP1281 0x27 ?
;nak: ?
kwp_27_unknown_nak:
    jsr kwp_send_nak        ;a528  20 61 b4     Send NAK response block
    rts                     ;a52b  60

;KWP1281 0x28 Basic Setting
;nak: basic setting
kwp_28_basic_set_nak:
    jsr kwp_send_nak        ;a52c  20 61 b4     Send NAK response block
    rts                     ;a52f  60

;group reading valid group numbers
group_numbers:
    .byte 0x01              ;a530  general
    .byte 0x02              ;a531  speakers/line-out
    .byte 0x03              ;a532  antenna
    .byte 0x04              ;a533  amplifier/telephone
    .byte 0x05              ;a534  cd changer
    .byte 0x06              ;a535  external display
    .byte 0x07              ;a536  steering wheel control
    .byte 0x19              ;a537  protection
    .byte 0x50              ;a538  advanced id 1: "YD5-001 27.01.04"
    .byte 0x51              ;a539  advanced id 2: "VWZAZ3D2301808"

;group reading handlers
group_handlers:
    .word lab_a585          ;a53a  85 a5       VECTOR   general
    .word lab_a585          ;a53c  85 a5       VECTOR   speakers/line-out
    .word lab_a585          ;a53e  85 a5       VECTOR   antenna
    .word lab_a585          ;a540  85 a5       VECTOR   amplifier/telephone
    .word lab_a585          ;a542  85 a5       VECTOR   cd changer
    .word lab_a585          ;a544  85 a5       VECTOR   external display
    .word lab_a585          ;a546  85 a5       VECTOR   steering wheel control
    .word lab_a574          ;a548  74 a5       VECTOR   protection
    .word lab_a57b          ;a54a  7b a5       VECTOR   advanced id 1: "YD5-001 27.01.04"
    .word lab_a580          ;a54c  80 a5       VECTOR   advanced id 2: "VWZAZ3D2301808"

;KWP1281 0x29 Group Reading
;
;Request block format:
;   0x04 Block length                   0x0320
;   0x2A Block counter                  0x0321
;   0x29 Block title (Group Reading)    0x0322
;   0x01 Group Number                   0x0323
;   0x03 Block end                      0x0324
;
kwp_29_group_read:
    lda 0x0323              ;a54e  ad 23 03     A = KWP1281 rx buffer: group number
    sta 0x05bb              ;a551  8d bb 05

    ;find group number in table
    ldx #0x00               ;a554  a2 00
lab_a556:
    cmp group_numbers,x     ;a556  dd 30 a5
    beq lab_a565            ;a559  f0 0a
    inx                     ;a55b  e8
    cpx #0x0a               ;a55c  e0 0a
    bcc lab_a556            ;a55e  90 f6

lab_a560:
    ;group not found
    jsr kwp_send_nak        ;a560  20 61 b4     Send NAK response block
    bra lab_a590            ;a563  80 2b

lab_a565:
    ;group found
    txa                     ;a565  8a
    asl a                   ;a566  0a
    tax                     ;a567  aa
    lda group_handlers,x    ;a568  bd 3a a5
    sta 0x40                ;a56b  85 40
    lda group_handlers+1,x  ;a56d  bd 3b a5
    sta 0x41                ;a570  85 41
    jmp [0x40]              ;a572  b2 40        jump to handler

;group reading handler: 0x19 protection
lab_a574:
    bbc 0,0xe7,lab_a579     ;a574  17 e7 02     if not logged in, skip setting bit
    seb 1,0xe7              ;a577  2f e7        set bit to indicate protection group was read

    ;protected commands are unlocked now
    ;fall through to send nak (it's a lie; receiver should treat it like ack)

lab_a579:
    bra lab_a560            ;a579  80 e5        branch to send nak request

;Group reading handler: 0x50 advanced id 1 ("YD5-001 27.01.04")
;
;Response block:
;  2C xx E7 3F 59 44 35 2D 30 30 31 20 20 32 37 2E 30 31 2E 30 34 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 03
;              Y  D  5  -  0  0  1        2  7  .  0  1  .  0  4
;
;Formula = 0x3F
;Value = "YD5-001  27.01.04                       " (40 bytes)
;
lab_a57b:
    jsr sub_a84f            ;a57b  20 4f a8
    bra lab_a588            ;a57e  80 08

;Group reading handler: 0x51 advanced id 2 ("VWZAZ3D2301808")
;
;Response block:
;  2C xx E7 3F 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 20 56 57 5A 41 5A 33 44 32 33 30 31 38 30 38 20 20 20 20 20 20 20 20 20 03
;                                                                 V  W  Z  A  Z  3  D  2  3  0  1  8  0  8
;
;Formula = 0x3F
;Value = "                 VWZAZ3D2301808         " (40 bytes)
;
lab_a580:
    jsr sub_a88c            ;a580  20 8c a8
    bra lab_a588            ;a583  80 03

;group reading handler:
;  general, speakers/line-out, antenna, amplifier/telephone,
;  cd changer, external display, steering wheel control
lab_a585:
    jsr sub_a6b5            ;a585  20 b5 a6

lab_a588:
    lda #0x00               ;a588  a9 00
    sta 0x05b7              ;a58a  8d b7 05
    jsr kwp_send_tx_buf     ;a58d  20 9f b6     Send the block in the KWP1281 tx buffer

lab_a590:
    rts                     ;a590  60

;KWP1281 0x2a Adaptation Save
;nak: ?
kwp_2a_adp_save_nak:
    jsr kwp_send_nak        ;a591  20 61 b4     Send NAK response block
    rts                     ;a594  60

;KWP1281 0x2b Login
;
;Request block format:
;  0x08 Block length                            0x0320
;  0x?? Block counter                           0x0321
;  0x2B Block title (Login)                     0x0322
;  0x?? SAFE code high byte (binary)            0x0323
;  0x?? SAFE code low byte (binary)             0x0324
;  0x?? Unknown byte; bit 0 influences coding   0x0325    See sub_a124
;  0x?? Workshop Code high byte (binary)        0x0326
;  0x?? Workshop Code low byte (binary)         0x0327
;  0x03 Block end                               0x0328
;
kwp_2b_login:
    bbc 3,0xf1,lab_a59d     ;a595  77 f1 05
    jsr kwp_06_disconnect   ;a598  20 33 9f     disconnect
    bra lab_a605_rts            ;a59b  80 68

lab_a59d:
    jsr sub_a10a            ;a59d  20 0a a1     Convert SAFE code binary number in KWP1281 rx buffer
                            ;                   into a five digit decimal number in ASCII in 0x116-0x11a

    ;Result of sub_a10a:
    ;  0x0116   Attempted SAFE code as a decimal number in ASCII (ten thousands place)
    ;  0x0117   Attempted SAFE code as a decimal number in ASCII (thousands place)
    ;  0x0118   Attempted SAFE code as a decimal number in ASCII (hundreds place)
    ;  0x0119   Attempted SAFE code as a decimal number in ASCII (tens place)
    ;  0x011a   Attempted SAFE code as a decimal number in ASCII (ones place)

    ;Check attempted SAFE code is 0-9999
    lda 0x0116              ;a5a0  ad 16 01     A = SAFE code as decimal in ASCII (ten thousands place)
    cmp #'0                 ;a5a3  c9 30        Is the ten thousands place = 0?
    bne lab_a5e3_failed     ;a5a5  d0 3c          No: branch to login failed

    ;Read the SAFE code data from the EEPROM
    jsr read_ee_safe        ;a5a7  20 c9 2d

    ;Result of read_ee_safe:
    ;  0x0102   SAFE code attempt count
    ;  0x0103   SAFE code as a decimal number in ASCII (thousands place)
    ;  0x0104   SAFE code as a decimal number in ASCII (hundreds place)
    ;  0x0105   SAFE code as a decimal number in ASCII (tens place)
    ;  0x0106   SAFE code as a decimal number in ASCII (ones place)

    ;Compare attempted SAFE code with actual
    ldy #0x00               ;a5aa  a0 00
lab_a5ac_loop:
    lda 0x0117,y            ;a5ac  b9 17 01
    cmp 0x0103,y            ;a5af  d9 03 01
    bne lab_a5e3_failed     ;a5b2  d0 2f
    iny                     ;a5b4  c8
    cpy #0x04               ;a5b5  c0 04
    bcc lab_a5ac_loop       ;a5b7  90 f3

    ;login succeeded
    jsr sub_a124            ;a5b9  20 24 a1
    jsr kwp_09_ack          ;a5bc  20 5b b4     Send ACK response block
    seb 0,0xe7              ;a5bf  0f e7
    clb 5,0xe7              ;a5c1  bf e7
    lda 0x05c0              ;a5c3  ad c0 05
    and #0xfe               ;a5c6  29 fe
    sta 0x05c0              ;a5c8  8d c0 05
    sta 0x0102              ;a5cb  8d 02 01
    jsr sub_ab9d            ;a5ce  20 9d ab
    bbc 2,0xf1,lab_a605_rts ;a5d1  57 f1 31
    jsr sub_4cd0            ;a5d4  20 d0 4c     TODO probably some kind of I2C read
    lda 0x026b              ;a5d7  ad 6b 02
    cmp #0x33               ;a5da  c9 33
    bcs lab_a605_rts        ;a5dc  b0 27
    jsr sub_2e8a            ;a5de  20 8a 2e     Write SAFE code attempt count = 0 to EEPROM, possibly other stuff
    bra lab_a605_rts        ;a5e1  80 22        Branch always to return

lab_a5e3_failed:
    ;login failed
    jsr kwp_06_disconnect   ;a5e3  20 33 9f     disconnect
    bbs 5,0xe7,lab_a5fb     ;a5e6  a7 e7 12
    seb 5,0xe7              ;a5e9  af e7
    lda 0x05c0              ;a5eb  ad c0 05
    ora #0x01               ;a5ee  09 01
    sta 0x05c0              ;a5f0  8d c0 05
    sta 0x0102              ;a5f3  8d 02 01
    jsr sub_ab9d            ;a5f6  20 9d ab
    bra lab_a605_rts        ;a5f9  80 0a

lab_a5fb:
    ldy #0x36               ;a5fb  a0 36
    jsr sub_3300            ;a5fd  20 00 33
    seb 3,0xf1              ;a600  6f f1
    jsr sub_4c63            ;a602  20 63 4c     TODO unknown I2C activities

lab_a605_rts:
    rts                     ;a605  60

    .byte 0x38              ;a606  38          DATA 0x38 '8'
    .byte 0x60              ;a607  60          DATA 0x60 '`'
    .byte 0x38              ;a608  38          DATA 0x38 '8'
    .byte 0x60              ;a609  60          DATA 0x60 '`'
    .byte 0xad              ;a60a  ad          DATA 0xad
    .byte 0xbb              ;a60b  bb          DATA 0xbb
    .byte 0x05              ;a60c  05          DATA 0x05
    .byte 0xc9              ;a60d  c9          DATA 0xc9
    .byte 0xc8              ;a60e  c8          DATA 0xc8
    .byte 0xd0              ;a60f  d0          DATA 0xd0
    .byte 0x0c              ;a610  0c          DATA 0x0c
    .byte 0xa9              ;a611  a9          DATA 0xa9
    .byte 0xff              ;a612  ff          DATA 0xff
    .byte 0x8d              ;a613  8d          DATA 0x8d
    .byte 0xb7              ;a614  b7          DATA 0xb7
    .byte 0x05              ;a615  05          DATA 0x05
    .byte 0x8d              ;a616  8d          DATA 0x8d
    .byte 0xbb              ;a617  bb          DATA 0xbb
    .byte 0x05              ;a618  05          DATA 0x05
    .byte 0x20              ;a619  20          DATA 0x20 ' '
    .byte 0xd6              ;a61a  d6          DATA 0xd6
    .byte 0xa3              ;a61b  a3          DATA 0xa3
    .byte 0x60              ;a61c  60          DATA 0x60 '`'
    .byte 0xa9              ;a61d  a9          DATA 0xa9
    .byte 0x08              ;a61e  08          DATA 0x08
    .byte 0x8d              ;a61f  8d          DATA 0x8d
    .byte 0xb8              ;a620  b8          DATA 0xb8
    .byte 0x05              ;a621  05          DATA 0x05
    .byte 0x60              ;a622  60          DATA 0x60 '`'
    .byte 0x39              ;a623  39          DATA 0x39 '9'
    .byte 0xa6              ;a624  a6          DATA 0xa6
    .byte 0x49              ;a625  49          DATA 0x49 'I'
    .byte 0xa6              ;a626  a6          DATA 0xa6
    .byte 0x59              ;a627  59          DATA 0x59 'Y'
    .byte 0xa6              ;a628  a6          DATA 0xa6
    .byte 0x65              ;a629  65          DATA 0x65 'e'
    .byte 0xa6              ;a62a  a6          DATA 0xa6
    .byte 0x75              ;a62b  75          DATA 0x75 'u'
    .byte 0xa6              ;a62c  a6          DATA 0xa6
    .byte 0x85              ;a62d  85          DATA 0x85
    .byte 0xa6              ;a62e  a6          DATA 0xa6
    .byte 0x8d              ;a62f  8d          DATA 0x8d
    .byte 0xa6              ;a630  a6          DATA 0xa6
    .byte 0x91              ;a631  91          DATA 0x91
    .byte 0xa6              ;a632  a6          DATA 0xa6
    .byte 0xa1              ;a633  a1          DATA 0xa1
    .byte 0xa6              ;a634  a6          DATA 0xa6
    .byte 0xa9              ;a635  a9          DATA 0xa9
    .byte 0xa6              ;a636  a6          DATA 0xa6
    .byte 0xb5              ;a637  b5          DATA 0xb5
    .byte 0xa6              ;a638  a6          DATA 0xa6
    .byte 0x10              ;a639  10          DATA 0x10
    .byte 0x08              ;a63a  08          DATA 0x08
    .byte 0x34              ;a63b  34          DATA 0x34 '4'
    .byte 0xa7              ;a63c  a7          DATA 0xa7
    .byte 0x06              ;a63d  06          DATA 0x06
    .byte 0x69              ;a63e  69          DATA 0x69 'i'
    .byte 0x3f              ;a63f  3f          DATA 0x3f '?'
    .byte 0xa7              ;a640  a7          DATA 0xa7
    .byte 0x17              ;a641  17          DATA 0x17
    .byte 0x64              ;a642  64          DATA 0x64 'd'
    .byte 0x45              ;a643  45          DATA 0x45 'E'
    .byte 0xa7              ;a644  a7          DATA 0xa7
    .byte 0x25              ;a645  25          DATA 0x25 '%'
    .byte 0x00              ;a646  00          DATA 0x00
    .byte 0x49              ;a647  49          DATA 0x49 'I'
    .byte 0xa7              ;a648  a7          DATA 0xa7
    .byte 0x25              ;a649  25          DATA 0x25 '%'
    .byte 0x00              ;a64a  00          DATA 0x00
    .byte 0x51              ;a64b  51          DATA 0x51 'Q'
    .byte 0xa7              ;a64c  a7          DATA 0xa7
    .byte 0x25              ;a64d  25          DATA 0x25 '%'
    .byte 0x00              ;a64e  00          DATA 0x00
    .byte 0x54              ;a64f  54          DATA 0x54 'T'
    .byte 0xa7              ;a650  a7          DATA 0xa7
    .byte 0x25              ;a651  25          DATA 0x25 '%'
    .byte 0x00              ;a652  00          DATA 0x00
    .byte 0x73              ;a653  73          DATA 0x73 's'
    .byte 0xa7              ;a654  a7          DATA 0xa7
    .byte 0x25              ;a655  25          DATA 0x25 '%'
    .byte 0x00              ;a656  00          DATA 0x00
    .byte 0x76              ;a657  76          DATA 0x76 'v'
    .byte 0xa7              ;a658  a7          DATA 0xa7
    .byte 0x25              ;a659  25          DATA 0x25 '%'
    .byte 0x01              ;a65a  01          DATA 0x01
    .byte 0xa9              ;a65b  a9          DATA 0xa9
    .byte 0xa7              ;a65c  a7          DATA 0xa7
    .byte 0x25              ;a65d  25          DATA 0x25 '%'
    .byte 0x00              ;a65e  00          DATA 0x00
    .byte 0xb4              ;a65f  b4          DATA 0xb4
    .byte 0xa7              ;a660  a7          DATA 0xa7
    .byte 0x25              ;a661  25          DATA 0x25 '%'
    .byte 0x00              ;a662  00          DATA 0x00
    .byte 0xb7              ;a663  b7          DATA 0xb7
    .byte 0xa7              ;a664  a7          DATA 0xa7
    .byte 0x10              ;a665  10          DATA 0x10
    .byte 0x01              ;a666  01          DATA 0x01
    .byte 0xcf              ;a667  cf          DATA 0xcf
    .byte 0xa7              ;a668  a7          DATA 0xa7
    .byte 0x25              ;a669  25          DATA 0x25 '%'
    .byte 0x00              ;a66a  00          DATA 0x00
    .byte 0xda              ;a66b  da          DATA 0xda
    .byte 0xa7              ;a66c  a7          DATA 0xa7
    .byte 0x25              ;a66d  25          DATA 0x25 '%'
    .byte 0x00              ;a66e  00          DATA 0x00
    .byte 0xdd              ;a66f  dd          DATA 0xdd
    .byte 0xa7              ;a670  a7          DATA 0xa7
    .byte 0x25              ;a671  25          DATA 0x25 '%'
    .byte 0x00              ;a672  00          DATA 0x00
    .byte 0xe0              ;a673  e0          DATA 0xe0
    .byte 0xa7              ;a674  a7          DATA 0xa7
    .byte 0x25              ;a675  25          DATA 0x25 '%'
    .byte 0x00              ;a676  00          DATA 0x00
    .byte 0xe8              ;a677  e8          DATA 0xe8
    .byte 0xa7              ;a678  a7          DATA 0xa7
    .byte 0x25              ;a679  25          DATA 0x25 '%'
    .byte 0x00              ;a67a  00          DATA 0x00
    .byte 0xeb              ;a67b  eb          DATA 0xeb
    .byte 0xa7              ;a67c  a7          DATA 0xa7
    .byte 0x25              ;a67d  25          DATA 0x25 '%'
    .byte 0x00              ;a67e  00          DATA 0x00
    .byte 0xf5              ;a67f  f5          DATA 0xf5
    .byte 0xa7              ;a680  a7          DATA 0xa7
    .byte 0x25              ;a681  25          DATA 0x25 '%'
    .byte 0x00              ;a682  00          DATA 0x00
    .byte 0xf8              ;a683  f8          DATA 0xf8
    .byte 0xa7              ;a684  a7          DATA 0xa7
    .byte 0x25              ;a685  25          DATA 0x25 '%'
    .byte 0x00              ;a686  00          DATA 0x00
    .byte 0xfb              ;a687  fb          DATA 0xfb
    .byte 0xa7              ;a688  a7          DATA 0xa7
    .byte 0x25              ;a689  25          DATA 0x25 '%'
    .byte 0x00              ;a68a  00          DATA 0x00
    .byte 0xfe              ;a68b  fe          DATA 0xfe
    .byte 0xa7              ;a68c  a7          DATA 0xa7
    .byte 0x11              ;a68d  11          DATA 0x11
    .byte 0x00              ;a68e  00          DATA 0x00
    .byte 0x0e              ;a68f  0e          DATA 0x0e
    .byte 0xa8              ;a690  a8          DATA 0xa8
    .byte 0x25              ;a691  25          DATA 0x25 '%'
    .byte 0x01              ;a692  01          DATA 0x01
    .byte 0x95              ;a693  95          DATA 0x95
    .byte 0xa7              ;a694  a7          DATA 0xa7
    .byte 0x25              ;a695  25          DATA 0x25 '%'
    .byte 0x00              ;a696  00          DATA 0x00
    .byte 0x98              ;a697  98          DATA 0x98
    .byte 0xa7              ;a698  a7          DATA 0xa7
    .byte 0x25              ;a699  25          DATA 0x25 '%'
    .byte 0x01              ;a69a  01          DATA 0x01
    .byte 0x9f              ;a69b  9f          DATA 0x9f
    .byte 0xa7              ;a69c  a7          DATA 0xa7
    .byte 0x25              ;a69d  25          DATA 0x25 '%'
    .byte 0x00              ;a69e  00          DATA 0x00
    .byte 0xa2              ;a69f  a2          DATA 0xa2
    .byte 0xa7              ;a6a0  a7          DATA 0xa7
    .byte 0x25              ;a6a1  25          DATA 0x25 '%'
    .byte 0x00              ;a6a2  00          DATA 0x00
    .byte 0x3c              ;a6a3  3c          DATA 0x3c '<'
    .byte 0xa8              ;a6a4  a8          DATA 0xa8
    .byte 0x25              ;a6a5  25          DATA 0x25 '%'
    .byte 0x00              ;a6a6  00          DATA 0x00
    .byte 0x3f              ;a6a7  3f          DATA 0x3f '?'
    .byte 0xa8              ;a6a8  a8          DATA 0xa8
    .byte 0x25              ;a6a9  25          DATA 0x25 '%'
    .byte 0x01              ;a6aa  01          DATA 0x01
    .byte 0x42              ;a6ab  42          DATA 0x42 'B'
    .byte 0xa8              ;a6ac  a8          DATA 0xa8
    .byte 0x25              ;a6ad  25          DATA 0x25 '%'
    .byte 0x00              ;a6ae  00          DATA 0x00
    .byte 0x45              ;a6af  45          DATA 0x45 'E'
    .byte 0xa8              ;a6b0  a8          DATA 0xa8
    .byte 0x25              ;a6b1  25          DATA 0x25 '%'
    .byte 0x00              ;a6b2  00          DATA 0x00
    .byte 0x48              ;a6b3  48          DATA 0x48 'H'
    .byte 0xa8              ;a6b4  a8          DATA 0xa8

;group reading handler:
;  general, speakers/line-out, antenna, amplifier/telephone,
;  cd changer, external display, steering wheel control
sub_a6b5:
    lda 0x05bb              ;a6b5  ad bb 05
    dec a                   ;a6b8  1a
    cmp #0x0a               ;a6b9  c9 0a
    bcs lab_a733            ;a6bb  b0 76
    asl a                   ;a6bd  0a
    tax                     ;a6be  aa
    lda 0xa623,x            ;a6bf  bd 23 a6
    sta 0xc2                ;a6c2  85 c2
    lda 0xa624,x            ;a6c4  bd 24 a6
    sta 0xc3                ;a6c7  85 c3
    lda #0x34               ;a6c9  a9 34
    sta 0xc4                ;a6cb  85 c4
    lda #0x03               ;a6cd  a9 03
    sta 0xc5                ;a6cf  85 c5
    sec                     ;a6d1  38
    lda 0xa626,x            ;a6d2  bd 26 a6
    sbc 0xc3                ;a6d5  e5 c3
    lda 0xa625,x            ;a6d7  bd 25 a6
    sbc 0xc2                ;a6da  e5 c2
    lsr a                   ;a6dc  4a
    lsr a                   ;a6dd  4a
    sta 0x02af              ;a6de  8d af 02
    asl a                   ;a6e1  0a
    clc                     ;a6e2  18
    adc 0x02af              ;a6e3  6d af 02
    adc #0x03               ;a6e6  69 03
    sta 0x0331              ;a6e8  8d 31 03
    lda #0xe7               ;a6eb  a9 e7
    sta 0x0333              ;a6ed  8d 33 03

lab_a6f0:
    ldy #0x00               ;a6f0  a0 00
    lda [0xc2],y            ;a6f2  b1 c2
    sta [0xc4],y            ;a6f4  91 c4
    iny                     ;a6f6  c8
    lda [0xc2],y            ;a6f7  b1 c2
    sta [0xc4],y            ;a6f9  91 c4
    ldy #0x02               ;a6fb  a0 02
    lda [0xc2],y            ;a6fd  b1 c2
    sta 0x4a                ;a6ff  85 4a
    iny                     ;a701  c8
    lda [0xc2],y            ;a702  b1 c2
    sta 0x4b                ;a704  85 4b
    jsr [0x4a]              ;a706  02 4a
    ldy #0x02               ;a708  a0 02
    sta [0xc4],y            ;a70a  91 c4
    clc                     ;a70c  18
    lda 0xc2                ;a70d  a5 c2
    adc #0x04               ;a70f  69 04
    sta 0xc2                ;a711  85 c2
    lda 0xc3                ;a713  a5 c3
    adc #0x00               ;a715  69 00
    sta 0xc3                ;a717  85 c3
    clc                     ;a719  18
    lda 0xc4                ;a71a  a5 c4
    adc #0x03               ;a71c  69 03
    sta 0xc4                ;a71e  85 c4
    lda 0xc5                ;a720  a5 c5
    adc #0x00               ;a722  69 00
    sta 0xc5                ;a724  85 c5
    dec 0x02af              ;a726  ce af 02
    bne lab_a6f0            ;a729  d0 c5
    ldy 0x0331              ;a72b  ac 31 03
    lda #0x03               ;a72e  a9 03
    sta 0x0331,y            ;a730  99 31 03

lab_a733:
    rts                     ;a733  60

    .byte 0xa2              ;a734  a2          DATA 0xa2
    .byte 0x00              ;a735  00          DATA 0x00
    .byte 0xad              ;a736  ad          DATA 0xad
    .byte 0xd2              ;a737  d2          DATA 0xd2
    .byte 0x02              ;a738  02          DATA 0x02
    .byte 0x73              ;a739  73          DATA 0x73 's'
    .byte 0x02              ;a73a  02          DATA 0x02
    .byte 0xa2              ;a73b  a2          DATA 0xa2
    .byte 0x08              ;a73c  08          DATA 0x08
    .byte 0x8a              ;a73d  8a          DATA 0x8a
    .byte 0x60              ;a73e  60          DATA 0x60 '`'
    .byte 0xa9              ;a73f  a9          DATA 0xa9
    .byte 0x06              ;a740  06          DATA 0x06
    .byte 0x20              ;a741  20          DATA 0x20 ' '
    .byte 0xd8              ;a742  d8          DATA 0xd8
    .byte 0x26              ;a743  26          DATA 0x26 '&'
    .byte 0x60              ;a744  60          DATA 0x60 '`'
    .byte 0x20              ;a745  20          DATA 0x20 ' '
    .byte 0x28              ;a746  28          DATA 0x28 '('
    .byte 0x82              ;a747  82          DATA 0x82
    .byte 0x60              ;a748  60          DATA 0x60 '`'
    .byte 0xa9              ;a749  a9          DATA 0xa9
    .byte 0x88              ;a74a  88          DATA 0x88
    .byte 0x77              ;a74b  77          DATA 0x77 'w'
    .byte 0x10              ;a74c  10          DATA 0x10
    .byte 0x02              ;a74d  02          DATA 0x02
    .byte 0xa9              ;a74e  a9          DATA 0xa9
    .byte 0x87              ;a74f  87          DATA 0x87
    .byte 0x60              ;a750  60          DATA 0x60 '`'
    .byte 0xa9              ;a751  a9          DATA 0xa9
    .byte 0xf0              ;a752  f0          DATA 0xf0
    .byte 0x60              ;a753  60          DATA 0x60 '`'
    .byte 0xae              ;a754  ae          DATA 0xae
    .byte 0xf8              ;a755  f8          DATA 0xf8
    .byte 0x02              ;a756  02          DATA 0x02
    .byte 0xbd              ;a757  bd          DATA 0xbd
    .byte 0x05              ;a758  05          DATA 0x05
    .byte 0xac              ;a759  ac          DATA 0xac
    .byte 0xc9              ;a75a  c9          DATA 0xc9
    .byte 0xf2              ;a75b  f2          DATA 0xf2
    .byte 0xf0              ;a75c  f0          DATA 0xf0
    .byte 0x14              ;a75d  14          DATA 0x14
    .byte 0xc9              ;a75e  c9          DATA 0xc9
    .byte 0xf3              ;a75f  f3          DATA 0xf3
    .byte 0xd0              ;a760  d0          DATA 0xd0
    .byte 0x0a              ;a761  0a          DATA 0x0a
    .byte 0xae              ;a762  ae          DATA 0xae
    .byte 0xf9              ;a763  f9          DATA 0xf9
    .byte 0x02              ;a764  02          DATA 0x02
    .byte 0xbc              ;a765  bc          DATA 0xbc
    .byte 0x05              ;a766  05          DATA 0x05
    .byte 0xac              ;a767  ac          DATA 0xac
    .byte 0xc0              ;a768  c0          DATA 0xc0
    .byte 0xc2              ;a769  c2          DATA 0xc2
    .byte 0xf0              ;a76a  f0          DATA 0xf0
    .byte 0x06              ;a76b  06          DATA 0x06
    .byte 0xae              ;a76c  ae          DATA 0xae
    .byte 0xf9              ;a76d  f9          DATA 0xf9
    .byte 0x02              ;a76e  02          DATA 0x02
    .byte 0xbd              ;a76f  bd          DATA 0xbd
    .byte 0x05              ;a770  05          DATA 0x05
    .byte 0xac              ;a771  ac          DATA 0xac
    .byte 0x60              ;a772  60          DATA 0x60 '`'
    .byte 0xa9              ;a773  a9          DATA 0xa9
    .byte 0xf1              ;a774  f1          DATA 0xf1
    .byte 0x60              ;a775  60          DATA 0x60 '`'
    .byte 0xae              ;a776  ae          DATA 0xae
    .byte 0xfa              ;a777  fa          DATA 0xfa
    .byte 0x02              ;a778  02          DATA 0x02
    .byte 0xbd              ;a779  bd          DATA 0xbd
    .byte 0x05              ;a77a  05          DATA 0x05
    .byte 0xac              ;a77b  ac          DATA 0xac
    .byte 0xc9              ;a77c  c9          DATA 0xc9
    .byte 0xf2              ;a77d  f2          DATA 0xf2
    .byte 0xf0              ;a77e  f0          DATA 0xf0
    .byte 0x14              ;a77f  14          DATA 0x14
    .byte 0xc9              ;a780  c9          DATA 0xc9
    .byte 0xf3              ;a781  f3          DATA 0xf3
    .byte 0xd0              ;a782  d0          DATA 0xd0
    .byte 0x0a              ;a783  0a          DATA 0x0a
    .byte 0xae              ;a784  ae          DATA 0xae
    .byte 0xfb              ;a785  fb          DATA 0xfb
    .byte 0x02              ;a786  02          DATA 0x02
    .byte 0xbc              ;a787  bc          DATA 0xbc
    .byte 0x05              ;a788  05          DATA 0x05
    .byte 0xac              ;a789  ac          DATA 0xac
    .byte 0xc0              ;a78a  c0          DATA 0xc0
    .byte 0xc2              ;a78b  c2          DATA 0xc2
    .byte 0xf0              ;a78c  f0          DATA 0xf0
    .byte 0x06              ;a78d  06          DATA 0x06
    .byte 0xae              ;a78e  ae          DATA 0xae
    .byte 0xfb              ;a78f  fb          DATA 0xfb
    .byte 0x02              ;a790  02          DATA 0x02
    .byte 0xbd              ;a791  bd          DATA 0xbd
    .byte 0x05              ;a792  05          DATA 0x05
    .byte 0xac              ;a793  ac          DATA 0xac
    .byte 0x60              ;a794  60          DATA 0x60 '`'
    .byte 0xa9              ;a795  a9          DATA 0xa9
    .byte 0x8e              ;a796  8e          DATA 0x8e
    .byte 0x60              ;a797  60          DATA 0x60 '`'
    .byte 0xae              ;a798  ae          DATA 0xae
    .byte 0x72              ;a799  72          DATA 0x72 'r'
    .byte 0x03              ;a79a  03          DATA 0x03
    .byte 0xbd              ;a79b  bd          DATA 0xbd
    .byte 0x05              ;a79c  05          DATA 0x05
    .byte 0xac              ;a79d  ac          DATA 0xac
    .byte 0x60              ;a79e  60          DATA 0x60 '`'
    .byte 0xa9              ;a79f  a9          DATA 0xa9
    .byte 0x8f              ;a7a0  8f          DATA 0x8f
    .byte 0x60              ;a7a1  60          DATA 0x60 '`'
    .byte 0xae              ;a7a2  ae          DATA 0xae
    .byte 0x73              ;a7a3  73          DATA 0x73 's'
    .byte 0x03              ;a7a4  03          DATA 0x03
    .byte 0xbd              ;a7a5  bd          DATA 0xbd
    .byte 0x05              ;a7a6  05          DATA 0x05
    .byte 0xac              ;a7a7  ac          DATA 0xac
    .byte 0x60              ;a7a8  60          DATA 0x60 '`'
    .byte 0xa2              ;a7a9  a2          DATA 0xa2
    .byte 0x11              ;a7aa  11          DATA 0x11
    .byte 0xad              ;a7ab  ad          DATA 0xad
    .byte 0xc7              ;a7ac  c7          DATA 0xc7
    .byte 0x05              ;a7ad  05          DATA 0x05
    .byte 0x93              ;a7ae  93          DATA 0x93
    .byte 0x02              ;a7af  02          DATA 0x02
    .byte 0xa2              ;a7b0  a2          DATA 0xa2
    .byte 0x12              ;a7b1  12          DATA 0x12
    .byte 0x8a              ;a7b2  8a          DATA 0x8a
    .byte 0x60              ;a7b3  60          DATA 0x60 '`'
    .byte 0xa9              ;a7b4  a9          DATA 0xa9
    .byte 0xf4              ;a7b5  f4          DATA 0xf4
    .byte 0x60              ;a7b6  60          DATA 0x60 '`'
    .byte 0xae              ;a7b7  ae          DATA 0xae
    .byte 0x74              ;a7b8  74          DATA 0x74 't'
    .byte 0x03              ;a7b9  03          DATA 0x03
    .byte 0xf0              ;a7ba  f0          DATA 0xf0
    .byte 0x00              ;a7bb  00          DATA 0x00
    .byte 0xae              ;a7bc  ae          DATA 0xae
    .byte 0x74              ;a7bd  74          DATA 0x74 't'
    .byte 0x03              ;a7be  03          DATA 0x03
    .byte 0xbc              ;a7bf  bc          DATA 0xbc
    .byte 0x0a              ;a7c0  0a          DATA 0x0a
    .byte 0xac              ;a7c1  ac          DATA 0xac
    .byte 0xc0              ;a7c2  c0          DATA 0xc0
    .byte 0xf3              ;a7c3  f3          DATA 0xf3
    .byte 0xd0              ;a7c4  d0          DATA 0xd0
    .byte 0x07              ;a7c5  07          DATA 0x07
    .byte 0xad              ;a7c6  ad          DATA 0xad
    .byte 0xc7              ;a7c7  c7          DATA 0xc7
    .byte 0x05              ;a7c8  05          DATA 0x05
    .byte 0x83              ;a7c9  83          DATA 0x83
    .byte 0x02              ;a7ca  02          DATA 0x02
    .byte 0xa0              ;a7cb  a0          DATA 0xa0
    .byte 0xc2              ;a7cc  c2          DATA 0xc2
    .byte 0x98              ;a7cd  98          DATA 0x98
    .byte 0x60              ;a7ce  60          DATA 0x60 '`'
    .byte 0xae              ;a7cf  ae          DATA 0xae
    .byte 0x75              ;a7d0  75          DATA 0x75 'u'
    .byte 0x03              ;a7d1  03          DATA 0x03
    .byte 0xe0              ;a7d2  e0          DATA 0xe0
    .byte 0x01              ;a7d3  01          DATA 0x01
    .byte 0xd0              ;a7d4  d0          DATA 0xd0
    .byte 0x00              ;a7d5  00          DATA 0x00
    .byte 0xbd              ;a7d6  bd          DATA 0xbd
    .byte 0x0d              ;a7d7  0d          DATA 0x0d
    .byte 0xac              ;a7d8  ac          DATA 0xac
    .byte 0x60              ;a7d9  60          DATA 0x60 '`'
    .byte 0xa9              ;a7da  a9          DATA 0xa9
    .byte 0x00              ;a7db  00          DATA 0x00
    .byte 0x60              ;a7dc  60          DATA 0x60 '`'
    .byte 0xa9              ;a7dd  a9          DATA 0xa9
    .byte 0xf5              ;a7de  f5          DATA 0xf5
    .byte 0x60              ;a7df  60          DATA 0x60 '`'
    .byte 0xa9              ;a7e0  a9          DATA 0xa9
    .byte 0x88              ;a7e1  88          DATA 0x88
    .byte 0x17              ;a7e2  17          DATA 0x17
    .byte 0x00              ;a7e3  00          DATA 0x00
    .byte 0x02              ;a7e4  02          DATA 0x02
    .byte 0xa9              ;a7e5  a9          DATA 0xa9
    .byte 0x87              ;a7e6  87          DATA 0x87
    .byte 0x60              ;a7e7  60          DATA 0x60 '`'
    .byte 0xa9              ;a7e8  a9          DATA 0xa9
    .byte 0xf6              ;a7e9  f6          DATA 0xf6
    .byte 0x60              ;a7ea  60          DATA 0x60 '`'
    .byte 0x8f              ;a7eb  8f          DATA 0x8f
    .byte 0x10              ;a7ec  10          DATA 0x10
    .byte 0xa9              ;a7ed  a9          DATA 0xa9
    .byte 0xc2              ;a7ee  c2          DATA 0xc2
    .byte 0x87              ;a7ef  87          DATA 0x87
    .byte 0xef              ;a7f0  ef          DATA 0xef
    .byte 0x02              ;a7f1  02          DATA 0x02
    .byte 0xa9              ;a7f2  a9          DATA 0xa9
    .byte 0xc3              ;a7f3  c3          DATA 0xc3
    .byte 0x60              ;a7f4  60          DATA 0x60 '`'
    .byte 0xa9              ;a7f5  a9          DATA 0xa9
    .byte 0x00              ;a7f6  00          DATA 0x00
    .byte 0x60              ;a7f7  60          DATA 0x60 '`'
    .byte 0xa9              ;a7f8  a9          DATA 0xa9
    .byte 0x00              ;a7f9  00          DATA 0x00
    .byte 0x60              ;a7fa  60          DATA 0x60 '`'
    .byte 0xa9              ;a7fb  a9          DATA 0xa9
    .byte 0xf7              ;a7fc  f7          DATA 0xf7
    .byte 0x60              ;a7fd  60          DATA 0x60 '`'
    .byte 0xa9              ;a7fe  a9          DATA 0xa9
    .byte 0xc4              ;a7ff  c4          DATA 0xc4
    .byte 0x37              ;a800  37          DATA 0x37 '7'
    .byte 0xee              ;a801  ee          DATA 0xee
    .byte 0x0a              ;a802  0a          DATA 0x0a
    .byte 0xa9              ;a803  a9          DATA 0xa9
    .byte 0xc2              ;a804  c2          DATA 0xc2
    .byte 0xa6              ;a805  a6          DATA 0xa6
    .byte 0xcb              ;a806  cb          DATA 0xcb
    .byte 0xe0              ;a807  e0          DATA 0xe0
    .byte 0x05              ;a808  05          DATA 0x05
    .byte 0x90              ;a809  90          DATA 0x90
    .byte 0x02              ;a80a  02          DATA 0x02
    .byte 0xa9              ;a80b  a9          DATA 0xa9
    .byte 0xc3              ;a80c  c3          DATA 0xc3
    .byte 0x60              ;a80d  60          DATA 0x60 '`'
    .byte 0xad              ;a80e  ad          DATA 0xad
    .byte 0xba              ;a80f  ba          DATA 0xba
    .byte 0x05              ;a810  05          DATA 0x05
    .byte 0xc9              ;a811  c9          DATA 0xc9
    .byte 0x20              ;a812  20          DATA 0x20 ' '
    .byte 0x90              ;a813  90          DATA 0x90
    .byte 0x15              ;a814  15          DATA 0x15
    .byte 0xc9              ;a815  c9          DATA 0xc9
    .byte 0x24              ;a816  24          DATA 0x24 '$'
    .byte 0xb0              ;a817  b0          DATA 0xb0
    .byte 0x11              ;a818  11          DATA 0x11
    .byte 0x38              ;a819  38          DATA 0x38 '8'
    .byte 0xe9              ;a81a  e9          DATA 0xe9
    .byte 0x20              ;a81b  20          DATA 0x20 ' '
    .byte 0x0a              ;a81c  0a          DATA 0x0a
    .byte 0x8d              ;a81d  8d          DATA 0x8d
    .byte 0xb8              ;a81e  b8          DATA 0xb8
    .byte 0x05              ;a81f  05          DATA 0x05
    .byte 0xa0              ;a820  a0          DATA 0xa0
    .byte 0x18              ;a821  18          DATA 0x18
    .byte 0x8c              ;a822  8c          DATA 0x8c
    .byte 0xaf              ;a823  af          DATA 0xaf
    .byte 0x01              ;a824  01          DATA 0x01
    .byte 0xa0              ;a825  a0          DATA 0xa0
    .byte 0x2c              ;a826  2c          DATA 0x2c ','
    .byte 0x20              ;a827  20          DATA 0x20 ' '
    .byte 0x00              ;a828  00          DATA 0x00
    .byte 0x33              ;a829  33          DATA 0x33 '3'
    .byte 0xa9              ;a82a  a9          DATA 0xa9
    .byte 0x00              ;a82b  00          DATA 0x00
    .byte 0x8d              ;a82c  8d          DATA 0x8d
    .byte 0xba              ;a82d  ba          DATA 0xba
    .byte 0x05              ;a82e  05          DATA 0x05
    .byte 0xae              ;a82f  ae          DATA 0xae
    .byte 0xb8              ;a830  b8          DATA 0xb8
    .byte 0x05              ;a831  05          DATA 0x05
    .byte 0xbd              ;a832  bd          DATA 0xbd
    .byte 0x10              ;a833  10          DATA 0x10
    .byte 0xac              ;a834  ac          DATA 0xac
    .byte 0x8d              ;a835  8d          DATA 0x8d
    .byte 0x35              ;a836  35          DATA 0x35 '5'
    .byte 0x03              ;a837  03          DATA 0x03
    .byte 0xbd              ;a838  bd          DATA 0xbd
    .byte 0x11              ;a839  11          DATA 0x11
    .byte 0xac              ;a83a  ac          DATA 0xac
    .byte 0x60              ;a83b  60          DATA 0x60 '`'
    .byte 0xa9              ;a83c  a9          DATA 0xa9
    .byte 0x00              ;a83d  00          DATA 0x00
    .byte 0x60              ;a83e  60          DATA 0x60 '`'
    .byte 0xa9              ;a83f  a9          DATA 0xa9
    .byte 0x00              ;a840  00          DATA 0x00
    .byte 0x60              ;a841  60          DATA 0x60 '`'
    .byte 0xa9              ;a842  a9          DATA 0xa9
    .byte 0x12              ;a843  12          DATA 0x12
    .byte 0x60              ;a844  60          DATA 0x60 '`'
    .byte 0xa9              ;a845  a9          DATA 0xa9
    .byte 0xf4              ;a846  f4          DATA 0xf4
    .byte 0x60              ;a847  60          DATA 0x60 '`'
    .byte 0xae              ;a848  ae          DATA 0xae
    .byte 0x74              ;a849  74          DATA 0x74 't'
    .byte 0x03              ;a84a  03          DATA 0x03
    .byte 0xbd              ;a84b  bd          DATA 0xbd
    .byte 0x0a              ;a84c  0a          DATA 0x0a
    .byte 0xac              ;a84d  ac          DATA 0xac
    .byte 0x60              ;a84e  60          DATA 0x60 '`'

;group reading: 0x50 advanced id 1 ("YD5-001 27.01.04")
sub_a84f:
    ;Fill the KWP1281 tx buffer with 40 spaces
    ldx #0x2c               ;a84f  a2 2c        X = 40 bytes to fill
    lda #0x20               ;a851  a9 20
lab_a853_loop:
    sta 0x0331,x            ;a853  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a856  ca           A = space character
    bpl lab_a853_loop       ;a857  10 fa

    ;Copy 19 bytes of advanced id block response into KWP1281 tx buffer
    ldx #0x12               ;a859  a2 12
lab_a85b_loop:
    lda advanced_id,x       ;a85b  bd 7e ff     A = byte from advanced id 1 response block
    sta 0x0331,x            ;a85e  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a861  ca
    bpl lab_a85b_loop       ;a862  10 f7

    ;The KWP1281 tx buffer now contains the template "YD5-001  --.--.--".
    ;Now we need to read the date from the EEPROM and write it into
    ;the buffer so it looks like "YD5-001  27.01.04"

    jsr read_ee_date        ;a864  20 4a a1     Read date from EEPROM, or a default

    ;Copy 2 character Day

    lda 0x0102              ;a867  ad 02 01     A = first char of day read from EEPROM
    sta 0x033e              ;a86a  8d 3e 03     Store it in KWP1281 tx buffer

    lda 0x0103              ;a86d  ad 03 01     A = second char of day read from EEPROM
    sta 0x033f              ;a870  8d 3f 03     Store it in KWP1281 tx buffer

    ;Copy 2 character Month

    lda 0x0104              ;a873  ad 04 01     A = first char of month read from EEPROM
    sta 0x0341              ;a876  8d 41 03     Store it in KWP1281 tx buffer

    lda 0x0105              ;a879  ad 05 01     A = second char of month read from EEPROM
    sta 0x0342              ;a87c  8d 42 03     Store it in KWP1281 tx buffer

    ;Copy 2 character Year

    lda 0x0106              ;a87f  ad 06 01     A = first char of year read from EEPROM
    sta 0x0344              ;a882  8d 44 03     Store it in KWP1281 tx buffer

    lda 0x0107              ;a885  ad 07 01     A = second char of year read from EEPROM
    sta 0x0345              ;a888  8d 45 03     Store it in KWP1281 tx buffer
    rts                     ;a88b  60

;group reading: 0x51 advanced id 2 ("VWZAZ3D2301808")
sub_a88c:
    ;Fill the KWP1281 tx buffer with 40 spaces
    ldx #0x2c               ;a88c  a2 2c        X = 40 bytes to fill
    lda #0x20               ;a88e  a9 20        A = space character
lab_a890_loop:
    sta 0x0331,x            ;a890  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a893  ca
    bpl lab_a890_loop       ;a894  10 fa

    ;Write 4 bytes to the KWP1281 tx buffer:
    ;  Block length, counter, title, formula 0x3f
    ldx #0x03               ;a896  a2 03
lab_a898_loop:
    lda advanced_id,x       ;a898  bd 7e ff     A = byte from advanced id response block
    sta 0x0331,x            ;a89b  9d 31 03     Store in KWP1281 tx buffer
    dex                     ;a89e  ca
    bpl lab_a898_loop       ;a89f  10 f7

    ;Read serial number or default
    jsr read_ee_serial_num  ;a8a1  20 7d a1     Read serial number from EEPROM, or a default if none

    ;Copy serial number into KWP1281 tx buffer
    ldx #0x0d               ;a8a4  a2 0d
lab_a8a6_loop:
    lda 0x0102,x            ;a8a6  bd 02 01     A = byte from serial number
    sta 0x0346,x            ;a8a9  9d 46 03     Store it in the KWP1281 tx buffer
    dex                     ;a8ac  ca
    bpl lab_a8a6_loop       ;a8ad  10 f7
    rts                     ;a8af  60

sub_a8b0:
    lda #0x04               ;a8b0  a9 04
    sta 0x0331              ;a8b2  8d 31 03
    lda #0x0a               ;a8b5  a9 0a
    sta 0x0333              ;a8b7  8d 33 03
    rts                     ;a8ba  60

sub_a8bb:
    bbc 0,0x65,lab_a8cb     ;a8bb  17 65 0d
    jsr sub_a303            ;a8be  20 03 a3
    ldy #0x2e               ;a8c1  a0 2e
    jsr sub_33c6            ;a8c3  20 c6 33
    bcs lab_a8cb            ;a8c6  b0 03
    jsr sub_85ce            ;a8c8  20 ce 85

lab_a8cb:
    rts                     ;a8cb  60

    .byte 0xa9              ;a8cc  a9          DATA 0xa9
    .byte 0xff              ;a8cd  ff          DATA 0xff
    .byte 0xac              ;a8ce  ac          DATA 0xac
    .byte 0xab              ;a8cf  ab          DATA 0xab
    .byte 0x02              ;a8d0  02          DATA 0x02
    .byte 0xf0              ;a8d1  f0          DATA 0xf0
    .byte 0x0d              ;a8d2  0d          DATA 0x0d
    .byte 0xae              ;a8d3  ae          DATA 0xae
    .byte 0x9b              ;a8d4  9b          DATA 0x9b
    .byte 0x02              ;a8d5  02          DATA 0x02
    .byte 0xe0              ;a8d6  e0          DATA 0xe0
    .byte 0x01              ;a8d7  01          DATA 0x01
    .byte 0x90              ;a8d8  90          DATA 0x90
    .byte 0x06              ;a8d9  06          DATA 0x06
    .byte 0xe0              ;a8da  e0          DATA 0xe0
    .byte 0x06              ;a8db  06          DATA 0x06
    .byte 0xb0              ;a8dc  b0          DATA 0xb0
    .byte 0x02              ;a8dd  02          DATA 0x02
    .byte 0xa9              ;a8de  a9          DATA 0xa9
    .byte 0x00              ;a8df  00          DATA 0x00
    .byte 0x60              ;a8e0  60          DATA 0x60 '`'
    .byte 0xa9              ;a8e1  a9          DATA 0xa9
    .byte 0x54              ;a8e2  54          DATA 0x54 'T'
    .byte 0x8d              ;a8e3  8d          DATA 0x8d
    .byte 0x01              ;a8e4  01          DATA 0x01
    .byte 0x01              ;a8e5  01          DATA 0x01
    .byte 0xa9              ;a8e6  a9          DATA 0xa9
    .byte 0x03              ;a8e7  03          DATA 0x03
    .byte 0x0a              ;a8e8  0a          DATA 0x0a
    .byte 0x09              ;a8e9  09          DATA 0x09
    .byte 0xa0              ;a8ea  a0          DATA 0xa0
    .byte 0x8d              ;a8eb  8d          DATA 0x8d
    .byte 0x00              ;a8ec  00          DATA 0x00
    .byte 0x01              ;a8ed  01          DATA 0x01
    .byte 0xa9              ;a8ee  a9          DATA 0xa9
    .byte 0x00              ;a8ef  00          DATA 0x00
    .byte 0x85              ;a8f0  85          DATA 0x85
    .byte 0x4c              ;a8f1  4c          DATA 0x4c 'L'
    .byte 0xa9              ;a8f2  a9          DATA 0xa9
    .byte 0x01              ;a8f3  01          DATA 0x01
    .byte 0x85              ;a8f4  85          DATA 0x85
    .byte 0x4d              ;a8f5  4d          DATA 0x4d 'M'
    .byte 0x3c              ;a8f6  3c          DATA 0x3c '<'
    .byte 0x02              ;a8f7  02          DATA 0x02
    .byte 0x4e              ;a8f8  4e          DATA 0x4e 'N'
    .byte 0x3c              ;a8f9  3c          DATA 0x3c '<'
    .byte 0x01              ;a8fa  01          DATA 0x01
    .byte 0x4f              ;a8fb  4f          DATA 0x4f 'O'
    .byte 0x20              ;a8fc  20          DATA 0x20 ' '
    .byte 0xe5              ;a8fd  e5          DATA 0xe5
    .byte 0x46              ;a8fe  46          DATA 0x46 'F'
    .byte 0xa9              ;a8ff  a9          DATA 0xa9
    .byte 0xff              ;a900  ff          DATA 0xff
    .byte 0xae              ;a901  ae          DATA 0xae
    .byte 0x02              ;a902  02          DATA 0x02
    .byte 0x01              ;a903  01          DATA 0x01
    .byte 0xe0              ;a904  e0          DATA 0xe0
    .byte 0x00              ;a905  00          DATA 0x00
    .byte 0xf0              ;a906  f0          DATA 0xf0
    .byte 0x02              ;a907  02          DATA 0x02
    .byte 0xa9              ;a908  a9          DATA 0xa9
    .byte 0x23              ;a909  23          DATA 0x23 '#'
    .byte 0x60              ;a90a  60          DATA 0x60 '`'
    .byte 0xa9              ;a90b  a9          DATA 0xa9
    .byte 0xff              ;a90c  ff          DATA 0xff
    .byte 0xac              ;a90d  ac          DATA 0xac
    .byte 0xa0              ;a90e  a0          DATA 0xa0
    .byte 0x02              ;a90f  02          DATA 0x02
    .byte 0xf0              ;a910  f0          DATA 0xf0
    .byte 0x0b              ;a911  0b          DATA 0x0b
    .byte 0xae              ;a912  ae          DATA 0xae
    .byte 0x90              ;a913  90          DATA 0x90
    .byte 0x02              ;a914  02          DATA 0x02
    .byte 0xbd              ;a915  bd          DATA 0xbd
    .byte 0x1a              ;a916  1a          DATA 0x1a
    .byte 0xac              ;a917  ac          DATA 0xac
    .byte 0xc0              ;a918  c0          DATA 0xc0
    .byte 0x32              ;a919  32          DATA 0x32 '2'
    .byte 0xf0              ;a91a  f0          DATA 0xf0
    .byte 0x01              ;a91b  01          DATA 0x01
    .byte 0xeb              ;a91c  eb          DATA 0xeb
    .byte 0x60              ;a91d  60          DATA 0x60 '`'
    .byte 0xa9              ;a91e  a9          DATA 0xa9
    .byte 0xff              ;a91f  ff          DATA 0xff
    .byte 0xac              ;a920  ac          DATA 0xac
    .byte 0xa1              ;a921  a1          DATA 0xa1
    .byte 0x02              ;a922  02          DATA 0x02
    .byte 0xf0              ;a923  f0          DATA 0xf0
    .byte 0x0b              ;a924  0b          DATA 0x0b
    .byte 0xae              ;a925  ae          DATA 0xae
    .byte 0x91              ;a926  91          DATA 0x91
    .byte 0x02              ;a927  02          DATA 0x02
    .byte 0xbd              ;a928  bd          DATA 0xbd
    .byte 0x1a              ;a929  1a          DATA 0x1a
    .byte 0xac              ;a92a  ac          DATA 0xac
    .byte 0xc0              ;a92b  c0          DATA 0xc0
    .byte 0x32              ;a92c  32          DATA 0x32 '2'
    .byte 0xf0              ;a92d  f0          DATA 0xf0
    .byte 0x01              ;a92e  01          DATA 0x01
    .byte 0xeb              ;a92f  eb          DATA 0xeb
    .byte 0x60              ;a930  60          DATA 0x60 '`'
    .byte 0xa9              ;a931  a9          DATA 0xa9
    .byte 0xff              ;a932  ff          DATA 0xff
    .byte 0xac              ;a933  ac          DATA 0xac
    .byte 0xa2              ;a934  a2          DATA 0xa2
    .byte 0x02              ;a935  02          DATA 0x02
    .byte 0xf0              ;a936  f0          DATA 0xf0
    .byte 0x0b              ;a937  0b          DATA 0x0b
    .byte 0xae              ;a938  ae          DATA 0xae
    .byte 0x92              ;a939  92          DATA 0x92
    .byte 0x02              ;a93a  02          DATA 0x02
    .byte 0xbd              ;a93b  bd          DATA 0xbd
    .byte 0x1a              ;a93c  1a          DATA 0x1a
    .byte 0xac              ;a93d  ac          DATA 0xac
    .byte 0xc0              ;a93e  c0          DATA 0xc0
    .byte 0x32              ;a93f  32          DATA 0x32 '2'
    .byte 0xf0              ;a940  f0          DATA 0xf0
    .byte 0x01              ;a941  01          DATA 0x01
    .byte 0xeb              ;a942  eb          DATA 0xeb
    .byte 0x60              ;a943  60          DATA 0x60 '`'
    .byte 0xa9              ;a944  a9          DATA 0xa9
    .byte 0xff              ;a945  ff          DATA 0xff
    .byte 0xac              ;a946  ac          DATA 0xac
    .byte 0xa3              ;a947  a3          DATA 0xa3
    .byte 0x02              ;a948  02          DATA 0x02
    .byte 0xf0              ;a949  f0          DATA 0xf0
    .byte 0x0b              ;a94a  0b          DATA 0x0b
    .byte 0xae              ;a94b  ae          DATA 0xae
    .byte 0x93              ;a94c  93          DATA 0x93
    .byte 0x02              ;a94d  02          DATA 0x02
    .byte 0xbd              ;a94e  bd          DATA 0xbd
    .byte 0x1a              ;a94f  1a          DATA 0x1a
    .byte 0xac              ;a950  ac          DATA 0xac
    .byte 0xc0              ;a951  c0          DATA 0xc0
    .byte 0x32              ;a952  32          DATA 0x32 '2'
    .byte 0xf0              ;a953  f0          DATA 0xf0
    .byte 0x01              ;a954  01          DATA 0x01
    .byte 0xeb              ;a955  eb          DATA 0xeb
    .byte 0x60              ;a956  60          DATA 0x60 '`'
    .byte 0xa9              ;a957  a9          DATA 0xa9
    .byte 0xff              ;a958  ff          DATA 0xff
    .byte 0xac              ;a959  ac          DATA 0xac
    .byte 0xa4              ;a95a  a4          DATA 0xa4
    .byte 0x02              ;a95b  02          DATA 0x02
    .byte 0xf0              ;a95c  f0          DATA 0xf0
    .byte 0x0b              ;a95d  0b          DATA 0x0b
    .byte 0xae              ;a95e  ae          DATA 0xae
    .byte 0x94              ;a95f  94          DATA 0x94
    .byte 0x02              ;a960  02          DATA 0x02
    .byte 0xbd              ;a961  bd          DATA 0xbd
    .byte 0x1f              ;a962  1f          DATA 0x1f
    .byte 0xac              ;a963  ac          DATA 0xac
    .byte 0xc0              ;a964  c0          DATA 0xc0
    .byte 0x32              ;a965  32          DATA 0x32 '2'
    .byte 0xf0              ;a966  f0          DATA 0xf0
    .byte 0x01              ;a967  01          DATA 0x01
    .byte 0xeb              ;a968  eb          DATA 0xeb
    .byte 0x60              ;a969  60          DATA 0x60 '`'
    .byte 0xa9              ;a96a  a9          DATA 0xa9
    .byte 0xff              ;a96b  ff          DATA 0xff
    .byte 0xac              ;a96c  ac          DATA 0xac
    .byte 0xa5              ;a96d  a5          DATA 0xa5
    .byte 0x02              ;a96e  02          DATA 0x02
    .byte 0xf0              ;a96f  f0          DATA 0xf0
    .byte 0x0b              ;a970  0b          DATA 0x0b
    .byte 0xae              ;a971  ae          DATA 0xae
    .byte 0x95              ;a972  95          DATA 0x95
    .byte 0x02              ;a973  02          DATA 0x02
    .byte 0xbd              ;a974  bd          DATA 0xbd
    .byte 0x1f              ;a975  1f          DATA 0x1f
    .byte 0xac              ;a976  ac          DATA 0xac
    .byte 0xc0              ;a977  c0          DATA 0xc0
    .byte 0x32              ;a978  32          DATA 0x32 '2'
    .byte 0xf0              ;a979  f0          DATA 0xf0
    .byte 0x01              ;a97a  01          DATA 0x01
    .byte 0xeb              ;a97b  eb          DATA 0xeb
    .byte 0x60              ;a97c  60          DATA 0x60 '`'
    .byte 0xa9              ;a97d  a9          DATA 0xa9
    .byte 0xff              ;a97e  ff          DATA 0xff
    .byte 0xac              ;a97f  ac          DATA 0xac
    .byte 0xa6              ;a980  a6          DATA 0xa6
    .byte 0x02              ;a981  02          DATA 0x02
    .byte 0xf0              ;a982  f0          DATA 0xf0
    .byte 0x0b              ;a983  0b          DATA 0x0b
    .byte 0xae              ;a984  ae          DATA 0xae
    .byte 0x96              ;a985  96          DATA 0x96
    .byte 0x02              ;a986  02          DATA 0x02
    .byte 0xbd              ;a987  bd          DATA 0xbd
    .byte 0x22              ;a988  22          DATA 0x22 '"'
    .byte 0xac              ;a989  ac          DATA 0xac
    .byte 0xc0              ;a98a  c0          DATA 0xc0
    .byte 0x32              ;a98b  32          DATA 0x32 '2'
    .byte 0xf0              ;a98c  f0          DATA 0xf0
    .byte 0x01              ;a98d  01          DATA 0x01
    .byte 0xeb              ;a98e  eb          DATA 0xeb
    .byte 0x60              ;a98f  60          DATA 0x60 '`'
    .byte 0xa9              ;a990  a9          DATA 0xa9
    .byte 0xff              ;a991  ff          DATA 0xff
    .byte 0x60              ;a992  60          DATA 0x60 '`'
    .byte 0xa9              ;a993  a9          DATA 0xa9
    .byte 0xff              ;a994  ff          DATA 0xff
    .byte 0xac              ;a995  ac          DATA 0xac
    .byte 0xa8              ;a996  a8          DATA 0xa8
    .byte 0x02              ;a997  02          DATA 0x02
    .byte 0xf0              ;a998  f0          DATA 0xf0
    .byte 0x07              ;a999  07          DATA 0x07
    .byte 0xa9              ;a99a  a9          DATA 0xa9
    .byte 0x24              ;a99b  24          DATA 0x24 '$'
    .byte 0xc0              ;a99c  c0          DATA 0xc0
    .byte 0x32              ;a99d  32          DATA 0x32 '2'
    .byte 0xf0              ;a99e  f0          DATA 0xf0
    .byte 0x01              ;a99f  01          DATA 0x01
    .byte 0xeb              ;a9a0  eb          DATA 0xeb
    .byte 0x60              ;a9a1  60          DATA 0x60 '`'
    .byte 0xa9              ;a9a2  a9          DATA 0xa9
    .byte 0xff              ;a9a3  ff          DATA 0xff
    .byte 0xac              ;a9a4  ac          DATA 0xac
    .byte 0xa7              ;a9a5  a7          DATA 0xa7
    .byte 0x02              ;a9a6  02          DATA 0x02
    .byte 0xf0              ;a9a7  f0          DATA 0xf0
    .byte 0x07              ;a9a8  07          DATA 0x07
    .byte 0xa9              ;a9a9  a9          DATA 0xa9
    .byte 0x31              ;a9aa  31          DATA 0x31 '1'
    .byte 0xc0              ;a9ab  c0          DATA 0xc0
    .byte 0x32              ;a9ac  32          DATA 0x32 '2'
    .byte 0xf0              ;a9ad  f0          DATA 0xf0
    .byte 0x01              ;a9ae  01          DATA 0x01
    .byte 0xeb              ;a9af  eb          DATA 0xeb
    .byte 0x60              ;a9b0  60          DATA 0x60 '`'

sub_a9b1:
    lda 0x02d2              ;a9b1  ad d2 02
    cmp #0x0f               ;a9b4  c9 0f
    bcc lab_a9c7            ;a9b6  90 0f
    bbs 1,0xef,lab_a9c7     ;a9b8  27 ef 0c
    lda 0x05c7              ;a9bb  ad c7 05
    bbc 6,a,lab_a9c7        ;a9be  d3 07
    lda #0x01               ;a9c0  a9 01
    ldx #0x07               ;a9c2  a2 07
    jsr sub_ab15            ;a9c4  20 15 ab

lab_a9c7:
    rts                     ;a9c7  60

    .byte 0xa9              ;a9c8  a9          DATA 0xa9
    .byte 0xff              ;a9c9  ff          DATA 0xff
    .byte 0xac              ;a9ca  ac          DATA 0xac
    .byte 0xaa              ;a9cb  aa          DATA 0xaa
    .byte 0x02              ;a9cc  02          DATA 0x02
    .byte 0xf0              ;a9cd  f0          DATA 0xf0
    .byte 0x16              ;a9ce  16          DATA 0x16
    .byte 0xad              ;a9cf  ad          DATA 0xad
    .byte 0xc7              ;a9d0  c7          DATA 0xc7
    .byte 0x05              ;a9d1  05          DATA 0x05
    .byte 0xa3              ;a9d2  a3          DATA 0xa3
    .byte 0x0a              ;a9d3  0a          DATA 0x0a
    .byte 0xa9              ;a9d4  a9          DATA 0xa9
    .byte 0x00              ;a9d5  00          DATA 0x00
    .byte 0x8d              ;a9d6  8d          DATA 0x8d
    .byte 0xaa              ;a9d7  aa          DATA 0xaa
    .byte 0x02              ;a9d8  02          DATA 0x02
    .byte 0x8d              ;a9d9  8d          DATA 0x8d
    .byte 0x9a              ;a9da  9a          DATA 0x9a
    .byte 0x02              ;a9db  02          DATA 0x02
    .byte 0x80              ;a9dc  80          DATA 0x80
    .byte 0xea              ;a9dd  ea          DATA 0xea
    .byte 0xa9              ;a9de  a9          DATA 0xa9
    .byte 0x31              ;a9df  31          DATA 0x31 '1'
    .byte 0xc0              ;a9e0  c0          DATA 0xc0
    .byte 0x32              ;a9e1  32          DATA 0x32 '2'
    .byte 0xf0              ;a9e2  f0          DATA 0xf0
    .byte 0x01              ;a9e3  01          DATA 0x01
    .byte 0xeb              ;a9e4  eb          DATA 0xeb
    .byte 0x60              ;a9e5  60          DATA 0x60 '`'

sub_a9e6:
    bbc 4,0xef,lab_a9f3     ;a9e6  97 ef 0a
    lda 0x05bd              ;a9e9  ad bd 05
    beq lab_aa13            ;a9ec  f0 25
    dec 0x05bd              ;a9ee  ce bd 05
    bra lab_aa13            ;a9f1  80 20

lab_a9f3:
    lda #0x00               ;a9f3  a9 00
    sta 0x05bc              ;a9f5  8d bc 05
    lda 0x05bd              ;a9f8  ad bd 05
    cmp #0x08               ;a9fb  c9 08
    bcs lab_aa13            ;a9fd  b0 14
    inc a                   ;a9ff  3a
    sta 0x05bd              ;aa00  8d bd 05
    cmp #0x08               ;aa03  c9 08
    bcc lab_aa13            ;aa05  90 0c
    lda 0x05c7              ;aa07  ad c7 05
    bbc 5,a,lab_aa13        ;aa0a  b3 07
    lda #0x01               ;aa0c  a9 01
    ldx #0x0a               ;aa0e  a2 0a
    jsr sub_ab15            ;aa10  20 15 ab

lab_aa13:
    rts                     ;aa13  60

    .byte 0xa9              ;aa14  a9          DATA 0xa9
    .byte 0xff              ;aa15  ff          DATA 0xff
    .byte 0xac              ;aa16  ac          DATA 0xac
    .byte 0xa9              ;aa17  a9          DATA 0xa9
    .byte 0x02              ;aa18  02          DATA 0x02
    .byte 0xf0              ;aa19  f0          DATA 0xf0
    .byte 0x16              ;aa1a  16          DATA 0x16
    .byte 0xad              ;aa1b  ad          DATA 0xad
    .byte 0xc7              ;aa1c  c7          DATA 0xc7
    .byte 0x05              ;aa1d  05          DATA 0x05
    .byte 0xa3              ;aa1e  a3          DATA 0xa3
    .byte 0x0a              ;aa1f  0a          DATA 0x0a
    .byte 0xa9              ;aa20  a9          DATA 0xa9
    .byte 0x00              ;aa21  00          DATA 0x00
    .byte 0x8d              ;aa22  8d          DATA 0x8d
    .byte 0xa9              ;aa23  a9          DATA 0xa9
    .byte 0x02              ;aa24  02          DATA 0x02
    .byte 0x8d              ;aa25  8d          DATA 0x8d
    .byte 0x99              ;aa26  99          DATA 0x99
    .byte 0x02              ;aa27  02          DATA 0x02
    .byte 0x80              ;aa28  80          DATA 0x80
    .byte 0xea              ;aa29  ea          DATA 0xea
    .byte 0xa9              ;aa2a  a9          DATA 0xa9
    .byte 0x25              ;aa2b  25          DATA 0x25 '%'
    .byte 0xc0              ;aa2c  c0          DATA 0xc0
    .byte 0x32              ;aa2d  32          DATA 0x32 '2'
    .byte 0xf0              ;aa2e  f0          DATA 0xf0
    .byte 0x01              ;aa2f  01          DATA 0x01
    .byte 0xeb              ;aa30  eb          DATA 0xeb
    .byte 0x60              ;aa31  60          DATA 0x60 '`'

sub_aa32:
    lda 0x0276              ;aa32  ad 76 02
    and #0x06               ;aa35  29 06
    cmp #0x06               ;aa37  c9 06
    beq lab_aa45            ;aa39  f0 0a
    lda 0x05bc              ;aa3b  ad bc 05
    beq lab_aa60            ;aa3e  f0 20
    dec 0x05bc              ;aa40  ce bc 05
    bra lab_aa60            ;aa43  80 1b

lab_aa45:
    lda 0x05bc              ;aa45  ad bc 05
    cmp #0x0a               ;aa48  c9 0a
    beq lab_aa60            ;aa4a  f0 14
    inc a                   ;aa4c  3a
    sta 0x05bc              ;aa4d  8d bc 05
    cmp #0x0a               ;aa50  c9 0a
    bcc lab_aa60            ;aa52  90 0c
    lda 0x05c7              ;aa54  ad c7 05
    bbc 5,a,lab_aa60        ;aa57  b3 07
    lda #0x01               ;aa59  a9 01
    ldx #0x09               ;aa5b  a2 09
    jsr sub_ab15            ;aa5d  20 15 ab

lab_aa60:
    rts                     ;aa60  60

    .byte 0xa9              ;aa61  a9          DATA 0xa9
    .byte 0x88              ;aa62  88          DATA 0x88
    .byte 0x60              ;aa63  60          DATA 0x60 '`'

sub_aa64:
    bbc 1,0xee,lab_aa78     ;aa64  37 ee 11

lab_aa67:
    lda 0x05be              ;aa67  ad be 05
    beq lab_aa71            ;aa6a  f0 05
    dec 0x05be              ;aa6c  ce be 05
    bne lab_aa9c            ;aa6f  d0 2b

lab_aa71:
    ldx #0x08               ;aa71  a2 08
    jsr sub_aae4            ;aa73  20 e4 aa
    bra lab_aa9c            ;aa76  80 24

lab_aa78:
    lda 0x02d2              ;aa78  ad d2 02
    cmp #0x1f               ;aa7b  c9 1f
    bcc lab_aa67            ;aa7d  90 e8
    lda 0x05be              ;aa7f  ad be 05
    cmp #0x0a               ;aa82  c9 0a
    bcc lab_aa8d            ;aa84  90 07
    ldx 0x02a8              ;aa86  ae a8 02
    cpx #0x32               ;aa89  e0 32
    bcs lab_aa9c            ;aa8b  b0 0f

lab_aa8d:
    inc a                   ;aa8d  3a
    sta 0x05be              ;aa8e  8d be 05
    cmp #0x0a               ;aa91  c9 0a
    bcc lab_aa9c            ;aa93  90 07
    lda #0x01               ;aa95  a9 01
    ldx #0x08               ;aa97  a2 08
    jsr sub_ab15            ;aa99  20 15 ab

lab_aa9c:
    lda 0x05bd              ;aa9c  ad bd 05
    bne lab_aaa6            ;aa9f  d0 05
    ldx #0x0a               ;aaa1  a2 0a
    jsr sub_aae4            ;aaa3  20 e4 aa

lab_aaa6:
    lda 0x05bc              ;aaa6  ad bc 05
    bne lab_aab0            ;aaa9  d0 05
    ldx #0x09               ;aaab  a2 09
    jsr sub_aae4            ;aaad  20 e4 aa

lab_aab0:
    ldx 0x05bf              ;aab0  ae bf 05
    lda 0x0268              ;aab3  ad 68 02
    cmp #0x59               ;aab6  c9 59
    bcc lab_aac6            ;aab8  90 0c
    cmp #0x67               ;aaba  c9 67
    bcc lab_aad9            ;aabc  90 1b
    txa                     ;aabe  8a
    beq lab_aad9            ;aabf  f0 18
    dec 0x05bf              ;aac1  ce bf 05
    bra lab_aad9            ;aac4  80 13

lab_aac6:
    cpx #0x0a               ;aac6  e0 0a
    bcs lab_aad9            ;aac8  b0 0f
    inx                     ;aaca  e8
    stx 0x05bf              ;aacb  8e bf 05
    cpx #0x0a               ;aace  e0 0a
    bcc lab_aad9            ;aad0  90 07
    lda #0x01               ;aad2  a9 01
    ldx #0x06               ;aad4  a2 06
    jsr sub_ab18            ;aad6  20 18 ab

lab_aad9:
    ldx 0x05bf              ;aad9  ae bf 05
    bne lab_aae3            ;aadc  d0 05
    ldx #0x06               ;aade  a2 06
    jsr sub_aae4            ;aae0  20 e4 aa

lab_aae3:
    rts                     ;aae3  60

sub_aae4:
    lda 0x02a0,x            ;aae4  bd a0 02
    cmp #0x32               ;aae7  c9 32
    bcc lab_aaef            ;aae9  90 04
    dec a                   ;aaeb  1a
    sta 0x02a0,x            ;aaec  9d a0 02

lab_aaef:
    rts                     ;aaef  60

;XXX appears unused
sub_aaf0:
    clc                     ;aaf0  18
    bbc 3,0x00f1,lab_aafa   ;aaf1  77 f1 06
    bbc 6,0x00f1,lab_aafa   ;aaf4  d7 f1 03
    jsr sub_32f3            ;aaf7  20 f3 32

lab_aafa:
    rts                     ;aafa  60

;XXX appears unused
sub_aafb:
    jsr sub_aaff            ;aafb  20 ff aa
    rts                     ;aafe  60

sub_aaff:
    clb 3,0x00f1            ;aaff  7f f1
    jsr sub_4c63            ;ab01  20 63 4c
    clb 5,0x00e7            ;ab04  bf e7
    lda 0x05c0              ;ab06  ad c0 05
    and #0xfe               ;ab09  29 fe
    sta 0x05c0              ;ab0b  8d c0 05
    sta 0x0102              ;ab0e  8d 02 01
    jsr sub_ab9d            ;ab11  20 9d ab
    rts                     ;ab14  60

sub_ab15:
    bbs 3,0xe6,lab_ab7d     ;ab15  67 e6 65

sub_ab18:
    cpx #0x0c               ;ab18  e0 0c
    bcs lab_ab7d            ;ab1a  b0 61
    pha                     ;ab1c  48
    sta 0x0290,x            ;ab1d  9d 90 02
    lda #0x32               ;ab20  a9 32
    sta 0x02a0,x            ;ab22  9d a0 02
    stx 0x0103              ;ab25  8e 03 01
    pla                     ;ab28  68
    jsr sub_ab35            ;ab29  20 35 ab
    clc                     ;ab2c  18
    lda 0x0103              ;ab2d  ad 03 01
    adc #0x0c               ;ab30  69 0c
    tax                     ;ab32  aa
    lda #0x32               ;ab33  a9 32

sub_ab35:
    pha                     ;ab35  48
    clc                     ;ab36  18
    txa                     ;ab37  8a
    adc #0x70               ;ab38  69 70
    sta 0x0101              ;ab3a  8d 01 01
    lda #0x03               ;ab3d  a9 03
    adc #0x00               ;ab3f  69 00
    asl a                   ;ab41  0a
    ora #0xa0               ;ab42  09 a0
    sta 0x0100              ;ab44  8d 00 01
    lda #0x00               ;ab47  a9 00
    sta 0x4c                ;ab49  85 4c
    lda #0x01               ;ab4b  a9 01
    sta 0x4d                ;ab4d  85 4d
    ldm #0x02,0x4e          ;ab4f  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;ab52  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;ab55  20 e5 46     Perform an I2C write-then-read transaction
    pla                     ;ab58  68
    cmp 0x0102              ;ab59  cd 02 01
    beq lab_ab7d            ;ab5c  f0 1f
    sta 0x0102              ;ab5e  8d 02 01
    lda #0x00               ;ab61  a9 00
    sta 0x4c                ;ab63  85 4c
    lda #0x01               ;ab65  a9 01
    sta 0x4d                ;ab67  85 4d
    ldm #0x01,0x4e          ;ab69  3c 01 4e
    ldm #0x00,0x4f          ;ab6c  3c 00 4f
    lda 0x0100              ;ab6f  ad 00 01
    lsr a                   ;ab72  4a
    sta 0x4b                ;ab73  85 4b
    lda 0x0101              ;ab75  ad 01 01
    sta 0x4a                ;ab78  85 4a
    jsr sub_4b4e_i2c_write  ;ab7a  20 4e 4b     TODO probably writes to an I2C device

lab_ab7d:
    rts                     ;ab7d  60

sub_ab7e:
    lda #0x09               ;ab7e  a9 09
    sta 0x0101              ;ab80  8d 01 01
    lda #0x00               ;ab83  a9 00
    asl a                   ;ab85  0a
    ora #0xa0               ;ab86  09 a0
    sta 0x0100              ;ab88  8d 00 01
    lda #0x00               ;ab8b  a9 00
    sta 0x4c                ;ab8d  85 4c
    lda #0x01               ;ab8f  a9 01
    sta 0x4d                ;ab91  85 4d
    ldm #0x02,0x4e          ;ab93  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;ab96  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;ab99  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;ab9c  60

sub_ab9d:
    lda #0x09               ;ab9d  a9 09
    sta 0x0101              ;ab9f  8d 01 01
    lda #0x00               ;aba2  a9 00
    asl a                   ;aba4  0a
    ora #0xa0               ;aba5  09 a0
    sta 0x0100              ;aba7  8d 00 01
    lda #0x00               ;abaa  a9 00
    sta 0x4c                ;abac  85 4c
    lda #0x01               ;abae  a9 01
    sta 0x4d                ;abb0  85 4d
    ldm #0x03,0x4e          ;abb2  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;abb5  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;abb8  20 e5 46     Perform an I2C write-then-read transaction

    ldy #0x0a               ;abbb  a0 0a
    jsr sub_f22c_delay      ;abbd  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;abc0  60

mem_abc1:
    .byte 0x12              ;abc1  12          DATA 0x12
    .byte 0x04              ;abc2  04          DATA 0x04
    .byte 0xe1              ;abc3  e1          DATA 0xe1
    .byte 0xa8              ;abc4  a8          DATA 0xa8
    .byte 0x6e              ;abc5  6e          DATA 0x6e 'n'
    .byte 0x03              ;abc6  03          DATA 0x03
    .byte 0x0b              ;abc7  0b          DATA 0x0b
    .byte 0xa9              ;abc8  a9          DATA 0xa9
    .byte 0x6f              ;abc9  6f          DATA 0x6f 'o'
    .byte 0x03              ;abca  03          DATA 0x03
    .byte 0x1e              ;abcb  1e          DATA 0x1e
    .byte 0xa9              ;abcc  a9          DATA 0xa9
    .byte 0x70              ;abcd  70          DATA 0x70 'p'
    .byte 0x03              ;abce  03          DATA 0x03
    .byte 0x31              ;abcf  31          DATA 0x31 '1'
    .byte 0xa9              ;abd0  a9          DATA 0xa9
    .byte 0x71              ;abd1  71          DATA 0x71 'q'
    .byte 0x03              ;abd2  03          DATA 0x03
    .byte 0x44              ;abd3  44          DATA 0x44 'D'
    .byte 0xa9              ;abd4  a9          DATA 0xa9
    .byte 0x58              ;abd5  58          DATA 0x58 'X'
    .byte 0x03              ;abd6  03          DATA 0x03
    .byte 0x57              ;abd7  57          DATA 0x57 'W'
    .byte 0xa9              ;abd8  a9          DATA 0xa9
    .byte 0x52              ;abd9  52          DATA 0x52 'R'
    .byte 0x03              ;abda  03          DATA 0x03
    .byte 0x6a              ;abdb  6a          DATA 0x6a 'j'
    .byte 0xa9              ;abdc  a9          DATA 0xa9
    .byte 0x9c              ;abdd  9c          DATA 0x9c
    .byte 0x02              ;abde  02          DATA 0x02
    .byte 0x7d              ;abdf  7d          DATA 0x7d '}'
    .byte 0xa9              ;abe0  a9          DATA 0xa9
    .byte 0x51              ;abe1  51          DATA 0x51 'Q'
    .byte 0x03              ;abe2  03          DATA 0x03
    .byte 0x93              ;abe3  93          DATA 0x93
    .byte 0xa9              ;abe4  a9          DATA 0xa9
    .byte 0x56              ;abe5  56          DATA 0x56 'V'
    .byte 0x03              ;abe6  03          DATA 0x03
    .byte 0xa2              ;abe7  a2          DATA 0xa2
    .byte 0xa9              ;abe8  a9          DATA 0xa9
    .byte 0x57              ;abe9  57          DATA 0x57 'W'
    .byte 0x03              ;abea  03          DATA 0x03
    .byte 0xc8              ;abeb  c8          DATA 0xc8
    .byte 0xa9              ;abec  a9          DATA 0xa9
    .byte 0x59              ;abed  59          DATA 0x59 'Y'
    .byte 0x03              ;abee  03          DATA 0x03
    .byte 0x14              ;abef  14          DATA 0x14
    .byte 0xaa              ;abf0  aa          DATA 0xaa
    .byte 0xff              ;abf1  ff          DATA 0xff
    .byte 0xff              ;abf2  ff          DATA 0xff
    .byte 0xcc              ;abf3  cc          DATA 0xcc
    .byte 0xa8              ;abf4  a8          DATA 0xa8
    .byte 0x38              ;abf5  38          DATA 0x38 '8'
    .byte 0x05              ;abf6  05          DATA 0x05
    .byte 0x90              ;abf7  90          DATA 0x90
    .byte 0xa9              ;abf8  a9          DATA 0xa9
    .byte 0x53              ;abf9  53          DATA 0x53 'S'
    .byte 0x03              ;abfa  03          DATA 0x03
    .byte 0x66              ;abfb  66          DATA 0x66 'f'
    .byte 0x22              ;abfc  22          DATA 0x22 '"'
    .byte 0xab              ;abfd  ab          DATA 0xab
    .byte 0x04              ;abfe  04          DATA 0x04
    .byte 0x66              ;abff  66          DATA 0x66 'f'
    .byte 0x22              ;ac00  22          DATA 0x22 '"'
    .byte 0xff              ;ac01  ff          DATA 0xff
    .byte 0xff              ;ac02  ff          DATA 0xff
    .byte 0x61              ;ac03  61          DATA 0x61 'a'
    .byte 0xaa              ;ac04  aa          DATA 0xaa
    .byte 0xc2              ;ac05  c2          DATA 0xc2
    .byte 0xf2              ;ac06  f2          DATA 0xf2
    .byte 0xf2              ;ac07  f2          DATA 0xf2
    .byte 0xf3              ;ac08  f3          DATA 0xf3
    .byte 0xf2              ;ac09  f2          DATA 0xf2
    .byte 0xc2              ;ac0a  c2          DATA 0xc2
    .byte 0xf2              ;ac0b  f2          DATA 0xf2
    .byte 0xf3              ;ac0c  f3          DATA 0xf3
    .byte 0x00              ;ac0d  00          DATA 0x00
    .byte 0x01              ;ac0e  01          DATA 0x01
    .byte 0x00              ;ac0f  00          DATA 0x00
    .byte 0x30              ;ac10  30          DATA 0x30 '0'
    .byte 0x30              ;ac11  30          DATA 0x30 '0'
    .byte 0x30              ;ac12  30          DATA 0x30 '0'
    .byte 0x31              ;ac13  31          DATA 0x31 '1'
    .byte 0x31              ;ac14  31          DATA 0x31 '1'
    .byte 0x30              ;ac15  30          DATA 0x30 '0'
    .byte 0x31              ;ac16  31          DATA 0x31 '1'
    .byte 0x31              ;ac17  31          DATA 0x31 '1'
    .byte 0x00              ;ac18  00          DATA 0x00
    .byte 0x00              ;ac19  00          DATA 0x00
    .byte 0xff              ;ac1a  ff          DATA 0xff
    .byte 0x1c              ;ac1b  1c          DATA 0x1c
    .byte 0x1d              ;ac1c  1d          DATA 0x1d
    .byte 0x24              ;ac1d  24          DATA 0x24 '$'
    .byte 0x2c              ;ac1e  2c          DATA 0x2c ','
    .byte 0xff              ;ac1f  ff          DATA 0xff
    .byte 0x1d              ;ac20  1d          DATA 0x1d
    .byte 0x24              ;ac21  24          DATA 0x24 '$'
    .byte 0xff              ;ac22  ff          DATA 0xff
    .byte 0x07              ;ac23  07          DATA 0x07
    .byte 0xff              ;ac24  ff          DATA 0xff
    .byte 0x31              ;ac25  31          DATA 0x31 '1'

mem_ac26:
    .byte 0x30              ;ac26  30          DATA 0x30 '0'
    .byte 0x39              ;ac27  39          DATA 0x39 '9'
    .byte 0x35              ;ac28  35          DATA 0x35 '5'
    .byte 0x32              ;ac29  32          DATA 0x32 '2'
    .byte 0x37              ;ac2a  37          DATA 0x37 '7'

    .byte 0xd7              ;ac2b  d7          DATA 0xd7
    .byte 0xf1              ;ac2c  f1          DATA 0xf1
    .byte 0x41              ;ac2d  41          DATA 0x41 'A'
    .byte 0x97              ;ac2e  97          DATA 0x97
    .byte 0xf1              ;ac2f  f1          DATA 0xf1
    .byte 0x3e              ;ac30  3e          DATA 0x3e '>'
    .byte 0x67              ;ac31  67          DATA 0x67 'g'
    .byte 0xf5              ;ac32  f5          DATA 0xf5
    .byte 0x33              ;ac33  33          DATA 0x33 '3'
    .byte 0x07              ;ac34  07          DATA 0x07
    .byte 0xfa              ;ac35  fa          DATA 0xfa
    .byte 0x22              ;ac36  22          DATA 0x22 '"'
    .byte 0x17              ;ac37  17          DATA 0x17
    .byte 0xfe              ;ac38  fe          DATA 0xfe
    .byte 0x05              ;ac39  05          DATA 0x05
    .byte 0x20              ;ac3a  20          DATA 0x20 ' '
    .byte 0x9b              ;ac3b  9b          DATA 0x9b
    .byte 0xad              ;ac3c  ad          DATA 0xad
    .byte 0xb0              ;ac3d  b0          DATA 0xb0
    .byte 0x21              ;ac3e  21          DATA 0x21 '!'
    .byte 0x37              ;ac3f  37          DATA 0x37 '7'
    .byte 0xe5              ;ac40  e5          DATA 0xe5
    .byte 0x04              ;ac41  04          DATA 0x04
    .byte 0x3f              ;ac42  3f          DATA 0x3f '?'
    .byte 0xe5              ;ac43  e5          DATA 0xe5
    .byte 0x80              ;ac44  80          DATA 0x80
    .byte 0x0e              ;ac45  0e          DATA 0x0e
    .byte 0xa0              ;ac46  a0          DATA 0xa0
    .byte 0x39              ;ac47  39          DATA 0x39 '9'
    .byte 0x20              ;ac48  20          DATA 0x20 ' '
    .byte 0xc6              ;ac49  c6          DATA 0xc6
    .byte 0x33              ;ac4a  33          DATA 0x33 '3'
    .byte 0xb0              ;ac4b  b0          DATA 0xb0
    .byte 0x07              ;ac4c  07          DATA 0x07
    .byte 0x0f              ;ac4d  0f          DATA 0x0f
    .byte 0xf4              ;ac4e  f4          DATA 0xf4
    .byte 0x20              ;ac4f  20          DATA 0x20 ' '
    .byte 0x49              ;ac50  49          DATA 0x49 'I'
    .byte 0xe3              ;ac51  e3          DATA 0xe3
    .byte 0x80              ;ac52  80          DATA 0x80
    .byte 0x0c              ;ac53  0c          DATA 0x0c
    .byte 0x20              ;ac54  20          DATA 0x20 ' '
    .byte 0xbf              ;ac55  bf          DATA 0xbf
    .byte 0x9a              ;ac56  9a          DATA 0x9a
    .byte 0x80              ;ac57  80          DATA 0x80
    .byte 0x07              ;ac58  07          DATA 0x07
    .byte 0xef              ;ac59  ef          DATA 0xef
    .byte 0xf4              ;ac5a  f4          DATA 0xf4
    .byte 0x20              ;ac5b  20          DATA 0x20 ' '
    .byte 0xd3              ;ac5c  d3          DATA 0xd3
    .byte 0xae              ;ac5d  ae          DATA 0xae
    .byte 0x6f              ;ac5e  6f          DATA 0x6f 'o'
    .byte 0xf5              ;ac5f  f5          DATA 0xf5
    .byte 0xa0              ;ac60  a0          DATA 0xa0
    .byte 0x16              ;ac61  16          DATA 0x16
    .byte 0x20              ;ac62  20          DATA 0x20 ' '
    .byte 0x00              ;ac63  00          DATA 0x00
    .byte 0x33              ;ac64  33          DATA 0x33 '3'
    .byte 0x80              ;ac65  80          DATA 0x80
    .byte 0x08              ;ac66  08          DATA 0x08
    .byte 0x20              ;ac67  20          DATA 0x20 ' '
    .byte 0x17              ;ac68  17          DATA 0x17
    .byte 0x2b              ;ac69  2b          DATA 0x2b '+'
    .byte 0x20              ;ac6a  20          DATA 0x20 ' '
    .byte 0x51              ;ac6b  51          DATA 0x51 'Q'
    .byte 0x2b              ;ac6c  2b          DATA 0x2b '+'
    .byte 0x7f              ;ac6d  7f          DATA 0x7f
    .byte 0xf5              ;ac6e  f5          DATA 0xf5
    .byte 0x60              ;ac6f  60          DATA 0x60 '`'

sub_ac70:
    bbs 0,0xee,lab_aca7     ;ac70  07 ee 34
    bbs 7,0xf0,lab_aca7     ;ac73  e7 f0 31
    bbs 0,0xf2,lab_aca7     ;ac76  07 f2 2e
    jsr sub_adff            ;ac79  20 ff ad
    bbs 1,0xee,lab_aca7     ;ac7c  27 ee 28
    bbs 7,0xf4,lab_ac9f     ;ac7f  e7 f4 1d
    bbs 3,0xf5,lab_aca7     ;ac82  67 f5 22
    bbc 0,0xf0,lab_aca7     ;ac85  17 f0 1f
    jsr sub_ad9b            ;ac88  20 9b ad
    seb 1,0xf3              ;ac8b  2f f3
    jsr sub_6f45            ;ac8d  20 45 6f
    jsr sub_597a            ;ac90  20 7a 59
    clb 1,0xf3              ;ac93  3f f3
    bbs 0,0xfa,lab_ac9d     ;ac95  07 fa 05
    seb 0,0xf4              ;ac98  0f f4
    jsr sub_e349            ;ac9a  20 49 e3

lab_ac9d:
    seb 6,0xf4              ;ac9d  cf f4

lab_ac9f:
    ldy #0x17               ;ac9f  a0 17
    jsr sub_3300            ;aca1  20 00 33
    sec                     ;aca4  38
    bra lab_acab            ;aca5  80 04

lab_aca7:
    jsr sub_ae94            ;aca7  20 94 ae
    clc                     ;acaa  18

lab_acab:
    rts                     ;acab  60

;XXX appears unused
sub_acac:
    bbs 7,0x00f4,lab_acb8   ;acac  e7 f4 09
    bbc 6,0x00f4,lab_acbd   ;acaf  d7 f4 0b
    jsr sub_6e61            ;acb2  20 61 6e
    jsr sub_aece            ;acb5  20 ce ae

lab_acb8:
    ldy #0x18               ;acb8  a0 18
    jsr sub_3300            ;acba  20 00 33

lab_acbd:
    rts                     ;acbd  60

;XXX appears unused
sub_acbe:
    bbs 7,0x00f4,lab_acd0   ;acbe  e7 f4 0f
    bbc 6,0x00f4,lab_ace9   ;acc1  d7 f4 25
    seb 1,0x00f6            ;acc4  2f f6
    bbc 1,0x00ee,lab_accb   ;acc6  37 ee 02
    clb 1,0x00f6            ;acc9  3f f6

lab_accb:
    seb 0,0x00f6            ;accb  0f f6
    jsr sub_6c83            ;accd  20 83 6c

lab_acd0:
    ldy #0x02               ;acd0  a0 02
    bbc 7,0x00f4,lab_acd7   ;acd2  f7 f4 02
    ldy #0x18               ;acd5  a0 18

lab_acd7:
    sty 0x02b2              ;acd7  8c b2 02
    ldy #0x03               ;acda  a0 03
    jsr sub_3300            ;acdc  20 00 33
    ldy #0x19               ;acdf  a0 19
    jsr sub_3300            ;ace1  20 00 33
    lda #0x00               ;ace4  a9 00
    sta 0x039c              ;ace6  8d 9c 03

lab_ace9:
    rts                     ;ace9  60

;XXX appears unused
sub_acea:
    bbs 6,0x00f1,lab_ad44   ;acea  c7 f1 57
    bbs 3,0x00e6,lab_ad44   ;aced  67 e6 54
    bbs 1,0x00e5,lab_ad44   ;acf0  27 e5 51
    bbs 1,0x00f3,lab_ad44   ;acf3  27 f3 4e
    ldm #0x00,0x0094        ;acf6  3c 00 94
    ldm #0x07,0x009e        ;acf9  3c 07 9e
    clb 0,0x00fa            ;acfc  1f fa
    clb 1,0x00fa            ;acfe  3f fa
    lda 0x031d              ;ad00  ad 1d 03
    bbs 0,a,lab_ad46        ;ad03  03 41
    clb 0,0x00f2            ;ad05  1f f2
    jsr sub_ad75            ;ad07  20 75 ad
    jsr sub_4e8a            ;ad0a  20 8a 4e
    jsr sub_4dd1            ;ad0d  20 d1 4d
    seb 1,0x00f3            ;ad10  2f f3
    jsr sub_59d9            ;ad12  20 d9 59
    clb 1,0x00f3            ;ad15  3f f3
    clb 0,0x00f9            ;ad17  1f f9
    clb 2,0x00f9            ;ad19  5f f9
    clb 1,0x00f9            ;ad1b  3f f9
    clb 2,0x00fd            ;ad1d  5f fd
    bbc 0,0x00fa,lab_ad25   ;ad1f  17 fa 03
    bbs 1,0x00fa,lab_ad32   ;ad22  27 fa 0d

lab_ad25:
    jsr sub_aeeb            ;ad25  20 eb ae
    clb 2,P2                ;ad28  5f 04
    clb 1,P8_P4I            ;ad2a  3f 10
    clb 2,P0                ;ad2c  5f 00
    clb 6,P0                ;ad2e  df 00
    bra lab_ad44            ;ad30  80 12

lab_ad32:
    seb 6,P0                ;ad32  cf 00
    ldy #0x14               ;ad34  a0 14
    jsr sub_f240            ;ad36  20 40 f2
    jsr sub_6fab            ;ad39  20 ab 6f
    jsr sub_c9f2            ;ad3c  20 f2 c9
    lda #0x3c               ;ad3f  a9 3c
    sta 0x02b0              ;ad41  8d b0 02

lab_ad44:
    bra lab_ad6c            ;ad44  80 26

lab_ad46:
    seb 1,0x00f3            ;ad46  2f f3
    jsr sub_59d9            ;ad48  20 d9 59
    clb 1,0x00f3            ;ad4b  3f f3
    clb 0,0x00f9            ;ad4d  1f f9
    clb 2,0x00f9            ;ad4f  5f f9
    clb 1,0x00f9            ;ad51  3f f9
    clb 2,0x00fd            ;ad53  5f fd
    bbc 0,0x00fa,lab_ad5d   ;ad55  17 fa 05
    bbs 1,0x00fa,lab_ad67   ;ad58  27 fa 0c
    bra lab_ad62            ;ad5b  80 05

lab_ad5d:
    dec 0x02b0              ;ad5d  ce b0 02
    bne lab_ad6c            ;ad60  d0 0a

lab_ad62:
    jsr sub_aea8            ;ad62  20 a8 ae
    bra lab_ad6c            ;ad65  80 05

lab_ad67:
    lda #0x3c               ;ad67  a9 3c
    sta 0x02b0              ;ad69  8d b0 02

lab_ad6c:
    ldy #0x19               ;ad6c  a0 19
    jsr sub_3300            ;ad6e  20 00 33
    ldm #0x00,0x009e        ;ad71  3c 00 9e
    rts                     ;ad74  60

sub_ad75:
    clb 2,0xe6              ;ad75  5f e6
    bbc 5,0xef,lab_ad7c     ;ad77  b7 ef 02
    seb 2,P0                ;ad7a  4f 00

lab_ad7c:
    bbc 5,0xf8,lab_ad7c     ;ad7c  b7 f8 fd
    clb 5,0xf8              ;ad7f  bf f8
    seb 1,P8_P4I            ;ad81  2f 10

lab_ad83:
    bbc 5,0xf8,lab_ad83     ;ad83  b7 f8 fd
    clb 5,0xf8              ;ad86  bf f8
    bbc 3,P4,lab_ad8d       ;ad88  77 08 02
    clb 2,0xe6              ;ad8b  5f e6

lab_ad8d:
    lda #0x09               ;ad8d  a9 09

lab_ad8f:
    bbc 5,0xf8,lab_ad8f     ;ad8f  b7 f8 fd
    clb 5,0xf8              ;ad92  bf f8
    bbs 2,0xe6,lab_ad9a     ;ad94  47 e6 03
    dec a                   ;ad97  1a
    bpl lab_ad8f            ;ad98  10 f5

lab_ad9a:
    rts                     ;ad9a  60

sub_ad9b:
    jsr sub_adff            ;ad9b  20 ff ad
    clc                     ;ad9e  18
    lda 0x02b1              ;ad9f  ad b1 02
    beq lab_adfe            ;ada2  f0 5a
    sta 0x71                ;ada4  85 71
    jsr sub_c9ce            ;ada6  20 ce c9
    clb 0,0xf3              ;ada9  1f f3
    clb 0,0xf9              ;adab  1f f9
    jsr sub_544b            ;adad  20 4b 54     Clears many registers
    jsr sub_44a7            ;adb0  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;adb3  20 0d 89
    lda #0x00               ;adb6  a9 00
    sta 0x90                ;adb8  85 90
    lda #0x00               ;adba  a9 00
    sta 0x91                ;adbc  85 91
    lda #0x00               ;adbe  a9 00
    sta 0x92                ;adc0  85 92
    lda #0x00               ;adc2  a9 00
    sta 0x93                ;adc4  85 93
    clb 3,0xfa              ;adc6  7f fa
    clb 2,0xf4              ;adc8  5f f4
    clb 6,0xfb              ;adca  df fb
    clb 2,0xfe              ;adcc  5f fe
    lda #0x00               ;adce  a9 00
    sta 0x05d1              ;add0  8d d1 05
    clb 0,0xf3              ;add3  1f f3
    ldm #0x00,0x5d          ;add5  3c 00 5d
    ldm #0x00,0x5c          ;add8  3c 00 5c
    ldm #0x00,0x50          ;addb  3c 00 50
    clb 2,0xfc              ;adde  5f fc
    bbs 6,0xf1,lab_ade9     ;ade0  c7 f1 06
    jsr sub_4dd1            ;ade3  20 d1 4d
    sec                     ;ade6  38
    bra lab_adfe            ;ade7  80 15

lab_ade9:
    jsr sub_7673            ;ade9  20 73 76
    jsr sub_4dd1            ;adec  20 d1 4d
    seb 0,0xf9              ;adef  0f f9
    jsr sub_437f            ;adf1  20 7f 43
    jsr sub_43b9            ;adf4  20 b9 43
    jsr sub_664a            ;adf7  20 4a 66
    jsr sub_7694            ;adfa  20 94 76
    sec                     ;adfd  38

lab_adfe:
    rts                     ;adfe  60

sub_adff:
    lda 0x02b1              ;adff  ad b1 02
    bne lab_ae27            ;ae02  d0 23
    bbc 0,0xfe,lab_ae22     ;ae04  17 fe 1b
    jsr sub_ae28            ;ae07  20 28 ae
    lda 0x05d2              ;ae0a  ad d2 05
    beq lab_ae22            ;ae0d  f0 13
    jsr sub_b1e2            ;ae0f  20 e2 b1
    bcc lab_ae22            ;ae12  90 0e
    jsr sub_b289            ;ae14  20 89 b2
    jsr sub_b2d5            ;ae17  20 d5 b2
    lda 0x05fc              ;ae1a  ad fc 05
    sta 0x02b1              ;ae1d  8d b1 02
    bra lab_ae27            ;ae20  80 05

lab_ae22:
    lda #0x00               ;ae22  a9 00
    sta 0x02b1              ;ae24  8d b1 02

lab_ae27:
    rts                     ;ae27  60

sub_ae28:
    lda 0x40                ;ae28  a5 40
    pha                     ;ae2a  48
    lda 0x41                ;ae2b  a5 41
    pha                     ;ae2d  48

lab_ae2e:
    lda #0x10               ;ae2e  a9 10
    sta 0x40                ;ae30  85 40
    lda #0x06               ;ae32  a9 06
    sta 0x41                ;ae34  85 41
    ldx #0x00               ;ae36  a2 00

lab_ae38:
    ldy #0x00               ;ae38  a0 00
    lda [0x40],y            ;ae3a  b1 40
    bbs 7,a,lab_ae65        ;ae3c  e3 27
    bbc 2,a,lab_ae65        ;ae3e  53 25
    lda 0x05d2              ;ae40  ad d2 05
    bne lab_ae54            ;ae43  d0 0f
    ldy #0x02               ;ae45  a0 02
    lda [0x40],y            ;ae47  b1 40
    sta 0x05d2              ;ae49  8d d2 05
    iny                     ;ae4c  c8
    lda [0x40],y            ;ae4d  b1 40
    sta 0x05d3              ;ae4f  8d d3 05
    bra lab_ae86            ;ae52  80 32

lab_ae54:
    lda 0x05d2              ;ae54  ad d2 05
    ldy #0x02               ;ae57  a0 02
    cmp [0x40],y            ;ae59  d1 40
    bne lab_ae65            ;ae5b  d0 08
    lda 0x05d3              ;ae5d  ad d3 05
    iny                     ;ae60  c8
    cmp [0x40],y            ;ae61  d1 40
    beq lab_ae86            ;ae63  f0 21

lab_ae65:
    clc                     ;ae65  18
    lda 0x40                ;ae66  a5 40
    adc #0x10               ;ae68  69 10
    sta 0x40                ;ae6a  85 40
    lda 0x41                ;ae6c  a5 41
    adc #0x00               ;ae6e  69 00
    sta 0x41                ;ae70  85 41
    inx                     ;ae72  e8
    cpx #0x18               ;ae73  e0 18
    bcc lab_ae38            ;ae75  90 c1
    lda 0x05d2              ;ae77  ad d2 05
    beq lab_ae86            ;ae7a  f0 0a
    lda #0x00               ;ae7c  a9 00
    sta 0x05d2              ;ae7e  8d d2 05
    sta 0x05d3              ;ae81  8d d3 05
    bra lab_ae2e            ;ae84  80 a8

lab_ae86:
    pla                     ;ae86  68
    sta 0x41                ;ae87  85 41
    pla                     ;ae89  68
    sta 0x40                ;ae8a  85 40
    rts                     ;ae8c  60

sub_ae8d:
    jsr sub_ae94            ;ae8d  20 94 ae
    jsr sub_ca36            ;ae90  20 36 ca
    rts                     ;ae93  60

sub_ae94:
    clb 6,0xf4              ;ae94  df f4
    clb 7,0xf4              ;ae96  ff f4
    lda #0x00               ;ae98  a9 00
    sta 0x02b2              ;ae9a  8d b2 02
    ldy #0x19               ;ae9d  a0 19
    jsr sub_3361            ;ae9f  20 61 33
    ldy #0x03               ;aea2  a0 03
    jsr sub_3361            ;aea4  20 61 33
    rts                     ;aea7  60

sub_aea8:
    jsr sub_c9ce            ;aea8  20 ce c9
    clb 6,P0                ;aeab  df 00
    clb 2,P2                ;aead  5f 04
    clb 1,P8_P4I            ;aeaf  3f 10
    clb 2,P0                ;aeb1  5f 00
    rts                     ;aeb3  60

sub_aeb4:
    clb 7,0xf4              ;aeb4  ff f4
    clb 3,0xf5              ;aeb6  7f f5
    ldy #0x16               ;aeb8  a0 16
    jsr sub_3300            ;aeba  20 00 33
    rts                     ;aebd  60

sub_aebe:
    clb 3,0xf5              ;aebe  7f f5
    ldy #0x16               ;aec0  a0 16
    jsr sub_3361            ;aec2  20 61 33
    rts                     ;aec5  60

sub_aec6:
    ldm #0x16,0x5b          ;aec6  3c 16 5b
    ldm #0x1f,0x5a          ;aec9  3c 1f 5a
    bra lab_aede            ;aecc  80 10

sub_aece:
    ldm #0x18,0x005b        ;aece  3c 18 5b
    bra lab_aedb            ;aed1  80 08

;XXX appears unused
sub_aed3:
    ldm #0x17,0x005b        ;aed3  3c 17 5b
    bra lab_aedb            ;aed6  80 03

sub_aed8:
    ldm #0x2c,0x5b          ;aed8  3c 2c 5b

lab_aedb:
    ldm #0x05,0x5a          ;aedb  3c 05 5a

lab_aede:
    jsr sub_672d            ;aede  20 2d 67
    jsr sub_686e            ;aee1  20 6e 68
    jsr sub_6cc0            ;aee4  20 c0 6c
    jsr sub_becf            ;aee7  20 cf be
    rts                     ;aeea  60

sub_aeeb:
    lda 0x039c              ;aeeb  ad 9c 03
    cmp #0xcd               ;aeee  c9 cd
    bcs lab_af67            ;aef0  b0 75
    lda 0x0071              ;aef2  a5 71
    pha                     ;aef4  48
    seb 6,P0                ;aef5  cf 00
    jsr sub_6f45            ;aef7  20 45 6f
    lda 0x039c              ;aefa  ad 9c 03
    sta 0x0071              ;aefd  85 71

lab_aeff:
    lda #0x01               ;aeff  a9 01
    sta 0x0078              ;af01  85 78
    lda #0x00               ;af03  a9 00
    sta 0x0079              ;af05  85 79
    ldm #0x02,0x0057        ;af07  3c 02 57
    jsr sub_43e9            ;af0a  20 e9 43
    lda 0x0071              ;af0d  a5 71
    sta 0x039c              ;af0f  8d 9c 03
    cmp #0xcd               ;af12  c9 cd
    bcs lab_af64            ;af14  b0 4e
    jsr sub_4dd1            ;af16  20 d1 4d
    ldy #0x02               ;af19  a0 02
    jsr sub_f22c_delay      ;af1b  20 2c f2
    lda #0x03               ;af1e  a9 03
    jsr sub_26d8            ;af20  20 d8 26
    cmp #0x2b               ;af23  c9 2b
    bcs lab_aeff            ;af25  b0 d8
    lda #0x02               ;af27  a9 02
    jsr sub_26d8            ;af29  20 d8 26
    jsr sub_51a7            ;af2c  20 a7 51
    cmp #0x03               ;af2f  c9 03
    bcc lab_aeff            ;af31  90 cc
    jsr sub_8e4d            ;af33  20 4d 8e
    bcs lab_aeff            ;af36  b0 c7
    jsr sub_6f45            ;af38  20 45 6f
    jsr sub_544b            ;af3b  20 4b 54
    lda #0x00               ;af3e  a9 00
    sta 0x0092              ;af40  85 92
    lda #0x00               ;af42  a9 00
    sta 0x0093              ;af44  85 93
    seb 1,0x00f3            ;af46  2f f3
    jsr sub_597a            ;af48  20 7a 59
    clb 1,0x00f3            ;af4b  3f f3
    lda 0x0092              ;af4d  a5 92
    sta 0x0090              ;af4f  85 90
    lda 0x0093              ;af51  a5 93
    sta 0x0091              ;af53  85 91
    seb 3,0x00f3            ;af55  6f f3
    jsr sub_def2            ;af57  20 f2 de
    clb 3,0x00f3            ;af5a  7f f3
    clb 0,0x00f9            ;af5c  1f f9
    clb 2,0x00f9            ;af5e  5f f9
    clb 1,0x00f9            ;af60  3f f9
    clb 2,0x00fd            ;af62  5f fd

lab_af64:
    pla                     ;af64  68
    sta 0x0071              ;af65  85 71

lab_af67:
    rts                     ;af67  60

sub_af68:
    ldy #0x0f               ;af68  a0 0f
    lda #0xcd               ;af6a  a9 cd

lab_af6c:
    sta 0x05fc,y            ;af6c  99 fc 05
    sta 0x05e0,y            ;af6f  99 e0 05
    dey                     ;af72  88
    bpl lab_af6c            ;af73  10 f7
    ldy #0x07               ;af75  a0 07
    lda #0x20               ;af77  a9 20

lab_af79:
    sta 0x05f4,y            ;af79  99 f4 05
    dey                     ;af7c  88
    bpl lab_af79            ;af7d  10 fa
    lda #0x00               ;af7f  a9 00
    sta 0x05f0              ;af81  8d f0 05
    sta 0x05f1              ;af84  8d f1 05
    sta 0x05e0              ;af87  8d e0 05
    sta 0x060d              ;af8a  8d 0d 06
    sta 0x060e              ;af8d  8d 0e 06
    clb 4,0xfe              ;af90  9f fe
    rts                     ;af92  60

sub_af93:
    ldy #0x7f               ;af93  a0 7f
    lda #0xff               ;af95  a9 ff

lab_af97:
    sta 0x0710,y            ;af97  99 10 07
    dey                     ;af9a  88
    bne lab_af97            ;af9b  d0 fa
    sta 0x0710,y            ;af9d  99 10 07

lab_afa0:
    sta 0x0610,y            ;afa0  99 10 06
    dey                     ;afa3  88
    bne lab_afa0            ;afa4  d0 fa
    sta 0x0610,y            ;afa6  99 10 06
    jsr sub_af68            ;afa9  20 68 af
    lda #0x00               ;afac  a9 00
    sta 0x05f2              ;afae  8d f2 05
    sta 0x05f3              ;afb1  8d f3 05
    ldy #0x30               ;afb4  a0 30
    jsr sub_3361            ;afb6  20 61 33
    rts                     ;afb9  60

sub_afba:
    lda 0x88                ;afba  a5 88
    sta 0x05dc              ;afbc  8d dc 05
    lda 0x89                ;afbf  a5 89
    sta 0x05dd              ;afc1  8d dd 05
    rts                     ;afc4  60

sub_afc5:
    lda 0x88                ;afc5  a5 88
    sta 0x05de              ;afc7  8d de 05
    lda 0x89                ;afca  a5 89
    sta 0x05df              ;afcc  8d df 05
    rts                     ;afcf  60

sub_afd0:
    bbs 5,0xfd,lab_aff4     ;afd0  a7 fd 21
    bbs 3,0xfe,lab_aff4     ;afd3  67 fe 1e
    lda 0x05dc              ;afd6  ad dc 05
    bbc 3,a,lab_aff7        ;afd9  73 1c
    seb 4,0xf9              ;afdb  8f f9
    lda 0x05dd              ;afdd  ad dd 05
    bbc 4,a,lab_aff4        ;afe0  93 12
    bbc 3,a,lab_aff2        ;afe2  73 0e
    seb 2,0xfe              ;afe4  4f fe
    lda 0x88                ;afe6  a5 88
    sta 0x05d2              ;afe8  8d d2 05
    lda 0x89                ;afeb  a5 89
    sta 0x05d3              ;afed  8d d3 05
    bra lab_aff4            ;aff0  80 02

lab_aff2:
    clb 2,0xfe              ;aff2  5f fe

lab_aff4:
    jmp lab_b087            ;aff4  4c 87 b0

lab_aff7:
    clb 4,0xf9              ;aff7  9f f9
    lda 0x05f2              ;aff9  ad f2 05
    beq lab_b014            ;affc  f0 16
    cmp 0x88                ;affe  c5 88
    bne lab_b009            ;b000  d0 07
    lda 0x05f3              ;b002  ad f3 05
    cmp 0x89                ;b005  c5 89
    beq lab_b014            ;b007  f0 0b

lab_b009:
    jsr sub_b135            ;b009  20 35 b1
    jsr sub_af68            ;b00c  20 68 af
    ldy #0x30               ;b00f  a0 30
    jsr sub_3361            ;b011  20 61 33

lab_b014:
    ldy #0x00               ;b014  a0 00
    lda 0x05dd              ;b016  ad dd 05
    bbc 4,a,lab_b01d        ;b019  93 02
    ldy #0x04               ;b01b  a0 04

lab_b01d:
    sty 0x05f0              ;b01d  8c f0 05
    and #0x0f               ;b020  29 0f
    sta 0x060c              ;b022  8d 0c 06
    lda 0x060c              ;b025  ad 0c 06
    cmp #0x04               ;b028  c9 04
    bcs lab_b03c            ;b02a  b0 10
    asl a                   ;b02c  0a
    tay                     ;b02d  a8
    lda 0x05de              ;b02e  ad de 05
    sta 0x05f4,y            ;b031  99 f4 05
    lda 0x05df              ;b034  ad df 05
    sta 0x05f5,y            ;b037  99 f5 05
    bra lab_b073            ;b03a  80 37

lab_b03c:
    cmp #0x04               ;b03c  c9 04
    bne lab_b045            ;b03e  d0 05
    jsr sub_b088            ;b040  20 88 b0
    bra lab_b073            ;b043  80 2e

lab_b045:
    cmp #0x09               ;b045  c9 09
    bcs lab_b058            ;b047  b0 0f
    lda 0x05de              ;b049  ad de 05
    cmp 0x71                ;b04c  c5 71
    bne lab_b073            ;b04e  d0 23
    lda 0x05df              ;b050  ad df 05
    jsr sub_b102            ;b053  20 02 b1
    bra lab_b073            ;b056  80 1b

lab_b058:
    cmp #0x0d               ;b058  c9 0d
    bne lab_b073            ;b05a  d0 17
    lda 0x05de              ;b05c  ad de 05
    lsr a                   ;b05f  4a
    lsr a                   ;b060  4a
    lsr a                   ;b061  4a
    sta 0x05f1              ;b062  8d f1 05
    cmp #0x1f               ;b065  c9 1f
    bne lab_b073            ;b067  d0 0a
    lda 0x88                ;b069  a5 88
    sta 0x05d2              ;b06b  8d d2 05
    lda 0x89                ;b06e  a5 89
    sta 0x05d3              ;b070  8d d3 05

lab_b073:
    lda 0x05f2              ;b073  ad f2 05
    bne lab_b07d            ;b076  d0 05
    ldy #0x30               ;b078  a0 30
    jsr sub_3300            ;b07a  20 00 33

lab_b07d:
    lda 0x88                ;b07d  a5 88
    sta 0x05f2              ;b07f  8d f2 05
    lda 0x89                ;b082  a5 89
    sta 0x05f3              ;b084  8d f3 05

lab_b087:
    rts                     ;b087  60

sub_b088:
    lda 0x05de              ;b088  ad de 05
    cmp #0xfa               ;b08b  c9 fa
    bcs lab_b0e0            ;b08d  b0 51
    cmp #0xe1               ;b08f  c9 e1
    bcc lab_b0b1            ;b091  90 1e
    sbc #0xe0               ;b093  e9 e0
    sta 0x060f              ;b095  8d 0f 06
    sta 0x05e0              ;b098  8d e0 05
    lda 0x05df              ;b09b  ad df 05
    sta 0x05e1              ;b09e  8d e1 05
    lda #0x01               ;b0a1  a9 01
    sta 0x060e              ;b0a3  8d 0e 06
    seb 4,0xfe              ;b0a6  8f fe
    lda 0x05e0              ;b0a8  ad e0 05
    cmp #0x01               ;b0ab  c9 01
    bne lab_b0e0            ;b0ad  d0 31
    bra lab_b0d6            ;b0af  80 25

lab_b0b1:
    bbc 4,0xfe,lab_b0e0     ;b0b1  97 fe 2c
    cmp #0xcd               ;b0b4  c9 cd
    bcs lab_b0e0            ;b0b6  b0 28
    ldy 0x060e              ;b0b8  ac 0e 06
    iny                     ;b0bb  c8
    lda 0x05de              ;b0bc  ad de 05
    sta 0x05e0,y            ;b0bf  99 e0 05
    cpy 0x060f              ;b0c2  cc 0f 06
    bcs lab_b0d6            ;b0c5  b0 0f
    iny                     ;b0c7  c8
    lda 0x05df              ;b0c8  ad df 05
    sta 0x05e0,y            ;b0cb  99 e0 05
    sty 0x060e              ;b0ce  8c 0e 06
    cpy 0x060f              ;b0d1  cc 0f 06
    bcc lab_b0e0            ;b0d4  90 0a

lab_b0d6:
    clb 4,0xfe              ;b0d6  9f fe
    lda 0x060f              ;b0d8  ad 0f 06
    beq lab_b0e0            ;b0db  f0 03
    jsr sub_b0e1            ;b0dd  20 e1 b0

lab_b0e0:
    rts                     ;b0e0  60

sub_b0e1:
    ldx #0x01               ;b0e1  a2 01
    stx 0x060e              ;b0e3  8e 0e 06

lab_b0e6:
    ldx 0x060e              ;b0e6  ae 0e 06
    lda 0x05e0,x            ;b0e9  bd e0 05
    cmp #0xcd               ;b0ec  c9 cd
    bcs lab_b0f3            ;b0ee  b0 03
    jsr sub_b102            ;b0f0  20 02 b1

lab_b0f3:
    ldx 0x060e              ;b0f3  ae 0e 06
    inx                     ;b0f6  e8
    stx 0x060e              ;b0f7  8e 0e 06
    cpx 0x060f              ;b0fa  ec 0f 06
    bcc lab_b0e6            ;b0fd  90 e7
    beq lab_b0e6            ;b0ff  f0 e5
    rts                     ;b101  60

sub_b102:
    ldy #0x00               ;b102  a0 00

lab_b104:
    cmp 0x05fc,y            ;b104  d9 fc 05
    beq lab_b133            ;b107  f0 2a
    iny                     ;b109  c8
    cpy 0x060d              ;b10a  cc 0d 06
    bcc lab_b104            ;b10d  90 f5
    ldy 0x060d              ;b10f  ac 0d 06
    cpy #0x10               ;b112  c0 10
    bcs lab_b131            ;b114  b0 1b
    cmp #0x01               ;b116  c9 01
    bcc lab_b131            ;b118  90 17
    cmp #0xcd               ;b11a  c9 cd
    bcs lab_b131            ;b11c  b0 13
    sta 0x05fc,y            ;b11e  99 fc 05
    lda 0x060d              ;b121  ad 0d 06
    inc a                   ;b124  3a
    cmp #0x10               ;b125  c9 10
    bcc lab_b12b            ;b127  90 02
    lda #0x10               ;b129  a9 10

lab_b12b:
    sta 0x060d              ;b12b  8d 0d 06
    sec                     ;b12e  38
    bra lab_b134            ;b12f  80 03

lab_b131:
    ldy #0xff               ;b131  a0 ff

lab_b133:
    clc                     ;b133  18

lab_b134:
    rts                     ;b134  60

sub_b135:
    lda 0x40                ;b135  a5 40
    pha                     ;b137  48
    lda 0x41                ;b138  a5 41
    pha                     ;b13a  48
    lda #0x10               ;b13b  a9 10
    sta 0x40                ;b13d  85 40
    lda #0x06               ;b13f  a9 06
    sta 0x41                ;b141  85 41
    ldx #0x00               ;b143  a2 00

lab_b145:
    ldy #0x00               ;b145  a0 00
    lda [0x40],y            ;b147  b1 40
    bbs 7,a,lab_b15c        ;b149  e3 11
    lda 0x05f2              ;b14b  ad f2 05
    ldy #0x02               ;b14e  a0 02
    cmp [0x40],y            ;b150  d1 40
    bne lab_b15c            ;b152  d0 08
    lda 0x05f3              ;b154  ad f3 05
    iny                     ;b157  c8
    cmp [0x40],y            ;b158  d1 40
    beq lab_b194            ;b15a  f0 38

lab_b15c:
    clc                     ;b15c  18
    lda 0x40                ;b15d  a5 40
    adc #0x10               ;b15f  69 10
    sta 0x40                ;b161  85 40
    lda 0x41                ;b163  a5 41
    adc #0x00               ;b165  69 00
    sta 0x41                ;b167  85 41
    inx                     ;b169  e8
    cpx #0x18               ;b16a  e0 18
    bcc lab_b145            ;b16c  90 d7
    lda #0x10               ;b16e  a9 10
    sta 0x40                ;b170  85 40
    lda #0x06               ;b172  a9 06
    sta 0x41                ;b174  85 41
    ldx #0x00               ;b176  a2 00
    ldy #0x00               ;b178  a0 00

lab_b17a:
    lda [0x40],y            ;b17a  b1 40
    bbc 7,a,lab_b180        ;b17c  f3 02
    bbs 6,a,lab_b194        ;b17e  c3 14

lab_b180:
    lda 0x40                ;b180  a5 40
    clc                     ;b182  18
    adc #0x10               ;b183  69 10
    sta 0x40                ;b185  85 40
    lda 0x41                ;b187  a5 41
    adc #0x00               ;b189  69 00
    sta 0x41                ;b18b  85 41
    inx                     ;b18d  e8
    cpx #0x18               ;b18e  e0 18
    bcc lab_b17a            ;b190  90 e8
    bra lab_b1d4            ;b192  80 40

lab_b194:
    ldy #0x00               ;b194  a0 00

lab_b196:
    lda 0x05f0,y            ;b196  b9 f0 05
    sta [0x40],y            ;b199  91 40
    iny                     ;b19b  c8
    cpy #0x10               ;b19c  c0 10
    bcc lab_b196            ;b19e  90 f6
    ldx #0x04               ;b1a0  a2 04
    lda 0x05fc,x            ;b1a2  bd fc 05
    cmp #0xcd               ;b1a5  c9 cd
    bcc lab_b1b5            ;b1a7  90 0c
    lda [0x40],y            ;b1a9  b1 40
    cmp #0x80               ;b1ab  c9 80
    bne lab_b1b3            ;b1ad  d0 04
    lda #0xff               ;b1af  a9 ff
    sta [0x40],y            ;b1b1  91 40

lab_b1b3:
    bra lab_b1d4            ;b1b3  80 1f

lab_b1b5:
    lda #0x80               ;b1b5  a9 80
    sta [0x40],y            ;b1b7  91 40
    iny                     ;b1b9  c8

lab_b1ba:
    lda 0x05fc,x            ;b1ba  bd fc 05
    cmp #0xcd               ;b1bd  c9 cd
    bcc lab_b1c3            ;b1bf  90 02
    lda #0xcd               ;b1c1  a9 cd

lab_b1c3:
    sta [0x40],y            ;b1c3  91 40
    inx                     ;b1c5  e8
    iny                     ;b1c6  c8
    cpx #0x10               ;b1c7  e0 10
    bcc lab_b1ba            ;b1c9  90 ef
    lda #0xcd               ;b1cb  a9 cd

lab_b1cd:
    sta [0x40],y            ;b1cd  91 40
    iny                     ;b1cf  c8
    cpy #0x20               ;b1d0  c0 20
    bcc lab_b1cd            ;b1d2  90 f9

lab_b1d4:
    bbc 2,0xfe,lab_b1db     ;b1d4  57 fe 04
    clb 2,0xfe              ;b1d7  5f fe
    clb 2,0xfa              ;b1d9  5f fa

lab_b1db:
    pla                     ;b1db  68
    sta 0x41                ;b1dc  85 41
    pla                     ;b1de  68
    sta 0x40                ;b1df  85 40
    rts                     ;b1e1  60

sub_b1e2:
    lda 0x40                ;b1e2  a5 40
    pha                     ;b1e4  48
    lda 0x41                ;b1e5  a5 41
    pha                     ;b1e7  48
    lda #0x10               ;b1e8  a9 10
    sta 0x40                ;b1ea  85 40
    lda #0x06               ;b1ec  a9 06
    sta 0x41                ;b1ee  85 41
    ldx #0x00               ;b1f0  a2 00

lab_b1f2:
    ldy #0x00               ;b1f2  a0 00
    lda [0x40],y            ;b1f4  b1 40
    bbs 7,a,lab_b20d        ;b1f6  e3 15
    bbc 2,a,lab_b20d        ;b1f8  53 13
    bra lab_b1fc            ;b1fa  80 00

lab_b1fc:
    lda 0x05d2              ;b1fc  ad d2 05
    ldy #0x02               ;b1ff  a0 02
    cmp [0x40],y            ;b201  d1 40
    bne lab_b20d            ;b203  d0 08
    lda 0x05d3              ;b205  ad d3 05
    iny                     ;b208  c8
    cmp [0x40],y            ;b209  d1 40
    beq lab_b221            ;b20b  f0 14

lab_b20d:
    lda 0x40                ;b20d  a5 40
    clc                     ;b20f  18
    adc #0x10               ;b210  69 10
    sta 0x40                ;b212  85 40
    lda 0x41                ;b214  a5 41
    adc #0x00               ;b216  69 00
    sta 0x41                ;b218  85 41
    inx                     ;b21a  e8
    cpx #0x18               ;b21b  e0 18
    bcc lab_b1f2            ;b21d  90 d3
    bra lab_b27f            ;b21f  80 5e

lab_b221:
    ldy #0x0c               ;b221  a0 0c
    ldx #0x00               ;b223  a2 00

lab_b225:
    lda [0x40],y            ;b225  b1 40
    cmp #0xcd               ;b227  c9 cd
    bcs lab_b24c            ;b229  b0 21
    sta 0x05fc,x            ;b22b  9d fc 05
    inx                     ;b22e  e8
    iny                     ;b22f  c8
    cpy #0x10               ;b230  c0 10
    bcc lab_b225            ;b232  90 f1
    lda [0x40],y            ;b234  b1 40
    and #0xc0               ;b236  29 c0
    cmp #0x80               ;b238  c9 80
    bne lab_b24c            ;b23a  d0 10
    iny                     ;b23c  c8

lab_b23d:
    lda [0x40],y            ;b23d  b1 40
    cmp #0xcd               ;b23f  c9 cd
    bcs lab_b24c            ;b241  b0 09
    sta 0x05fc,x            ;b243  9d fc 05
    inx                     ;b246  e8
    iny                     ;b247  c8
    cpy #0x1d               ;b248  c0 1d
    bcc lab_b23d            ;b24a  90 f1

lab_b24c:
    cpx #0x01               ;b24c  e0 01
    bcc lab_b27f            ;b24e  90 2f
    stx 0x060d              ;b250  8e 0d 06
    ldy #0x00               ;b253  a0 00
    lda [0x40],y            ;b255  b1 40
    clb 1,0xfe              ;b257  3f fe
    bbc 2,a,lab_b25d        ;b259  53 02
    seb 1,0xfe              ;b25b  2f fe

lab_b25d:
    ldy #0x01               ;b25d  a0 01
    lda [0x40],y            ;b25f  b1 40
    sta 0x05d1              ;b261  8d d1 05
    ldy #0x04               ;b264  a0 04
    ldx #0x00               ;b266  a2 00

lab_b268:
    lda [0x40],y            ;b268  b1 40
    sta 0x05d4,x            ;b26a  9d d4 05
    iny                     ;b26d  c8
    inx                     ;b26e  e8
    cpx #0x08               ;b26f  e0 08
    bcc lab_b268            ;b271  90 f5
    ldx 0x060d              ;b273  ae 0d 06
    lda 0x05fc              ;b276  ad fc 05
    sta 0x05d0              ;b279  8d d0 05
    sec                     ;b27c  38
    bra lab_b282            ;b27d  80 03

lab_b27f:
    lda #0xff               ;b27f  a9 ff
    clc                     ;b281  18

lab_b282:
    pla                     ;b282  68
    sta 0x41                ;b283  85 41
    pla                     ;b285  68
    sta 0x40                ;b286  85 40
    rts                     ;b288  60

sub_b289:
    lda 0x060d              ;b289  ad 0d 06
    beq lab_b2d4            ;b28c  f0 46
    cmp #0x10               ;b28e  c9 10
    bcs lab_b2d4            ;b290  b0 42
    lda 0x44                ;b292  a5 44
    pha                     ;b294  48
    lda 0x71                ;b295  a5 71
    pha                     ;b297  48
    ldm #0x00,0x44          ;b298  3c 00 44

lab_b29b:
    ldx 0x44                ;b29b  a6 44
    lda 0x05fc,x            ;b29d  bd fc 05
    cmp #0xcd               ;b2a0  c9 cd
    bcs lab_b2c2            ;b2a2  b0 1e
    sta 0x71                ;b2a4  85 71
    jsr sub_4dd1            ;b2a6  20 d1 4d

    ldy #0x04               ;b2a9  a0 04
    jsr sub_f22c_delay      ;b2ab  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_8eb2            ;b2ae  20 b2 8e
    jsr sub_51a7            ;b2b1  20 a7 51
    ldx 0x44                ;b2b4  a6 44
    sta 0x05e0,x            ;b2b6  9d e0 05
    lda 0x44                ;b2b9  a5 44
    inc a                   ;b2bb  3a
    sta 0x44                ;b2bc  85 44
    cmp #0x10               ;b2be  c9 10
    bcc lab_b29b            ;b2c0  90 d9

lab_b2c2:
    pla                     ;b2c2  68
    sta 0x71                ;b2c3  85 71
    jsr sub_4dd1            ;b2c5  20 d1 4d

    ldy #0x04               ;b2c8  a0 04
    jsr sub_f22c_delay      ;b2ca  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_8e1c            ;b2cd  20 1c 8e
    clc                     ;b2d0  18
    pla                     ;b2d1  68
    sta 0x44                ;b2d2  85 44

lab_b2d4:
    rts                     ;b2d4  60

sub_b2d5:
    lda 0x44                ;b2d5  a5 44
    pha                     ;b2d7  48
    lda 0x060d              ;b2d8  ad 0d 06
    cmp #0x02               ;b2db  c9 02
    bcc lab_b332            ;b2dd  90 53
    ldx #0x01               ;b2df  a2 01
    stx 0x060e              ;b2e1  8e 0e 06

lab_b2e4:
    ldx 0x060e              ;b2e4  ae 0e 06
    lda 0x05e0,x            ;b2e7  bd e0 05
    ldy #0x00               ;b2ea  a0 00

lab_b2ec:
    cmp 0x05e0,y            ;b2ec  d9 e0 05
    beq lab_b2f3            ;b2ef  f0 02
    bcs lab_b2fb            ;b2f1  b0 08

lab_b2f3:
    iny                     ;b2f3  c8
    cpy 0x060e              ;b2f4  cc 0e 06
    bcc lab_b2ec            ;b2f7  90 f3
    bra lab_b326            ;b2f9  80 2b

lab_b2fb:
    sty 0x44                ;b2fb  84 44
    lda 0x05fc,x            ;b2fd  bd fc 05
    sta 0x016a              ;b300  8d 6a 01
    lda 0x05e0,x            ;b303  bd e0 05
    sta 0x018a              ;b306  8d 8a 01

lab_b309:
    lda 0x05fb,x            ;b309  bd fb 05
    sta 0x05fc,x            ;b30c  9d fc 05
    lda 0x05df,x            ;b30f  bd df 05
    sta 0x05e0,x            ;b312  9d e0 05
    dex                     ;b315  ca
    cpx 0x44                ;b316  e4 44
    bne lab_b309            ;b318  d0 ef
    lda 0x018a              ;b31a  ad 8a 01
    sta 0x05e0,x            ;b31d  9d e0 05
    lda 0x016a              ;b320  ad 6a 01
    sta 0x05fc,x            ;b323  9d fc 05

lab_b326:
    ldx 0x060e              ;b326  ae 0e 06
    inx                     ;b329  e8
    stx 0x060e              ;b32a  8e 0e 06
    cpx 0x060d              ;b32d  ec 0d 06
    bcc lab_b2e4            ;b330  90 b2

lab_b332:
    lda 0x05e0              ;b332  ad e0 05
    cmp #0x03               ;b335  c9 03
    pla                     ;b337  68
    sta 0x44                ;b338  85 44
    rts                     ;b33a  60

sub_b33b:
    clb 0,0xf9              ;b33b  1f f9
    clb 1,0xf9              ;b33d  3f f9
    clb 2,0xf9              ;b33f  5f f9
    clb 2,0xfd              ;b341  5f fd
    seb 3,0xfe              ;b343  6f fe
    lda 0x05d2              ;b345  ad d2 05
    sta 0x90                ;b348  85 90
    lda 0x05d3              ;b34a  ad d3 05
    sta 0x91                ;b34d  85 91
    lda 0x90                ;b34f  a5 90
    sta 0x92                ;b351  85 92
    lda 0x91                ;b353  a5 91
    sta 0x93                ;b355  85 93
    lda 0x71                ;b357  a5 71
    sta 0x9f                ;b359  85 9f
    lda 0x05d0              ;b35b  ad d0 05
    sta 0x71                ;b35e  85 71
    jsr sub_4dd1            ;b360  20 d1 4d
    jsr sub_b3e2            ;b363  20 e2 b3
    clb 2,0xfb              ;b366  5f fb
    ldm #0x08,0x9c          ;b368  3c 08 9c
    ldm #0x05,0x9d          ;b36b  3c 05 9d
    seb 0,0xfa              ;b36e  0f fa
    seb 1,0xfa              ;b370  2f fa
    clb 0,0xfe              ;b372  1f fe
    bra lab_b376            ;b374  80 00

lab_b376:
    ldy #0x04               ;b376  a0 04
    jsr sub_f22c_delay      ;b378  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_51d8            ;b37b  20 d8 51
    ldm #0x64,0xb5          ;b37e  3c 64 b5
    clb 4,0xfb              ;b381  9f fb
    seb 5,0xfd              ;b383  af fd
    seb 0,0xf9              ;b385  0f f9
    rts                     ;b387  60

sub_b388:
    clb 0,0xf9              ;b388  1f f9
    clb 1,0xf9              ;b38a  3f f9
    clb 2,0xf9              ;b38c  5f f9
    clb 2,0xfd              ;b38e  5f fd
    clb 3,0xfe              ;b390  7f fe
    lda 0xb2                ;b392  a5 b2
    sta 0x90                ;b394  85 90
    lda 0xb3                ;b396  a5 b3
    sta 0x91                ;b398  85 91
    lda 0x90                ;b39a  a5 90
    sta 0x92                ;b39c  85 92
    lda 0x91                ;b39e  a5 91
    sta 0x93                ;b3a0  85 93
    lda 0x9f                ;b3a2  a5 9f
    sta 0x71                ;b3a4  85 71
    jsr sub_4dd1            ;b3a6  20 d1 4d
    jsr sub_b3e2            ;b3a9  20 e2 b3
    ldm #0x00,0x9c          ;b3ac  3c 00 9c
    ldm #0x05,0x9d          ;b3af  3c 05 9d
    clb 0,0xfa              ;b3b2  1f fa
    seb 1,0xfa              ;b3b4  2f fa
    seb 0,0xfe              ;b3b6  0f fe
    clb 2,0xfe              ;b3b8  5f fe
    clb 2,0xfa              ;b3ba  5f fa
    seb 6,0xfe              ;b3bc  cf fe
    ldy #0x31               ;b3be  a0 31
    jsr sub_3300            ;b3c0  20 00 33

    ldy #0x04               ;b3c3  a0 04
    jsr sub_f22c_delay      ;b3c5  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_51d8            ;b3c8  20 d8 51
    seb 0,0xf9              ;b3cb  0f f9
    rts                     ;b3cd  60

    .byte 0xc7              ;b3ce  c7          DATA 0xc7
    .byte 0xfe              ;b3cf  fe          DATA 0xfe
    .byte 0x0e              ;b3d0  0e          DATA 0x0e
    .byte 0x47              ;b3d1  47          DATA 0x47 'G'
    .byte 0xfe              ;b3d2  fe          DATA 0xfe
    .byte 0x04              ;b3d3  04          DATA 0x04
    .byte 0x5f              ;b3d4  5f          DATA 0x5f '_'
    .byte 0xfa              ;b3d5  fa          DATA 0xfa
    .byte 0x80              ;b3d6  80          DATA 0x80
    .byte 0x09              ;b3d7  09          DATA 0x09
    .byte 0x4f              ;b3d8  4f          DATA 0x4f 'O'
    .byte 0xfa              ;b3d9  fa          DATA 0xfa
    .byte 0x20              ;b3da  20          DATA 0x20 ' '
    .byte 0xbb              ;b3db  bb          DATA 0xbb
    .byte 0x45              ;b3dc  45          DATA 0x45 'E'
    .byte 0x80              ;b3dd  80          DATA 0x80
    .byte 0x02              ;b3de  02          DATA 0x02
    .byte 0xdf              ;b3df  df          DATA 0xdf
    .byte 0xfe              ;b3e0  fe          DATA 0xfe
    .byte 0x60              ;b3e1  60          DATA 0x60 '`'

sub_b3e2:
    ldy #0x07               ;b3e2  a0 07
    bbc 2,0xfb,lab_b3ee     ;b3e4  57 fb 07
    lda 0x0140              ;b3e7  ad 40 01
    seb 7,a                 ;b3ea  eb
    sta 0x0140              ;b3eb  8d 40 01

lab_b3ee:
    clb 2,0xfb              ;b3ee  5f fb
    lda 0x05d4              ;b3f0  ad d4 05
    bbc 7,a,lab_b3f7        ;b3f3  f3 02
    seb 2,0xfb              ;b3f5  4f fb

lab_b3f7:
    ldx 0x0140,y            ;b3f7  be 40 01
    lda 0x05d4,y            ;b3fa  b9 d4 05
    and #0x7f               ;b3fd  29 7f
    sta 0x0140,y            ;b3ff  99 40 01
    txa                     ;b402  8a
    sta 0x05d4,y            ;b403  99 d4 05
    lda #0x00               ;b406  a9 00
    sta 0x0138,y            ;b408  99 38 01
    dey                     ;b40b  88
    bpl lab_b3f7            ;b40c  10 e9
    rts                     ;b40e  60

;Terminate KWP1281 or TechniSat session
sub_b40f_disconnect:
    clb 7,SIO1CON           ;b40f  ff 1a        Serial I/O1 enabled bit = disabled
    seb 5,P4                ;b411  af 08
    clb 7,P4                ;b413  ff 08
    ldm #0x40,BRG           ;b415  3c 40 1c     Baud rate = 9600 bps
    lda #0x00               ;b418  a9 00
    sta 0x05b1              ;b41a  8d b1 05
    sta 0x05b2              ;b41d  8d b2 05
    sta 0x05a7              ;b420  8d a7 05
    sta 0x05a6              ;b423  8d a6 05
    sta 0x05a8              ;b426  8d a8 05
    sta 0x05a9              ;b429  8d a9 05
    sta 0x05ab              ;b42c  8d ab 05
    sta 0x05aa              ;b42f  8d aa 05
    sta 0x05a3              ;b432  8d a3 05
    sta 0x05a2              ;b435  8d a2 05
    sta 0x05b9              ;b438  8d b9 05
    lda #0x01               ;b43b  a9 01
    sta 0x05af              ;b43d  8d af 05
    lda #0xff               ;b440  a9 ff
    sta 0x05b0              ;b442  8d b0 05
    lda #0x08               ;b445  a9 08
    sta 0x05b8              ;b447  8d b8 05
    clb 0,0xe8              ;b44a  1f e8
    clb 1,0xe8              ;b44c  3f e8
    clb 6,0xe5              ;b44e  df e5
    clb 3,0xe8              ;b450  7f e8
    clb 3,0xe7              ;b452  7f e7
    clb 0,0xe7              ;b454  1f e7
    clb 1,0xe7              ;b456  3f e7
    seb 2,0xe8              ;b458  4f e8
    rts                     ;b45a  60

;KWP1281 0x09 Acknowledge
kwp_09_ack:
    ldx #0x03               ;b45b  a2 03        block length
    lda #0x09               ;b45d  a9 09        A = block title 0x09 (Acknowledge)
    bra lab_b470            ;b45f  80 0f

kwp_send_nak:
    lda 0x05ae              ;b461  ad ae 05
    bra lab_b469            ;b464  80 03

;KWP1281 7f ?
kwp_7f_unknown_nak:
    lda 0x0321              ;b466  ad 21 03     A = uart rx buffer byte 1

lab_b469:
    sta 0x0334              ;b469  8d 34 03
    ldx #0x04               ;b46c  a2 04        block length
    lda #0x0a               ;b46e  a9 0a        A = block title 0x0A (No Acknowledge)

lab_b470:
    stx 0x0331              ;b470  8e 31 03     Store X in KWP1281 tx buffer: block length
    sta 0x0333              ;b473  8d 33 03     Store A in KWP1281 tx buffer: block title
    lda #0x00               ;b476  a9 00
    sta 0x05b7              ;b478  8d b7 05
    jsr kwp_send_tx_buf     ;b47b  20 9f b6     Send the block in the KWP1281 tx buffer
    rts                     ;b47e  60

sub_b47f:
    lda 0x05b3              ;b47f  ad b3 05     A = block title
    cmp #0x29               ;b482  c9 29        Is it 0x29 group reading?
    bne lab_b491            ;b484  d0 0b          No: branch to b491
    lda 0x0323              ;b486  ad 23 03     A = group number
    cmp #0x01               ;b489  c9 01        Is it group 1?
    bne lab_b491            ;b48b  d0 04          No: branch to b491
    seb 3,0xe7              ;b48d  6f e7        TODO looks interesting
    bra lab_b493            ;b48f  80 02

lab_b491:
    clb 3,0xe7              ;b491  7f e7

lab_b493:
    lda 0x05b7              ;b493  ad b7 05
    bne lab_b49d            ;b496  d0 05
    lda #0xff               ;b498  a9 ff
    sta 0x05b7              ;b49a  8d b7 05

lab_b49d:
    ldx #0xff               ;b49d  a2 ff

lab_b49f:
    inx                     ;b49f  e8
    lda mem_b4c1,x          ;b4a0  bd c1 b4     A = KWP1281 block title from table
    bmi lab_b4b9            ;b4a3  30 14        Branch if end of table reached

    cmp 0x05b3              ;b4a5  cd b3 05     Compare to block title received
    bne lab_b49f            ;b4a8  d0 f5        Keep going if not a match

    ;block title found in table
    txa                     ;b4aa  8a
    asl a                   ;b4ab  0a
    tax                     ;b4ac  aa
    lda mem_b4db,x          ;b4ad  bd db b4     Set up pointer to handler
    sta 0xc0                ;b4b0  85 c0
    lda mem_b4db+1,x        ;b4b2  bd dc b4
    sta 0xc1                ;b4b5  85 c1
    jmp [0xc0]              ;b4b7  b2 c0        Jump to handler

    ;end of table: block title not found
lab_b4b9:
    lda #0x00               ;b4b9  a9 00
    sta 0x05b7              ;b4bb  8d b7 05
    jmp kwp_send_nak        ;b4be  4c 61 b4     Send NAK response block

;KWP1281 Block Titles
mem_b4c1:
    .byte 0x00              ;b4c1  00          DATA 0x00        read identification
    .byte 0x01              ;b4c2  01          DATA 0x01        protected: read ram
    .byte 0x02              ;b4c3  02          DATA 0x02        protected: write ram
    .byte 0x03              ;b4c4  03          DATA 0x03        protected: read rom/eeprom
    .byte 0x04              ;b4c5  04          DATA 0x04        output tests
    .byte 0x05              ;b4c6  05          DATA 0x05        clear faults
    .byte 0x06              ;b4c7  06          DATA 0x06        disconnect
    .byte 0x07              ;b4c8  07          DATA 0x07        read faults
    .byte 0x08              ;b4c9  08          DATA 0x08        nak: single reading
    .byte 0x09              ;b4ca  09          DATA 0x09        ack
    .byte 0x0c              ;b4cb  0c          DATA 0x0c        nak: write eeprom
    .byte 0x10              ;b4cc  10          DATA 0x10        recoding
    .byte 0x11              ;b4cd  11          DATA 0x11        nak: basic setting read
    .byte 0x12              ;b4ce  12          DATA 0x12        nak: ?
    .byte 0x19              ;b4cf  19          DATA 0x19        read eeprom
    .byte 0x1a              ;b4d0  1a          DATA 0x1a        nak: write eeprom
    .byte 0x1b              ;b4d1  1b          DATA 0x1b        nak: custom
    .byte 0x21              ;b4d2  21          DATA 0x21 '!'    nak: adaptation read
    .byte 0x22              ;b4d3  22          DATA 0x22 '"'    nak: adaptation transfer
    .byte 0x27              ;b4d4  27          DATA 0x27 '''    nak: ?
    .byte 0x28              ;b4d5  28          DATA 0x28 '('    basic setting
    .byte 0x29              ;b4d6  29          DATA 0x29 ')'    group reading
    .byte 0x2a              ;b4d7  2a          DATA 0x2a '*'    nak: adaptation save
    .byte 0x2b              ;b4d8  2b          DATA 0x2b '+'    login
    .byte 0x7f              ;b4d9  7f          DATA 0x7f        ???
    .byte 0xff              ;b4da  ff          DATA 0xff

;KWP1281 Block Title Handlers
;same order as table mem_b4c1
mem_b4db:
    .word kwp_00_read_id        ;b4db  ae a1       VECTOR   title=0x00  read identification
    .word kwp_01_read_ram       ;b4dd  47 a2       VECTOR   title=0x01  protected: read ram
    .word kwp_02_write_ram      ;b4df  98 a2       VECTOR   title=0x02  protected: nak: write ram
    .word kwp_03_read_rom       ;b4e1  36 a2       VECTOR   title=0x03  protected: read rom/eeprom
    .word kwp_04_output_tests   ;b4e3  9f a2       VECTOR   title=0x04  output tests
    .word kwp_05_clear_faults   ;b4e5  53 a3       VECTOR   title=0x05  clear faults
    .word kwp_06_disconnect     ;b4e7  33 9f       VECTOR   title=0x06  disconnect
    .word kwp_07_read_faults    ;b4e9  d6 a3       VECTOR   title=0x07  read faults
    .word kwp_08_single_meas    ;b4eb  5f a4       VECTOR   title=0x08  nak: single reading
    .word kwp_09_ack            ;b4ed  5b b4       VECTOR   title=0x09  ack
    .word kwp_0c_write_eeprom   ;b4ef  67 a4       VECTOR   title=0x0c  nak: write eeprom
    .word kwp_10_recoding       ;b4f1  6b a4       VECTOR   title=0x10  recoding
    .word kwp_11_basic_read_nak ;b4f3  85 a4       VECTOR   title=0x11  nak: basic setting read
    .word kwp_12_unknown_nak    ;b4f5  89 a4       VECTOR   title=0x12  nak: ?
    .word kwp_19_read_eeprom    ;b4f7  8d a4       VECTOR   title=0x19  protected: read eeprom
    .word kwp_1a_write_eeprom   ;b4f9  cf a4       VECTOR   title=0x1a  nak: write eeprom
    .word kwp_1b_unknown_nak    ;b4fb  1c a5       VECTOR   title=0x1b  nak: custom
    .word kwp_21_adp_read_nak   ;b4fd  20 a5       VECTOR   title=0x21  nak: adaptation read
    .word kwp_22_adp_tran_nak   ;b4ff  24 a5       VECTOR   title=0x22  nak: adaptation transfer
    .word kwp_27_unknown_nak    ;b501  28 a5       VECTOR   title=0x27  nak: ?
    .word kwp_28_basic_set_nak  ;b503  2c a5       VECTOR   title=0x28  nak: basic setting
    .word kwp_29_group_read     ;b505  4e a5       VECTOR   title=0x29  group reading
    .word kwp_2a_adp_save_nak   ;b507  91 a5       VECTOR   title=0x2a  nak: adaptation save
    .word kwp_2b_login          ;b509  95 a5       VECTOR   title=0x2b  login
    .word kwp_7f_unknown_nak    ;b50b  66 b4       VECTOR   title=0x7f  7f ???

sub_b50d:
    lda 0x05b1              ;b50d  ad b1 05
    cmp #0x01               ;b510  c9 01
    beq lab_b527            ;b512  f0 13        Send 0x55
    cmp #0x02               ;b514  c9 02
    beq lab_b53e            ;b516  f0 26        Send 0x01
    cmp #0x03               ;b518  c9 03
    beq lab_b555            ;b51a  f0 39        Send 0x8A
    cmp #0x04               ;b51c  c9 04
    beq lab_b567            ;b51e  f0 47
    cmp #0x05               ;b520  c9 05
    beq lab_b57c            ;b522  f0 58
    jmp lab_b625_rts        ;b524  4c 25 b6

lab_b527:
    lda #0x55               ;b527  a9 55
    jsr sub_5ac5            ;b529  20 c5 5a     Send 0x55
    lda #0x02               ;b52c  a9 02
    sta 0x05b1              ;b52e  8d b1 05
    lda #0x02               ;b531  a9 02
    sta 0x01af              ;b533  8d af 01
    ldy #0x27               ;b536  a0 27
    jsr sub_3300            ;b538  20 00 33
    jmp lab_b625_rts        ;b53b  4c 25 b6

lab_b53e:
    lda #0x01               ;b53e  a9 01
    jsr sub_5ac5            ;b540  20 c5 5a     Send 0x01
    lda #0x03               ;b543  a9 03
    sta 0x05b1              ;b545  8d b1 05
    lda #0x02               ;b548  a9 02
    sta 0x01af              ;b54a  8d af 01
    ldy #0x27               ;b54d  a0 27
    jsr sub_3300            ;b54f  20 00 33
    jmp lab_b625_rts        ;b552  4c 25 b6

lab_b555:
    lda #0x8a               ;b555  a9 8a
    jsr sub_5ac5            ;b557  20 c5 5a     Send 0x8A
    lda #0x17               ;b55a  a9 17
    sta 0x01af              ;b55c  8d af 01
    ldy #0x28               ;b55f  a0 28
    jsr sub_3300            ;b561  20 00 33
    jmp lab_b625_rts        ;b564  4c 25 b6

lab_b567:
    lda #0x05               ;b567  a9 05
    sta 0x05b1              ;b569  8d b1 05
    lda #0xff               ;b56c  a9 ff
    sta 0x05b7              ;b56e  8d b7 05
    lda #0x00               ;b571  a9 00
    sta 0x05b3              ;b573  8d b3 05
    jsr sub_b47f            ;b576  20 7f b4
    jmp lab_b625_rts        ;b579  4c 25 b6

lab_b57c:
    lda 0x05b2              ;b57c  ad b2 05
    cmp #0x01               ;b57f  c9 01
    beq lab_b592            ;b581  f0 0f
    cmp #0x08               ;b583  c9 08
    beq lab_b5bb            ;b585  f0 34
    cmp #0x02               ;b587  c9 02
    beq lab_b5d3            ;b589  f0 48
    cmp #0x06               ;b58b  c9 06
    beq lab_b60b            ;b58d  f0 7c
    jmp lab_b625_rts        ;b58f  4c 25 b6

lab_b592:
    lda 0x0322              ;b592  ad 22 03     A = KWP1281 rx buffer: block title
    cmp #0x0a               ;b595  c9 0a        Is it NAK?
    bne lab_b5aa            ;b597  d0 11          No: branch

    ;block title = nak
    lda 0x0323              ;b599  ad 23 03     A = uart rx buffer byte 3
    cmp 0x0321              ;b59c  cd 21 03
    beq lab_b5aa            ;b59f  f0 09
    inc 0x0332              ;b5a1  ee 32 03     Increment KWP1281 tx buffer: block counter
    inc 0x0332              ;b5a4  ee 32 03     Increment KWP1281 tx buffer: block counter again
    jmp kwp_send_tx_buf     ;b5a7  4c 9f b6     Send the block in the KWP1281 tx buffer

;block title != nak
lab_b5aa:
    lda 0x05b7              ;b5aa  ad b7 05
    bne lab_b5b5            ;b5ad  d0 06
    lda 0x0322              ;b5af  ad 22 03     A = KWP1281 rx buffer: block title
    sta 0x05b3              ;b5b2  8d b3 05     Save it in 0x05b3

lab_b5b5:
    jsr sub_b47f            ;b5b5  20 7f b4
    jmp lab_b625_rts        ;b5b8  4c 25 b6

lab_b5bb:
    lda 0x0331              ;b5bb  ad 31 03     A = KWP1281 tx buffer: block length
    jsr sub_5ac5            ;b5be  20 c5 5a     Send byte
    lda #0x03               ;b5c1  a9 03
    sta 0x05b2              ;b5c3  8d b2 05
    lda #0x06               ;b5c6  a9 06
    sta 0x01af              ;b5c8  8d af 01
    ldy #0x28               ;b5cb  a0 28
    jsr sub_3300            ;b5cd  20 00 33
    jmp lab_b625_rts        ;b5d0  4c 25 b6

lab_b5d3:
    inc 0x05ad              ;b5d3  ee ad 05
    ldx 0x05ad              ;b5d6  ae ad 05
    lda 0x0331,x            ;b5d9  bd 31 03     A = byte from KWP1281 tx buffer
    jsr sub_5ac5            ;b5dc  20 c5 5a     Send byte
    lda 0x05ad              ;b5df  ad ad 05
    cmp 0x05b4              ;b5e2  cd b4 05
    bne lab_b5f9            ;b5e5  d0 12
    lda #0x04               ;b5e7  a9 04
    sta 0x05b2              ;b5e9  8d b2 05
    lda #0x6e               ;b5ec  a9 6e
    sta 0x01af              ;b5ee  8d af 01
    ldy #0x28               ;b5f1  a0 28
    jsr sub_3300            ;b5f3  20 00 33
    jmp lab_b625_rts        ;b5f6  4c 25 b6

lab_b5f9:
    lda #0x03               ;b5f9  a9 03
    sta 0x05b2              ;b5fb  8d b2 05
    lda #0x06               ;b5fe  a9 06
    sta 0x01af              ;b600  8d af 01
    ldy #0x28               ;b603  a0 28
    jsr sub_3300            ;b605  20 00 33
    jmp lab_b625_rts        ;b608  4c 25 b6

lab_b60b:
    ldx 0x05ad              ;b60b  ae ad 05
    lda 0x0320,x            ;b60e  bd 20 03     A = byte from KWP1281 rx buffer
    eor #0xff               ;b611  49 ff
    jsr sub_5ac5            ;b613  20 c5 5a     Send byte
    lda #0x05               ;b616  a9 05
    sta 0x05b2              ;b618  8d b2 05
    lda #0x06               ;b61b  a9 06
    sta 0x01af              ;b61d  8d af 01
    ldy #0x28               ;b620  a0 28
    jsr sub_3300            ;b622  20 00 33

lab_b625_rts:
    rts                     ;b625  60

;XXX appears unused
sub_b626:
    lda 0x05b1              ;b626  ad b1 05
    cmp #0x03               ;b629  c9 03
    beq lab_b634            ;b62b  f0 07
    cmp #0x05               ;b62d  c9 05
    beq lab_b654            ;b62f  f0 23
    jmp lab_b69e_rts        ;b631  4c 9e b6

lab_b634:
    lda 0x05af              ;b634  ad af 05
    beq lab_b64e            ;b637  f0 15
    dec 0x05af              ;b639  ce af 05
    lda #0x01               ;b63c  a9 01
    sta 0x05b1              ;b63e  8d b1 05
    lda #0x0a               ;b641  a9 0a
    sta 0x01af              ;b643  8d af 01
    ldy #0x27               ;b646  a0 27
    jsr sub_3300            ;b648  20 00 33
    jmp lab_b69e_rts        ;b64b  4c 9e b6

lab_b64e:
    jsr sub_b40f_disconnect ;b64e  20 0f b4
    jmp lab_b69e_rts        ;b651  4c 9e b6

lab_b654:
    lda 0x05b2              ;b654  ad b2 05
    cmp #0x05               ;b657  c9 05
    beq lab_b665_eq_0x05    ;b659  f0 0a
    cmp #0x03               ;b65b  c9 03
    beq lab_b67c_eq_0x03    ;b65d  f0 1d
    jsr kwp_06_disconnect   ;b65f  20 33 9f
    jmp lab_b69e_rts        ;b662  4c 9e b6

lab_b665_eq_0x05:
    lda #0x00               ;b665  a9 00
    sta 0x05ad              ;b667  8d ad 05
    lda #0x04               ;b66a  a9 04
    sta 0x05b2              ;b66c  8d b2 05
    lda #0x6e               ;b66f  a9 6e
    sta 0x01af              ;b671  8d af 01
    ldy #0x28               ;b674  a0 28
    jsr sub_3300            ;b676  20 00 33
    jmp lab_b69e_rts        ;b679  4c 9e b6

lab_b67c_eq_0x03:
    lda 0x05af              ;b67c  ad af 05
    beq lab_b69b            ;b67f  f0 1a
    dec 0x05af              ;b681  ce af 05
    lda #0x00               ;b684  a9 00
    sta 0x05ad              ;b686  8d ad 05
    lda #0x08               ;b689  a9 08
    sta 0x05b2              ;b68b  8d b2 05
    lda #0x06               ;b68e  a9 06
    sta 0x01af              ;b690  8d af 01
    ldy #0x27               ;b693  a0 27
    jsr sub_3300            ;b695  20 00 33
    jmp lab_b69e_rts        ;b698  4c 9e b6

lab_b69b:
    jsr kwp_06_disconnect   ;b69b  20 33 9f

lab_b69e_rts:
    rts                     ;b69e  60

kwp_send_tx_buf:
    lda #0x00               ;b69f  a9 00
    sta 0x05ad              ;b6a1  8d ad 05
    lda 0x05ae              ;b6a4  ad ae 05
    sta 0x0332              ;b6a7  8d 32 03     Store in KWP1281 tx buffer: block counter
    lda #0x03               ;b6aa  a9 03
    sta 0x05b2              ;b6ac  8d b2 05
    lda 0x0331              ;b6af  ad 31 03     A = KWP1281 tx buffer: block length
    sta 0x05b4              ;b6b2  8d b4 05
    lda #0x03               ;b6b5  a9 03        0x03 = Block end byte
    ldx 0x05b4              ;b6b7  ae b4 05
    sta 0x0331,x            ;b6ba  9d 31 03     Store block end byte in KWP1281 tx buffer
    lda 0x0331              ;b6bd  ad 31 03     A = KWP1281 tx buffer: block length
    jsr sub_5ac5            ;b6c0  20 c5 5a     Send byte
    lda #0x06               ;b6c3  a9 06
    sta 0x01af              ;b6c5  8d af 01
    ldy #0x28               ;b6c8  a0 28
    jsr sub_3300            ;b6ca  20 00 33
    rts                     ;b6cd  60

sub_b6ce:
    ldy 0x05c6              ;b6ce  ac c6 05
    lda 0x05c1,y            ;b6d1  b9 c1 05
    iny                     ;b6d4  c8
    sty 0x05c6              ;b6d5  8c c6 05
    sei                     ;b6d8  78
    cpy 0x05c5              ;b6d9  cc c5 05
    bne lab_b6e6            ;b6dc  d0 08
    ldy #0x00               ;b6de  a0 00
    sty 0x05c6              ;b6e0  8c c6 05
    sty 0x05c5              ;b6e3  8c c5 05

lab_b6e6:
    cli                     ;b6e6  58
    sta 0x05b6              ;b6e7  8d b6 05
    bbc 3,0xe8,lab_b713     ;b6ea  77 e8 26
    clb 3,0xe8              ;b6ed  7f e8
    lda 0x05b6              ;b6ef  ad b6 05
    cmp 0x05b5              ;b6f2  cd b5 05
    beq lab_b710            ;b6f5  f0 19
    jsr sub_b40f_disconnect ;b6f7  20 0f b4     Terminate KWP1281 or TechniSat session
    lda 0x05b1              ;b6fa  ad b1 05
    cmp #0x0a               ;b6fd  c9 0a
    bne lab_b710            ;b6ff  d0 0f
    lda #0x05               ;b701  a9 05
    sta 0x05a4              ;b703  8d a4 05
    lda #0x02               ;b706  a9 02
    sta 0x01af              ;b708  8d af 01
    ldy #0x2a               ;b70b  a0 2a
    jsr sub_3300            ;b70d  20 00 33

lab_b710:
    jmp lab_b845_rts        ;b710  4c 45 b8

lab_b713:
    ldy #0x28               ;b713  a0 28
    jsr sub_3361            ;b715  20 61 33
    lda 0x05b1              ;b718  ad b1 05
    cmp #0x09               ;b71b  c9 09
    beq lab_b72e            ;b71d  f0 0f
    cmp #0x0a               ;b71f  c9 0a
    beq lab_b72e            ;b721  f0 0b
    cmp #0x03               ;b723  c9 03
    beq lab_b739            ;b725  f0 12
    cmp #0x05               ;b727  c9 05
    beq lab_b77e            ;b729  f0 53
    jmp lab_b845_rts        ;b72b  4c 45 b8

lab_b72e:
    ldy #0x2a               ;b72e  a0 2a
    jsr sub_3361            ;b730  20 61 33
    jsr sub_b8cf            ;b733  20 cf b8
    jmp lab_b845_rts        ;b736  4c 45 b8

lab_b739:
    lda 0x05b6              ;b739  ad b6 05
    eor #0xff               ;b73c  49 ff
    cmp #0x8a               ;b73e  c9 8a
    beq lab_b762            ;b740  f0 20
    lda 0x05af              ;b742  ad af 05
    beq lab_b75c            ;b745  f0 15
    dec 0x05af              ;b747  ce af 05
    lda #0x01               ;b74a  a9 01
    sta 0x05b1              ;b74c  8d b1 05
    lda #0x0a               ;b74f  a9 0a
    sta 0x01af              ;b751  8d af 01
    ldy #0x27               ;b754  a0 27
    jsr sub_3300            ;b756  20 00 33
    jmp lab_b845_rts        ;b759  4c 45 b8

lab_b75c:
    jsr sub_b40f_disconnect ;b75c  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_b845_rts        ;b75f  4c 45 b8

lab_b762:
    lda #0x04               ;b762  a9 04
    sta 0x05b1              ;b764  8d b1 05
    lda #0x01               ;b767  a9 01
    sta 0x05ae              ;b769  8d ae 05
    lda #0x0a               ;b76c  a9 0a
    sta 0x05af              ;b76e  8d af 05
    lda #0x04               ;b771  a9 04
    sta 0x01af              ;b773  8d af 01
    ldy #0x27               ;b776  a0 27
    jsr sub_3300            ;b778  20 00 33
    jmp lab_b845_rts        ;b77b  4c 45 b8

lab_b77e:
    lda 0x05b2              ;b77e  ad b2 05
    cmp #0x03               ;b781  c9 03
    beq lab_b793            ;b783  f0 0e
    cmp #0x04               ;b785  c9 04
    beq lab_b7ce            ;b787  f0 45
    cmp #0x05               ;b789  c9 05
    beq lab_b7ee            ;b78b  f0 61
    jsr sub_b40f_disconnect ;b78d  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_b845_rts        ;b790  4c 45 b8

lab_b793:
    ldx 0x05ad              ;b793  ae ad 05
    lda 0x0331,x            ;b796  bd 31 03     A = byte from KWP1281 tx buffer
    eor #0xff               ;b799  49 ff
    cmp 0x05b6              ;b79b  cd b6 05
    bne lab_b7a8            ;b79e  d0 08
    lda #0x02               ;b7a0  a9 02
    sta 0x05b2              ;b7a2  8d b2 05
    jmp lab_b83d            ;b7a5  4c 3d b8

lab_b7a8:
    lda 0x05af              ;b7a8  ad af 05
    beq lab_b7c8            ;b7ab  f0 1b
    dec 0x05af              ;b7ad  ce af 05
    lda #0x00               ;b7b0  a9 00
    sta 0x05ad              ;b7b2  8d ad 05
    lda #0x08               ;b7b5  a9 08
    sta 0x05b2              ;b7b7  8d b2 05
    lda #0x06               ;b7ba  a9 06
    asl a                   ;b7bc  0a
    sta 0x01af              ;b7bd  8d af 01
    ldy #0x27               ;b7c0  a0 27
    jsr sub_3300            ;b7c2  20 00 33
    jmp lab_b845_rts        ;b7c5  4c 45 b8

lab_b7c8:
    jsr sub_b40f_disconnect ;b7c8  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_b845_rts        ;b7cb  4c 45 b8

lab_b7ce:
    lda #0x00               ;b7ce  a9 00
    sta 0x05ad              ;b7d0  8d ad 05
    lda #0x06               ;b7d3  a9 06
    sta 0x05b2              ;b7d5  8d b2 05
    lda 0x05b6              ;b7d8  ad b6 05
    cmp #0x11               ;b7db  c9 11
    bcs lab_b7e8            ;b7dd  b0 09
    sta 0x05b4              ;b7df  8d b4 05
    sta 0x0320              ;b7e2  8d 20 03     Store in KWP1281 rx buffer: block length
    jmp lab_b83d            ;b7e5  4c 3d b8

lab_b7e8:
    jsr sub_b40f_disconnect ;b7e8  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_b845_rts        ;b7eb  4c 45 b8

lab_b7ee:
    inc 0x05ad              ;b7ee  ee ad 05
    lda 0x05b6              ;b7f1  ad b6 05
    ldx 0x05ad              ;b7f4  ae ad 05
    sta 0x0320,x            ;b7f7  9d 20 03     Store in KWP1281 rx buffer
    lda 0x05ad              ;b7fa  ad ad 05
    cmp 0x05b4              ;b7fd  cd b4 05
    bcc lab_b838            ;b800  90 36
    lda 0x05b6              ;b802  ad b6 05
    cmp #0x03               ;b805  c9 03
    beq lab_b80e            ;b807  f0 05
    lda #0x7f               ;b809  a9 7f
    sta 0x0322              ;b80b  8d 22 03     Store in KWP1281 rx buffer: block title

lab_b80e:
    lda 0x05af              ;b80e  ad af 05
    cmp #0x03               ;b811  c9 03
    bne lab_b81a            ;b813  d0 05
    lda #0x0a               ;b815  a9 0a
    sta 0x05af              ;b817  8d af 05

lab_b81a:
    lda #0x01               ;b81a  a9 01
    sta 0x05b2              ;b81c  8d b2 05
    lda 0x0321              ;b81f  ad 21 03     A = UART rx buffer byte 1
    inc a                   ;b822  3a
    sta 0x05ae              ;b823  8d ae 05
    ldx #0x01               ;b826  a2 01
    ldy #0x0a               ;b828  a0 0a
    jsr sub_f21e            ;b82a  20 1e f2
    stx 0x01af              ;b82d  8e af 01
    ldy #0x27               ;b830  a0 27
    jsr sub_3300            ;b832  20 00 33
    jmp lab_b845_rts        ;b835  4c 45 b8

lab_b838:
    lda #0x06               ;b838  a9 06
    sta 0x05b2              ;b83a  8d b2 05

lab_b83d:
    ldy #0x05               ;b83d  a0 05
    jsr sub_f21e            ;b83f  20 1e f2
    jsr sub_b50d            ;b842  20 0d b5

lab_b845_rts:
    rts                     ;b845  60

sub_b846:
    bbc 1,0xee,lab_b87e_rts ;b846  37 ee 35
    bbs 4,0xe8,lab_b87e_rts ;b849  87 e8 32
    ldy #0x33               ;b84c  a0 33
    jsr sub_33c6            ;b84e  20 c6 33
    bcs lab_b87e_rts        ;b851  b0 2b
    jsr sub_4cd0            ;b853  20 d0 4c     TODO probably some kind of I2C read
    lda 0x026b              ;b856  ad 6b 02
    cmp #0x33               ;b859  c9 33
    bcc lab_b87e_rts        ;b85b  90 21
    bbs 0,0xf1,lab_b87b     ;b85d  07 f1 1b
    lda 0x05a4              ;b860  ad a4 05
    beq lab_b87e_rts        ;b863  f0 19
    lda 0x0381              ;b865  ad 81 03
    cmp #0x14               ;b868  c9 14
    bcs lab_b87e_rts        ;b86a  b0 12
    ldy #0x32               ;b86c  a0 32
    jsr sub_33c6            ;b86e  20 c6 33
    bcs lab_b87b            ;b871  b0 08
    ldy #0x32               ;b873  a0 32
    jsr sub_3300            ;b875  20 00 33
    inc 0x0381              ;b878  ee 81 03

lab_b87b:
    jsr sub_b87f            ;b87b  20 7f b8

lab_b87e_rts:
    rts                     ;b87e  60

sub_b87f:
    seb 4,0xe8              ;b87f  8f e8
    lda #0x00               ;b881  a9 00
    sta 0x05a4              ;b883  8d a4 05
    lda #0x01               ;b886  a9 01
    sta 0x05a5              ;b888  8d a5 05
    bbc 1,0xee,lab_b8bf     ;b88b  37 ee 31
    bbs 2,0xe8,lab_b89b     ;b88e  47 e8 0a
    lda #0x07               ;b891  a9 07
    sta 0x05b1              ;b893  8d b1 05
    clb 0,0xf9              ;b896  1f f9
    jmp lab_b8ce_rts        ;b898  4c ce b8

lab_b89b:
    bbs 0,0xe8,lab_b8ad     ;b89b  07 e8 0f
    clb 0,0xf9              ;b89e  1f f9
    lda #0x07               ;b8a0  a9 07
    sta 0x05b1              ;b8a2  8d b1 05
    ldy #0x2b               ;b8a5  a0 2b
    jsr sub_3300            ;b8a7  20 00 33
    jmp lab_b8ce_rts        ;b8aa  4c ce b8

lab_b8ad:
    lda #0x01               ;b8ad  a9 01
    sta 0x05a4              ;b8af  8d a4 05
    lda #0x02               ;b8b2  a9 02
    sta 0x01af              ;b8b4  8d af 01
    ldy #0x2a               ;b8b7  a0 2a
    jsr sub_3300            ;b8b9  20 00 33
    jmp lab_b8ce_rts        ;b8bc  4c ce b8

lab_b8bf:
    lda #0x02               ;b8bf  a9 02
    sta 0x05a4              ;b8c1  8d a4 05
    lda #0x02               ;b8c4  a9 02
    sta 0x01af              ;b8c6  8d af 01
    ldy #0x2a               ;b8c9  a0 2a
    jsr sub_3300            ;b8cb  20 00 33

lab_b8ce_rts:
    rts                     ;b8ce  60

sub_b8cf:
    lda 0x05b1              ;b8cf  ad b1 05
    cmp #0x09               ;b8d2  c9 09
    beq lab_b8dd            ;b8d4  f0 07
    cmp #0x0a               ;b8d6  c9 0a
    beq lab_b946            ;b8d8  f0 6c
    jmp lab_ba14            ;b8da  4c 14 ba

lab_b8dd:
    lda 0x05a2              ;b8dd  ad a2 05
    cmp #0x03               ;b8e0  c9 03
    beq lab_b8ef            ;b8e2  f0 0b
    cmp #0x02               ;b8e4  c9 02
    beq lab_b901            ;b8e6  f0 19
    cmp #0x01               ;b8e8  c9 01
    beq lab_b913            ;b8ea  f0 27
    jmp lab_b931            ;b8ec  4c 31 b9

lab_b8ef:
    lda 0x05b6              ;b8ef  ad b6 05
    cmp #0x55               ;b8f2  c9 55
    beq lab_b8fb            ;b8f4  f0 05
    lda #0x05               ;b8f6  a9 05
    sta 0x05a4              ;b8f8  8d a4 05

lab_b8fb:
    dec 0x05a2              ;b8fb  ce a2 05
    jmp lab_b931            ;b8fe  4c 31 b9

lab_b901:
    lda 0x05b6              ;b901  ad b6 05
    cmp #0x01               ;b904  c9 01
    beq lab_b90d            ;b906  f0 05
    lda #0x05               ;b908  a9 05
    sta 0x05a4              ;b90a  8d a4 05

lab_b90d:
    dec 0x05a2              ;b90d  ce a2 05
    jmp lab_b931            ;b910  4c 31 b9

lab_b913:
    lda 0x05b6              ;b913  ad b6 05
    cmp #0x8a               ;b916  c9 8a
    beq lab_b91f            ;b918  f0 05
    lda #0x05               ;b91a  a9 05
    sta 0x05a4              ;b91c  8d a4 05

lab_b91f:
    dec 0x05a2              ;b91f  ce a2 05
    lda 0x05a4              ;b922  ad a4 05
    bne lab_b931            ;b925  d0 0a
    lda #0x04               ;b927  a9 04
    sta 0x01af              ;b929  8d af 01
    ldy #0x29               ;b92c  a0 29
    jsr sub_3300            ;b92e  20 00 33

lab_b931:
    lda 0x05a4              ;b931  ad a4 05
    beq lab_b943            ;b934  f0 0d
    jsr sub_b40f_disconnect ;b936  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x02               ;b939  a9 02
    sta 0x01af              ;b93b  8d af 01
    ldy #0x2a               ;b93e  a0 2a
    jsr sub_3300            ;b940  20 00 33

lab_b943:
    jmp lab_ba21            ;b943  4c 21 ba

lab_b946:
    lda 0x05b2              ;b946  ad b2 05
    cmp #0x03               ;b949  c9 03
    beq lab_b958            ;b94b  f0 0b
    cmp #0x04               ;b94d  c9 04
    beq lab_b98c            ;b94f  f0 3b
    cmp #0x05               ;b951  c9 05
    beq lab_b9c5            ;b953  f0 70
    jmp lab_ba21            ;b955  4c 21 ba

lab_b958:
    ldx 0x05ad              ;b958  ae ad 05
    lda 0x0331,x            ;b95b  bd 31 03     A = byte from KWP1281 tx buffer
    eor #0xff               ;b95e  49 ff
    cmp 0x05b6              ;b960  cd b6 05
    bne lab_b977            ;b963  d0 12
    lda #0x02               ;b965  a9 02
    sta 0x05b2              ;b967  8d b2 05
    lda #0x01               ;b96a  a9 01
    sta 0x01af              ;b96c  8d af 01
    ldy #0x29               ;b96f  a0 29
    jsr sub_3300            ;b971  20 00 33
    jmp lab_ba21            ;b974  4c 21 ba

lab_b977:
    jsr sub_b40f_disconnect ;b977  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x05               ;b97a  a9 05
    sta 0x05a4              ;b97c  8d a4 05
    lda #0x02               ;b97f  a9 02
    sta 0x01af              ;b981  8d af 01
    ldy #0x2a               ;b984  a0 2a
    jsr sub_3300            ;b986  20 00 33
    jmp lab_ba21            ;b989  4c 21 ba

lab_b98c:
    lda #0x00               ;b98c  a9 00
    sta 0x05ad              ;b98e  8d ad 05
    lda #0x06               ;b991  a9 06
    sta 0x05b2              ;b993  8d b2 05
    lda 0x05b6              ;b996  ad b6 05
    cmp #0x08               ;b999  c9 08
    bcs lab_b9b0            ;b99b  b0 13
    sta 0x05b4              ;b99d  8d b4 05
    sta 0x0320              ;b9a0  8d 20 03     Store in KWP1281 rx buffer
    lda #0x01               ;b9a3  a9 01
    sta 0x01af              ;b9a5  8d af 01
    ldy #0x29               ;b9a8  a0 29
    jsr sub_3300            ;b9aa  20 00 33
    jmp lab_ba21            ;b9ad  4c 21 ba

lab_b9b0:
    jsr sub_b40f_disconnect ;b9b0  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x05               ;b9b3  a9 05
    sta 0x05a4              ;b9b5  8d a4 05
    lda #0x02               ;b9b8  a9 02
    sta 0x01af              ;b9ba  8d af 01
    ldy #0x2a               ;b9bd  a0 2a
    jsr sub_3300            ;b9bf  20 00 33
    jmp lab_ba21            ;b9c2  4c 21 ba

lab_b9c5:
    inc 0x05ad              ;b9c5  ee ad 05
    ldx 0x05ad              ;b9c8  ae ad 05
    lda 0x05b6              ;b9cb  ad b6 05
    sta 0x0320,x            ;b9ce  9d 20 03     Store in KWP1281 rx buffer
    lda 0x05ad              ;b9d1  ad ad 05
    cmp 0x05b4              ;b9d4  cd b4 05
    bcc lab_ba02            ;b9d7  90 29
    lda 0x05b6              ;b9d9  ad b6 05
    cmp #0x03               ;b9dc  c9 03
    beq lab_b9f0            ;b9de  f0 10
    jsr sub_b40f_disconnect ;b9e0  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x02               ;b9e3  a9 02
    sta 0x01af              ;b9e5  8d af 01
    ldy #0x2a               ;b9e8  a0 2a
    jsr sub_3300            ;b9ea  20 00 33
    jmp lab_ba21            ;b9ed  4c 21 ba

lab_b9f0:
    lda #0x01               ;b9f0  a9 01
    sta 0x05b2              ;b9f2  8d b2 05
    lda #0x06               ;b9f5  a9 06
    sta 0x01af              ;b9f7  8d af 01
    ldy #0x29               ;b9fa  a0 29
    jsr sub_3300            ;b9fc  20 00 33
    jmp lab_ba21            ;b9ff  4c 21 ba

lab_ba02:
    lda #0x06               ;ba02  a9 06
    sta 0x05b2              ;ba04  8d b2 05
    lda #0x01               ;ba07  a9 01
    sta 0x01af              ;ba09  8d af 01
    ldy #0x29               ;ba0c  a0 29
    jsr sub_3300            ;ba0e  20 00 33
    jmp lab_ba21            ;ba11  4c 21 ba

lab_ba14:
    jsr sub_b40f_disconnect ;ba14  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x02               ;ba17  a9 02
    sta 0x01af              ;ba19  8d af 01
    ldy #0x2a               ;ba1c  a0 2a
    jsr sub_3300            ;ba1e  20 00 33

lab_ba21:
    rts                     ;ba21  60

;XXX appears unused
sub_ba22:
    clb 7,P4                ;ba22  ff 08
    lda 0x05b1              ;ba24  ad b1 05
    cmp #0x07               ;ba27  c9 07
    bne lab_ba30            ;ba29  d0 05
    lda #0x00               ;ba2b  a9 00
    sta 0x05b1              ;ba2d  8d b1 05

lab_ba30:
    lda #0x01               ;ba30  a9 01
    sta 0x05a4              ;ba32  8d a4 05
    lda #0x00               ;ba35  a9 00
    sta 0x05a0              ;ba37  8d a0 05
    sta 0x05a1              ;ba3a  8d a1 05
    jsr sub_2a52            ;ba3d  20 52 2a     TODO sub_2a52 is immediately above SAFE Code related code
    rts                     ;ba40  60

;XXX appears unused
sub_ba41:
    clb 7,P4                ;ba41  ff 08
    lda 0x05a4              ;ba43  ad a4 05
    beq lab_ba56            ;ba46  f0 0e
    lda #0x00               ;ba48  a9 00
    sta 0x05a0              ;ba4a  8d a0 05
    sta 0x05a1              ;ba4d  8d a1 05
    jsr sub_2a52            ;ba50  20 52 2a     TODO sub_2a52 is immediately above SAFE Code related code
    jmp lab_ba83_rts        ;ba53  4c 83 ba

lab_ba56:
    lda 0x05a5              ;ba56  ad a5 05
    beq lab_ba70            ;ba59  f0 15
    dec 0x05a5              ;ba5b  ce a5 05
    jsr sub_b40f_disconnect ;ba5e  20 0f b4     Terminate KWP1281 or TechniSat session
    clb 2,0x00e8            ;ba61  5f e8
    lda #0x07               ;ba63  a9 07
    sta 0x05b1              ;ba65  8d b1 05
    ldy #0x2b               ;ba68  a0 2b
    jsr sub_3300            ;ba6a  20 00 33
    jmp lab_ba83_rts        ;ba6d  4c 83 ba

lab_ba70:
    jsr sub_b40f_disconnect ;ba70  20 0f b4     Terminate KWP1281 or TechniSat session
    lda #0x04               ;ba73  a9 04
    sta 0x05a4              ;ba75  8d a4 05
    lda #0x00               ;ba78  a9 00
    sta 0x05a0              ;ba7a  8d a0 05
    sta 0x05a1              ;ba7d  8d a1 05
    jsr sub_2a52            ;ba80  20 52 2a     TODO sub_2a52 is immediately above SAFE Code related code

lab_ba83_rts:
    rts                     ;ba83  60

;TODO appears unused
sub_ba84:
    lda 0x05b1              ;ba84  ad b1 05
    cmp #0x09               ;ba87  c9 09
    beq lab_ba95            ;ba89  f0 0a

    lda 0x05b1              ;ba8b  ad b1 05
    cmp #0x0a               ;ba8e  c9 0a
    beq lab_bab3            ;ba90  f0 21

    jmp lab_bc03_rts        ;ba92  4c 03 bc

lab_ba95:
    lda #0x8a               ;ba95  a9 8a
    eor #0xff               ;ba97  49 ff
    jsr sub_5ac5            ;ba99  20 c5 5a
    lda #0x6e               ;ba9c  a9 6e
    sta 0x01af              ;ba9e  8d af 01
    ldy #0x2a               ;baa1  a0 2a
    jsr sub_3300            ;baa3  20 00 33
    lda #0x0a               ;baa6  a9 0a
    sta 0x05b1              ;baa8  8d b1 05
    lda #0x04               ;baab  a9 04
    sta 0x05b2              ;baad  8d b2 05
    jmp lab_bc03_rts        ;bab0  4c 03 bc

lab_bab3:
    lda 0x05b2              ;bab3  ad b2 05
    cmp #0x01               ;bab6  c9 01
    beq lab_bad2_dispatch   ;bab8  f0 18        Dispatch KWP1281 response from cluster
    cmp #0x02               ;baba  c9 02
    bne lab_bac1            ;babc  d0 03
    jmp lab_bb8f            ;babe  4c 8f bb

lab_bac1:
    cmp #0x06               ;bac1  c9 06
    bne lab_bac8            ;bac3  d0 03
    jmp lab_bbe3            ;bac5  4c e3 bb

lab_bac8:
    cmp #0x07               ;bac8  c9 07
    bne lab_bacf            ;baca  d0 03
    jmp lab_bc00_disconnect ;bacc  4c 00 bc     Disconnect and return

lab_bacf:
    jmp lab_bc03_rts        ;bacf  4c 03 bc     Jump to return

;Dispatch KWP1281 response from cluster
lab_bad2_dispatch:
    lda 0x0322              ;bad2  ad 22 03     A = KWP1281 rx buffer: block title

    cmp #0x09               ;bad5  c9 09        0x09 ACK
    beq lab_bb00_09_ack     ;bad7  f0 27

    cmp #0x0a               ;bad9  c9 0a        0x0A NAK
    beq lab_bb2b_0a_nak     ;badb  f0 4e

    cmp #0x3d               ;badd  c9 3d        0x3D Security Response
    beq lab_bb44_3d_secure  ;badf  f0 63

    ;Unrecognized block title received; send NAK

    lda #0x04               ;bae1  a9 04        A = 4 bytes in response
    sta 0x0331              ;bae3  8d 31 03     Store in KWP1281 tx buffer: block length

    lda 0x0321              ;bae6  ad 21 03     A = Block counter from KWP1281 rx buffer
    inc a                   ;bae9  3a           Increment block counter
    sta 0x0332              ;baea  8d 32 03     Store in KWP1281 tx buffer: block counter

    lda #0x0a               ;baed  a9 0a        A = 0x0A NAK
    sta 0x0333              ;baef  8d 33 03     Store in KWP1281 tx buffer: block title

    lda 0x0321              ;baf2  ad 21 03     A = our block counter
    sta 0x0334              ;baf5  8d 34 03     Store in KWP1281 tx buffer to signal no NAK retry

    lda #0x03               ;baf8  a9 03        A = 0x03 Block End
    sta 0x0335              ;bafa  8d 35 03     Store in KWP1281 tx buffer

    jmp lab_bb5a_next_block  ;bafd  4c 5a bb     Send KWP1281 response block to the cluster

;Received a 0x09 ACK block from the cluster
lab_bb00_09_ack:
    lda #0x07               ;bb00  a9 07        A = 7 bytes in response
    sta 0x0331              ;bb02  8d 31 03

    lda 0x0321              ;bb05  ad 21 03     A = Block counter from KWP1281 rx buffer
    inc a                   ;bb08  3a           Increment block counter
    sta 0x0332              ;bb09  8d 32 03     Store in KWP1281 tx buffer: block counter

    lda #0xd7               ;bb0c  a9 d7        A = 0xD7 Security Access Request
    sta 0x0333              ;bb0e  8d 33 03     Store in KWP1281 tx buffer: block title

    lda #0x03               ;bb11  a9 03        A = Block End
    sta 0x0338              ;bb13  8d 38 03

    jsr sub_279f            ;bb16  20 9f 27
    sta 0x0334              ;bb19  8d 34 03
    stx 0x0335              ;bb1c  8e 35 03

    jsr sub_279f            ;bb1f  20 9f 27
    sta 0x0336              ;bb22  8d 36 03
    stx 0x0337              ;bb25  8e 37 03

    jmp lab_bb5a_next_block ;bb28  4c 5a bb      Send the next KWP1281 block to the cluster

;Received a 0x0A NAK block from the cluster
lab_bb2b_0a_nak:
    lda 0x0323              ;bb2b  ad 23 03
    cmp 0x0321              ;bb2e  cd 21 03
    bne lab_bb3b            ;bb31  d0 08

    lda #0x03               ;bb33  a9 03
    sta 0x05a4              ;bb35  8d a4 05
    jmp lab_bb5a_next_block ;bb38  4c 5a bb     Send the next KWP1281 block to the cluster

lab_bb3b:
    inc 0x0332              ;bb3b  ee 32 03
    inc 0x0332              ;bb3e  ee 32 03
    jmp lab_bb5a_next_block ;bb41  4c 5a bb     Send the next KWP1281 block to the cluster

;Received a KWP1281 0x3D Security Response block from the cluster
lab_bb44_3d_secure:
    lda #0x03               ;bb44  a9 03        A = 3 bytes in response
    sta 0x0331              ;bb46  8d 31 03     Store in KWP1281 tx buffer: block length

    lda 0x0321              ;bb49  ad 21 03     A = Block counter from KWP1281 rx buffer
    inc a                   ;bb4c  3a           Increment it
    sta 0x0332              ;bb4d  8d 32 03     Store in KWP1281 tx buffer: block counter

    lda #0x06               ;bb50  a9 06        A = 0x06 Disconnect
    sta 0x0333              ;bb52  8d 33 03     Store in KWP1281 tx buffer: block title

    lda #0x03               ;bb55  a9 03        A = 0x03 Block End
    sta 0x0334              ;bb57  8d 34 03     Store in KWP1281 tx buffer
    ;Fall through

;Send the next KWP1281 block to the cluster
;The block has already been prepared in tx buffer at 0x0331
lab_bb5a_next_block:
    lda 0x05a4              ;bb5a  ad a4 05
    beq lab_bb6c            ;bb5d  f0 0d

    lda #0x02               ;bb5f  a9 02
    sta 0x01af              ;bb61  8d af 01

    ldy #0x2a               ;bb64  a0 2a
    jsr sub_3300            ;bb66  20 00 33
    jmp lab_bc03_rts        ;bb69  4c 03 bc     Jump to return

lab_bb6c:
    lda 0x0331              ;bb6c  ad 31 03
    sta 0x05b4              ;bb6f  8d b4 05

    lda #0x00               ;bb72  a9 00
    sta 0x05ad              ;bb74  8d ad 05

    lda 0x0331              ;bb77  ad 31 03
    jsr sub_5ac5            ;bb7a  20 c5 5a

    lda #0x03               ;bb7d  a9 03
    sta 0x05b2              ;bb7f  8d b2 05

    lda #0x06               ;bb82  a9 06
    sta 0x01af              ;bb84  8d af 01

    ldy #0x2a               ;bb87  a0 2a
    jsr sub_3300            ;bb89  20 00 33
    jmp lab_bc03_rts        ;bb8c  4c 03 bc     Jump to return

lab_bb8f:
    inc 0x05ad              ;bb8f  ee ad 05
    ldx 0x05ad              ;bb92  ae ad 05
    lda 0x0331,x            ;bb95  bd 31 03
    jsr sub_5ac5            ;bb98  20 c5 5a

    lda 0x05ad              ;bb9b  ad ad 05
    cmp 0x05b4              ;bb9e  cd b4 05
    bne lab_bbd1            ;bba1  d0 2e

    lda 0x0333              ;bba3  ad 33 03     A = KWP1281 tx buffer: block title
    cmp #0x06               ;bba6  c9 06        Are we about to send 0x06 Disconnect?
    bne lab_bbbf_continue   ;bba8  d0 15          No: continue the session with the cluster

    ;We're about the send 0x06 Disconnect, which means that we just received
    ;a 0x3D Security Response block from the cluster.  It's in the KWP1281 buffer
    ;now.  Descramble the "Cluster ID" to try and unlock from SAFE mode.

    jsr sub_bc04_descramble ;bbaa  20 04 bc

    lda #0x07               ;bbad  a9 07
    sta 0x05b2              ;bbaf  8d b2 05

    lda #0x01               ;bbb2  a9 01
    sta 0x01af              ;bbb4  8d af 01

    ldy #0x29               ;bbb7  a0 29
    jsr sub_3300            ;bbb9  20 00 33
    jmp lab_bc03_rts        ;bbbc  4c 03 bc     Jump to return

;Not time to disconnect yet; continue the session with the cluster
lab_bbbf_continue:
    lda #0x04               ;bbbf  a9 04
    sta 0x05b2              ;bbc1  8d b2 05
    lda #0x6e               ;bbc4  a9 6e
    sta 0x01af              ;bbc6  8d af 01
    ldy #0x2a               ;bbc9  a0 2a
    jsr sub_3300            ;bbcb  20 00 33
    jmp lab_bc03_rts        ;bbce  4c 03 bc     Jump to return

lab_bbd1:
    lda #0x03               ;bbd1  a9 03
    sta 0x05b2              ;bbd3  8d b2 05
    lda #0x06               ;bbd6  a9 06
    sta 0x01af              ;bbd8  8d af 01
    ldy #0x2a               ;bbdb  a0 2a
    jsr sub_3300            ;bbdd  20 00 33
    jmp lab_bc03_rts        ;bbe0  4c 03 bc     Jump to return

lab_bbe3:
    ldx 0x05ad              ;bbe3  ae ad 05
    lda 0x0320,x            ;bbe6  bd 20 03
    eor #0xff               ;bbe9  49 ff
    jsr sub_5ac5            ;bbeb  20 c5 5a
    lda #0x05               ;bbee  a9 05
    sta 0x05b2              ;bbf0  8d b2 05
    lda #0x06               ;bbf3  a9 06
    sta 0x01af              ;bbf5  8d af 01
    ldy #0x2a               ;bbf8  a0 2a
    jsr sub_3300            ;bbfa  20 00 33
    jmp lab_bc03_rts        ;bbfd  4c 03 bc     Jump to return

lab_bc00_disconnect:
    jsr sub_b40f_disconnect ;bc00  20 0f b4     Terminate KWP1281 or TechniSat session

lab_bc03_rts:
    rts                     ;bc03  60

;Descrambles the Cluster ID from the cluster 0x3D response block
;0xBDE7 and 0x0018 constants appear here and also uart buffer.
;
;RX buffer from cluster:
;  0x06 Block length                    0x0320
;   ??  Block counter                   0x0321
;  0x3D Block title (Security Access)   0x0322
;   ??  Payload byte 0                  0x0323
;   ??  Payload byte 1                  0x0324
;   ??  Payload byte 2                  0x0325
;   ??  Payload byte 3                  0x0326
;  0x03 Block end                       0x0327
sub_bc04_descramble:
    sec                     ;bc04  38

    lda 0x0323              ;bc05  ad 23 03
    sbc #0xe7               ;bc08  e9 e7
    sta 0x0320              ;bc0a  8d 20 03

    lda 0x0324              ;bc0d  ad 24 03
    sbc #0xbd               ;bc10  e9 bd
    sta 0x0321              ;bc12  8d 21 03

    lda 0x0325              ;bc15  ad 25 03
    sbc #0x18               ;bc18  e9 18
    sta 0x0322              ;bc1a  8d 22 03

    lda 0x0326              ;bc1d  ad 26 03
    sbc #0x00               ;bc20  e9 00
    sta 0x0323              ;bc22  8d 23 03

    lda 0x0320              ;bc25  ad 20 03
    eor 0x0322              ;bc28  4d 22 03
    sta 0x0324              ;bc2b  8d 24 03

    lda 0x0321              ;bc2e  ad 21 03
    eor 0x0323              ;bc31  4d 23 03
    sta 0x0325              ;bc34  8d 25 03

    lda #0x00               ;bc37  a9 00
    sta 0x0326              ;bc39  8d 26 03

    ldx #0x08               ;bc3c  a2 08
    lda 0x0324              ;bc3e  ad 24 03

lab_bc41:
    lsr a                   ;bc41  4a
    bcs lab_bc47_cs         ;bc42  b0 03
    inc 0x0326              ;bc44  ee 26 03

lab_bc47_cs:
    dex                     ;bc47  ca
    bne lab_bc41            ;bc48  d0 f7
    ldx #0x08               ;bc4a  a2 08
    lda 0x0325              ;bc4c  ad 25 03

lab_bc4f_ne:
    lsr a                   ;bc4f  4a
    bcs lab_bc55            ;bc50  b0 03
    inc 0x0326              ;bc52  ee 26 03

lab_bc55:
    dex                     ;bc55  ca
    bne lab_bc4f_ne         ;bc56  d0 f7
    ldx 0x0326              ;bc58  ae 26 03

lab_bc5b:
    lda 0x0322              ;bc5b  ad 22 03
    lsr a                   ;bc5e  4a
    ror 0x0323              ;bc5f  6e 23 03
    ror 0x0322              ;bc62  6e 22 03
    dex                     ;bc65  ca
    bne lab_bc5b            ;bc66  d0 f3
    lda 0x0322              ;bc68  ad 22 03
    eor 0x0324              ;bc6b  4d 24 03
    sta 0x05a0              ;bc6e  8d a0 05
    lda 0x0323              ;bc71  ad 23 03
    eor 0x0325              ;bc74  4d 25 03
    sta 0x05a1              ;bc77  8d a1 05

    lda #0x00               ;bc7a  a9 00
    sta 0x05a4              ;bc7c  8d a4 05

    jsr sub_2a52            ;bc7f  20 52 2a     TODO sub_2a52 is immediately above SAFE Code related code
    rts                     ;bc82  60

sub_bc83:
    bbc 0,0xe8,lab_bc89     ;bc83  17 e8 03
    jmp lab_bdaa_rts        ;bc86  4c aa bd

lab_bc89:
    lda 0x05b1              ;bc89  ad b1 05
    cmp #0x00               ;bc8c  c9 00
    beq lab_bc9b            ;bc8e  f0 0b
    cmp #0x07               ;bc90  c9 07
    beq lab_bca1            ;bc92  f0 0d
    cmp #0x08               ;bc94  c9 08
    beq lab_bcda            ;bc96  f0 42
    jmp lab_bdaa_rts        ;bc98  4c aa bd

lab_bc9b:
    jsr sub_bdab            ;bc9b  20 ab bd
    jmp lab_bdaa_rts        ;bc9e  4c aa bd

lab_bca1:
    bbs 2,0xe8,lab_bcbd     ;bca1  47 e8 19
    ldy #0x2b               ;bca4  a0 2b
    jsr sub_3361            ;bca6  20 61 33
    lda #0x08               ;bca9  a9 08
    sta 0x05b1              ;bcab  8d b1 05
    seb 7,P4                ;bcae  ef 08
    lda #0x01               ;bcb0  a9 01
    sta 0x05a3              ;bcb2  8d a3 05
    lda #0x2c               ;bcb5  a9 2c
    sta 0x05a2              ;bcb7  8d a2 05
    jmp lab_bdaa_rts        ;bcba  4c aa bd

lab_bcbd:
    bbs 1,0xee,lab_bcd4     ;bcbd  27 ee 14
    lda #0x02               ;bcc0  a9 02
    sta 0x05a4              ;bcc2  8d a4 05
    lda #0x00               ;bcc5  a9 00
    sta 0x05b1              ;bcc7  8d b1 05
    lda #0x02               ;bcca  a9 02
    sta 0x01af              ;bccc  8d af 01
    ldy #0x2a               ;bccf  a0 2a
    jsr sub_3300            ;bcd1  20 00 33

lab_bcd4:
    jsr sub_bdab            ;bcd4  20 ab bd
    jmp lab_bdaa_rts        ;bcd7  4c aa bd

lab_bcda:
    bbs 1,0xee,lab_bce7     ;bcda  27 ee 0a
    lda #0x02               ;bcdd  a9 02
    sta 0x05a4              ;bcdf  8d a4 05
    lda #0x00               ;bce2  a9 00
    sta 0x05b1              ;bce4  8d b1 05

lab_bce7:
    lda 0x05a2              ;bce7  ad a2 05
    and #0x0f               ;bcea  29 0f
    bne lab_bcfc            ;bcec  d0 0e
    bbc 5,P4,lab_bcfc       ;bcee  b7 08 0b
    bbs 4,P4,lab_bcfc       ;bcf1  87 08 08
    lda #0x01               ;bcf4  a9 01
    sta 0x05a4              ;bcf6  8d a4 05
    jsr sub_b40f_disconnect ;bcf9  20 0f b4     Terminate KWP1281 or TechniSat session

lab_bcfc:
    lda 0x05a4              ;bcfc  ad a4 05
    beq lab_bd0e            ;bcff  f0 0d
    lda #0x02               ;bd01  a9 02
    sta 0x01af              ;bd03  8d af 01
    ldy #0x2a               ;bd06  a0 2a
    jsr sub_3300            ;bd08  20 00 33
    jmp lab_bdaa_rts        ;bd0b  4c aa bd

lab_bd0e:
    lda 0x05a2              ;bd0e  ad a2 05
    bne lab_bd18            ;bd11  d0 05
    lda 0x05a3              ;bd13  ad a3 05
    beq lab_bd28            ;bd16  f0 10

lab_bd18:
    dec 0x05a2              ;bd18  ce a2 05
    lda 0x05a2              ;bd1b  ad a2 05
    cmp #0xff               ;bd1e  c9 ff
    bne lab_bd25            ;bd20  d0 03
    dec 0x05a3              ;bd22  ce a3 05

lab_bd25:
    jmp lab_bdaa_rts        ;bd25  4c aa bd

lab_bd28:
    lda 0x05a6              ;bd28  ad a6 05
    beq lab_bd3c            ;bd2b  f0 0f
    cmp #0x02               ;bd2d  c9 02
    bcc lab_bd50            ;bd2f  90 1f
    beq lab_bd64            ;bd31  f0 31
    cmp #0x04               ;bd33  c9 04
    bcc lab_bd78            ;bd35  90 41
    beq lab_bd8c            ;bd37  f0 53
    jmp lab_bdaa_rts        ;bd39  4c aa bd

lab_bd3c:
    clb 5,P4                ;bd3c  bf 08
    lda #0x01               ;bd3e  a9 01
    sta 0x05a6              ;bd40  8d a6 05
    lda #0x00               ;bd43  a9 00
    sta 0x05a3              ;bd45  8d a3 05
    lda #0xc8               ;bd48  a9 c8
    sta 0x05a2              ;bd4a  8d a2 05
    jmp lab_bdaa_rts        ;bd4d  4c aa bd

lab_bd50:
    seb 5,P4                ;bd50  af 08
    lda #0x02               ;bd52  a9 02
    sta 0x05a6              ;bd54  8d a6 05
    lda #0x04               ;bd57  a9 04
    sta 0x05a3              ;bd59  8d a3 05
    lda #0xb0               ;bd5c  a9 b0
    sta 0x05a2              ;bd5e  8d a2 05
    jmp lab_bdaa_rts        ;bd61  4c aa bd

lab_bd64:
    clb 5,P4                ;bd64  bf 08
    lda #0x03               ;bd66  a9 03
    sta 0x05a6              ;bd68  8d a6 05
    lda #0x00               ;bd6b  a9 00
    sta 0x05a3              ;bd6d  8d a3 05
    lda #0xc8               ;bd70  a9 c8
    sta 0x05a2              ;bd72  8d a2 05
    jmp lab_bdaa_rts        ;bd75  4c aa bd

lab_bd78:
    seb 5,P4                ;bd78  af 08
    lda #0x04               ;bd7a  a9 04
    sta 0x05a6              ;bd7c  8d a6 05
    lda #0x01               ;bd7f  a9 01
    sta 0x05a3              ;bd81  8d a3 05
    lda #0x90               ;bd84  a9 90
    sta 0x05a2              ;bd86  8d a2 05
    jmp lab_bdaa_rts        ;bd89  4c aa bd

lab_bd8c:
    ldm #0x3c,BRG           ;bd8c  3c 3c 1c     Baud rate = 10400 bps
    seb 7,SIO1CON           ;bd8f  ef 1a        Serial I/O1 enabled bit = enabled
    lda #0x09               ;bd91  a9 09
    sta 0x05b1              ;bd93  8d b1 05
    lda #0x17               ;bd96  a9 17
    sta 0x01af              ;bd98  8d af 01
    ldy #0x2a               ;bd9b  a0 2a
    jsr sub_3300            ;bd9d  20 00 33
    lda #0x00               ;bda0  a9 00
    sta 0x05a3              ;bda2  8d a3 05
    lda #0x03               ;bda5  a9 03
    sta 0x05a2              ;bda7  8d a2 05

lab_bdaa_rts:
    rts                     ;bdaa  60

sub_bdab:
    lda 0x05a6              ;bdab  ad a6 05
    bne lab_bdf0            ;bdae  d0 40
    bbs 4,P4,lab_bdc5       ;bdb0  87 08 12
    lda #0x01               ;bdb3  a9 01
    sta 0x05a6              ;bdb5  8d a6 05
    seb 2,0xe8              ;bdb8  4f e8
    lda #0x00               ;bdba  a9 00
    sta 0x05ab              ;bdbc  8d ab 05
    sta 0x05aa              ;bdbf  8d aa 05
    jmp lab_bebb            ;bdc2  4c bb be

lab_bdc5:
    clb 2,0xe7              ;bdc5  5f e7
    lda 0x05ab              ;bdc7  ad ab 05
    cmp #0x0b               ;bdca  c9 0b
    bcc lab_bdd5            ;bdcc  90 07
    lda 0x05aa              ;bdce  ad aa 05
    cmp #0xb8               ;bdd1  c9 b8
    bcs lab_bded            ;bdd3  b0 18

lab_bdd5:
    inc 0x05aa              ;bdd5  ee aa 05
    bne lab_bddd            ;bdd8  d0 03
    inc 0x05ab              ;bdda  ee ab 05

lab_bddd:
    lda 0x05ab              ;bddd  ad ab 05
    cmp #0x0b               ;bde0  c9 0b
    bcc lab_bded            ;bde2  90 09
    lda 0x05aa              ;bde4  ad aa 05
    cmp #0xb8               ;bde7  c9 b8
    bcc lab_bded            ;bde9  90 02
    clb 2,0xe8              ;bdeb  5f e8

lab_bded:
    jmp lab_bebb            ;bded  4c bb be

lab_bdf0:
    bbc 4,P4,lab_be00       ;bdf0  97 08 0d
    clb 2,0xe7              ;bdf3  5f e7
    inc 0x05aa              ;bdf5  ee aa 05
    bne lab_be03            ;bdf8  d0 09
    inc 0x05ab              ;bdfa  ee ab 05
    jmp lab_be03            ;bdfd  4c 03 be

lab_be00:
    inc 0x05a9              ;be00  ee a9 05

lab_be03:
    inc 0x05a8              ;be03  ee a8 05
    lda 0x05a8              ;be06  ad a8 05
    cmp #0xc8               ;be09  c9 c8
    bcs lab_be10            ;be0b  b0 03
    jmp lab_bebb            ;be0d  4c bb be

lab_be10:
    lda 0x05a6              ;be10  ad a6 05
    cmp #0x01               ;be13  c9 01
    beq lab_be3d            ;be15  f0 26
    cmp #0x0a               ;be17  c9 0a
    beq lab_be50            ;be19  f0 35
    lda 0x05aa              ;be1b  ad aa 05
    cmp #0xa0               ;be1e  c9 a0
    ror 0x05a7              ;be20  6e a7 05
    lda 0x05aa              ;be23  ad aa 05
    cmp #0xa0               ;be26  c9 a0
    bcs lab_be37            ;be28  b0 0d
    lda 0x05a9              ;be2a  ad a9 05
    cmp #0xa0               ;be2d  c9 a0
    bcs lab_be37            ;be2f  b0 06
    jsr sub_b40f_disconnect ;be31  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_bead            ;be34  4c ad be

lab_be37:
    inc 0x05a6              ;be37  ee a6 05
    jmp lab_bead            ;be3a  4c ad be

lab_be3d:
    lda 0x05a9              ;be3d  ad a9 05
    cmp #0xa0               ;be40  c9 a0
    bcs lab_be4a            ;be42  b0 06
    jsr sub_b40f_disconnect ;be44  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_bead            ;be47  4c ad be

lab_be4a:
    inc 0x05a6              ;be4a  ee a6 05
    jmp lab_bead            ;be4d  4c ad be

lab_be50:
    lda 0x05aa              ;be50  ad aa 05
    cmp #0xa0               ;be53  c9 a0
    bcs lab_be5f            ;be55  b0 08
    jsr sub_b40f_disconnect ;be57  20 0f b4     Terminate KWP1281 or TechniSat session
    seb 2,0xe7              ;be5a  4f e7
    jmp lab_bead            ;be5c  4c ad be

lab_be5f:
    lda 0x05a7              ;be5f  ad a7 05
    cmp #0xd6               ;be62  c9 d6
    beq lab_be70            ;be64  f0 0a
    cmp #0x7c               ;be66  c9 7c
    beq lab_be98            ;be68  f0 2e

lab_be6a:
    jsr sub_b40f_disconnect ;be6a  20 0f b4     Terminate KWP1281 or TechniSat session
    jmp lab_bead            ;be6d  4c ad be

;Address 0xD6 (KWP1281 protocol)
lab_be70:
    bbs 6,0xf1,lab_be78     ;be70  c7 f1 05
    bbc 3,P8_P4I,lab_be6a   ;be73  77 10 f4
    seb 1,0xee              ;be76  2f ee

lab_be78:
    seb 0,0xe8              ;be78  0f e8
    seb 7,SIO1CON           ;be7a  ef 1a        Serial I/O1 enabled bit = enabled
    clb 0,0xf9              ;be7c  1f f9
    lda #0x01               ;be7e  a9 01
    sta 0x05b1              ;be80  8d b1 05     FSM=0x01 (send 55 of the 55, 01, 8A sequence)
    lda #0x0a               ;be83  a9 0a
    sta 0x01af              ;be85  8d af 01
    ldy #0x27               ;be88  a0 27
    jsr sub_3300            ;be8a  20 00 33
    lda #0x00               ;be8d  a9 00
    sta 0x05c5              ;be8f  8d c5 05
    sta 0x05c6              ;be92  8d c6 05
    jmp lab_bead            ;be95  4c ad be

;Address 0x7C (TechniSat protocol)
lab_be98:
    seb 0,0xe8              ;be98  0f e8
    seb 1,0xe8              ;be9a  2f e8        Set flag = TechniSat protocol is active
    seb 7,P4                ;be9c  ef 08
    lda #0x06               ;be9e  a9 06
    sta 0x05b1              ;bea0  8d b1 05     FSM=0x06 (skip sending 55, 01, 8A)
    ldm #0x7c,0x73          ;bea3  3c 7c 73
    seb 0,0xf7              ;bea6  0f f7
    ldm #0x12,0x5e          ;bea8  3c 12 5e
    seb 7,SIO1CON           ;beab  ef 1a        Serial I/O1 enabled bit = enabled

lab_bead:
    lda #0x00               ;bead  a9 00
    sta 0x05a8              ;beaf  8d a8 05
    sta 0x05a9              ;beb2  8d a9 05
    sta 0x05ab              ;beb5  8d ab 05
    sta 0x05aa              ;beb8  8d aa 05

lab_bebb:
    rts                     ;bebb  60

sub_bebc:
    clb 3,0xee              ;bebc  7f ee
    clb 0,P3                ;bebe  1f 06
    clb 1,P3                ;bec0  3f 06
    seb 3,P3                ;bec2  6f 06
    lda #0x04               ;bec4  a9 04
    sta 0x0366              ;bec6  8d 66 03
    lda #0x00               ;bec9  a9 00
    sta 0x0367              ;becb  8d 67 03
    rts                     ;bece  60

sub_becf:
    bbc 1,0xee,lab_beef     ;becf  37 ee 1d
    bbc 0,P8_P4I,lab_beed   ;bed2  17 10 18
    lda 0x58                ;bed5  a5 58
    bbs 7,a,lab_bee5        ;bed7  e3 0c
    and #0x07               ;bed9  29 07
    cmp #0x02               ;bedb  c9 02
    bcs lab_beeb            ;bedd  b0 0c
    jsr sub_bf4a            ;bedf  20 4a bf
    jsr sub_bff4            ;bee2  20 f4 bf

lab_bee5:
    jsr sub_c063            ;bee5  20 63 c0
    jsr sub_c043            ;bee8  20 43 c0

lab_beeb:
    bra lab_beef            ;beeb  80 02

lab_beed:
    clb 3,P3                ;beed  7f 06

lab_beef:
    rts                     ;beef  60

sub_bef0:
    bbc 1,0xee,lab_bf03     ;bef0  37 ee 10
    bbc 0,P8_P4I,lab_bf01   ;bef3  17 10 0b
    jsr sub_bf04            ;bef6  20 04 bf
    jsr sub_c063            ;bef9  20 63 c0
    jsr sub_c043            ;befc  20 43 c0
    bra lab_bf03            ;beff  80 02

lab_bf01:
    clb 3,P3                ;bf01  7f 06

lab_bf03:
    rts                     ;bf03  60

sub_bf04:
    ldx #0x0f               ;bf04  a2 0f
    lda #0x20               ;bf06  a9 20

lab_bf08:
    sta 0x011c,x            ;bf08  9d 1c 01
    dex                     ;bf0b  ca
    bpl lab_bf08            ;bf0c  10 fa
    ldx #0x07               ;bf0e  a2 07
    lda #0x20               ;bf10  a9 20

lab_bf12:
    sta 0x0114,x            ;bf12  9d 14 01
    dex                     ;bf15  ca
    bpl lab_bf12            ;bf16  10 fa
    rts                     ;bf18  60

sub_bf19:
    bbc 2,P3,lab_bf2d       ;bf19  57 06 11
    lda #0x04               ;bf1c  a9 04
    sta 0x0366              ;bf1e  8d 66 03
    lda 0x0367              ;bf21  ad 67 03
    cmp #0x80               ;bf24  c9 80
    bcs lab_bf49            ;bf26  b0 21
    inc 0x0367              ;bf28  ee 67 03
    bra lab_bf49            ;bf2b  80 1c

lab_bf2d:
    lda 0x0366              ;bf2d  ad 66 03
    beq lab_bf35            ;bf30  f0 03
    dec 0x0366              ;bf32  ce 66 03

lab_bf35:
    lda 0x0367              ;bf35  ad 67 03
    cmp #0x02               ;bf38  c9 02
    bcc lab_bf44            ;bf3a  90 08
    cmp #0x05               ;bf3c  c9 05
    bcs lab_bf44            ;bf3e  b0 04
    seb 1,0xef              ;bf40  2f ef
    seb 3,0xee              ;bf42  6f ee

lab_bf44:
    lda #0x00               ;bf44  a9 00
    sta 0x0367              ;bf46  8d 67 03

lab_bf49:
    rts                     ;bf49  60

sub_bf4a:
    cmp #0x01               ;bf4a  c9 01
    beq lab_bf7c            ;bf4c  f0 2e
    ldx #0x00               ;bf4e  a2 00
    lda #0x08               ;bf50  a9 08
    mul 0x5a,x              ;bf52  62 5a
    ldy #0x00               ;bf54  a0 00
    clc                     ;bf56  18
    adc #0xc9               ;bf57  69 c9
    sta 0x40                ;bf59  85 40
    pla                     ;bf5b  68
    adc #0x63               ;bf5c  69 63
    sta 0x41                ;bf5e  85 41
    jsr sub_bfe5            ;bf60  20 e5 bf
    lda 0x5a                ;bf63  a5 5a
    cmp #0x20               ;bf65  c9 20
    beq lab_bf6d            ;bf67  f0 04
    cmp #0x05               ;bf69  c9 05
    bcs lab_bf7a            ;bf6b  b0 0d

lab_bf6d:
    lda 0x0113              ;bf6d  ad 13 01
    and #0x07               ;bf70  29 07
    beq lab_bf7a            ;bf72  f0 06
    clc                     ;bf74  18
    adc #0x30               ;bf75  69 30
    sta 0x0120              ;bf77  8d 20 01

lab_bf7a:
    bra lab_bfd5            ;bf7a  80 59

lab_bf7c:
    ldx #0x07               ;bf7c  a2 07
    lda #0x20               ;bf7e  a9 20

lab_bf80:
    sta 0x011c,x            ;bf80  9d 1c 01
    dex                     ;bf83  ca
    bpl lab_bf80            ;bf84  10 fa
    lda 0x0111              ;bf86  ad 11 01
    and #0x0f               ;bf89  29 0f
    ora #0x30               ;bf8b  09 30
    sta 0x011d              ;bf8d  8d 1d 01
    lda 0x0112              ;bf90  ad 12 01
    lsr a                   ;bf93  4a
    lsr a                   ;bf94  4a
    lsr a                   ;bf95  4a
    lsr a                   ;bf96  4a
    ora #0x30               ;bf97  09 30
    sta 0x011e              ;bf99  8d 1e 01
    lda 0x0112              ;bf9c  ad 12 01
    and #0x0f               ;bf9f  29 0f
    ora #0x30               ;bfa1  09 30
    sta 0x011f              ;bfa3  8d 1f 01
    lda 0x0113              ;bfa6  ad 13 01
    lsr a                   ;bfa9  4a
    lsr a                   ;bfaa  4a
    lsr a                   ;bfab  4a
    lsr a                   ;bfac  4a
    ora #0x30               ;bfad  09 30
    sta 0x0120              ;bfaf  8d 20 01
    lda 0x0113              ;bfb2  ad 13 01
    and #0x0f               ;bfb5  29 0f
    ora #0x30               ;bfb7  09 30
    sta 0x0121              ;bfb9  8d 21 01
    ldx #0x05               ;bfbc  a2 05

lab_bfbe:
    lda 0x011c,x            ;bfbe  bd 1c 01
    cmp #0x3a               ;bfc1  c9 3a
    bcc lab_bfca            ;bfc3  90 05
    lda #0x20               ;bfc5  a9 20
    sta 0x011c,x            ;bfc7  9d 1c 01

lab_bfca:
    dex                     ;bfca  ca
    bpl lab_bfbe            ;bfcb  10 f1
    lda 0x0111              ;bfcd  ad 11 01
    bbc 4,a,lab_bfd5        ;bfd0  93 03
    jsr sub_c02b            ;bfd2  20 2b c0

lab_bfd5:
    lda 0x0111              ;bfd5  ad 11 01
    bbc 7,a,lab_bfe4        ;bfd8  f3 0a
    ldx #0x54               ;bfda  a2 54
    stx 0x0122              ;bfdc  8e 22 01
    ldx #0x50               ;bfdf  a2 50
    stx 0x0123              ;bfe1  8e 23 01

lab_bfe4:
    rts                     ;bfe4  60

sub_bfe5:
    tya                     ;bfe5  98
    pha                     ;bfe6  48
    ldy #0x07               ;bfe7  a0 07

lab_bfe9:
    lda [0x40],y            ;bfe9  b1 40
    sta 0x011c,y            ;bfeb  99 1c 01
    dey                     ;bfee  88
    bpl lab_bfe9            ;bfef  10 f8
    pla                     ;bff1  68
    tay                     ;bff2  a8
    rts                     ;bff3  60

sub_bff4:
    tya                     ;bff4  98
    pha                     ;bff5  48
    ldy #0x07               ;bff6  a0 07

lab_bff8:
    lda 0x0114,y            ;bff8  b9 14 01
    sta 0x0124,y            ;bffb  99 24 01
    dey                     ;bffe  88
    bpl lab_bff8            ;bfff  10 f7
    lda 0x0111              ;c001  ad 11 01
    bbc 5,a,lab_c009        ;c004  b3 03
    jsr sub_c00c            ;c006  20 0c c0

lab_c009:
    pla                     ;c009  68
    tay                     ;c00a  a8
    rts                     ;c00b  60

sub_c00c:
    ldx 0x0129              ;c00c  ae 29 01
    cpx #0x2e               ;c00f  e0 2e
    beq lab_c02a            ;c011  f0 17
    ldx 0x0127              ;c013  ae 27 01
    stx 0x0126              ;c016  8e 26 01
    ldx 0x0128              ;c019  ae 28 01
    stx 0x0127              ;c01c  8e 27 01
    ldx 0x0129              ;c01f  ae 29 01
    stx 0x0128              ;c022  8e 28 01
    ldx #0x2e               ;c025  a2 2e
    stx 0x0129              ;c027  8e 29 01

lab_c02a:
    rts                     ;c02a  60

sub_c02b:
    ldx 0x011d              ;c02b  ae 1d 01
    stx 0x011c              ;c02e  8e 1c 01
    ldx 0x011e              ;c031  ae 1e 01
    stx 0x011d              ;c034  8e 1d 01
    ldx 0x011f              ;c037  ae 1f 01
    stx 0x011e              ;c03a  8e 1e 01
    ldx #0x2e               ;c03d  a2 2e
    stx 0x011f              ;c03f  8e 1f 01
    rts                     ;c042  60

sub_c043:
    lda 0x0365              ;c043  ad 65 03
    bne lab_c051            ;c046  d0 09
    ldm #0x00,0xcb          ;c048  3c 00 cb
    clb 4,0xee              ;c04b  9f ee
    seb 1,0xef              ;c04d  2f ef
    bra lab_c062            ;c04f  80 11

lab_c051:
    lda 0xcb                ;c051  a5 cb
    cmp #0x05               ;c053  c9 05
    bcs lab_c05d            ;c055  b0 06
    inc 0xcb                ;c057  e6 cb
    seb 4,0xee              ;c059  8f ee
    bra lab_c05f            ;c05b  80 02

lab_c05d:
    clb 1,0xef              ;c05d  3f ef

lab_c05f:
    jsr sub_a9b1            ;c05f  20 b1 a9

lab_c062:
    rts                     ;c062  60

sub_c063:
    lda #0x00               ;c063  a9 00
    sta 0x0365              ;c065  8d 65 03
    lda 0x0366              ;c068  ad 66 03
    beq lab_c070            ;c06b  f0 03
    jmp lab_c0f7            ;c06d  4c f7 c0

lab_c070:
    sei                     ;c070  78
    clb 3,P3                ;c071  7f 06
    ldx #0x1e               ;c073  a2 1e

lab_c075:
    dex                     ;c075  ca
    bne lab_c075            ;c076  d0 fd
    seb 3,P3                ;c078  6f 06
    ldx #0xff               ;c07a  a2 ff
    lda #0x81               ;c07c  a9 81
    jsr sub_c0fe            ;c07e  20 fe c0
    jsr sub_c14f            ;c081  20 4f c1
    ldx #0x00               ;c084  a2 00
    lda 0x0365              ;c086  ad 65 03
    bne lab_c0a5            ;c089  d0 1a
    lda #0x12               ;c08b  a9 12
    jsr sub_c0fe            ;c08d  20 fe c0
    jsr sub_c12e            ;c090  20 2e c1
    lda 0x0365              ;c093  ad 65 03
    bne lab_c0a5            ;c096  d0 0d
    lda #0xf0               ;c098  a9 f0
    jsr sub_c0fe            ;c09a  20 fe c0
    jsr sub_c12e            ;c09d  20 2e c1
    lda 0x0365              ;c0a0  ad 65 03
    beq lab_c0a8            ;c0a3  f0 03

lab_c0a5:
    jmp lab_c0fc            ;c0a5  4c fc c0

lab_c0a8:
    lda #0x63               ;c0a8  a9 63
    sta 0x0364              ;c0aa  8d 64 03
    ldx #0x00               ;c0ad  a2 00

lab_c0af:
    lda 0x011c,x            ;c0af  bd 1c 01
    beq lab_c0d3            ;c0b2  f0 1f
    cmp #0x21               ;c0b4  c9 21
    bcc lab_c0ce            ;c0b6  90 16
    cmp #0x5f               ;c0b8  c9 5f
    bcc lab_c0d3            ;c0ba  90 17
    beq lab_c0ce            ;c0bc  f0 10
    cmp #0x60               ;c0be  c9 60
    beq lab_c0ce            ;c0c0  f0 0c
    cmp #0x7b               ;c0c2  c9 7b
    bcs lab_c0ce            ;c0c4  b0 08
    sec                     ;c0c6  38
    sbc #0x20               ;c0c7  e9 20
    sta 0x011c,x            ;c0c9  9d 1c 01
    bra lab_c0d3            ;c0cc  80 05

lab_c0ce:
    lda #0x1c               ;c0ce  a9 1c
    sta 0x011c,x            ;c0d0  9d 1c 01

lab_c0d3:
    jsr sub_c0fe            ;c0d3  20 fe c0
    jsr sub_c12e            ;c0d6  20 2e c1
    lda 0x0365              ;c0d9  ad 65 03
    bne lab_c0fc            ;c0dc  d0 1e
    lda 0x0364              ;c0de  ad 64 03
    eor 0x011c,x            ;c0e1  5d 1c 01
    sta 0x0364              ;c0e4  8d 64 03
    inx                     ;c0e7  e8
    cpx #0x10               ;c0e8  e0 10
    bcc lab_c0af            ;c0ea  90 c3
    dec 0x0364              ;c0ec  ce 64 03
    lda 0x0364              ;c0ef  ad 64 03
    jsr sub_c0fe            ;c0f2  20 fe c0
    bra lab_c0fc            ;c0f5  80 05

lab_c0f7:
    lda #0x02               ;c0f7  a9 02
    sta 0x0365              ;c0f9  8d 65 03

lab_c0fc:
    cli                     ;c0fc  58
    rts                     ;c0fd  60

sub_c0fe:
    cpx #0xff               ;c0fe  e0 ff
    beq lab_c106            ;c100  f0 04
    cli                     ;c102  58
    nop                     ;c103  ea
    nop                     ;c104  ea
    sei                     ;c105  78

lab_c106:
    ldy #0x08               ;c106  a0 08

lab_c108:
    asl a                   ;c108  0a
    bcc lab_c111            ;c109  90 06
    nop                     ;c10b  ea
    seb 1,P3                ;c10c  2f 06
    jmp lab_c116            ;c10e  4c 16 c1

lab_c111:
    clb 1,P3                ;c111  3f 06
    jmp lab_c116            ;c113  4c 16 c1

lab_c116:
    seb 0,P3                ;c116  0f 06
    pha                     ;c118  48
    lda #0x05               ;c119  a9 05

lab_c11b:
    dec a                   ;c11b  1a
    bne lab_c11b            ;c11c  d0 fd
    pla                     ;c11e  68
    clb 0,P3                ;c11f  1f 06
    pha                     ;c121  48
    lda #0x08               ;c122  a9 08

lab_c124:
    dec a                   ;c124  1a
    bne lab_c124            ;c125  d0 fd
    pla                     ;c127  68
    dey                     ;c128  88
    bne lab_c108            ;c129  d0 dd
    clb 1,P3                ;c12b  3f 06
    rts                     ;c12d  60

sub_c12e:
    lda #0x00               ;c12e  a9 00
    sta 0x0365              ;c130  8d 65 03
    lda #0x4b               ;c133  a9 4b

lab_c135:
    bbc 2,P3,lab_c140       ;c135  57 06 08
    pha                     ;c138  48
    pla                     ;c139  68
    nop                     ;c13a  ea
    dec a                   ;c13b  1a
    bne lab_c135            ;c13c  d0 f7
    bra lab_c149            ;c13e  80 09

lab_c140:
    bbs 2,P3,lab_c14e       ;c140  47 06 0b
    pha                     ;c143  48
    pla                     ;c144  68
    nop                     ;c145  ea
    dec a                   ;c146  1a
    bne lab_c140            ;c147  d0 f7

lab_c149:
    lda #0x01               ;c149  a9 01
    sta 0x0365              ;c14b  8d 65 03

lab_c14e:
    rts                     ;c14e  60

sub_c14f:
    lda #0x00               ;c14f  a9 00
    sta 0x0365              ;c151  8d 65 03
    lda #0x3c               ;c154  a9 3c

lab_c156:
    bbs 2,P3,lab_c165       ;c156  47 06 0c
    cli                     ;c159  58
    nop                     ;c15a  ea
    nop                     ;c15b  ea
    sei                     ;c15c  78
    dec a                   ;c15d  1a
    bne lab_c156            ;c15e  d0 f6
    lda #0x01               ;c160  a9 01
    sta 0x0365              ;c162  8d 65 03

lab_c165:
    rts                     ;c165  60

sub_c166:
    lda #0x00               ;c166  a9 00
    sta 0x58                ;c168  85 58
    sta 0x0368              ;c16a  8d 68 03
    clb 0,0xed              ;c16d  1f ed
    clb 1,0xed              ;c16f  3f ed
    clb 2,0xed              ;c171  5f ed
    rts                     ;c173  60

sub_c174:
    lda 0x0368              ;c174  ad 68 03
    beq lab_c18c            ;c177  f0 13
    cmp #0x0e               ;c179  c9 0e
    bcs lab_c18c            ;c17b  b0 0f
    dec a                   ;c17d  1a
    asl a                   ;c17e  0a
    tax                     ;c17f  aa
    lda 0xc18d,x            ;c180  bd 8d c1
    sta 0xc0                ;c183  85 c0
    lda 0xc18e,x            ;c185  bd 8e c1
    sta 0xc1                ;c188  85 c1
    jmp [0xc0]              ;c18a  b2 c0

lab_c18c:
    rts                     ;c18c  60

    .byte 0xeb              ;c18d  eb          DATA 0xeb
    .byte 0xc2              ;c18e  c2          DATA 0xc2
    .byte 0x1f              ;c18f  1f          DATA 0x1f
    .byte 0xc3              ;c190  c3          DATA 0xc3
    .byte 0x8d              ;c191  8d          DATA 0x8d
    .byte 0xc3              ;c192  c3          DATA 0xc3
    .byte 0xc9              ;c193  c9          DATA 0xc9
    .byte 0xc3              ;c194  c3          DATA 0xc3
    .byte 0xe4              ;c195  e4          DATA 0xe4
    .byte 0xc3              ;c196  c3          DATA 0xc3
    .byte 0x0f              ;c197  0f          DATA 0x0f
    .byte 0xc4              ;c198  c4          DATA 0xc4
    .byte 0x46              ;c199  46          DATA 0x46 'F'
    .byte 0xc4              ;c19a  c4          DATA 0xc4
    .byte 0x7e              ;c19b  7e          DATA 0x7e '~'
    .byte 0xc4              ;c19c  c4          DATA 0xc4
    .byte 0xc2              ;c19d  c2          DATA 0xc2
    .byte 0xc4              ;c19e  c4          DATA 0xc4
    .byte 0xdd              ;c19f  dd          DATA 0xdd
    .byte 0xc4              ;c1a0  c4          DATA 0xc4
    .byte 0x40              ;c1a1  40          DATA 0x40 '@'
    .byte 0xc5              ;c1a2  c5          DATA 0xc5
    .byte 0x81              ;c1a3  81          DATA 0x81
    .byte 0xc5              ;c1a4  c5          DATA 0xc5
    .byte 0xa1              ;c1a5  a1          DATA 0xa1
    .byte 0xc5              ;c1a6  c5          DATA 0xc5

sub_c1a7:
    clb 2,0xed              ;c1a7  5f ed
    bbs 0,0xed,lab_c1b6     ;c1a9  07 ed 0a
    seb 0,0xed              ;c1ac  0f ed
    lda #0x01               ;c1ae  a9 01
    sta 0x0368              ;c1b0  8d 68 03
    jmp sub_c174            ;c1b3  4c 74 c1

lab_c1b6:
    jsr sub_c166            ;c1b6  20 66 c1
    jsr sub_437f            ;c1b9  20 7f 43
    jsr sub_43b9            ;c1bc  20 b9 43
    jsr sub_664a            ;c1bf  20 4a 66
    rts                     ;c1c2  60

sub_c1c3:
    clb 2,0xed              ;c1c3  5f ed

lab_c1c5:
    ldx 0x0368              ;c1c5  ae 68 03
    dex                     ;c1c8  ca
    lda 0xc1e5,x            ;c1c9  bd e5 c1
    bbc 0,0xf2,lab_c1d5     ;c1cc  17 f2 06
    cmp #0x04               ;c1cf  c9 04
    bne lab_c1d5            ;c1d1  d0 02
    lda #0x0d               ;c1d3  a9 0d

lab_c1d5:
    sta 0x0368              ;c1d5  8d 68 03
    cmp #0x0a               ;c1d8  c9 0a
    bne lab_c1e1            ;c1da  d0 05
    seb 0,0xf4              ;c1dc  0f f4
    jsr sub_948a            ;c1de  20 8a 94

lab_c1e1:
    jmp sub_c174            ;c1e1  4c 74 c1

    .byte 0x60              ;c1e4  60          DATA 0x60 '`'
    .byte 0x02              ;c1e5  02          DATA 0x02
    .byte 0x03              ;c1e6  03          DATA 0x03
    .byte 0x04              ;c1e7  04          DATA 0x04
    .byte 0x09              ;c1e8  09          DATA 0x09
    .byte 0x06              ;c1e9  06          DATA 0x06
    .byte 0x07              ;c1ea  07          DATA 0x07
    .byte 0x08              ;c1eb  08          DATA 0x08
    .byte 0x05              ;c1ec  05          DATA 0x05
    .byte 0x0b              ;c1ed  0b          DATA 0x0b
    .byte 0x0a              ;c1ee  0a          DATA 0x0a
    .byte 0x0c              ;c1ef  0c          DATA 0x0c
    .byte 0x01              ;c1f0  01          DATA 0x01
    .byte 0x0c              ;c1f1  0c          DATA 0x0c

sub_c1f2:
    clb 2,0xed              ;c1f2  5f ed
    ldx 0x0368              ;c1f4  ae 68 03
    dex                     ;c1f7  ca
    lda 0xc20b,x            ;c1f8  bd 0b c2
    bbc 0,0xf2,lab_c204     ;c1fb  17 f2 06
    cmp #0x04               ;c1fe  c9 04
    bne lab_c204            ;c200  d0 02
    lda #0x0d               ;c202  a9 0d

lab_c204:
    sta 0x0368              ;c204  8d 68 03
    jmp sub_c174            ;c207  4c 74 c1

    .byte 0x60              ;c20a  60          DATA 0x60 '`'
    .byte 0x02              ;c20b  02          DATA 0x02
    .byte 0x03              ;c20c  03          DATA 0x03
    .byte 0x04              ;c20d  04          DATA 0x04
    .byte 0x05              ;c20e  05          DATA 0x05
    .byte 0x04              ;c20f  04          DATA 0x04
    .byte 0x04              ;c210  04          DATA 0x04
    .byte 0x04              ;c211  04          DATA 0x04
    .byte 0x04              ;c212  04          DATA 0x04
    .byte 0x0a              ;c213  0a          DATA 0x0a
    .byte 0x09              ;c214  09          DATA 0x09
    .byte 0x0c              ;c215  0c          DATA 0x0c
    .byte 0x01              ;c216  01          DATA 0x01
    .byte 0x0c              ;c217  0c          DATA 0x0c

sub_c218:
    clb 2,0xed              ;c218  5f ed
    ldx 0x0368              ;c21a  ae 68 03
    dex                     ;c21d  ca
    lda 0xc23a,x            ;c21e  bd 3a c2
    bbc 0,0xf2,lab_c22a     ;c221  17 f2 06
    cmp #0x0b               ;c224  c9 0b
    bne lab_c22a            ;c226  d0 02
    lda #0x0d               ;c228  a9 0d

lab_c22a:
    sta 0x0368              ;c22a  8d 68 03
    cmp #0x0a               ;c22d  c9 0a
    bne lab_c236            ;c22f  d0 05
    clb 0,0xf4              ;c231  1f f4
    jsr sub_948a            ;c233  20 8a 94

lab_c236:
    jmp sub_c174            ;c236  4c 74 c1

    .byte 0x60              ;c239  60          DATA 0x60 '`'
    .byte 0x0c              ;c23a  0c          DATA 0x0c
    .byte 0x01              ;c23b  01          DATA 0x01
    .byte 0x02              ;c23c  02          DATA 0x02
    .byte 0x03              ;c23d  03          DATA 0x03
    .byte 0x08              ;c23e  08          DATA 0x08
    .byte 0x05              ;c23f  05          DATA 0x05
    .byte 0x06              ;c240  06          DATA 0x06
    .byte 0x07              ;c241  07          DATA 0x07
    .byte 0x04              ;c242  04          DATA 0x04
    .byte 0x0a              ;c243  0a          DATA 0x0a
    .byte 0x09              ;c244  09          DATA 0x09
    .byte 0x0b              ;c245  0b          DATA 0x0b
    .byte 0x03              ;c246  03          DATA 0x03

sub_c247:
    clb 2,0xed              ;c247  5f ed
    ldx 0x0368              ;c249  ae 68 03
    dex                     ;c24c  ca
    lda 0xc260,x            ;c24d  bd 60 c2
    bbc 0,0xf2,lab_c259     ;c250  17 f2 06
    cmp #0x0b               ;c253  c9 0b
    bne lab_c259            ;c255  d0 02
    lda #0x0d               ;c257  a9 0d

lab_c259:
    sta 0x0368              ;c259  8d 68 03
    jmp sub_c174            ;c25c  4c 74 c1

    .byte 0x60              ;c25f  60          DATA 0x60 '`'
    .byte 0x0c              ;c260  0c          DATA 0x0c
    .byte 0x01              ;c261  01          DATA 0x01
    .byte 0x02              ;c262  02          DATA 0x02
    .byte 0x05              ;c263  05          DATA 0x05
    .byte 0x04              ;c264  04          DATA 0x04
    .byte 0x04              ;c265  04          DATA 0x04
    .byte 0x04              ;c266  04          DATA 0x04
    .byte 0x04              ;c267  04          DATA 0x04
    .byte 0x0a              ;c268  0a          DATA 0x0a
    .byte 0x09              ;c269  09          DATA 0x09
    .byte 0x09              ;c26a  09          DATA 0x09
    .byte 0x0b              ;c26b  0b          DATA 0x0b
    .byte 0x03              ;c26c  03          DATA 0x03

sub_c26d:
    bbs 2,0xed,lab_c283     ;c26d  47 ed 13
    lda 0x0368              ;c270  ad 68 03
    cmp #0x05               ;c273  c9 05
    bcc lab_c288            ;c275  90 11
    cmp #0x09               ;c277  c9 09
    bcs lab_c288            ;c279  b0 0d
    seb 2,0xed              ;c27b  4f ed
    jsr sub_34d9            ;c27d  20 d9 34
    sec                     ;c280  38
    bra lab_c289            ;c281  80 06

lab_c283:
    clb 2,0xed              ;c283  5f ed
    sec                     ;c285  38
    bra lab_c289            ;c286  80 01

lab_c288:
    clc                     ;c288  18

lab_c289:
    rts                     ;c289  60

sub_c28a:
    clb 2,0xed              ;c28a  5f ed
    lda 0x0368              ;c28c  ad 68 03
    cmp #0x04               ;c28f  c9 04
    bcc lab_c29f            ;c291  90 0c
    cmp #0x0c               ;c293  c9 0c
    bcs lab_c29f            ;c295  b0 08
    lda #0x0d               ;c297  a9 0d
    sta 0x0368              ;c299  8d 68 03
    jmp sub_c174            ;c29c  4c 74 c1

lab_c29f:
    rts                     ;c29f  60

sub_c2a0:
    clb 2,0xed              ;c2a0  5f ed
    lda 0x0368              ;c2a2  ad 68 03
    cmp #0x0d               ;c2a5  c9 0d
    bne lab_c2b1            ;c2a7  d0 08
    lda #0x04               ;c2a9  a9 04
    sta 0x0368              ;c2ab  8d 68 03
    jmp sub_c174            ;c2ae  4c 74 c1

lab_c2b1:
    rts                     ;c2b1  60

sub_c2b2:
    lda 0x0368              ;c2b2  ad 68 03
    beq lab_c2cc            ;c2b5  f0 15
    cmp #0x09               ;c2b7  c9 09
    bcs lab_c2cc            ;c2b9  b0 11
    cmp #0x06               ;c2bb  c9 06
    bcc lab_c2cc            ;c2bd  90 0d
    lda #0x05               ;c2bf  a9 05
    sta 0x0368              ;c2c1  8d 68 03
    ldy #0x15               ;c2c4  a0 15
    jsr sub_3300            ;c2c6  20 00 33
    jmp sub_c174            ;c2c9  4c 74 c1

lab_c2cc:
    rts                     ;c2cc  60

sub_c2cd:
    lda 0x0368              ;c2cd  ad 68 03
    cmp #0x05               ;c2d0  c9 05
    bcc lab_c2e7            ;c2d2  90 13
    cmp #0x09               ;c2d4  c9 09
    bcs lab_c2db            ;c2d6  b0 03
    jmp lab_c1c5            ;c2d8  4c c5 c1

lab_c2db:
    cmp #0x0a               ;c2db  c9 0a
    beq lab_c2e8            ;c2dd  f0 09
    cmp #0x0b               ;c2df  c9 0b
    beq lab_c2e8            ;c2e1  f0 05
    cmp #0x0d               ;c2e3  c9 0d
    beq lab_c2e8            ;c2e5  f0 01

lab_c2e7:
    rts                     ;c2e7  60

lab_c2e8:
    jmp lab_c2e7            ;c2e8  4c e7 c2

lab_c2eb:
    lda #0x11               ;c2eb  a9 11
    sta 0x5a                ;c2ed  85 5a
    lda #0x00               ;c2ef  a9 00
    sta 0x58                ;c2f1  85 58
    jsr sub_672d            ;c2f3  20 2d 67
    lda #0x0a               ;c2f6  a9 0a
    sta 0x5b                ;c2f8  85 5b
    jsr sub_686e            ;c2fa  20 6e 68

    ;Copy "YD5" into the buffer
    ldx #0x02               ;c2fd  a2 02
lab_c2ff_loop:
    lda advanced_id+4,x     ;c2ff  bd 82 ff     A = byte from "YD5"
    sta 0x0115,x            ;c302  9d 15 01
    dex                     ;c305  ca
    bpl lab_c2ff_loop       ;c306  10 f7

    lda #0x54               ;c308  a9 54
    sta 0x0119              ;c30a  8d 19 01
    lda #0x3a               ;c30d  a9 3a
    sta 0x011a              ;c30f  8d 1a 01
    lda 0xff6f              ;c312  ad 6f ff
    sta 0x011b              ;c315  8d 1b 01
    jsr sub_6cc0            ;c318  20 c0 6c
    jsr sub_becf            ;c31b  20 cf be
    rts                     ;c31e  60

lab_c31f:
    clb 1,0xed              ;c31f  3f ed
    lda #0x12               ;c321  a9 12
    sta 0x5a                ;c323  85 5a
    lda #0x00               ;c325  a9 00
    sta 0x58                ;c327  85 58
    jsr sub_672d            ;c329  20 2d 67
    ldx #0x03               ;c32c  a2 03

lab_c32e:
    lda 0xff66,x            ;c32e  bd 66 ff
    sta 0x0114,x            ;c331  9d 14 01
    dex                     ;c334  ca
    bpl lab_c32e            ;c335  10 f7
    jsr sub_4da5            ;c337  20 a5 4d     TODO writes 2 bytes, reads 4 bytes to an unknown I2C device
    lda 0x0104              ;c33a  ad 04 01
    lsr a                   ;c33d  4a
    lsr a                   ;c33e  4a
    lsr a                   ;c33f  4a
    lsr a                   ;c340  4a
    clc                     ;c341  18
    adc #0x30               ;c342  69 30
    cmp #0x3a               ;c344  c9 3a
    bcc lab_c34b            ;c346  90 03
    clc                     ;c348  18
    adc #0x07               ;c349  69 07

lab_c34b:
    sta 0x0118              ;c34b  8d 18 01
    lda 0x0104              ;c34e  ad 04 01
    and #0x0f               ;c351  29 0f
    clc                     ;c353  18
    adc #0x30               ;c354  69 30
    cmp #0x3a               ;c356  c9 3a
    bcc lab_c35d            ;c358  90 03
    clc                     ;c35a  18
    adc #0x07               ;c35b  69 07

lab_c35d:
    sta 0x0119              ;c35d  8d 19 01
    lda 0x0105              ;c360  ad 05 01
    lsr a                   ;c363  4a
    lsr a                   ;c364  4a
    lsr a                   ;c365  4a
    lsr a                   ;c366  4a
    clc                     ;c367  18
    adc #0x30               ;c368  69 30
    cmp #0x3a               ;c36a  c9 3a
    bcc lab_c371            ;c36c  90 03
    clc                     ;c36e  18
    adc #0x07               ;c36f  69 07

lab_c371:
    sta 0x011a              ;c371  8d 1a 01
    lda 0x0105              ;c374  ad 05 01
    and #0x0f               ;c377  29 0f
    clc                     ;c379  18
    adc #0x30               ;c37a  69 30
    cmp #0x3a               ;c37c  c9 3a
    bcc lab_c383            ;c37e  90 03
    clc                     ;c380  18
    adc #0x07               ;c381  69 07

lab_c383:
    sta 0x011b              ;c383  8d 1b 01
    jsr sub_6cc0            ;c386  20 c0 6c
    jsr sub_becf            ;c389  20 cf be
    rts                     ;c38c  60

    .byte 0x3f              ;c38d  3f          DATA 0x3f '?'
    .byte 0xed              ;c38e  ed          DATA 0xed
    .byte 0xa9              ;c38f  a9          DATA 0xa9
    .byte 0x13              ;c390  13          DATA 0x13
    .byte 0x85              ;c391  85          DATA 0x85
    .byte 0x5a              ;c392  5a          DATA 0x5a 'Z'
    .byte 0xa9              ;c393  a9          DATA 0xa9
    .byte 0x00              ;c394  00          DATA 0x00
    .byte 0x85              ;c395  85          DATA 0x85
    .byte 0x58              ;c396  58          DATA 0x58 'X'
    .byte 0x20              ;c397  20          DATA 0x20 ' '
    .byte 0x2d              ;c398  2d          DATA 0x2d '-'
    .byte 0x67              ;c399  67          DATA 0x67 'g'
    .byte 0xa2              ;c39a  a2          DATA 0xa2
    .byte 0x1d              ;c39b  1d          DATA 0x1d
    .byte 0xac              ;c39c  ac          DATA 0xac
    .byte 0x80              ;c39d  80          DATA 0x80
    .byte 0x02              ;c39e  02          DATA 0x02
    .byte 0xd0              ;c39f  d0          DATA 0xd0
    .byte 0x02              ;c3a0  02          DATA 0x02
    .byte 0xa2              ;c3a1  a2          DATA 0xa2
    .byte 0x1e              ;c3a2  1e          DATA 0x1e
    .byte 0x86              ;c3a3  86          DATA 0x86
    .byte 0x5b              ;c3a4  5b          DATA 0x5b '['
    .byte 0x20              ;c3a5  20          DATA 0x20 ' '
    .byte 0x6e              ;c3a6  6e          DATA 0x6e 'n'
    .byte 0x68              ;c3a7  68          DATA 0x68 'h'
    .byte 0xac              ;c3a8  ac          DATA 0xac
    .byte 0x80              ;c3a9  80          DATA 0x80
    .byte 0x02              ;c3aa  02          DATA 0x02
    .byte 0xf0              ;c3ab  f0          DATA 0xf0
    .byte 0x15              ;c3ac  15          DATA 0x15
    .byte 0xad              ;c3ad  ad          DATA 0xad
    .byte 0xcb              ;c3ae  cb          DATA 0xcb
    .byte 0x02              ;c3af  02          DATA 0x02
    .byte 0x4a              ;c3b0  4a          DATA 0x4a 'J'
    .byte 0xa0              ;c3b1  a0          DATA 0xa0
    .byte 0x02              ;c3b2  02          DATA 0x02
    .byte 0x20              ;c3b3  20          DATA 0x20 ' '
    .byte 0x43              ;c3b4  43          DATA 0x43 'C'
    .byte 0x6c              ;c3b5  6c          DATA 0x6c 'l'
    .byte 0xad              ;c3b6  ad          DATA 0xad
    .byte 0x16              ;c3b7  16          DATA 0x16
    .byte 0x01              ;c3b8  01          DATA 0x01
    .byte 0xc9              ;c3b9  c9          DATA 0xc9
    .byte 0x30              ;c3ba  30          DATA 0x30 '0'
    .byte 0xd0              ;c3bb  d0          DATA 0xd0
    .byte 0x05              ;c3bc  05          DATA 0x05
    .byte 0xa9              ;c3bd  a9          DATA 0xa9
    .byte 0x20              ;c3be  20          DATA 0x20 ' '
    .byte 0x8d              ;c3bf  8d          DATA 0x8d
    .byte 0x16              ;c3c0  16          DATA 0x16
    .byte 0x01              ;c3c1  01          DATA 0x01
    .byte 0x20              ;c3c2  20          DATA 0x20 ' '
    .byte 0xc0              ;c3c3  c0          DATA 0xc0
    .byte 0x6c              ;c3c4  6c          DATA 0x6c 'l'
    .byte 0x20              ;c3c5  20          DATA 0x20 ' '
    .byte 0xcf              ;c3c6  cf          DATA 0xcf
    .byte 0xbe              ;c3c7  be          DATA 0xbe
    .byte 0x60              ;c3c8  60          DATA 0x60 '`'
    .byte 0x2f              ;c3c9  2f          DATA 0x2f '/'
    .byte 0xed              ;c3ca  ed          DATA 0xed
    .byte 0xa9              ;c3cb  a9          DATA 0xa9
    .byte 0x15              ;c3cc  15          DATA 0x15
    .byte 0x85              ;c3cd  85          DATA 0x85
    .byte 0x5a              ;c3ce  5a          DATA 0x5a 'Z'
    .byte 0xa9              ;c3cf  a9          DATA 0xa9
    .byte 0x00              ;c3d0  00          DATA 0x00
    .byte 0x85              ;c3d1  85          DATA 0x85
    .byte 0x58              ;c3d2  58          DATA 0x58 'X'
    .byte 0x20              ;c3d3  20          DATA 0x20 ' '
    .byte 0x2d              ;c3d4  2d          DATA 0x2d '-'
    .byte 0x67              ;c3d5  67          DATA 0x67 'g'
    .byte 0xa9              ;c3d6  a9          DATA 0xa9
    .byte 0x20              ;c3d7  20          DATA 0x20 ' '
    .byte 0x85              ;c3d8  85          DATA 0x85
    .byte 0x5b              ;c3d9  5b          DATA 0x5b '['
    .byte 0x20              ;c3da  20          DATA 0x20 ' '
    .byte 0x6e              ;c3db  6e          DATA 0x6e 'n'
    .byte 0x68              ;c3dc  68          DATA 0x68 'h'
    .byte 0x20              ;c3dd  20          DATA 0x20 ' '
    .byte 0xc0              ;c3de  c0          DATA 0xc0
    .byte 0x6c              ;c3df  6c          DATA 0x6c 'l'
    .byte 0x20              ;c3e0  20          DATA 0x20 ' '
    .byte 0xcf              ;c3e1  cf          DATA 0xcf
    .byte 0xbe              ;c3e2  be          DATA 0xbe
    .byte 0x60              ;c3e3  60          DATA 0x60 '`'

    seb 1,0xed              ;c3e4  2f ed
    lda #0x15               ;c3e6  a9 15
    sta 0x5a                ;c3e8  85 5a
    lda #0x00               ;c3ea  a9 00
    sta 0x58                ;c3ec  85 58
    jsr sub_672d            ;c3ee  20 2d 67
    bbs 2,0xfb,lab_c3fd     ;c3f1  47 fb 09
    lda #0x0a               ;c3f4  a9 0a
    sta 0x5b                ;c3f6  85 5b
    jsr sub_686e            ;c3f8  20 6e 68
    bra lab_c408            ;c3fb  80 0b

lab_c3fd:
    lda #0x40               ;c3fd  a9 40
    sta 0x40                ;c3ff  85 40
    lda #0x01               ;c401  a9 01
    sta 0x41                ;c403  85 41
    jsr sub_6850            ;c405  20 50 68

lab_c408:
    jsr sub_6cc0            ;c408  20 c0 6c
    jsr sub_becf            ;c40b  20 cf be
    rts                     ;c40e  60
    seb 1,0xed              ;c40f  2f ed
    lda #0x15               ;c411  a9 15
    sta 0x5a                ;c413  85 5a
    lda #0x00               ;c415  a9 00
    sta 0x58                ;c417  85 58
    jsr sub_672d            ;c419  20 2d 67
    jsr sub_c5c7            ;c41c  20 c7 c5
    lda #0x20               ;c41f  a9 20
    sta 0x0118              ;c421  8d 18 01
    sta 0x011a              ;c424  8d 1a 01
    lda #0x30               ;c427  a9 30
    sta 0x0119              ;c429  8d 19 01
    sta 0x011b              ;c42c  8d 1b 01
    bbc 0,0xfa,lab_c437     ;c42f  17 fa 05
    lda #0x31               ;c432  a9 31
    sta 0x0119              ;c434  8d 19 01

lab_c437:
    bbc 1,0xfa,lab_c43f     ;c437  37 fa 05
    lda #0x31               ;c43a  a9 31
    sta 0x011b              ;c43c  8d 1b 01

lab_c43f:
    jsr sub_6cc0            ;c43f  20 c0 6c
    jsr sub_becf            ;c442  20 cf be
    rts                     ;c445  60
    seb 1,0xed              ;c446  2f ed
    lda #0x15               ;c448  a9 15
    sta 0x5a                ;c44a  85 5a
    lda #0x00               ;c44c  a9 00
    sta 0x58                ;c44e  85 58
    jsr sub_672d            ;c450  20 2d 67
    lda #0x23               ;c453  a9 23
    sta 0x5b                ;c455  85 5b
    jsr sub_686e            ;c457  20 6e 68
    lda 0x94                ;c45a  a5 94
    ldy #0x04               ;c45c  a0 04
    jsr sub_6c43            ;c45e  20 43 6c
    lda 0x0118              ;c461  ad 18 01
    cmp #0x30               ;c464  c9 30
    bne lab_c46d            ;c466  d0 05
    lda #0x20               ;c468  a9 20
    sta 0x0118              ;c46a  8d 18 01

lab_c46d:
    lda #0x53               ;c46d  a9 53
    bbc 4,0xfa,lab_c474     ;c46f  97 fa 02
    lda #0x4d               ;c472  a9 4d

lab_c474:
    sta 0x011b              ;c474  8d 1b 01
    jsr sub_6cc0            ;c477  20 c0 6c
    jsr sub_becf            ;c47a  20 cf be
    rts                     ;c47d  60
    seb 1,0xed              ;c47e  2f ed
    lda #0x15               ;c480  a9 15
    sta 0x5a                ;c482  85 5a
    lda #0x00               ;c484  a9 00
    sta 0x58                ;c486  85 58
    jsr sub_672d            ;c488  20 2d 67
    lda #0x0a               ;c48b  a9 0a
    sta 0x5b                ;c48d  85 5b
    jsr sub_686e            ;c48f  20 6e 68
    lda 0x61                ;c492  a5 61
    bbs 3,0xf8,lab_c499     ;c494  67 f8 02
    lda #0x00               ;c497  a9 00

lab_c499:
    ldy #0x01               ;c499  a0 01
    jsr sub_6c43            ;c49b  20 43 6c
    lda 0x0115              ;c49e  ad 15 01
    cmp #0x30               ;c4a1  c9 30
    bne lab_c4aa            ;c4a3  d0 05
    lda #0x20               ;c4a5  a9 20
    sta 0x0115              ;c4a7  8d 15 01

lab_c4aa:
    lda #0x3a               ;c4aa  a9 3a
    sta 0x0117              ;c4ac  8d 17 01
    lda 0x62                ;c4af  a5 62
    bbs 3,0xf8,lab_c4b6     ;c4b1  67 f8 02
    lda #0x00               ;c4b4  a9 00

lab_c4b6:
    ldy #0x04               ;c4b6  a0 04
    jsr sub_6c43            ;c4b8  20 43 6c
    jsr sub_6cc0            ;c4bb  20 c0 6c
    jsr sub_becf            ;c4be  20 cf be
    rts                     ;c4c1  60

    .byte 0x2f              ;c4c2  2f          DATA 0x2f '/'
    .byte 0xed              ;c4c3  ed          DATA 0xed
    .byte 0xa9              ;c4c4  a9          DATA 0xa9
    .byte 0x16              ;c4c5  16          DATA 0x16
    .byte 0x85              ;c4c6  85          DATA 0x85
    .byte 0x5a              ;c4c7  5a          DATA 0x5a 'Z'
    .byte 0xa9              ;c4c8  a9          DATA 0xa9
    .byte 0x00              ;c4c9  00          DATA 0x00
    .byte 0x85              ;c4ca  85          DATA 0x85
    .byte 0x58              ;c4cb  58          DATA 0x58 'X'
    .byte 0x20              ;c4cc  20          DATA 0x20 ' '
    .byte 0x2d              ;c4cd  2d          DATA 0x2d '-'
    .byte 0x67              ;c4ce  67          DATA 0x67 'g'
    .byte 0xa9              ;c4cf  a9          DATA 0xa9
    .byte 0x21              ;c4d0  21          DATA 0x21 '!'
    .byte 0x85              ;c4d1  85          DATA 0x85
    .byte 0x5b              ;c4d2  5b          DATA 0x5b '['
    .byte 0x20              ;c4d3  20          DATA 0x20 ' '
    .byte 0x6e              ;c4d4  6e          DATA 0x6e 'n'
    .byte 0x68              ;c4d5  68          DATA 0x68 'h'
    .byte 0x20              ;c4d6  20          DATA 0x20 ' '
    .byte 0xc0              ;c4d7  c0          DATA 0xc0
    .byte 0x6c              ;c4d8  6c          DATA 0x6c 'l'
    .byte 0x20              ;c4d9  20          DATA 0x20 ' '
    .byte 0xcf              ;c4da  cf          DATA 0xcf
    .byte 0xbe              ;c4db  be          DATA 0xbe
    .byte 0x60              ;c4dc  60          DATA 0x60 '`'

    seb 1,0xed              ;c4dd  2f ed
    lda #0x01               ;c4df  a9 01
    sta 0x58                ;c4e1  85 58
    jsr sub_672d            ;c4e3  20 2d 67
    lda #0x0a               ;c4e6  a9 0a
    sta 0x5b                ;c4e8  85 5b
    jsr sub_686e            ;c4ea  20 6e 68
    lda 0x6e                ;c4ed  a5 6e
    clc                     ;c4ef  18
    adc #0x30               ;c4f0  69 30
    cmp #0x3a               ;c4f2  c9 3a
    bcc lab_c4f9            ;c4f4  90 03
    clc                     ;c4f6  18
    adc #0x07               ;c4f7  69 07

lab_c4f9:
    sta 0x0114              ;c4f9  8d 14 01
    lda 0x6f                ;c4fc  a5 6f
    clc                     ;c4fe  18
    adc #0x30               ;c4ff  69 30
    cmp #0x3a               ;c501  c9 3a
    bcc lab_c508            ;c503  90 03
    clc                     ;c505  18
    adc #0x07               ;c506  69 07

lab_c508:
    sta 0x0116              ;c508  8d 16 01
    lda 0x98                ;c50b  a5 98
    clc                     ;c50d  18
    adc #0x30               ;c50e  69 30
    cmp #0x3a               ;c510  c9 3a
    bcc lab_c517            ;c512  90 03
    clc                     ;c514  18
    adc #0x07               ;c515  69 07

lab_c517:
    sta 0x0118              ;c517  8d 18 01
    lda 0x71                ;c51a  a5 71
    cmp 0x0150              ;c51c  cd 50 01
    bne lab_c526            ;c51f  d0 05
    lda #0x2e               ;c521  a9 2e
    sta 0x0119              ;c523  8d 19 01

lab_c526:
    lda 0xb8                ;c526  a5 b8
    ldy #0x06               ;c528  a0 06
    jsr sub_6c43            ;c52a  20 43 6c
    lda 0x011a              ;c52d  ad 1a 01
    cmp #0x30               ;c530  c9 30
    bne lab_c539            ;c532  d0 05
    lda #0x20               ;c534  a9 20
    sta 0x011a              ;c536  8d 1a 01

lab_c539:
    jsr sub_6cc0            ;c539  20 c0 6c
    jsr sub_becf            ;c53c  20 cf be
    rts                     ;c53f  60
    clb 1,0xed              ;c540  3f ed
    lda #0x01               ;c542  a9 01
    sta 0x58                ;c544  85 58
    jsr sub_672d            ;c546  20 2d 67
    jsr sub_c5c7            ;c549  20 c7 c5
    lda #0x20               ;c54c  a9 20
    sta 0x0118              ;c54e  8d 18 01
    sta 0x0119              ;c551  8d 19 01
    sta 0x011a              ;c554  8d 1a 01
    lda 0x70                ;c557  a5 70
    clc                     ;c559  18
    adc #0x30               ;c55a  69 30
    cmp #0x3a               ;c55c  c9 3a
    bcc lab_c563            ;c55e  90 03
    clc                     ;c560  18
    adc #0x07               ;c561  69 07

lab_c563:
    sta 0x011b              ;c563  8d 1b 01
    bbc 3,0xfe,lab_c56e     ;c566  77 fe 05
    lda #0x2a               ;c569  a9 2a
    sta 0x0119              ;c56b  8d 19 01

lab_c56e:
    lda 0x02c7              ;c56e  ad c7 02
    cmp #0x49               ;c571  c9 49
    bne lab_c57a            ;c573  d0 05
    lda #0x2b               ;c575  a9 2b
    sta 0x011a              ;c577  8d 1a 01

lab_c57a:
    jsr sub_6cc0            ;c57a  20 c0 6c
    jsr sub_becf            ;c57d  20 cf be
    rts                     ;c580  60
    clb 1,0xed              ;c581  3f ed
    lda #0x14               ;c583  a9 14
    sta 0x5a                ;c585  85 5a
    lda #0x00               ;c587  a9 00
    sta 0x58                ;c589  85 58
    jsr sub_672d            ;c58b  20 2d 67
    lda #0x1e               ;c58e  a9 1e
    bbc 2,P0,lab_c595       ;c590  57 00 02
    lda #0x1f               ;c593  a9 1f

lab_c595:
    sta 0x5b                ;c595  85 5b
    jsr sub_686e            ;c597  20 6e 68
    jsr sub_6cc0            ;c59a  20 c0 6c
    jsr sub_becf            ;c59d  20 cf be
    rts                     ;c5a0  60
    clb 1,0xed              ;c5a1  3f ed
    lda #0x01               ;c5a3  a9 01
    sta 0x58                ;c5a5  85 58
    jsr sub_672d            ;c5a7  20 2d 67
    lda #0x22               ;c5aa  a9 22
    sta 0x5b                ;c5ac  85 5b
    jsr sub_686e            ;c5ae  20 6e 68
    lda 0x6e                ;c5b1  a5 6e
    clc                     ;c5b3  18
    adc #0x30               ;c5b4  69 30
    cmp #0x3a               ;c5b6  c9 3a
    bcc lab_c5bd            ;c5b8  90 03
    clc                     ;c5ba  18
    adc #0x07               ;c5bb  69 07

lab_c5bd:
    sta 0x011a              ;c5bd  8d 1a 01
    jsr sub_6cc0            ;c5c0  20 c0 6c
    jsr sub_becf            ;c5c3  20 cf be
    rts                     ;c5c6  60

sub_c5c7:
    lda 0x90                ;c5c7  a5 90
    and #0xf0               ;c5c9  29 f0
    lsr a                   ;c5cb  4a
    lsr a                   ;c5cc  4a
    lsr a                   ;c5cd  4a
    lsr a                   ;c5ce  4a
    clc                     ;c5cf  18
    adc #0x30               ;c5d0  69 30
    cmp #0x3a               ;c5d2  c9 3a
    bcc lab_c5d9            ;c5d4  90 03
    clc                     ;c5d6  18
    adc #0x07               ;c5d7  69 07

lab_c5d9:
    sta 0x0114              ;c5d9  8d 14 01
    lda 0x90                ;c5dc  a5 90
    and #0x0f               ;c5de  29 0f
    clc                     ;c5e0  18
    adc #0x30               ;c5e1  69 30
    cmp #0x3a               ;c5e3  c9 3a
    bcc lab_c5ea            ;c5e5  90 03
    clc                     ;c5e7  18
    adc #0x07               ;c5e8  69 07

lab_c5ea:
    sta 0x0115              ;c5ea  8d 15 01
    lda 0x91                ;c5ed  a5 91
    and #0xf0               ;c5ef  29 f0
    lsr a                   ;c5f1  4a
    lsr a                   ;c5f2  4a
    lsr a                   ;c5f3  4a
    lsr a                   ;c5f4  4a
    clc                     ;c5f5  18
    adc #0x30               ;c5f6  69 30
    cmp #0x3a               ;c5f8  c9 3a
    bcc lab_c5ff            ;c5fa  90 03
    clc                     ;c5fc  18
    adc #0x07               ;c5fd  69 07

lab_c5ff:
    sta 0x0116              ;c5ff  8d 16 01
    lda 0x91                ;c602  a5 91
    and #0x0f               ;c604  29 0f
    clc                     ;c606  18
    adc #0x30               ;c607  69 30
    cmp #0x3a               ;c609  c9 3a
    bcc lab_c610            ;c60b  90 03
    clc                     ;c60d  18
    adc #0x07               ;c60e  69 07

lab_c610:
    sta 0x0117              ;c610  8d 17 01
    rts                     ;c613  60

sub_c614:
    sta 0x0332              ;c614  8d 32 03     Store in KWP1281 tx buffer: block counter
    eor #0xff               ;c617  49 ff
    sta 0x0331              ;c619  8d 31 03     Store in KWP1281 tx buffer: block length
    lda #0xca               ;c61c  a9 ca
    sta 0x0334              ;c61e  8d 34 03
    lda #0x34               ;c621  a9 34
    sta 0x0333              ;c623  8d 33 03     Store in KWP1281 tx buffer: block title
    lda #0x05               ;c626  a9 05
    sta 0x035e              ;c628  8d 5e 03
    lda #0x04               ;c62b  a9 04
    sta 0x0360              ;c62d  8d 60 03
    lda #0x10               ;c630  a9 10
    sta 0x035f              ;c632  8d 5f 03
    jmp lab_c661            ;c635  4c 61 c6

    .byte 0x8d              ;c638  8d          DATA 0x8d
    .byte 0x32              ;c639  32          DATA 0x32 '2'
    .byte 0x03              ;c63a  03          DATA 0x03
    .byte 0x49              ;c63b  49          DATA 0x49 'I'
    .byte 0xff              ;c63c  ff          DATA 0xff
    .byte 0x8d              ;c63d  8d          DATA 0x8d
    .byte 0x31              ;c63e  31          DATA 0x31 '1'
    .byte 0x03              ;c63f  03          DATA 0x03
    .byte 0xa9              ;c640  a9          DATA 0xa9
    .byte 0x00              ;c641  00          DATA 0x00
    .byte 0x8d              ;c642  8d          DATA 0x8d
    .byte 0x34              ;c643  34          DATA 0x34 '4'
    .byte 0x03              ;c644  03          DATA 0x03
    .byte 0xa9              ;c645  a9          DATA 0xa9
    .byte 0x9e              ;c646  9e          DATA 0x9e
    .byte 0x8d              ;c647  8d          DATA 0x8d
    .byte 0x33              ;c648  33          DATA 0x33 '3'
    .byte 0x03              ;c649  03          DATA 0x03
    .byte 0xa9              ;c64a  a9          DATA 0xa9
    .byte 0x05              ;c64b  05          DATA 0x05
    .byte 0x8d              ;c64c  8d          DATA 0x8d
    .byte 0x5e              ;c64d  5e          DATA 0x5e '^'
    .byte 0x03              ;c64e  03          DATA 0x03
    .byte 0xa9              ;c64f  a9          DATA 0xa9
    .byte 0x04              ;c650  04          DATA 0x04
    .byte 0x8d              ;c651  8d          DATA 0x8d
    .byte 0x60              ;c652  60          DATA 0x60 '`'
    .byte 0x03              ;c653  03          DATA 0x03
    .byte 0xa9              ;c654  a9          DATA 0xa9
    .byte 0x10              ;c655  10          DATA 0x10
    .byte 0x8d              ;c656  8d          DATA 0x8d
    .byte 0x5f              ;c657  5f          DATA 0x5f '_'
    .byte 0x03              ;c658  03          DATA 0x03
    .byte 0x4c              ;c659  4c          DATA 0x4c 'L'
    .byte 0x61              ;c65a  61          DATA 0x61 'a'
    .byte 0xc6              ;c65b  c6          DATA 0xc6
    .byte 0xa9              ;c65c  a9          DATA 0xa9
    .byte 0x08              ;c65d  08          DATA 0x08
    .byte 0x8d              ;c65e  8d          DATA 0x8d
    .byte 0x5e              ;c65f  5e          DATA 0x5e '^'
    .byte 0x03              ;c660  03          DATA 0x03

lab_c661:
    lda #0x2d               ;c661  a9 2d
    sta T2                  ;c663  85 22
    seb 4,0xeb              ;c665  8f eb
    sei                     ;c667  78
    lda ICON1               ;c668  a5 3e
    sta 0x0362              ;c66a  8d 62 03
    lda ICON2               ;c66d  a5 3f
    sta 0x0363              ;c66f  8d 63 03
    ldm #0xc0,ICON1         ;c672  3c c0 3e
    ldm #0x00,ICON2         ;c675  3c 00 3f
    ldm #0x00,IREQ1         ;c678  3c 00 3c
    ldm #0x00,IREQ2         ;c67b  3c 00 3d
    nop                     ;c67e  ea
    cli                     ;c67f  58

lab_c680:
    bbs 4,0xeb,lab_c680     ;c680  87 eb fd
    rts                     ;c683  60

lab_c684:
    pha                     ;c684  48
    txa                     ;c685  8a
    pha                     ;c686  48
    bbs 4,P3,lab_c68e       ;c687  87 06 04
    seb 4,P3                ;c68a  8f 06
    bra lab_c690            ;c68c  80 02

lab_c68e:
    clb 4,P3                ;c68e  9f 06

lab_c690:
    ldx 0x035e              ;c690  ae 5e 03
    lda 0xc6fc,x            ;c693  bd fc c6
    sta T2                  ;c696  85 22
    lda 0x035e              ;c698  ad 5e 03
    bne lab_c6a0            ;c69b  d0 03
    jmp lab_c6e3            ;c69d  4c e3 c6

lab_c6a0:
    lda 0xc705,x            ;c6a0  bd 05 c7
    sta 0x035e              ;c6a3  8d 5e 03
    cmp #0x02               ;c6a6  c9 02
    beq lab_c6ad            ;c6a8  f0 03
    jmp lab_c6f8            ;c6aa  4c f8 c6

lab_c6ad:
    lda 0x035f              ;c6ad  ad 5f 03
    and #0x01               ;c6b0  29 01
    beq lab_c6c6            ;c6b2  f0 12
    ldx 0x0360              ;c6b4  ae 60 03
    dex                     ;c6b7  ca
    lda 0x0331,x            ;c6b8  bd 31 03     A = byte from KWP1281 tx buffer
    and #0x01               ;c6bb  29 01
    beq lab_c6c3            ;c6bd  f0 04
    lda #0x07               ;c6bf  a9 07
    sta T2                  ;c6c1  85 22

lab_c6c3:
    lsr 0x0331,x            ;c6c3  5e 31 03     LSR with byte from KWP1281 tx buffer

lab_c6c6:
    dec 0x035f              ;c6c6  ce 5f 03
    beq lab_c6ce            ;c6c9  f0 03
    jmp lab_c6f8            ;c6cb  4c f8 c6

lab_c6ce:
    dec 0x0360              ;c6ce  ce 60 03
    bne lab_c6db            ;c6d1  d0 08
    lda #0x01               ;c6d3  a9 01
    sta 0x035e              ;c6d5  8d 5e 03
    jmp lab_c6f8            ;c6d8  4c f8 c6

lab_c6db:
    lda #0x10               ;c6db  a9 10
    sta 0x035f              ;c6dd  8d 5f 03
    jmp lab_c6f8            ;c6e0  4c f8 c6

lab_c6e3:
    sei                     ;c6e3  78
    lda 0x0362              ;c6e4  ad 62 03
    sta ICON1               ;c6e7  85 3e
    lda 0x0363              ;c6e9  ad 63 03
    sta ICON2               ;c6ec  85 3f
    ldm #0x00,IREQ1         ;c6ee  3c 00 3c
    ldm #0x00,IREQ2         ;c6f1  3c 00 3d
    nop                     ;c6f4  ea
    cli                     ;c6f5  58
    clb 4,0xeb              ;c6f6  9f eb

lab_c6f8:
    pla                     ;c6f8  68
    tax                     ;c6f9  aa
    pla                     ;c6fa  68
    rti                     ;c6fb  40

    .byte 0x2c              ;c6fc  2c          DATA 0x2c ','
    .byte 0x02              ;c6fd  02          DATA 0x02
    .byte 0x02              ;c6fe  02          DATA 0x02
    .byte 0x02              ;c6ff  02          DATA 0x02
    .byte 0x16              ;c700  16          DATA 0x16
    .byte 0x2c              ;c701  2c          DATA 0x2c ','
    .byte 0x02              ;c702  02          DATA 0x02
    .byte 0x0a              ;c703  0a          DATA 0x0a
    .byte 0x2c              ;c704  2c          DATA 0x2c ','
    .byte 0x00              ;c705  00          DATA 0x00
    .byte 0x00              ;c706  00          DATA 0x00
    .byte 0x02              ;c707  02          DATA 0x02
    .byte 0x02              ;c708  02          DATA 0x02
    .byte 0x03              ;c709  03          DATA 0x03
    .byte 0x04              ;c70a  04          DATA 0x04
    .byte 0x00              ;c70b  00          DATA 0x00
    .byte 0x06              ;c70c  06          DATA 0x06
    .byte 0x07              ;c70d  07          DATA 0x07
    .byte 0x60              ;c70e  60          DATA 0x60 '`'

sub_c70f:
    lda 0x40                ;c70f  a5 40
    pha                     ;c711  48
    lda 0x41                ;c712  a5 41
    pha                     ;c714  48
    jsr sub_cc91            ;c715  20 91 cc
    jsr sub_cd6e            ;c718  20 6e cd

    ldy #0x46               ;c71b  a0 46
    jsr sub_f22c_delay      ;c71d  20 2c f2     Delay an unknown time period for Y iterations

    bbs 3,0xec,lab_c726     ;c720  67 ec 03
    jmp lab_c76c            ;c723  4c 6c c7

lab_c726:
    lda 0x031d              ;c726  ad 1d 03
    bbs 2,a,lab_c72e        ;c729  43 03
    jmp lab_c7a5            ;c72b  4c a5 c7

lab_c72e:
    lda 0x031c              ;c72e  ad 1c 03
    cmp #0x09               ;c731  c9 09
    bcc lab_c73a            ;c733  90 05
    jsr sub_cb54            ;c735  20 54 cb
    bra lab_c7a5            ;c738  80 6b

lab_c73a:
    lda 0x031d              ;c73a  ad 1d 03
    bbc 4,a,lab_c758        ;c73d  93 19
    ldx #0x04               ;c73f  a2 04
    jsr sub_cf83            ;c741  20 83 cf
    lda 0x40                ;c744  a5 40
    sta 0x4c                ;c746  85 4c
    lda 0x41                ;c748  a5 41
    sta 0x4d                ;c74a  85 4d
    lda #0xe0               ;c74c  a9 e0
    jsr sub_cd49            ;c74e  20 49 cd
    lda #0xf0               ;c751  a9 f0
    jsr sub_cd68            ;c753  20 68 cd
    bra lab_c76a            ;c756  80 12

lab_c758:
    bbc 5,a,lab_c762        ;c758  b3 08
    lda 0x031d              ;c75a  ad 1d 03
    clb 5,a                 ;c75d  bb
    clb 1,a                 ;c75e  3b
    sta 0x031d              ;c75f  8d 1d 03

lab_c762:
    jsr sub_7673            ;c762  20 73 76
    ldy #0x14               ;c765  a0 14
    jsr sub_3300            ;c767  20 00 33

lab_c76a:
    bra lab_c7a5            ;c76a  80 39

lab_c76c:
    lda 0x031d              ;c76c  ad 1d 03
    bbs 0,a,lab_c775        ;c76f  03 04
    bbs 2,a,lab_c793        ;c771  43 20
    bra lab_c7a5            ;c773  80 30

lab_c775:
    lda #0x00               ;c775  a9 00
    sta 0x4c                ;c777  85 4c
    lda #0x00               ;c779  a9 00
    sta 0x4d                ;c77b  85 4d
    lda #0xa0               ;c77d  a9 a0
    jsr sub_cd49            ;c77f  20 49 cd
    lda #0xb0               ;c782  a9 b0
    jsr sub_cd68            ;c784  20 68 cd
    lda 0x031d              ;c787  ad 1d 03
    bbc 7,a,lab_c78d        ;c78a  f3 01
    seb 6,a                 ;c78c  cb

lab_c78d:
    seb 7,a                 ;c78d  eb
    sta 0x031d              ;c78e  8d 1d 03
    bra lab_c7a5            ;c791  80 12

lab_c793:
    lda #0x00               ;c793  a9 00
    sta 0x4c                ;c795  85 4c
    lda #0x00               ;c797  a9 00
    sta 0x4d                ;c799  85 4d
    lda #0xe0               ;c79b  a9 e0
    jsr sub_cd49            ;c79d  20 49 cd
    lda #0xf0               ;c7a0  a9 f0
    jsr sub_cd68            ;c7a2  20 68 cd

lab_c7a5:
    pla                     ;c7a5  68
    sta 0x41                ;c7a6  85 41
    pla                     ;c7a8  68
    sta 0x40                ;c7a9  85 40
    rts                     ;c7ab  60

sub_c7ac:
    lda 0x40                ;c7ac  a5 40
    pha                     ;c7ae  48
    lda 0x41                ;c7af  a5 41
    pha                     ;c7b1  48
    lda 0x42                ;c7b2  a5 42
    pha                     ;c7b4  48
    lda 0x43                ;c7b5  a5 43
    pha                     ;c7b7  48
    lda 0x44                ;c7b8  a5 44
    pha                     ;c7ba  48
    lda 0x45                ;c7bb  a5 45
    pha                     ;c7bd  48
    lda 0x031d              ;c7be  ad 1d 03
    bbs 4,a,lab_c7cf        ;c7c1  83 0c
    bbs 5,a,lab_c7cf        ;c7c3  a3 0a
    bbc 2,a,lab_c7cc        ;c7c5  53 05
    bbs 1,a,lab_c7cc        ;c7c7  23 03
    jsr sub_7694            ;c7c9  20 94 76

lab_c7cc:
    jmp lab_c8fb            ;c7cc  4c fb c8

lab_c7cf:
    lda 0x5e                ;c7cf  a5 5e
    beq lab_c7d9            ;c7d1  f0 06
    lda 0x73                ;c7d3  a5 73
    cmp 0x72                ;c7d5  c5 72
    beq lab_c7e7            ;c7d7  f0 0e

lab_c7d9:
    lda 0x031d              ;c7d9  ad 1d 03
    bbs 4,a,lab_c7df        ;c7dc  83 01
    clb 1,a                 ;c7de  3b

lab_c7df:
    clb 4,a                 ;c7df  9b
    clb 5,a                 ;c7e0  bb
    sta 0x031d              ;c7e1  8d 1d 03
    jmp lab_c8fb            ;c7e4  4c fb c8

lab_c7e7:
    lda 0x031d              ;c7e7  ad 1d 03
    bbs 4,a,lab_c7f4        ;c7ea  83 08
    bbs 5,a,lab_c7f1        ;c7ec  a3 03
    jmp lab_c8fb            ;c7ee  4c fb c8

lab_c7f1:
    jmp lab_c87e            ;c7f1  4c 7e c8

lab_c7f4:
    jsr sub_7673            ;c7f4  20 73 76
    jsr sub_cd6e            ;c7f7  20 6e cd

    ldy #0x46               ;c7fa  a0 46
    jsr sub_f22c_delay      ;c7fc  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_cc91            ;c7ff  20 91 cc
    bbc 3,0xec,lab_c80d     ;c802  77 ec 08
    ldx #0x04               ;c805  a2 04
    jsr sub_cf83            ;c807  20 83 cf
    jmp lab_c8bc            ;c80a  4c bc c8

lab_c80d:
    bbc 2,0xec,lab_c81b     ;c80d  57 ec 0b
    lda #0x00               ;c810  a9 00
    sta 0x40                ;c812  85 40
    lda #0x00               ;c814  a9 00
    sta 0x41                ;c816  85 41
    jmp lab_c8bc            ;c818  4c bc c8

lab_c81b:
    jsr sub_cfd1            ;c81b  20 d1 cf
    bcc lab_c83a            ;c81e  90 1a
    lda 0x031d              ;c820  ad 1d 03
    bbs 1,a,lab_c82f        ;c823  23 0a
    jsr sub_74d2            ;c825  20 d2 74
    lda 0x031d              ;c828  ad 1d 03
    seb 1,a                 ;c82b  2b
    sta 0x031d              ;c82c  8d 1d 03

lab_c82f:
    lda 0xa8                ;c82f  a5 a8
    sta 0x40                ;c831  85 40
    lda 0xa9                ;c833  a5 a9
    sta 0x41                ;c835  85 41
    jmp lab_c8bc            ;c837  4c bc c8

lab_c83a:
    lda 0xa8                ;c83a  a5 a8
    sta 0x42                ;c83c  85 42
    lda 0xa9                ;c83e  a5 a9
    sta 0x43                ;c840  85 43
    lda #0x04               ;c842  a9 04
    sta 0x44                ;c844  85 44
    lda #0x00               ;c846  a9 00
    sta 0x45                ;c848  85 45
    jsr sub_d1d9            ;c84a  20 d9 d1
    lda 0x40                ;c84d  a5 40
    sta 0x42                ;c84f  85 42
    lda 0x41                ;c851  a5 41
    sta 0x43                ;c853  85 43
    lda #0xb1               ;c855  a9 b1
    sta 0x40                ;c857  85 40
    lda #0x04               ;c859  a9 04
    sta 0x41                ;c85b  85 41
    lda #0xba               ;c85d  a9 ba
    sta 0x44                ;c85f  85 44
    lda #0x04               ;c861  a9 04
    sta 0x45                ;c863  85 45
    jsr sub_d1b6            ;c865  20 b6 d1
    bcc lab_c874            ;c868  90 0a
    lda #0x00               ;c86a  a9 00
    sta 0x40                ;c86c  85 40
    lda #0x00               ;c86e  a9 00
    sta 0x41                ;c870  85 41
    bra lab_c8bc            ;c872  80 48

lab_c874:
    lda 0x42                ;c874  a5 42
    sta 0x40                ;c876  85 40
    lda 0x43                ;c878  a5 43
    sta 0x41                ;c87a  85 41
    bra lab_c8bc            ;c87c  80 3e

lab_c87e:
    jsr sub_7673            ;c87e  20 73 76
    jsr sub_cd6e            ;c881  20 6e cd

    ldy #0x46               ;c884  a0 46
    jsr sub_f22c_delay      ;c886  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_cc91            ;c889  20 91 cc
    bbc 2,0xec,lab_c899     ;c88c  57 ec 0a
    lda #0x00               ;c88f  a9 00
    sta 0x40                ;c891  85 40
    lda #0x00               ;c893  a9 00
    sta 0x41                ;c895  85 41
    bra lab_c8bc            ;c897  80 23

lab_c899:
    jsr sub_d102            ;c899  20 02 d1
    bcc lab_c8b7            ;c89c  90 19
    lda 0x031d              ;c89e  ad 1d 03
    bbs 1,a,lab_c8ad        ;c8a1  23 0a
    jsr sub_74d2            ;c8a3  20 d2 74
    lda 0x031d              ;c8a6  ad 1d 03
    seb 1,a                 ;c8a9  2b
    sta 0x031d              ;c8aa  8d 1d 03

lab_c8ad:
    lda 0xa8                ;c8ad  a5 a8
    sta 0x40                ;c8af  85 40
    lda 0xa9                ;c8b1  a5 a9
    sta 0x41                ;c8b3  85 41
    bra lab_c8bc            ;c8b5  80 05

lab_c8b7:
    ldx #0x06               ;c8b7  a2 06
    jsr sub_cf83            ;c8b9  20 83 cf

lab_c8bc:
    lda 0x40                ;c8bc  a5 40
    sta 0x4c                ;c8be  85 4c
    lda 0x41                ;c8c0  a5 41
    sta 0x4d                ;c8c2  85 4d
    lda #0xe0               ;c8c4  a9 e0
    jsr sub_cd49            ;c8c6  20 49 cd
    lda #0xf0               ;c8c9  a9 f0
    jsr sub_cd68            ;c8cb  20 68 cd
    lda 0x031d              ;c8ce  ad 1d 03
    bbs 1,a,lab_c8fb        ;c8d1  23 28

    ldy #0x05               ;c8d3  a0 05
    jsr sub_f22c_delay      ;c8d5  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x23               ;c8d8  a9 23
    sta 0x0102              ;c8da  8d 02 01
    lda #0x8c               ;c8dd  a9 8c
    sta 0x0100              ;c8df  8d 00 01
    lda #0x06               ;c8e2  a9 06
    sta 0x0101              ;c8e4  8d 01 01
    lda #0x00               ;c8e7  a9 00
    sta 0x4c                ;c8e9  85 4c
    lda #0x01               ;c8eb  a9 01
    sta 0x4d                ;c8ed  85 4d
    ldm #0x03,0x4e          ;c8ef  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;c8f2  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;c8f5  20 e5 46     Perform an I2C write-then-read transaction
    jsr sub_7694            ;c8f8  20 94 76

lab_c8fb:
    pla                     ;c8fb  68
    sta 0x45                ;c8fc  85 45
    pla                     ;c8fe  68
    sta 0x44                ;c8ff  85 44
    pla                     ;c901  68
    sta 0x43                ;c902  85 43
    pla                     ;c904  68
    sta 0x42                ;c905  85 42
    pla                     ;c907  68
    sta 0x41                ;c908  85 41
    pla                     ;c90a  68
    sta 0x40                ;c90b  85 40
    rts                     ;c90d  60

    .byte 0xad              ;c90e  ad          DATA 0xad
    .byte 0x1d              ;c90f  1d          DATA 0x1d
    .byte 0x03              ;c910  03          DATA 0x03
    .byte 0x3b              ;c911  3b          DATA 0x3b ';'
    .byte 0x8d              ;c912  8d          DATA 0x8d
    .byte 0x1d              ;c913  1d          DATA 0x1d
    .byte 0x03              ;c914  03          DATA 0x03
    .byte 0x63              ;c915  63          DATA 0x63 'c'
    .byte 0x05              ;c916  05          DATA 0x05
    .byte 0x20              ;c917  20          DATA 0x20 ' '
    .byte 0x8f              ;c918  8f          DATA 0x8f
    .byte 0xd1              ;c919  d1          DATA 0xd1
    .byte 0xb0              ;c91a  b0          DATA 0xb0
    .byte 0x05              ;c91b  05          DATA 0x05
    .byte 0x20              ;c91c  20          DATA 0x20 ' '
    .byte 0x54              ;c91d  54          DATA 0x54 'T'
    .byte 0xcb              ;c91e  cb          DATA 0xcb
    .byte 0x80              ;c91f  80          DATA 0x80
    .byte 0x03              ;c920  03          DATA 0x03
    .byte 0x20              ;c921  20          DATA 0x20 ' '
    .byte 0x70              ;c922  70          DATA 0x70 'p'
    .byte 0xcc              ;c923  cc          DATA 0xcc
    .byte 0x60              ;c924  60          DATA 0x60 '`'
    .byte 0x20              ;c925  20          DATA 0x20 ' '
    .byte 0xf2              ;c926  f2          DATA 0xf2
    .byte 0xc9              ;c927  c9          DATA 0xc9
    .byte 0x60              ;c928  60          DATA 0x60 '`'

sub_c929:
    lda #0x3d               ;c929  a9 3d
    sta 0x0101              ;c92b  8d 01 01
    lda #0x03               ;c92e  a9 03
    asl a                   ;c930  0a
    ora #0xa0               ;c931  09 a0
    sta 0x0100              ;c933  8d 00 01
    lda #0x00               ;c936  a9 00
    sta 0x4c                ;c938  85 4c
    lda #0x01               ;c93a  a9 01
    sta 0x4d                ;c93c  85 4d
    ldm #0x02,0x4e          ;c93e  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x01,0x4f          ;c941  3c 01 4f     Number of I2C bytes to read = 1
    jsr sub_46e5_i2c_wr_rd  ;c944  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0102              ;c947  ad 02 01
    beq lab_c951            ;c94a  f0 05
    jsr sub_c9af            ;c94c  20 af c9
    bra lab_c97a            ;c94f  80 29

lab_c951:
    lda #0x20               ;c951  a9 20
    sta 0x0101              ;c953  8d 01 01
    lda #0x03               ;c956  a9 03
    asl a                   ;c958  0a
    ora #0xa0               ;c959  09 a0
    sta 0x0100              ;c95b  8d 00 01
    lda #0x00               ;c95e  a9 00
    sta 0x4c                ;c960  85 4c
    lda #0x01               ;c962  a9 01
    sta 0x4d                ;c964  85 4d
    ldm #0x02,0x4e          ;c966  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x20,0x4f          ;c969  3c 20 4f     Number of I2C bytes to read = 32
    jsr sub_46e5_i2c_wr_rd  ;c96c  20 e5 46     Perform an I2C write-then-read transaction
    ldx #0x1f               ;c96f  a2 1f

lab_c971:
    lda 0x0102,x            ;c971  bd 02 01
    sta 0x0300,x            ;c974  9d 00 03
    dex                     ;c977  ca
    bpl lab_c971            ;c978  10 f7

lab_c97a:
    rts                     ;c97a  60

sub_c97b:
    ldx #0x1f               ;c97b  a2 1f

lab_c97d:
    lda 0x0300,x            ;c97d  bd 00 03
    sta 0x0102,x            ;c980  9d 02 01
    dex                     ;c983  ca
    bpl lab_c97d            ;c984  10 f7
    lda #0x20               ;c986  a9 20
    sta 0x4a                ;c988  85 4a
    lda #0x03               ;c98a  a9 03
    sta 0x4b                ;c98c  85 4b
    lda #0x00               ;c98e  a9 00
    sta 0x4c                ;c990  85 4c
    lda #0x01               ;c992  a9 01
    sta 0x4d                ;c994  85 4d
    ldm #0x20,0x4e          ;c996  3c 20 4e
    jsr sub_4b4e_i2c_write  ;c999  20 4e 4b     TODO probably writes to an I2C device
    rts                     ;c99c  60

sub_c99d:
    lda #0xff               ;c99d  a9 ff
    ldx #0x00               ;c99f  a2 00

lab_c9a1:
    sta 0x0300,x            ;c9a1  9d 00 03
    inx                     ;c9a4  e8
    cpx #0x20               ;c9a5  e0 20
    bne lab_c9a1            ;c9a7  d0 f8
    lda #0x00               ;c9a9  a9 00
    sta 0x031d              ;c9ab  8d 1d 03
    rts                     ;c9ae  60

sub_c9af:
    jsr sub_c99d            ;c9af  20 9d c9
    jsr sub_c97b            ;c9b2  20 7b c9
    rts                     ;c9b5  60

    .byte 0x20              ;c9b6  20          DATA 0x20 ' '
    .byte 0x9d              ;c9b7  9d          DATA 0x9d
    .byte 0xc9              ;c9b8  c9          DATA 0xc9
    .byte 0x20              ;c9b9  20          DATA 0x20 ' '
    .byte 0x91              ;c9ba  91          DATA 0x91
    .byte 0xcc              ;c9bb  cc          DATA 0xcc
    .byte 0x60              ;c9bc  60          DATA 0x60 '`'

sub_c9bd:
    jsr sub_cd6a            ;c9bd  20 6a cd

    ldy #0x1e               ;c9c0  a0 1e
    jsr sub_f22c_delay      ;c9c2  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_cd6a            ;c9c5  20 6a cd

    ldy #0x3c               ;c9c8  a0 3c
    jsr sub_f22c_delay      ;c9ca  20 2c f2     Delay an unknown time period for Y iterations

    rts                     ;c9cd  60

sub_c9ce:
    ldy #0x25               ;c9ce  a0 25
    jsr sub_3361            ;c9d0  20 61 33
    lda 0x031d              ;c9d3  ad 1d 03
    bbc 0,a,lab_c9dd        ;c9d6  13 05
    jsr sub_ca36            ;c9d8  20 36 ca
    bra lab_c9e2            ;c9db  80 05

lab_c9dd:
    bbc 2,a,lab_c9e2        ;c9dd  53 03
    jsr sub_cb54            ;c9df  20 54 cb

lab_c9e2:
    jsr sub_cd72            ;c9e2  20 72 cd
    clb 5,0xf0              ;c9e5  bf f0
    lda #0x00               ;c9e7  a9 00
    sta 0x031d              ;c9e9  8d 1d 03
    lda #0xff               ;c9ec  a9 ff
    sta 0x031c              ;c9ee  8d 1c 03
    rts                     ;c9f1  60

sub_c9f2:
    lda 0x031d              ;c9f2  ad 1d 03
    bbs 0,a,lab_ca13        ;c9f5  03 1c
    bbc 2,a,lab_ca0d        ;c9f7  53 14
    jsr sub_cd6e            ;c9f9  20 6e cd

    ldy #0x46               ;c9fc  a0 46
    jsr sub_f22c_delay      ;c9fe  20 2c f2     Delay an unknown time period for Y iterations

    clb 5,0xf0              ;ca01  bf f0
    lda #0x00               ;ca03  a9 00
    sta 0x031d              ;ca05  8d 1d 03
    lda #0xff               ;ca08  a9 ff
    sta 0x031c              ;ca0a  8d 1c 03

lab_ca0d:
    jsr sub_c9bd            ;ca0d  20 bd c9
    jsr sub_cbfe            ;ca10  20 fe cb

lab_ca13:
    rts                     ;ca13  60

sub_ca14:
    lda 0x031d              ;ca14  ad 1d 03
    bbc 2,a,lab_ca30        ;ca17  53 17
    jsr sub_cd6e            ;ca19  20 6e cd

    ldy #0x46               ;ca1c  a0 46
    jsr sub_f22c_delay      ;ca1e  20 2c f2     Delay an unknown time period for Y iterations

    clb 5,0xf0              ;ca21  bf f0
    lda #0x00               ;ca23  a9 00
    sta 0x031d              ;ca25  8d 1d 03
    lda #0xff               ;ca28  a9 ff
    sta 0x031c              ;ca2a  8d 1c 03
    jsr sub_cd72            ;ca2d  20 72 cd

lab_ca30:
    ldy #0x25               ;ca30  a0 25
    jsr sub_3300            ;ca32  20 00 33
    rts                     ;ca35  60

sub_ca36:
    ldy #0x25               ;ca36  a0 25
    jsr sub_3361            ;ca38  20 61 33
    lda 0x031d              ;ca3b  ad 1d 03
    bbc 0,a,lab_ca81        ;ca3e  13 41
    jsr sub_cd6e            ;ca40  20 6e cd

    ldy #0x46               ;ca43  a0 46
    jsr sub_f22c_delay      ;ca45  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_cc91            ;ca48  20 91 cc
    lda 0xa8                ;ca4b  a5 a8
    sta 0x031e              ;ca4d  8d 1e 03
    lda 0xa9                ;ca50  a5 a9
    sta 0x031f              ;ca52  8d 1f 03
    jsr sub_cdb3            ;ca55  20 b3 cd
    bcc lab_ca62            ;ca58  90 08
    jsr sub_ce21            ;ca5a  20 21 ce
    jsr sub_ce4b            ;ca5d  20 4b ce
    bra lab_ca65            ;ca60  80 03

lab_ca62:
    jsr sub_ce66            ;ca62  20 66 ce

lab_ca65:
    jsr sub_cd72            ;ca65  20 72 cd
    clb 5,0xf0              ;ca68  bf f0
    lda #0x00               ;ca6a  a9 00
    sta 0x031d              ;ca6c  8d 1d 03
    lda #0xff               ;ca6f  a9 ff
    sta 0x031c              ;ca71  8d 1c 03
    jsr sub_c97b            ;ca74  20 7b c9
    lda #0x06               ;ca77  a9 06
    sta 0x02b3              ;ca79  8d b3 02
    ldy #0x04               ;ca7c  a0 04
    jsr sub_3300            ;ca7e  20 00 33

lab_ca81:
    rts                     ;ca81  60

sub_ca82:
    lda 0x031d              ;ca82  ad 1d 03
    seb 3,a                 ;ca85  6b
    sta 0x031d              ;ca86  8d 1d 03

sub_ca89:
    lda 0x031d              ;ca89  ad 1d 03
    bbs 0,a,lab_cac1        ;ca8c  03 33
    lda 0x031b              ;ca8e  ad 1b 03
    cmp #0x09               ;ca91  c9 09
    bcc lab_caa0            ;ca93  90 0b
    jsr sub_aec6            ;ca95  20 c6 ae
    ldm #0x00,0x5c          ;ca98  3c 00 5c
    ldm #0x14,0x5d          ;ca9b  3c 14 5d
    bra lab_cac1            ;ca9e  80 21

lab_caa0:
    jsr sub_c9bd            ;caa0  20 bd c9
    lda 0x031d              ;caa3  ad 1d 03
    seb 2,a                 ;caa6  4b
    sta 0x031d              ;caa7  8d 1d 03
    jsr sub_4319            ;caaa  20 19 43
    seb 5,0xf0              ;caad  af f0
    jsr sub_432b            ;caaf  20 2b 43
    jsr sub_70bb            ;cab2  20 bb 70
    lda 0x031b              ;cab5  ad 1b 03
    sta 0x031c              ;cab8  8d 1c 03
    jsr sub_cc70            ;cabb  20 70 cc
    sec                     ;cabe  38
    bra lab_cac9            ;cabf  80 08

lab_cac1:
    lda 0x031d              ;cac1  ad 1d 03
    clb 3,a                 ;cac4  7b
    sta 0x031d              ;cac5  8d 1d 03
    clc                     ;cac8  18

lab_cac9:
    rts                     ;cac9  60

sub_caca:
    lda 0x031d              ;caca  ad 1d 03
    bbc 2,a,lab_cadf        ;cacd  53 10
    ldy #0x14               ;cacf  a0 14
    jsr sub_3361            ;cad1  20 61 33
    jsr sub_cd6e            ;cad4  20 6e cd

    ldy #0x46               ;cad7  a0 46
    jsr sub_f22c_delay      ;cad9  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_cc70            ;cadc  20 70 cc

lab_cadf:
    rts                     ;cadf  60

    .byte 0x17              ;cae0  17          DATA 0x17
    .byte 0xf4              ;cae1  f4          DATA 0xf4
    .byte 0x05              ;cae2  05          DATA 0x05
    .byte 0x20              ;cae3  20          DATA 0x20 ' '
    .byte 0x22              ;cae4  22          DATA 0x22 '"'
    .byte 0xcb              ;cae5  cb          DATA 0xcb
    .byte 0x80              ;cae6  80          DATA 0x80
    .byte 0x03              ;cae7  03          DATA 0x03
    .byte 0x20              ;cae8  20          DATA 0x20 ' '
    .byte 0xec              ;cae9  ec          DATA 0xec
    .byte 0xca              ;caea  ca          DATA 0xca
    .byte 0x60              ;caeb  60          DATA 0x60 '`'

sub_caec:
    lda 0x031d              ;caec  ad 1d 03
    bbc 2,a,lab_cb21        ;caef  53 30
    ldy #0x14               ;caf1  a0 14
    jsr sub_3361            ;caf3  20 61 33
    lda 0x031c              ;caf6  ad 1c 03
    cmp #0x09               ;caf9  c9 09
    bcs lab_cb21            ;cafb  b0 24
    lda 0x031d              ;cafd  ad 1d 03
    clb 3,a                 ;cb00  7b
    sta 0x031d              ;cb01  8d 1d 03
    jsr sub_cd6e            ;cb04  20 6e cd

    ldy #0x46               ;cb07  a0 46
    jsr sub_f22c_delay      ;cb09  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_d18f            ;cb0c  20 8f d1
    bcs lab_cb1e            ;cb0f  b0 0d
    lda 0x031c              ;cb11  ad 1c 03
    inc a                   ;cb14  3a
    cmp #0x09               ;cb15  c9 09
    bne lab_cb1b            ;cb17  d0 02
    lda #0x00               ;cb19  a9 00

lab_cb1b:
    sta 0x031c              ;cb1b  8d 1c 03

lab_cb1e:
    jsr sub_cc70            ;cb1e  20 70 cc

lab_cb21:
    rts                     ;cb21  60

sub_cb22:
    lda 0x031d              ;cb22  ad 1d 03
    bbc 2,a,lab_cb53        ;cb25  53 2c
    lda 0x031c              ;cb27  ad 1c 03
    cmp #0x09               ;cb2a  c9 09
    bcs lab_cb21            ;cb2c  b0 f3
    jsr sub_cd6e            ;cb2e  20 6e cd

    ldy #0x46               ;cb31  a0 46
    jsr sub_f22c_delay      ;cb33  20 2c f2     Delay an unknown time period for Y iterations

    ldy #0x14               ;cb36  a0 14
    jsr sub_3361            ;cb38  20 61 33
    lda 0x031c              ;cb3b  ad 1c 03
    cmp 0x031b              ;cb3e  cd 1b 03
    beq lab_cb50            ;cb41  f0 0d
    lda 0x031c              ;cb43  ad 1c 03
    inc a                   ;cb46  3a
    cmp #0x09               ;cb47  c9 09
    bne lab_cb4d            ;cb49  d0 02
    lda #0x00               ;cb4b  a9 00

lab_cb4d:
    sta 0x031c              ;cb4d  8d 1c 03

lab_cb50:
    jsr sub_cc70            ;cb50  20 70 cc

lab_cb53:
    rts                     ;cb53  60

sub_cb54:
    lda 0x031d              ;cb54  ad 1d 03
    bbc 2,a,lab_cb9a        ;cb57  53 41
    ldy #0x14               ;cb59  a0 14
    jsr sub_3361            ;cb5b  20 61 33
    jsr sub_7673            ;cb5e  20 73 76
    jsr sub_cd6e            ;cb61  20 6e cd

    ldy #0x46               ;cb64  a0 46
    jsr sub_f22c_delay      ;cb66  20 2c f2     Delay an unknown time period for Y iterations

    clb 5,0xf0              ;cb69  bf f0
    lda #0x00               ;cb6b  a9 00
    sta 0x031d              ;cb6d  8d 1d 03
    lda #0xff               ;cb70  a9 ff
    sta 0x031c              ;cb72  8d 1c 03
    jsr sub_cd72            ;cb75  20 72 cd
    bbc 3,0xf0,lab_cb82     ;cb78  77 f0 07
    lda #0x00               ;cb7b  a9 00
    jsr sub_d33f            ;cb7d  20 3f d3
    bra lab_cb88            ;cb80  80 06

lab_cb82:
    bbc 4,0xf0,lab_cb88     ;cb82  97 f0 03
    jsr sub_d931            ;cb85  20 31 d9

lab_cb88:
    jsr sub_432b            ;cb88  20 2b 43
    jsr sub_70bb            ;cb8b  20 bb 70
    jsr sub_437f            ;cb8e  20 7f 43
    jsr sub_43b9            ;cb91  20 b9 43
    jsr sub_664a            ;cb94  20 4a 66
    jsr sub_7694            ;cb97  20 94 76

lab_cb9a:
    rts                     ;cb9a  60

sub_cb9b:
    bbc 0,0xf4,lab_cba9     ;cb9b  17 f4 0b
    lda 0x031d              ;cb9e  ad 1d 03
    bbc 2,a,lab_cbb2        ;cba1  53 0f
    seb 4,a                 ;cba3  8b
    sta 0x031d              ;cba4  8d 1d 03
    bra lab_cbb2            ;cba7  80 09

lab_cba9:
    lda 0x031d              ;cba9  ad 1d 03
    bbc 2,a,lab_cbb2        ;cbac  53 04
    seb 5,a                 ;cbae  ab
    sta 0x031d              ;cbaf  8d 1d 03

lab_cbb2:
    rts                     ;cbb2  60

sub_cbb3:
    lda 0x41                ;cbb3  a5 41
    pha                     ;cbb5  48
    lda 0x031c              ;cbb6  ad 1c 03
    cmp #0x09               ;cbb9  c9 09
    bcs lab_cbc6            ;cbbb  b0 09
    lda 0x031b              ;cbbd  ad 1b 03
    cmp #0x09               ;cbc0  c9 09
    bcs lab_cbc6            ;cbc2  b0 02
    bra lab_cbca            ;cbc4  80 04

lab_cbc6:
    lda #0xff               ;cbc6  a9 ff
    bra lab_cbf9            ;cbc8  80 2f

lab_cbca:
    lda 0x031c              ;cbca  ad 1c 03
    cmp 0x031b              ;cbcd  cd 1b 03
    beq lab_cbd4            ;cbd0  f0 02
    bcs lab_cbe6            ;cbd2  b0 12

lab_cbd4:
    lda 0x031b              ;cbd4  ad 1b 03
    sec                     ;cbd7  38
    sbc 0x031c              ;cbd8  ed 1c 03
    sta 0x41                ;cbdb  85 41
    jsr sub_cf4a            ;cbdd  20 4a cf
    sec                     ;cbe0  38
    sbc 0x41                ;cbe1  e5 41
    tax                     ;cbe3  aa
    bra lab_cbf9            ;cbe4  80 13

lab_cbe6:
    lda 0x031b              ;cbe6  ad 1b 03
    clc                     ;cbe9  18
    adc #0x09               ;cbea  69 09
    sec                     ;cbec  38
    sbc 0x031c              ;cbed  ed 1c 03
    sta 0x41                ;cbf0  85 41
    jsr sub_cf4a            ;cbf2  20 4a cf
    sec                     ;cbf5  38
    sbc 0x41                ;cbf6  e5 41
    tax                     ;cbf8  aa

lab_cbf9:
    pla                     ;cbf9  68
    sta 0x41                ;cbfa  85 41
    txa                     ;cbfc  8a
    rts                     ;cbfd  60

sub_cbfe:
    lda 0x40                ;cbfe  a5 40
    pha                     ;cc00  48
    lda 0x41                ;cc01  a5 41
    pha                     ;cc03  48
    lda 0x031d              ;cc04  ad 1d 03
    seb 0,a                 ;cc07  0b
    sta 0x031d              ;cc08  8d 1d 03
    lda #0x00               ;cc0b  a9 00
    sta 0xa8                ;cc0d  85 a8
    lda #0x00               ;cc0f  a9 00
    sta 0xa9                ;cc11  85 a9
    lda 0x031b              ;cc13  ad 1b 03
    cmp #0x09               ;cc16  c9 09
    bcs lab_cc34            ;cc18  b0 1a
    lda 0x031f              ;cc1a  ad 1f 03
    cmp #0x04               ;cc1d  c9 04
    bcc lab_cc2a            ;cc1f  90 09
    bne lab_cc34            ;cc21  d0 11
    lda 0x031e              ;cc23  ad 1e 03
    cmp #0xb0               ;cc26  c9 b0
    bcs lab_cc34            ;cc28  b0 0a

lab_cc2a:
    lda 0x031e              ;cc2a  ad 1e 03
    sta 0xa8                ;cc2d  85 a8
    lda 0x031f              ;cc2f  ad 1f 03
    sta 0xa9                ;cc32  85 a9

lab_cc34:
    inc 0x031b              ;cc34  ee 1b 03
    lda 0x031b              ;cc37  ad 1b 03
    cmp #0x09               ;cc3a  c9 09
    bcc lab_cc43            ;cc3c  90 05
    lda #0x00               ;cc3e  a9 00
    sta 0x031b              ;cc40  8d 1b 03

lab_cc43:
    ldx 0x031b              ;cc43  ae 1b 03
    lda 0xa8                ;cc46  a5 a8
    sta 0x40                ;cc48  85 40
    lda 0xa9                ;cc4a  a5 a9
    sta 0x41                ;cc4c  85 41
    jsr sub_cce2            ;cc4e  20 e2 cc
    ldx 0x031b              ;cc51  ae 1b 03
    jsr sub_cd17            ;cc54  20 17 cd
    lda 0xa8                ;cc57  a5 a8
    sta 0x4c                ;cc59  85 4c
    lda 0xa9                ;cc5b  a5 a9
    sta 0x4d                ;cc5d  85 4d
    lda #0xa0               ;cc5f  a9 a0
    jsr sub_cd49            ;cc61  20 49 cd
    lda #0xb0               ;cc64  a9 b0
    jsr sub_cd68            ;cc66  20 68 cd
    pla                     ;cc69  68
    sta 0x41                ;cc6a  85 41
    pla                     ;cc6c  68
    sta 0x40                ;cc6d  85 40
    rts                     ;cc6f  60

sub_cc70:
    lda 0x031c              ;cc70  ad 1c 03
    cmp #0x09               ;cc73  c9 09
    bcs lab_cc90            ;cc75  b0 19
    jsr sub_7673            ;cc77  20 73 76
    jsr sub_437f            ;cc7a  20 7f 43
    jsr sub_664a            ;cc7d  20 4a 66
    ldx 0x031c              ;cc80  ae 1c 03
    jsr sub_ccca            ;cc83  20 ca cc
    lda #0xe0               ;cc86  a9 e0
    jsr sub_cd49            ;cc88  20 49 cd
    lda #0xf0               ;cc8b  a9 f0
    jsr sub_cd68            ;cc8d  20 68 cd

lab_cc90:
    rts                     ;cc90  60

sub_cc91:
    lda #0x00               ;cc91  a9 00
    sta 0x0110              ;cc93  8d 10 01
    lda #0x30               ;cc96  a9 30
    sta 0x0111              ;cc98  8d 11 01
    lda #0x10               ;cc9b  a9 10
    sta 0x4c                ;cc9d  85 4c
    lda #0x01               ;cc9f  a9 01
    sta 0x4d                ;cca1  85 4d
    ldm #0x02,0x4e          ;cca3  3c 02 4e
    jsr sub_cd86            ;cca6  20 86 cd
    clb 2,0xec              ;cca9  5f ec
    clb 3,0xec              ;ccab  7f ec
    lda 0x0110              ;ccad  ad 10 01
    bbc 0,a,lab_ccb4        ;ccb0  13 02
    seb 2,0xec              ;ccb2  4f ec

lab_ccb4:
    bbc 1,a,lab_ccb8        ;ccb4  33 02
    seb 3,0xec              ;ccb6  6f ec

lab_ccb8:
    sta 0xa8                ;ccb8  85 a8
    lda 0x0111              ;ccba  ad 11 01
    and #0x1f               ;ccbd  29 1f
    sta 0xa9                ;ccbf  85 a9
    lsr 0xa9                ;ccc1  46 a9
    ror 0xa8                ;ccc3  66 a8
    lsr 0xa9                ;ccc5  46 a9
    ror 0xa8                ;ccc7  66 a8
    rts                     ;ccc9  60

sub_ccca:
    txa                     ;ccca  8a
    pha                     ;cccb  48
    jsr sub_cd39            ;cccc  20 39 cd
    lda 0x0300,x            ;cccf  bd 00 03
    sta 0x4c                ;ccd2  85 4c
    inx                     ;ccd4  e8
    lda 0x0300,x            ;ccd5  bd 00 03
    lsr a                   ;ccd8  4a
    lsr a                   ;ccd9  4a
    lsr a                   ;ccda  4a
    lsr a                   ;ccdb  4a
    lsr a                   ;ccdc  4a
    sta 0x4d                ;ccdd  85 4d
    pla                     ;ccdf  68
    tax                     ;cce0  aa
    rts                     ;cce1  60

sub_cce2:
    lda 0x41                ;cce2  a5 41
    cmp #0x04               ;cce4  c9 04
    bcc lab_ccf0            ;cce6  90 08
    bne lab_ccf2            ;cce8  d0 08
    lda 0x40                ;ccea  a5 40
    cmp #0xb0               ;ccec  c9 b0
    bcs lab_ccf2            ;ccee  b0 02

lab_ccf0:
    bra lab_ccfa            ;ccf0  80 08

lab_ccf2:
    lda #0x00               ;ccf2  a9 00
    sta 0x40                ;ccf4  85 40
    lda #0x00               ;ccf6  a9 00
    sta 0x41                ;ccf8  85 41

lab_ccfa:
    jsr sub_cd39            ;ccfa  20 39 cd
    lda 0x40                ;ccfd  a5 40
    sta 0x0300,x            ;ccff  9d 00 03
    lda 0x41                ;cd02  a5 41
    asl a                   ;cd04  0a
    asl a                   ;cd05  0a
    asl a                   ;cd06  0a
    asl a                   ;cd07  0a
    asl a                   ;cd08  0a
    sta 0x41                ;cd09  85 41
    inx                     ;cd0b  e8
    lda 0x0300,x            ;cd0c  bd 00 03
    and #0x1f               ;cd0f  29 1f
    ora 0x41                ;cd11  05 41
    sta 0x0300,x            ;cd13  9d 00 03
    rts                     ;cd16  60

sub_cd17:
    jsr sub_cd39            ;cd17  20 39 cd
    inx                     ;cd1a  e8
    lda 0x0300,x            ;cd1b  bd 00 03
    and #0xe0               ;cd1e  29 e0
    sta 0x0300,x            ;cd20  9d 00 03
    lda 0x61                ;cd23  a5 61
    and #0x1f               ;cd25  29 1f
    bbs 3,0xf8,lab_cd2c     ;cd27  67 f8 02
    lda #0x18               ;cd2a  a9 18

lab_cd2c:
    ora 0x0300,x            ;cd2c  1d 00 03
    sta 0x0300,x            ;cd2f  9d 00 03
    inx                     ;cd32  e8
    lda 0x62                ;cd33  a5 62
    sta 0x0300,x            ;cd35  9d 00 03
    rts                     ;cd38  60

sub_cd39:
    lda 0x41                ;cd39  a5 41
    pha                     ;cd3b  48
    txa                     ;cd3c  8a
    asl a                   ;cd3d  0a
    sta 0x41                ;cd3e  85 41
    txa                     ;cd40  8a
    clc                     ;cd41  18
    adc 0x41                ;cd42  65 41
    tax                     ;cd44  aa
    pla                     ;cd45  68
    sta 0x41                ;cd46  85 41
    rts                     ;cd48  60

sub_cd49:
    sta 0x4e                ;cd49  85 4e
    lda 0x4c                ;cd4b  a5 4c
    sta 0x0110              ;cd4d  8d 10 01
    lda 0x4d                ;cd50  a5 4d
    and #0x07               ;cd52  29 07
    ora 0x4e                ;cd54  05 4e
    sta 0x0111              ;cd56  8d 11 01
    lda #0x10               ;cd59  a9 10
    sta 0x4c                ;cd5b  85 4c
    lda #0x01               ;cd5d  a9 01
    sta 0x4d                ;cd5f  85 4d
    ldm #0x02,0x4e          ;cd61  3c 02 4e
    jsr sub_cd86            ;cd64  20 86 cd
    rts                     ;cd67  60

sub_cd68:
    bra lab_cd74            ;cd68  80 0a

sub_cd6a:
    lda #0x20               ;cd6a  a9 20
    bra lab_cd74            ;cd6c  80 06

sub_cd6e:
    lda #0x30               ;cd6e  a9 30
    bra lab_cd74            ;cd70  80 02

sub_cd72:
    lda #0x10               ;cd72  a9 10

lab_cd74:
    sta 0x0110              ;cd74  8d 10 01
    lda #0x10               ;cd77  a9 10
    sta 0x4c                ;cd79  85 4c
    lda #0x01               ;cd7b  a9 01
    sta 0x4d                ;cd7d  85 4d
    ldm #0x01,0x4e          ;cd7f  3c 01 4e
    jsr sub_cd86            ;cd82  20 86 cd
    rts                     ;cd85  60

sub_cd86:
    clb 2,P2                ;cd86  5f 04
    ldy #0x00               ;cd88  a0 00

lab_cd8a:
    lda [0x4c],y            ;cd8a  b1 4c
    ldx #0x08               ;cd8c  a2 08

lab_cd8e:
    clb 1,P2                ;cd8e  3f 04
    lsr a                   ;cd90  4a
    bcs lab_cd97            ;cd91  b0 04
    clb 3,P2                ;cd93  7f 04
    bra lab_cd9a            ;cd95  80 03

lab_cd97:
    seb 3,P2                ;cd97  6f 04
    nop                     ;cd99  ea

lab_cd9a:
    seb 1,P2                ;cd9a  2f 04
    bbs 4,P2,lab_cda2       ;cd9c  87 04 03
    seb 7,a                 ;cd9f  eb
    bra lab_cda4            ;cda0  80 02

lab_cda2:
    clb 7,a                 ;cda2  fb
    nop                     ;cda3  ea

lab_cda4:
    dex                     ;cda4  ca
    bne lab_cd8e            ;cda5  d0 e7
    sta [0x4c],y            ;cda7  91 4c
    iny                     ;cda9  c8
    cpy 0x4e                ;cdaa  c4 4e
    bcc lab_cd8a            ;cdac  90 dc
    clb 1,P2                ;cdae  3f 04
    seb 2,P2                ;cdb0  4f 04
    rts                     ;cdb2  60

sub_cdb3:
    lda 0x40                ;cdb3  a5 40
    pha                     ;cdb5  48
    lda 0x41                ;cdb6  a5 41
    pha                     ;cdb8  48
    lda 0x42                ;cdb9  a5 42
    pha                     ;cdbb  48
    lda 0x43                ;cdbc  a5 43
    pha                     ;cdbe  48
    lda 0x44                ;cdbf  a5 44
    pha                     ;cdc1  48
    lda 0x45                ;cdc2  a5 45
    pha                     ;cdc4  48
    clc                     ;cdc5  18
    lda 0x031d              ;cdc6  ad 1d 03
    bbc 7,a,lab_ce0e        ;cdc9  f3 43
    bbc 6,a,lab_cdd0        ;cdcb  d3 03
    sec                     ;cdcd  38
    bra lab_ce0e            ;cdce  80 3e

lab_cdd0:
    lda 0xa8                ;cdd0  a5 a8
    sta 0x42                ;cdd2  85 42
    lda 0xa9                ;cdd4  a5 a9
    sta 0x43                ;cdd6  85 43
    lda #0xb0               ;cdd8  a9 b0
    sta 0x44                ;cdda  85 44
    lda #0x04               ;cddc  a9 04
    sta 0x45                ;cdde  85 45
    jsr sub_d1d9            ;cde0  20 d9 d1
    ldx 0x031b              ;cde3  ae 1b 03
    jsr sub_ccca            ;cde6  20 ca cc
    lda 0x40                ;cde9  a5 40
    sta 0x42                ;cdeb  85 42
    lda 0x41                ;cded  a5 41
    sta 0x43                ;cdef  85 43
    lda 0x4c                ;cdf1  a5 4c
    sta 0x44                ;cdf3  85 44
    lda 0x4d                ;cdf5  a5 4d
    sta 0x45                ;cdf7  85 45
    jsr sub_d1e7            ;cdf9  20 e7 d1
    lda 0x41                ;cdfc  a5 41
    cmp #0x04               ;cdfe  c9 04
    bcc lab_ce0a            ;ce00  90 08
    bne lab_ce0d            ;ce02  d0 09
    lda 0x40                ;ce04  a5 40
    cmp #0xb0               ;ce06  c9 b0
    bcs lab_ce0d            ;ce08  b0 03

lab_ce0a:
    clc                     ;ce0a  18
    bra lab_ce0e            ;ce0b  80 01

lab_ce0d:
    sec                     ;ce0d  38

lab_ce0e:
    pla                     ;ce0e  68
    sta 0x45                ;ce0f  85 45
    pla                     ;ce11  68
    sta 0x44                ;ce12  85 44
    pla                     ;ce14  68
    sta 0x43                ;ce15  85 43
    pla                     ;ce17  68
    sta 0x42                ;ce18  85 42
    pla                     ;ce1a  68
    sta 0x41                ;ce1b  85 41
    pla                     ;ce1d  68
    sta 0x40                ;ce1e  85 40
    rts                     ;ce20  60

sub_ce21:
    ldy #0x00               ;ce21  a0 00

lab_ce23:
    tya                     ;ce23  98
    cmp #0x09               ;ce24  c9 09
    bcs lab_ce35            ;ce26  b0 0d
    cmp 0x031b              ;ce28  cd 1b 03
    beq lab_ce32            ;ce2b  f0 05
    tya                     ;ce2d  98
    tax                     ;ce2e  aa
    jsr sub_ce36            ;ce2f  20 36 ce

lab_ce32:
    iny                     ;ce32  c8
    bra lab_ce23            ;ce33  80 ee

lab_ce35:
    rts                     ;ce35  60

sub_ce36:
    txa                     ;ce36  8a
    pha                     ;ce37  48
    jsr sub_cd39            ;ce38  20 39 cd
    lda #0xff               ;ce3b  a9 ff
    sta 0x0300,x            ;ce3d  9d 00 03
    inx                     ;ce40  e8
    sta 0x0300,x            ;ce41  9d 00 03
    inx                     ;ce44  e8
    sta 0x0300,x            ;ce45  9d 00 03
    pla                     ;ce48  68
    tax                     ;ce49  aa
    rts                     ;ce4a  60

sub_ce4b:
    lda 0x40                ;ce4b  a5 40
    pha                     ;ce4d  48
    lda 0x41                ;ce4e  a5 41
    pha                     ;ce50  48
    lda 0xa8                ;ce51  a5 a8
    sta 0x40                ;ce53  85 40
    lda 0xa9                ;ce55  a5 a9
    sta 0x41                ;ce57  85 41
    ldx 0x031b              ;ce59  ae 1b 03
    jsr sub_cce2            ;ce5c  20 e2 cc
    pla                     ;ce5f  68
    sta 0x41                ;ce60  85 41
    pla                     ;ce62  68
    sta 0x40                ;ce63  85 40
    rts                     ;ce65  60

sub_ce66:
    ldx 0x031b              ;ce66  ae 1b 03

lab_ce69:
    dex                     ;ce69  ca
    txa                     ;ce6a  8a
    cmp #0xff               ;ce6b  c9 ff
    bne lab_ce71            ;ce6d  d0 02
    ldx #0x08               ;ce6f  a2 08

lab_ce71:
    txa                     ;ce71  8a
    cmp 0x031b              ;ce72  cd 1b 03
    beq lab_ce7f            ;ce75  f0 08
    jsr sub_ce80            ;ce77  20 80 ce
    bcc lab_ce69            ;ce7a  90 ed
    jsr sub_cf38            ;ce7c  20 38 cf

lab_ce7f:
    rts                     ;ce7f  60

sub_ce80:
    lda 0x40                ;ce80  a5 40
    pha                     ;ce82  48
    lda 0x41                ;ce83  a5 41
    pha                     ;ce85  48
    lda 0x42                ;ce86  a5 42
    pha                     ;ce88  48
    lda 0x43                ;ce89  a5 43
    pha                     ;ce8b  48
    lda 0x44                ;ce8c  a5 44
    pha                     ;ce8e  48
    lda 0x45                ;ce8f  a5 45
    pha                     ;ce91  48
    txa                     ;ce92  8a
    pha                     ;ce93  48
    txa                     ;ce94  8a
    tay                     ;ce95  a8
    jsr sub_cd39            ;ce96  20 39 cd
    inx                     ;ce99  e8
    lda 0x0300,x            ;ce9a  bd 00 03
    cmp #0xff               ;ce9d  c9 ff
    bne lab_cea4            ;ce9f  d0 03
    sec                     ;cea1  38
    bra lab_cf23            ;cea2  80 7f

lab_cea4:
    lda 0x031d              ;cea4  ad 1d 03
    bbs 7,a,lab_ced3        ;cea7  e3 2a
    tya                     ;cea9  98
    tax                     ;ceaa  aa
    jsr sub_ccca            ;ceab  20 ca cc
    lda 0x4c                ;ceae  a5 4c
    sta 0x42                ;ceb0  85 42
    lda 0x4d                ;ceb2  a5 4d
    sta 0x43                ;ceb4  85 43
    ldx 0x031b              ;ceb6  ae 1b 03
    jsr sub_ccca            ;ceb9  20 ca cc
    lda 0x4c                ;cebc  a5 4c
    sta 0x40                ;cebe  85 40
    lda 0x4d                ;cec0  a5 4d
    sta 0x41                ;cec2  85 41
    lda 0xa8                ;cec4  a5 a8
    sta 0x44                ;cec6  85 44
    lda 0xa9                ;cec8  a5 a9
    sta 0x45                ;ceca  85 45
    jsr sub_d1b6            ;cecc  20 b6 d1
    bcs lab_cf22            ;cecf  b0 51
    bra lab_cf1f            ;ced1  80 4c

lab_ced3:
    tya                     ;ced3  98
    tax                     ;ced4  aa
    jsr sub_ccca            ;ced5  20 ca cc
    lda 0x4c                ;ced8  a5 4c
    sta 0x42                ;ceda  85 42
    lda 0x4d                ;cedc  a5 4d
    sta 0x43                ;cede  85 43
    lda #0x00               ;cee0  a9 00
    sta 0x40                ;cee2  85 40
    lda #0x00               ;cee4  a9 00
    sta 0x41                ;cee6  85 41
    lda 0xa8                ;cee8  a5 a8
    sta 0x44                ;ceea  85 44
    lda 0xa9                ;ceec  a5 a9
    sta 0x45                ;ceee  85 45
    jsr sub_d1b6            ;cef0  20 b6 d1
    bcs lab_cf22            ;cef3  b0 2d
    tya                     ;cef5  98
    tax                     ;cef6  aa
    jsr sub_ccca            ;cef7  20 ca cc
    lda 0x4c                ;cefa  a5 4c
    sta 0x42                ;cefc  85 42
    lda 0x4d                ;cefe  a5 4d
    sta 0x43                ;cf00  85 43
    ldx 0x031b              ;cf02  ae 1b 03
    jsr sub_ccca            ;cf05  20 ca cc
    lda 0x4c                ;cf08  a5 4c
    sta 0x40                ;cf0a  85 40
    lda 0x4d                ;cf0c  a5 4d
    sta 0x41                ;cf0e  85 41
    lda #0xb0               ;cf10  a9 b0
    sta 0x44                ;cf12  85 44
    lda #0x04               ;cf14  a9 04
    sta 0x45                ;cf16  85 45
    jsr sub_d1b6            ;cf18  20 b6 d1
    bcs lab_cf22            ;cf1b  b0 05
    bra lab_cf1f            ;cf1d  80 00

lab_cf1f:
    clc                     ;cf1f  18
    bra lab_cf23            ;cf20  80 01

lab_cf22:
    sec                     ;cf22  38

lab_cf23:
    pla                     ;cf23  68
    tax                     ;cf24  aa
    pla                     ;cf25  68
    sta 0x45                ;cf26  85 45
    pla                     ;cf28  68
    sta 0x44                ;cf29  85 44
    pla                     ;cf2b  68
    sta 0x43                ;cf2c  85 43
    pla                     ;cf2e  68
    sta 0x42                ;cf2f  85 42
    pla                     ;cf31  68
    sta 0x41                ;cf32  85 41
    pla                     ;cf34  68
    sta 0x40                ;cf35  85 40
    rts                     ;cf37  60

sub_cf38:
    jsr sub_ce36            ;cf38  20 36 ce
    dex                     ;cf3b  ca
    txa                     ;cf3c  8a
    cmp #0xff               ;cf3d  c9 ff
    bne lab_cf43            ;cf3f  d0 02
    ldx #0x08               ;cf41  a2 08

lab_cf43:
    txa                     ;cf43  8a
    cmp 0x031b              ;cf44  cd 1b 03
    bne sub_cf38            ;cf47  d0 ef
    rts                     ;cf49  60

sub_cf4a:
    lda 0x41                ;cf4a  a5 41
    pha                     ;cf4c  48
    ldy #0xff               ;cf4d  a0 ff
    lda 0x031b              ;cf4f  ad 1b 03
    cmp #0x09               ;cf52  c9 09
    bcs lab_cf7e            ;cf54  b0 28
    ldy #0x01               ;cf56  a0 01
    lda 0x031b              ;cf58  ad 1b 03
    sta 0x41                ;cf5b  85 41

lab_cf5d:
    dec 0x41                ;cf5d  c6 41
    lda 0x41                ;cf5f  a5 41
    cmp #0xff               ;cf61  c9 ff
    bne lab_cf68            ;cf63  d0 03
    ldm #0x08,0x41          ;cf65  3c 08 41

lab_cf68:
    ldx 0x41                ;cf68  a6 41
    jsr sub_cd39            ;cf6a  20 39 cd
    lda 0x0301,x            ;cf6d  bd 01 03
    cmp #0xff               ;cf70  c9 ff
    beq lab_cf7e            ;cf72  f0 0a
    lda 0x41                ;cf74  a5 41
    cmp 0x031b              ;cf76  cd 1b 03
    beq lab_cf7e            ;cf79  f0 03
    iny                     ;cf7b  c8
    bra lab_cf5d            ;cf7c  80 df

lab_cf7e:
    pla                     ;cf7e  68
    sta 0x41                ;cf7f  85 41
    tya                     ;cf81  98
    rts                     ;cf82  60

sub_cf83:
    lda 0x42                ;cf83  a5 42
    pha                     ;cf85  48
    lda 0x43                ;cf86  a5 43
    pha                     ;cf88  48
    lda 0x44                ;cf89  a5 44
    pha                     ;cf8b  48
    lda 0x45                ;cf8c  a5 45
    pha                     ;cf8e  48
    lda 0xa8                ;cf8f  a5 a8
    sta 0x42                ;cf91  85 42
    lda 0xa9                ;cf93  a5 a9
    sta 0x43                ;cf95  85 43
    stx 0x44                ;cf97  86 44
    ldm #0x00,0x45          ;cf99  3c 00 45
    jsr sub_d1e7            ;cf9c  20 e7 d1
    bcs lab_cfc4            ;cf9f  b0 23
    lda 0xa8                ;cfa1  a5 a8
    sta 0x42                ;cfa3  85 42
    lda 0xa9                ;cfa5  a5 a9
    sta 0x43                ;cfa7  85 43
    lda #0xb0               ;cfa9  a9 b0
    sta 0x44                ;cfab  85 44
    lda #0x04               ;cfad  a9 04
    sta 0x45                ;cfaf  85 45
    jsr sub_d1d9            ;cfb1  20 d9 d1
    lda 0x40                ;cfb4  a5 40
    sta 0x42                ;cfb6  85 42
    lda 0x41                ;cfb8  a5 41
    sta 0x43                ;cfba  85 43
    stx 0x44                ;cfbc  86 44
    ldm #0x00,0x45          ;cfbe  3c 00 45
    jsr sub_d1e7            ;cfc1  20 e7 d1

lab_cfc4:
    pla                     ;cfc4  68
    sta 0x45                ;cfc5  85 45
    pla                     ;cfc7  68
    sta 0x44                ;cfc8  85 44
    pla                     ;cfca  68
    sta 0x43                ;cfcb  85 43
    pla                     ;cfcd  68
    sta 0x42                ;cfce  85 42
    rts                     ;cfd0  60

sub_cfd1:
    lda 0x40                ;cfd1  a5 40
    pha                     ;cfd3  48
    lda 0x41                ;cfd4  a5 41
    pha                     ;cfd6  48
    lda 0x42                ;cfd7  a5 42
    pha                     ;cfd9  48
    lda 0x43                ;cfda  a5 43
    pha                     ;cfdc  48
    lda 0x44                ;cfdd  a5 44
    pha                     ;cfdf  48
    lda 0x45                ;cfe0  a5 45
    pha                     ;cfe2  48
    lda 0x031c              ;cfe3  ad 1c 03
    cmp 0x031b              ;cfe6  cd 1b 03
    beq lab_cfed            ;cfe9  f0 02
    bra lab_cff9            ;cfeb  80 0c

lab_cfed:
    lda 0x031e              ;cfed  ad 1e 03
    sta 0x4c                ;cff0  85 4c
    lda 0x031f              ;cff2  ad 1f 03
    sta 0x4d                ;cff5  85 4d
    bra lab_d007            ;cff7  80 0e

lab_cff9:
    ldx 0x031c              ;cff9  ae 1c 03
    inx                     ;cffc  e8
    txa                     ;cffd  8a
    cmp #0x09               ;cffe  c9 09
    bcc lab_d004            ;d000  90 02
    ldx #0x00               ;d002  a2 00

lab_d004:
    jsr sub_ccca            ;d004  20 ca cc

lab_d007:
    lda 0x4c                ;d007  a5 4c
    sta 0x42                ;d009  85 42
    lda 0x4d                ;d00b  a5 4d
    sta 0x43                ;d00d  85 43
    lda #0x01               ;d00f  a9 01
    sta 0x44                ;d011  85 44
    lda #0x00               ;d013  a9 00
    sta 0x45                ;d015  85 45
    jsr sub_d1e7            ;d017  20 e7 d1
    bcs lab_d024            ;d01a  b0 08
    lda #0xb0               ;d01c  a9 b0
    sta 0x40                ;d01e  85 40
    lda #0x04               ;d020  a9 04
    sta 0x41                ;d022  85 41

lab_d024:
    lda 0x40                ;d024  a5 40
    sta 0x4c                ;d026  85 4c
    lda 0x41                ;d028  a5 41
    sta 0x4d                ;d02a  85 4d
    lda 0xa8                ;d02c  a5 a8
    sta 0x42                ;d02e  85 42
    lda 0xa9                ;d030  a5 a9
    sta 0x43                ;d032  85 43
    lda #0x04               ;d034  a9 04
    sta 0x44                ;d036  85 44
    lda #0x00               ;d038  a9 00
    sta 0x45                ;d03a  85 45
    jsr sub_d1d9            ;d03c  20 d9 d1
    lda 0x40                ;d03f  a5 40
    sta 0x42                ;d041  85 42
    lda 0x41                ;d043  a5 41
    sta 0x43                ;d045  85 43
    lda #0x00               ;d047  a9 00
    sta 0x40                ;d049  85 40
    lda #0x00               ;d04b  a9 00
    sta 0x41                ;d04d  85 41
    lda #0xb0               ;d04f  a9 b0
    sta 0x44                ;d051  85 44
    lda #0x04               ;d053  a9 04
    sta 0x45                ;d055  85 45
    jsr sub_d1b6            ;d057  20 b6 d1
    bcs lab_d05e            ;d05a  b0 02
    bra lab_d08e            ;d05c  80 30

lab_d05e:
    lda 0xa8                ;d05e  a5 a8
    sta 0x42                ;d060  85 42
    lda 0xa9                ;d062  a5 a9
    sta 0x43                ;d064  85 43
    lda #0x04               ;d066  a9 04
    sta 0x44                ;d068  85 44
    lda #0x00               ;d06a  a9 00
    sta 0x45                ;d06c  85 45
    jsr sub_d1d9            ;d06e  20 d9 d1
    lda 0x40                ;d071  a5 40
    sta 0x44                ;d073  85 44
    lda 0x41                ;d075  a5 41
    sta 0x45                ;d077  85 45
    lda 0xa8                ;d079  a5 a8
    sta 0x40                ;d07b  85 40
    lda 0xa9                ;d07d  a5 a9
    sta 0x41                ;d07f  85 41
    lda 0x4c                ;d081  a5 4c
    sta 0x42                ;d083  85 42
    lda 0x4d                ;d085  a5 4d
    sta 0x43                ;d087  85 43
    jsr sub_d1b6            ;d089  20 b6 d1
    bra lab_d0ef            ;d08c  80 61

lab_d08e:
    lda 0xa8                ;d08e  a5 a8
    sta 0x42                ;d090  85 42
    lda 0xa9                ;d092  a5 a9
    sta 0x43                ;d094  85 43
    lda #0x04               ;d096  a9 04
    sta 0x44                ;d098  85 44
    lda #0x00               ;d09a  a9 00
    sta 0x45                ;d09c  85 45
    jsr sub_d1d9            ;d09e  20 d9 d1
    lda 0x40                ;d0a1  a5 40
    sta 0x42                ;d0a3  85 42
    lda 0x41                ;d0a5  a5 41
    sta 0x43                ;d0a7  85 43
    lda #0xb0               ;d0a9  a9 b0
    sta 0x44                ;d0ab  85 44
    lda #0x04               ;d0ad  a9 04
    sta 0x45                ;d0af  85 45
    jsr sub_d1e7            ;d0b1  20 e7 d1
    lda 0x40                ;d0b4  a5 40
    sta 0x44                ;d0b6  85 44
    lda 0x41                ;d0b8  a5 41
    sta 0x45                ;d0ba  85 45
    lda #0x00               ;d0bc  a9 00
    sta 0x40                ;d0be  85 40
    lda #0x00               ;d0c0  a9 00
    sta 0x41                ;d0c2  85 41
    lda 0x4c                ;d0c4  a5 4c
    sta 0x42                ;d0c6  85 42
    lda 0x4d                ;d0c8  a5 4d
    sta 0x43                ;d0ca  85 43
    jsr sub_d1b6            ;d0cc  20 b6 d1
    bcs lab_d0ef            ;d0cf  b0 1e
    lda #0xb0               ;d0d1  a9 b0
    sta 0x44                ;d0d3  85 44
    lda #0x04               ;d0d5  a9 04
    sta 0x45                ;d0d7  85 45
    lda 0xa8                ;d0d9  a5 a8
    sta 0x40                ;d0db  85 40
    lda 0xa9                ;d0dd  a5 a9
    sta 0x41                ;d0df  85 41
    lda 0x4c                ;d0e1  a5 4c
    sta 0x42                ;d0e3  85 42
    lda 0x4d                ;d0e5  a5 4d
    sta 0x43                ;d0e7  85 43
    jsr sub_d1b6            ;d0e9  20 b6 d1
    bcs lab_d0ef            ;d0ec  b0 01
    clc                     ;d0ee  18

lab_d0ef:
    pla                     ;d0ef  68
    sta 0x45                ;d0f0  85 45
    pla                     ;d0f2  68
    sta 0x44                ;d0f3  85 44
    pla                     ;d0f5  68
    sta 0x43                ;d0f6  85 43
    pla                     ;d0f8  68
    sta 0x42                ;d0f9  85 42
    pla                     ;d0fb  68
    sta 0x41                ;d0fc  85 41
    pla                     ;d0fe  68
    sta 0x40                ;d0ff  85 40
    rts                     ;d101  60

sub_d102:
    lda 0x40                ;d102  a5 40
    pha                     ;d104  48
    lda 0x41                ;d105  a5 41
    pha                     ;d107  48
    lda 0x42                ;d108  a5 42
    pha                     ;d10a  48
    lda 0x43                ;d10b  a5 43
    pha                     ;d10d  48
    lda 0x44                ;d10e  a5 44
    pha                     ;d110  48
    lda 0x45                ;d111  a5 45
    pha                     ;d113  48
    ldx 0x031c              ;d114  ae 1c 03
    jsr sub_ccca            ;d117  20 ca cc
    lda 0xa8                ;d11a  a5 a8
    sta 0x42                ;d11c  85 42
    lda 0xa9                ;d11e  a5 a9
    sta 0x43                ;d120  85 43
    lda #0x06               ;d122  a9 06
    sta 0x44                ;d124  85 44
    lda #0x00               ;d126  a9 00
    sta 0x45                ;d128  85 45
    jsr sub_d1e7            ;d12a  20 e7 d1
    bcc lab_d144            ;d12d  90 15
    lda 0xa8                ;d12f  a5 a8
    sta 0x44                ;d131  85 44
    lda 0xa9                ;d133  a5 a9
    sta 0x45                ;d135  85 45
    lda 0x4c                ;d137  a5 4c
    sta 0x42                ;d139  85 42
    lda 0x4d                ;d13b  a5 4d
    sta 0x43                ;d13d  85 43
    jsr sub_d1b6            ;d13f  20 b6 d1
    bra lab_d17c            ;d142  80 38

lab_d144:
    ldx #0x06               ;d144  a2 06
    jsr sub_cf83            ;d146  20 83 cf
    lda #0xb0               ;d149  a9 b0
    sta 0x44                ;d14b  85 44
    lda #0x04               ;d14d  a9 04
    sta 0x45                ;d14f  85 45
    lda 0x4c                ;d151  a5 4c
    sta 0x42                ;d153  85 42
    lda 0x4d                ;d155  a5 4d
    sta 0x43                ;d157  85 43
    jsr sub_d1b6            ;d159  20 b6 d1
    bcs lab_d17c            ;d15c  b0 1e
    lda #0x00               ;d15e  a9 00
    sta 0x40                ;d160  85 40
    lda #0x00               ;d162  a9 00
    sta 0x41                ;d164  85 41
    lda 0xa8                ;d166  a5 a8
    sta 0x44                ;d168  85 44
    lda 0xa9                ;d16a  a5 a9
    sta 0x45                ;d16c  85 45
    lda 0x4c                ;d16e  a5 4c
    sta 0x42                ;d170  85 42
    lda 0x4d                ;d172  a5 4d
    sta 0x43                ;d174  85 43
    jsr sub_d1b6            ;d176  20 b6 d1
    bcs lab_d17c            ;d179  b0 01
    clc                     ;d17b  18

lab_d17c:
    pla                     ;d17c  68
    sta 0x45                ;d17d  85 45
    pla                     ;d17f  68
    sta 0x44                ;d180  85 44
    pla                     ;d182  68
    sta 0x43                ;d183  85 43
    pla                     ;d185  68
    sta 0x42                ;d186  85 42
    pla                     ;d188  68
    sta 0x41                ;d189  85 41
    pla                     ;d18b  68
    sta 0x40                ;d18c  85 40
    rts                     ;d18e  60

sub_d18f:
    lda 0x031c              ;d18f  ad 1c 03
    dec a                   ;d192  1a
    cmp #0xff               ;d193  c9 ff
    bne lab_d199            ;d195  d0 02
    lda #0x08               ;d197  a9 08

lab_d199:
    sta 0x031c              ;d199  8d 1c 03
    ldx 0x031c              ;d19c  ae 1c 03
    jsr sub_cd39            ;d19f  20 39 cd
    lda 0x0301,x            ;d1a2  bd 01 03
    cmp #0xff               ;d1a5  c9 ff
    beq lab_d1b4            ;d1a7  f0 0b
    lda 0x031c              ;d1a9  ad 1c 03
    cmp 0x031b              ;d1ac  cd 1b 03
    beq lab_d1b4            ;d1af  f0 03
    sec                     ;d1b1  38
    bra lab_d1b5            ;d1b2  80 01

lab_d1b4:
    clc                     ;d1b4  18

lab_d1b5:
    rts                     ;d1b5  60

sub_d1b6:
    lda 0x43                ;d1b6  a5 43
    cmp 0x41                ;d1b8  c5 41
    bcc lab_d1d4            ;d1ba  90 18
    bne lab_d1c4            ;d1bc  d0 06
    lda 0x42                ;d1be  a5 42
    cmp 0x40                ;d1c0  c5 40
    bcc lab_d1d4            ;d1c2  90 10

lab_d1c4:
    lda 0x43                ;d1c4  a5 43
    cmp 0x45                ;d1c6  c5 45
    bcc lab_d1d7            ;d1c8  90 0d
    bne lab_d1d4            ;d1ca  d0 08
    lda 0x42                ;d1cc  a5 42
    cmp 0x44                ;d1ce  c5 44
    bcc lab_d1d7            ;d1d0  90 05
    beq lab_d1d7            ;d1d2  f0 03

lab_d1d4:
    clc                     ;d1d4  18
    bra lab_d1d8            ;d1d5  80 01

lab_d1d7:
    sec                     ;d1d7  38

lab_d1d8:
    rts                     ;d1d8  60

sub_d1d9:
    clc                     ;d1d9  18
    lda 0x42                ;d1da  a5 42
    adc 0x44                ;d1dc  65 44
    sta 0x40                ;d1de  85 40
    lda 0x43                ;d1e0  a5 43
    adc 0x45                ;d1e2  65 45
    sta 0x41                ;d1e4  85 41
    rts                     ;d1e6  60

sub_d1e7:
    sec                     ;d1e7  38
    lda 0x42                ;d1e8  a5 42
    sbc 0x44                ;d1ea  e5 44
    sta 0x40                ;d1ec  85 40
    lda 0x43                ;d1ee  a5 43
    sbc 0x45                ;d1f0  e5 45
    sta 0x41                ;d1f2  85 41
    rts                     ;d1f4  60

sub_d1f5:
    jsr sub_d53c            ;d1f5  20 3c d5
    bcs lab_d1fd            ;d1f8  b0 03
    jsr sub_d581            ;d1fa  20 81 d5

lab_d1fd:
    rts                     ;d1fd  60

sub_d1fe:
    bbc 4,P1,lab_d222       ;d1fe  97 02 21
    lda 0xaa                ;d201  a5 aa
    cmp #0x07               ;d203  c9 07
    bne lab_d222            ;d205  d0 1b
    ldy #0x21               ;d207  a0 21
    jsr sub_33c6            ;d209  20 c6 33
    bcs lab_d222            ;d20c  b0 14

    lda #0xfa               ;d20e  a9 fa
    jsr sub_f22c_delay      ;d210  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x64               ;d213  a9 64
    jsr sub_f22c_delay      ;d215  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x16               ;d218  a9 16
    jsr sub_d522            ;d21a  20 22 d5
    ldy #0x22               ;d21d  a0 22
    jsr sub_3300            ;d21f  20 00 33

lab_d222:
    rts                     ;d222  60

sub_d223:
    bbc 4,P1,lab_d25d       ;d223  97 02 37
    lda 0xaa                ;d226  a5 aa
    cmp #0x07               ;d228  c9 07
    beq lab_d232            ;d22a  f0 06
    cmp #0x08               ;d22c  c9 08
    beq lab_d23e            ;d22e  f0 0e
    bra lab_d25d            ;d230  80 2b

lab_d232:
    ldy #0x21               ;d232  a0 21
    jsr sub_3361            ;d234  20 61 33
    ldy #0x21               ;d237  a0 21
    jsr sub_3300            ;d239  20 00 33
    bra lab_d25d            ;d23c  80 1f

lab_d23e:
    bbc 5,0xea,lab_d245     ;d23e  b7 ea 04
    clb 5,0xea              ;d241  bf ea
    bra lab_d25d            ;d243  80 18

lab_d245:
    clb 4,P1                ;d245  9f 02
    clb 2,0xea              ;d247  5f ea
    lda 0xac                ;d249  a5 ac
    cmp #0x0c               ;d24b  c9 0c
    beq lab_d258            ;d24d  f0 09
    ldm #0x0d,0xac          ;d24f  3c 0d ac
    bbc 3,0xea,lab_d258     ;d252  77 ea 03
    ldm #0x10,0xac          ;d255  3c 10 ac

lab_d258:
    lda #0x13               ;d258  a9 13
    jsr sub_d522            ;d25a  20 22 d5

lab_d25d:
    rts                     ;d25d  60

    .byte 0x77              ;d25e  77          DATA 0x77 'w'
    .byte 0xf0              ;d25f  f0          DATA 0xf0
    .byte 0x08              ;d260  08          DATA 0x08
    .byte 0x77              ;d261  77          DATA 0x77 'w'
    .byte 0xea              ;d262  ea          DATA 0xea
    .byte 0x05              ;d263  05          DATA 0x05
    .byte 0x7f              ;d264  7f          DATA 0x7f
    .byte 0xea              ;d265  ea          DATA 0xea
    .byte 0x20              ;d266  20          DATA 0x20 ' '
    .byte 0x8d              ;d267  8d          DATA 0x8d
    .byte 0xd4              ;d268  d4          DATA 0xd4
    .byte 0x60              ;d269  60          DATA 0x60 '`'
    .byte 0x77              ;d26a  77          DATA 0x77 'w'
    .byte 0xf0              ;d26b  f0          DATA 0xf0
    .byte 0x05              ;d26c  05          DATA 0x05
    .byte 0xa9              ;d26d  a9          DATA 0xa9
    .byte 0x19              ;d26e  19          DATA 0x19
    .byte 0x20              ;d26f  20          DATA 0x20 ' '
    .byte 0x22              ;d270  22          DATA 0x22 '"'
    .byte 0xd5              ;d271  d5          DATA 0xd5
    .byte 0x60              ;d272  60          DATA 0x60 '`'
    .byte 0x60              ;d273  60          DATA 0x60 '`'
    .byte 0x60              ;d274  60          DATA 0x60 '`'
    .byte 0x20              ;d275  20          DATA 0x20 ' '
    .byte 0x23              ;d276  23          DATA 0x23 '#'
    .byte 0xd2              ;d277  d2          DATA 0xd2
    .byte 0x60              ;d278  60          DATA 0x60 '`'

sub_d279:
    clb 5,P1                ;d279  bf 02

    ldy #0x16               ;d27b  a0 16
    jsr sub_f22c_delay      ;d27d  20 2c f2     Delay an unknown time period for Y iterations

    clb 7,P0                ;d280  ff 00
    jsr sub_2822            ;d282  20 22 28
    rts                     ;d285  60

sub_d286:
    ldx 0xab                ;d286  a6 ab
    cpx #0x01               ;d288  e0 01
    bne lab_d290            ;d28a  d0 04
    ldx #0x00               ;d28c  a2 00
    bra lab_d2d6            ;d28e  80 46

lab_d290:
    bbc 3,0xea,lab_d297     ;d290  77 ea 04
    ldx #0x01               ;d293  a2 01
    bra lab_d2d6            ;d295  80 3f

lab_d297:
    bbc 2,0xea,lab_d2cd     ;d297  57 ea 33
    bbc 4,P1,lab_d2b5       ;d29a  97 02 18
    ldx #0x02               ;d29d  a2 02
    lda 0xac                ;d29f  a5 ac
    cmp #0x07               ;d2a1  c9 07
    beq lab_d2d6            ;d2a3  f0 31
    inx                     ;d2a5  e8
    cmp #0x08               ;d2a6  c9 08
    beq lab_d2d6            ;d2a8  f0 2c
    ldx #0x02               ;d2aa  a2 02
    lda 0xaa                ;d2ac  a5 aa
    cmp #0x07               ;d2ae  c9 07
    beq lab_d2d6            ;d2b0  f0 24
    inx                     ;d2b2  e8
    bra lab_d2d6            ;d2b3  80 21

lab_d2b5:
    ldx #0x04               ;d2b5  a2 04
    lda 0xac                ;d2b7  a5 ac
    cmp #0x05               ;d2b9  c9 05
    beq lab_d2d6            ;d2bb  f0 19
    inx                     ;d2bd  e8
    cmp #0x06               ;d2be  c9 06
    beq lab_d2d6            ;d2c0  f0 14
    ldx #0x04               ;d2c2  a2 04
    lda 0xaa                ;d2c4  a5 aa
    cmp #0x07               ;d2c6  c9 07
    beq lab_d2d6            ;d2c8  f0 0c
    inx                     ;d2ca  e8
    bra lab_d2d6            ;d2cb  80 09

lab_d2cd:
    bbs 4,0xf2,lab_d2d4     ;d2cd  87 f2 04
    ldx #0x06               ;d2d0  a2 06
    bra lab_d2d6            ;d2d2  80 02

lab_d2d4:
    ldx #0x07               ;d2d4  a2 07

lab_d2d6:
    rts                     ;d2d6  60

    .byte 0x0a              ;d2d7  0a          DATA 0x0a
    .byte 0x06              ;d2d8  06          DATA 0x06
    .byte 0x04              ;d2d9  04          DATA 0x04
    .byte 0x05              ;d2da  05          DATA 0x05
    .byte 0x02              ;d2db  02          DATA 0x02
    .byte 0x03              ;d2dc  03          DATA 0x03
    .byte 0x00              ;d2dd  00          DATA 0x00
    .byte 0x01              ;d2de  01          DATA 0x01

sub_d2df:
    clb 2,0xea              ;d2df  5f ea
    clb 4,P1                ;d2e1  9f 02
    clb 3,0xea              ;d2e3  7f ea
    ldm #0x0f,0xac          ;d2e5  3c 0f ac
    clb 5,P1                ;d2e8  bf 02

    ldy #0x1e               ;d2ea  a0 1e
    jsr sub_f22c_delay      ;d2ec  20 2c f2     Delay an unknown time period for Y iterations

    seb 5,P1                ;d2ef  af 02
    seb 0,0xea              ;d2f1  0f ea
    bbs 4,0xea,lab_d2fa     ;d2f3  87 ea 04
    seb 3,P1                ;d2f6  6f 02
    bra lab_d2fc            ;d2f8  80 02

lab_d2fa:
    clb 3,P1                ;d2fa  7f 02

lab_d2fc:
    rts                     ;d2fc  60

sub_d2fd:
    bbs 4,0x00f2,lab_d306   ;d2fd  87 f2 06
    clb 1,P1                ;d300  3f 02
    lda #0x5a               ;d302  a9 5a
    bra lab_d30a            ;d304  80 04

lab_d306:
    seb 1,P1                ;d306  2f 02
    lda #0x5b               ;d308  a9 5b

lab_d30a:
    jsr sub_d522            ;d30a  20 22 d5
    jsr sub_d3da            ;d30d  20 da d3
    rts                     ;d310  60

sub_d311:
    bbc 2,0xef,lab_d324     ;d311  57 ef 10
    lda 0xab                ;d314  a5 ab
    cmp #0x01               ;d316  c9 01
    beq lab_d31e            ;d318  f0 04
    cmp #0x03               ;d31a  c9 03
    bne lab_d330            ;d31c  d0 12

lab_d31e:
    lda 0xaa                ;d31e  a5 aa
    cmp #0x01               ;d320  c9 01
    bne lab_d330            ;d322  d0 0c

lab_d324:
    clb 5,P1                ;d324  bf 02

    ldy #0x16               ;d326  a0 16
    jsr sub_f22c_delay      ;d328  20 2c f2     Delay an unknown time period for Y iterations

    clb 7,P0                ;d32b  ff 00
    clc                     ;d32d  18
    bra lab_d33e            ;d32e  80 0e

lab_d330:
    ldy #0x23               ;d330  a0 23
    jsr sub_3300            ;d332  20 00 33
    ldm #0x0e,0xac          ;d335  3c 0e ac
    lda #0x19               ;d338  a9 19
    jsr sub_d522            ;d33a  20 22 d5
    sec                     ;d33d  38

lab_d33e:
    rts                     ;d33e  60

sub_d33f:
    tax                     ;d33f  aa
    bbc 3,0xf2,lab_d3a0     ;d340  77 f2 5d
    bbs 3,0xe6,lab_d3a0     ;d343  67 e6 5a
    bbc 3,0xf0,lab_d3a3     ;d346  77 f0 5a
    lda 0xab                ;d349  a5 ab
    cmp #0x03               ;d34b  c9 03
    bne lab_d3a3            ;d34d  d0 54
    cpx #0x01               ;d34f  e0 01
    bne lab_d359            ;d351  d0 06
    clb 3,0xea              ;d353  7f ea
    clb 4,P1                ;d355  9f 02
    clb 2,0xea              ;d357  5f ea

lab_d359:
    jsr sub_d8b6            ;d359  20 b6 d8
    bcs lab_d361            ;d35c  b0 03
    jsr sub_7673            ;d35e  20 73 76

lab_d361:
    jsr sub_70bb            ;d361  20 bb 70
    ldy #0x1f               ;d364  a0 1f
    jsr sub_3361            ;d366  20 61 33
    ldy #0x20               ;d369  a0 20
    jsr sub_3361            ;d36b  20 61 33
    ldy #0x1e               ;d36e  a0 1e
    jsr sub_3361            ;d370  20 61 33
    ldm #0x0d,0xac          ;d373  3c 0d ac
    bbc 3,0xea,lab_d37c     ;d376  77 ea 03
    ldm #0x10,0xac          ;d379  3c 10 ac

lab_d37c:
    bbs 2,0xea,lab_d397     ;d37c  47 ea 18
    clb 1,P1                ;d37f  3f 02
    lda #0x5a               ;d381  a9 5a
    bbc 4,0xf2,lab_d38a     ;d383  97 f2 04
    seb 1,P1                ;d386  2f 02
    lda #0x5b               ;d388  a9 5b

lab_d38a:
    jsr sub_d522            ;d38a  20 22 d5

    ldy #0x01               ;d38d  a0 01
    jsr sub_f22c_delay      ;d38f  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x13               ;d392  a9 13
    jsr sub_d522            ;d394  20 22 d5

lab_d397:
    jsr sub_43b9            ;d397  20 b9 43
    jsr sub_437f            ;d39a  20 7f 43
    jsr sub_664a            ;d39d  20 4a 66

lab_d3a0:
    sec                     ;d3a0  38
    bra lab_d3a6            ;d3a1  80 03

lab_d3a3:
    clb 3,0xf0              ;d3a3  7f f0
    clc                     ;d3a5  18

lab_d3a6:
    rts                     ;d3a6  60

sub_d3a7:
    bbs 3,0xf0,lab_d3b0     ;d3a7  67 f0 06
    lda 0xaa                ;d3aa  a5 aa
    cmp #0x01               ;d3ac  c9 01
    beq lab_d3d9            ;d3ae  f0 29

lab_d3b0:
    clb 4,P1                ;d3b0  9f 02
    clb 2,0xea              ;d3b2  5f ea
    clb 3,0xea              ;d3b4  7f ea
    clb 3,0xf0              ;d3b6  7f f0
    ldy #0x1e               ;d3b8  a0 1e
    jsr sub_3361            ;d3ba  20 61 33
    ldy #0x20               ;d3bd  a0 20
    jsr sub_3361            ;d3bf  20 61 33
    ldy #0x1f               ;d3c2  a0 1f
    jsr sub_3361            ;d3c4  20 61 33
    ldy #0x21               ;d3c7  a0 21
    jsr sub_3361            ;d3c9  20 61 33
    ldy #0x22               ;d3cc  a0 22
    jsr sub_3361            ;d3ce  20 61 33
    ldm #0x0f,0xac          ;d3d1  3c 0f ac
    lda #0x19               ;d3d4  a9 19
    jsr sub_d522            ;d3d6  20 22 d5

lab_d3d9:
    rts                     ;d3d9  60

sub_d3da:
    bbc 3,0xf0,lab_d3e4     ;d3da  77 f0 07
    jsr sub_d3a7            ;d3dd  20 a7 d3
    seb 3,0xf0              ;d3e0  6f f0
    bra lab_d3e7            ;d3e2  80 03

lab_d3e4:
    jsr sub_d3a7            ;d3e4  20 a7 d3

lab_d3e7:
    rts                     ;d3e7  60

sub_d3e8:
    bbc 3,0xf0,lab_d402     ;d3e8  77 f0 17
    ldy #0x1e               ;d3eb  a0 1e
    jsr sub_3361            ;d3ed  20 61 33
    ldy #0x20               ;d3f0  a0 20
    jsr sub_3361            ;d3f2  20 61 33
    ldy #0x1f               ;d3f5  a0 1f
    jsr sub_3300            ;d3f7  20 00 33
    ldm #0x0c,0xac          ;d3fa  3c 0c ac
    lda #0x1c               ;d3fd  a9 1c
    jsr sub_d522            ;d3ff  20 22 d5

lab_d402:
    rts                     ;d402  60

sub_d403:
    lda #0x03               ;d403  a9 03
    sta 0xae                ;d405  85 ae
    clb 4,P1                ;d407  9f 02
    clb 2,0xea              ;d409  5f ea
    clb 3,0xea              ;d40b  7f ea
    clb 3,0xf0              ;d40d  7f f0
    ldy #0x1e               ;d40f  a0 1e
    jsr sub_3361            ;d411  20 61 33
    ldy #0x20               ;d414  a0 20
    jsr sub_3361            ;d416  20 61 33
    ldy #0x1f               ;d419  a0 1f
    jsr sub_3361            ;d41b  20 61 33
    ldm #0x02,0xac          ;d41e  3c 02 ac
    lda #0x11               ;d421  a9 11
    jsr sub_d522            ;d423  20 22 d5
    bbc 2,0xef,lab_d432     ;d426  57 ef 09
    lda 0xab                ;d429  a5 ab
    cmp #0x03               ;d42b  c9 03
    bne lab_d432            ;d42d  d0 03
    sec                     ;d42f  38
    bra lab_d433            ;d430  80 01

lab_d432:
    clc                     ;d432  18

lab_d433:
    rts                     ;d433  60

sub_d434:
    seb 0,0xf4              ;d434  0f f4
    jsr sub_d80b            ;d436  20 0b d8
    rts                     ;d439  60

sub_d43a:
    clb 0,0xf4              ;d43a  1f f4
    jsr sub_d80b            ;d43c  20 0b d8
    rts                     ;d43f  60

sub_d440:
    seb 5,0xea              ;d440  af ea
    rts                     ;d442  60

sub_d443:
    lda 0xaa                ;d443  a5 aa
    cmp #0x04               ;d445  c9 04
    beq lab_d48c            ;d447  f0 43
    lda 0xac                ;d449  a5 ac
    cmp #0x05               ;d44b  c9 05
    bne lab_d454            ;d44d  d0 05
    bbs 0,0xf4,lab_d489     ;d44f  07 f4 37
    bra lab_d45b            ;d452  80 07

lab_d454:
    cmp #0x06               ;d454  c9 06
    bne lab_d45b            ;d456  d0 03
    bbc 0,0xf4,lab_d489     ;d458  17 f4 2e

lab_d45b:
    jsr sub_7673            ;d45b  20 73 76
    clb 4,P1                ;d45e  9f 02
    clb 3,0xea              ;d460  7f ea
    seb 2,0xea              ;d462  4f ea
    ldy #0x20               ;d464  a0 20
    jsr sub_3361            ;d466  20 61 33
    ldy #0x1e               ;d469  a0 1e
    jsr sub_3361            ;d46b  20 61 33
    ldm #0x05,0xac          ;d46e  3c 05 ac
    lda #0x15               ;d471  a9 15
    bbs 0,0xf4,lab_d47b     ;d473  07 f4 05
    ldm #0x06,0xac          ;d476  3c 06 ac
    lda #0x16               ;d479  a9 16

lab_d47b:
    jsr sub_d522            ;d47b  20 22 d5
    jsr sub_43b9            ;d47e  20 b9 43
    jsr sub_437f            ;d481  20 7f 43
    jsr sub_664a            ;d484  20 4a 66
    bra lab_d48c            ;d487  80 03

lab_d489:
    jsr sub_d86c            ;d489  20 6c d8

lab_d48c:
    rts                     ;d48c  60

sub_d48d:
    bbs 3,0xea,lab_d4bd     ;d48d  67 ea 2d
    jsr sub_7673            ;d490  20 73 76
    seb 3,0xea              ;d493  6f ea
    seb 2,0xea              ;d495  4f ea
    seb 4,P1                ;d497  8f 02
    ldy #0x20               ;d499  a0 20
    jsr sub_3361            ;d49b  20 61 33
    ldm #0x10,0xac          ;d49e  3c 10 ac
    lda #0x15               ;d4a1  a9 15
    jsr sub_d522            ;d4a3  20 22 d5
    jsr sub_43b9            ;d4a6  20 b9 43
    jsr sub_437f            ;d4a9  20 7f 43
    jsr sub_664a            ;d4ac  20 4a 66

    ldy #0x96               ;d4af  a0 96
    jsr sub_f22c_delay      ;d4b1  20 2c f2     Delay an unknown time period for Y iterations

    seb 1,0xea              ;d4b4  2f ea
    bbs 0,P1,lab_d4c0       ;d4b6  07 02 07
    clb 1,0xea              ;d4b9  3f ea
    bra lab_d4c0            ;d4bb  80 03

lab_d4bd:
    jsr sub_d88a            ;d4bd  20 8a d8

lab_d4c0:
    rts                     ;d4c0  60

sub_d4c1:
    bbs 2,0xea,lab_d4c9     ;d4c1  47 ea 05
    bbs 3,0xea,lab_d4d1     ;d4c4  67 ea 0a
    bra lab_d4d6            ;d4c7  80 0d

lab_d4c9:
    jsr sub_d86c            ;d4c9  20 6c d8
    ldm #0x0a,0xac          ;d4cc  3c 0a ac
    bra lab_d507            ;d4cf  80 36

lab_d4d1:
    jsr sub_d88a            ;d4d1  20 8a d8
    bra lab_d4db            ;d4d4  80 05

lab_d4d6:
    jsr sub_d8b6            ;d4d6  20 b6 d8
    bcc lab_d507            ;d4d9  90 2c

lab_d4db:
    jsr sub_7673            ;d4db  20 73 76
    clb 4,P1                ;d4de  9f 02
    clb 2,0xea              ;d4e0  5f ea
    clb 3,0xea              ;d4e2  7f ea
    ldy #0x20               ;d4e4  a0 20
    jsr sub_3361            ;d4e6  20 61 33
    ldm #0x0d,0xac          ;d4e9  3c 0d ac
    lda #0x14               ;d4ec  a9 14
    jsr sub_d522            ;d4ee  20 22 d5
    bbs 4,0xf2,lab_d4fa     ;d4f1  87 f2 06
    seb 4,0xf2              ;d4f4  8f f2
    seb 1,P1                ;d4f6  2f 02
    bra lab_d4fe            ;d4f8  80 04

lab_d4fa:
    clb 4,0xf2              ;d4fa  9f f2
    clb 1,P1                ;d4fc  3f 02

lab_d4fe:
    jsr sub_43b9            ;d4fe  20 b9 43
    jsr sub_437f            ;d501  20 7f 43
    jsr sub_664a            ;d504  20 4a 66

lab_d507:
    rts                     ;d507  60

sub_d508:
    bbc 3,0xf0,lab_d521     ;d508  77 f0 16
    bbs 4,0xea,lab_d514     ;d50b  87 ea 06
    seb 4,0xea              ;d50e  8f ea
    clb 3,P1                ;d510  7f 02
    bra lab_d518            ;d512  80 04

lab_d514:
    clb 4,0xea              ;d514  9f ea
    seb 3,P1                ;d516  6f 02

lab_d518:
    jsr sub_43b9            ;d518  20 b9 43
    jsr sub_437f            ;d51b  20 7f 43
    jsr sub_664a            ;d51e  20 4a 66

lab_d521:
    rts                     ;d521  60

sub_d522:
    sta 0x0101              ;d522  8d 01 01
    lda #0x30               ;d525  a9 30
    sta 0x0100              ;d527  8d 00 01
    lda #0x00               ;d52a  a9 00
    sta 0x4c                ;d52c  85 4c
    lda #0x01               ;d52e  a9 01
    sta 0x4d                ;d530  85 4d
    ldm #0x02,0x4e          ;d532  3c 02 4e     Number of I2C bytes to write = 2
    ldm #0x00,0x4f          ;d535  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;d538  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;d53b  60

sub_d53c:
    lda 0x40                ;d53c  a5 40
    pha                     ;d53e  48
    lda #0x30               ;d53f  a9 30
    seb 0,a                 ;d541  0b
    sta 0x0100              ;d542  8d 00 01
    lda #0x00               ;d545  a9 00
    sta 0x4c                ;d547  85 4c
    lda #0x01               ;d549  a9 01
    sta 0x4d                ;d54b  85 4d
    ldm #0x01,0x4e          ;d54d  3c 01 4e     Number of I2C bytes to write = 1
    ldm #0x05,0x4f          ;d550  3c 05 4f     Number of I2C bytes to read = 5
    jsr sub_46e5_i2c_wr_rd  ;d553  20 e5 46     Perform an I2C write-then-read transaction
    lda 0x0101              ;d556  ad 01 01
    cmp #0x04               ;d559  c9 04
    beq lab_d55f            ;d55b  f0 02
    bcs lab_d57c            ;d55d  b0 1d

lab_d55f:
    dec a                   ;d55f  1a
    sta 0x40                ;d560  85 40
    ldx #0x00               ;d562  a2 00
    lda 0x0102              ;d564  ad 02 01

lab_d567:
    inx                     ;d567  e8
    cpx 0x40                ;d568  e4 40
    bcs lab_d572            ;d56a  b0 06
    clc                     ;d56c  18
    adc 0x0102,x            ;d56d  7d 02 01
    bra lab_d567            ;d570  80 f5

lab_d572:
    cmp 0x0102,x            ;d572  dd 02 01
    bne lab_d57c            ;d575  d0 05
    seb 2,0xef              ;d577  4f ef
    clc                     ;d579  18
    bra lab_d57d            ;d57a  80 01

lab_d57c:
    sec                     ;d57c  38

lab_d57d:
    pla                     ;d57d  68
    sta 0x40                ;d57e  85 40
    rts                     ;d580  60

sub_d581:
    lda 0x0102              ;d581  ad 02 01
    cmp #0x11               ;d584  c9 11
    bne lab_d58a            ;d586  d0 02
    bra lab_d59c            ;d588  80 12

lab_d58a:
    cmp #0x20               ;d58a  c9 20
    bne lab_d593            ;d58c  d0 05
    jsr sub_d59d            ;d58e  20 9d d5
    bra lab_d59c            ;d591  80 09

lab_d593:
    cmp #0x41               ;d593  c9 41
    bne lab_d59c            ;d595  d0 05
    jsr sub_d64b            ;d597  20 4b d6
    bra lab_d59c            ;d59a  80 00

lab_d59c:
    rts                     ;d59c  60

sub_d59d:
    lda 0x0103              ;d59d  ad 03 01
    sta 0xaa                ;d5a0  85 aa
    lda 0x0104              ;d5a2  ad 04 01
    sta 0xab                ;d5a5  85 ab
    lda 0xac                ;d5a7  a5 ac
    cmp #0x0e               ;d5a9  c9 0e
    bne lab_d5c8            ;d5ab  d0 1b
    lda 0xaa                ;d5ad  a5 aa
    cmp #0x01               ;d5af  c9 01
    bne lab_d5c5            ;d5b1  d0 12
    ldm #0x0f,0xac          ;d5b3  3c 0f ac
    ldy #0x23               ;d5b6  a0 23
    jsr sub_33c6            ;d5b8  20 c6 33
    bcc lab_d5c5            ;d5bb  90 08
    ldy #0x23               ;d5bd  a0 23
    jsr sub_3361            ;d5bf  20 61 33
    jsr sub_d279            ;d5c2  20 79 d2

lab_d5c5:
    jmp lab_d64a            ;d5c5  4c 4a d6

lab_d5c8:
    lda 0xab                ;d5c8  a5 ab
    cmp #0x06               ;d5ca  c9 06
    beq lab_d5d6            ;d5cc  f0 08
    lda 0xaa                ;d5ce  a5 aa
    cmp #0x09               ;d5d0  c9 09
    beq lab_d5d6            ;d5d2  f0 02
    bra lab_d5db            ;d5d4  80 05

lab_d5d6:
    jsr sub_d8c5            ;d5d6  20 c5 d8
    bra lab_d64a            ;d5d9  80 6f

lab_d5db:
    lda 0xab                ;d5db  a5 ab
    cmp #0x10               ;d5dd  c9 10
    beq lab_d5e5            ;d5df  f0 04
    cmp #0x13               ;d5e1  c9 13
    bne lab_d5ea            ;d5e3  d0 05

lab_d5e5:
    jsr sub_d65b            ;d5e5  20 5b d6
    bra lab_d64a            ;d5e8  80 60

lab_d5ea:
    lda 0xac                ;d5ea  a5 ac
    cmp #0x03               ;d5ec  c9 03
    bne lab_d601            ;d5ee  d0 11
    lda 0xab                ;d5f0  a5 ab
    cmp #0x03               ;d5f2  c9 03
    bne lab_d64a            ;d5f4  d0 54
    lda 0xaa                ;d5f6  a5 aa
    cmp #0x01               ;d5f8  c9 01
    bne lab_d64a            ;d5fa  d0 4e
    jsr sub_d66e            ;d5fc  20 6e d6
    bra lab_d64a            ;d5ff  80 49

lab_d601:
    lda 0xac                ;d601  a5 ac
    cmp #0x05               ;d603  c9 05
    beq lab_d60b            ;d605  f0 04
    cmp #0x06               ;d607  c9 06
    bne lab_d610            ;d609  d0 05

lab_d60b:
    jsr sub_d73a            ;d60b  20 3a d7
    bra lab_d641            ;d60e  80 31

lab_d610:
    cmp #0x07               ;d610  c9 07
    beq lab_d618            ;d612  f0 04
    cmp #0x08               ;d614  c9 08
    bne lab_d61d            ;d616  d0 05

lab_d618:
    jsr sub_d765            ;d618  20 65 d7
    bra lab_d641            ;d61b  80 24

lab_d61d:
    cmp #0x10               ;d61d  c9 10
    bne lab_d626            ;d61f  d0 05
    jsr sub_d77b            ;d621  20 7b d7
    bra lab_d64a            ;d624  80 24

lab_d626:
    cmp #0x0c               ;d626  c9 0c
    bne lab_d62f            ;d628  d0 05
    jsr sub_d7b3            ;d62a  20 b3 d7
    bra lab_d64a            ;d62d  80 1b

lab_d62f:
    cmp #0x0a               ;d62f  c9 0a
    bne lab_d638            ;d631  d0 05
    jsr sub_d7dc            ;d633  20 dc d7
    bra lab_d64a            ;d636  80 12

lab_d638:
    cmp #0x0b               ;d638  c9 0b
    bne lab_d641            ;d63a  d0 05
    jsr sub_d801            ;d63c  20 01 d8
    bra lab_d64a            ;d63f  80 09

lab_d641:
    lda 0xac                ;d641  a5 ac
    cmp #0x0d               ;d643  c9 0d
    bne lab_d64a            ;d645  d0 03
    jsr sub_d6c1            ;d647  20 c1 d6

lab_d64a:
    rts                     ;d64a  60

sub_d64b:
    lda 0x0103              ;d64b  ad 03 01
    sta 0xad                ;d64e  85 ad
    cmp #0x11               ;d650  c9 11
    bne lab_d658            ;d652  d0 04
    seb 2,P1                ;d654  4f 02
    bra lab_d65a            ;d656  80 02

lab_d658:
    clb 2,P1                ;d658  5f 02

lab_d65a:
    rts                     ;d65a  60

sub_d65b:
    clb 4,P1                ;d65b  9f 02
    clb 2,0xea              ;d65d  5f ea
    clb 3,0xea              ;d65f  7f ea
    clb 4,0xf2              ;d661  9f f2
    clb 1,P1                ;d663  3f 02
    ldm #0x03,0xac          ;d665  3c 03 ac
    lda #0x5a               ;d668  a9 5a
    jsr sub_d522            ;d66a  20 22 d5
    rts                     ;d66d  60

sub_d66e:
    bbs 3,0xe6,lab_d6c0     ;d66e  67 e6 4f
    bbs 0,0xf1,lab_d6c0     ;d671  07 f1 4c
    bbc 3,0xf2,lab_d6c0     ;d674  77 f2 49
    bbc 4,0xf1,lab_d67f     ;d677  97 f1 05
    jsr sub_aeb4            ;d67a  20 b4 ae
    bra lab_d6c0            ;d67d  80 41

lab_d67f:
    bbs 6,0xf0,lab_d6c0     ;d67f  c7 f0 3e
    bbs 5,0xf0,lab_d6c0     ;d682  a7 f0 3b
    bbs 2,0xf4,lab_d68a     ;d685  47 f4 02
    bra lab_d68d            ;d688  80 03

lab_d68a:
    jsr sub_4567            ;d68a  20 67 45

lab_d68d:
    jsr sub_4281            ;d68d  20 81 42
    jsr sub_9dcd            ;d690  20 cd 9d
    jsr sub_cb54            ;d693  20 54 cb
    jsr sub_d935            ;d696  20 35 d9
    seb 3,0xf0              ;d699  6f f0
    jsr sub_7673            ;d69b  20 73 76
    jsr sub_70bb            ;d69e  20 bb 70
    ldm #0x00,0x5b          ;d6a1  3c 00 5b
    lda 0xad                ;d6a4  a5 ad
    cmp #0x12               ;d6a6  c9 12
    bne lab_d6ad            ;d6a8  d0 03
    ldm #0x07,0x5b          ;d6aa  3c 07 5b

lab_d6ad:
    jsr sub_437f            ;d6ad  20 7f 43
    jsr sub_664a            ;d6b0  20 4a 66
    ldm #0x32,0x5d          ;d6b3  3c 32 5d
    clb 7,0xf8              ;d6b6  ff f8
    ldm #0x0d,0xac          ;d6b8  3c 0d ac
    lda #0x13               ;d6bb  a9 13
    jsr sub_d522            ;d6bd  20 22 d5

lab_d6c0:
    rts                     ;d6c0  60

sub_d6c1:
    lda 0xab                ;d6c1  a5 ab
    cmp #0x03               ;d6c3  c9 03
    bne lab_d739            ;d6c5  d0 72
    lda 0xaa                ;d6c7  a5 aa
    cmp #0x04               ;d6c9  c9 04
    bne lab_d6e2            ;d6cb  d0 15
    clb 4,P1                ;d6cd  9f 02
    clb 2,0xea              ;d6cf  5f ea
    clb 3,0xea              ;d6d1  7f ea
    jsr sub_43b9            ;d6d3  20 b9 43
    jsr sub_437f            ;d6d6  20 7f 43
    lda 0x5d                ;d6d9  a5 5d
    bne lab_d6e0            ;d6db  d0 03
    jsr sub_664a            ;d6dd  20 4a 66

lab_d6e0:
    bra lab_d739            ;d6e0  80 57

lab_d6e2:
    lda 0xaa                ;d6e2  a5 aa
    cmp #0x05               ;d6e4  c9 05
    beq lab_d6f2            ;d6e6  f0 0a
    cmp #0x06               ;d6e8  c9 06
    bne lab_d739            ;d6ea  d0 4d
    seb 4,0xf2              ;d6ec  8f f2
    seb 1,P1                ;d6ee  2f 02
    bra lab_d6f6            ;d6f0  80 04

lab_d6f2:
    clb 4,0xf2              ;d6f2  9f f2
    clb 1,P1                ;d6f4  3f 02

lab_d6f6:
    clb 4,P1                ;d6f6  9f 02
    clb 2,0xea              ;d6f8  5f ea
    clb 3,0xea              ;d6fa  7f ea
    jsr sub_43b9            ;d6fc  20 b9 43
    jsr sub_437f            ;d6ff  20 7f 43
    lda 0x5d                ;d702  a5 5d
    bne lab_d709            ;d704  d0 03
    jsr sub_664a            ;d706  20 4a 66

lab_d709:
    ldy #0xc8               ;d709  a0 c8
    jsr sub_f22c_delay      ;d70b  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_7694            ;d70e  20 94 76
    jsr sub_70bb            ;d711  20 bb 70
    ldy #0x20               ;d714  a0 20
    jsr sub_33c6            ;d716  20 c6 33
    bcs lab_d726            ;d719  b0 0b
    ldy #0x20               ;d71b  a0 20
    jsr sub_3300            ;d71d  20 00 33
    lda #0x03               ;d720  a9 03
    sta 0xae                ;d722  85 ae
    bra lab_d739            ;d724  80 13

lab_d726:
    dec 0xae                ;d726  c6 ae
    lda 0xae                ;d728  a5 ae
    cmp #0x00               ;d72a  c9 00
    bne lab_d739            ;d72c  d0 0b
    ldm #0x0f,0xac          ;d72e  3c 0f ac
    lda #0x19               ;d731  a9 19
    jsr sub_d522            ;d733  20 22 d5
    jsr sub_d8f1            ;d736  20 f1 d8

lab_d739:
    rts                     ;d739  60

sub_d73a:
    lda 0xab                ;d73a  a5 ab
    cmp #0x03               ;d73c  c9 03
    bne lab_d764            ;d73e  d0 24
    lda 0xaa                ;d740  a5 aa
    cmp #0x07               ;d742  c9 07
    beq lab_d74a            ;d744  f0 04
    cmp #0x08               ;d746  c9 08
    bne lab_d755            ;d748  d0 0b

lab_d74a:
    jsr sub_43b9            ;d74a  20 b9 43
    jsr sub_437f            ;d74d  20 7f 43
    jsr sub_664a            ;d750  20 4a 66
    bra lab_d764            ;d753  80 0f

lab_d755:
    lda 0xaa                ;d755  a5 aa
    cmp #0x05               ;d757  c9 05
    beq lab_d75f            ;d759  f0 04
    cmp #0x06               ;d75b  c9 06
    bne lab_d764            ;d75d  d0 05

lab_d75f:
    clb 2,0xea              ;d75f  5f ea
    ldm #0x0d,0xac          ;d761  3c 0d ac

lab_d764:
    rts                     ;d764  60

sub_d765:
    lda 0xab                ;d765  a5 ab
    cmp #0x03               ;d767  c9 03
    bne lab_d77a            ;d769  d0 0f
    lda 0xaa                ;d76b  a5 aa
    cmp #0x05               ;d76d  c9 05
    beq lab_d775            ;d76f  f0 04
    cmp #0x06               ;d771  c9 06
    bne lab_d77a            ;d773  d0 05

lab_d775:
    clb 2,0xea              ;d775  5f ea
    ldm #0x0d,0xac          ;d777  3c 0d ac

lab_d77a:
    rts                     ;d77a  60

sub_d77b:
    lda 0xab                ;d77b  a5 ab
    cmp #0x03               ;d77d  c9 03
    bne lab_d7b2            ;d77f  d0 31
    lda 0xaa                ;d781  a5 aa
    cmp #0x05               ;d783  c9 05
    beq lab_d791            ;d785  f0 0a
    cmp #0x06               ;d787  c9 06
    bne lab_d7b2            ;d789  d0 27
    seb 4,0xf2              ;d78b  8f f2
    seb 1,P1                ;d78d  2f 02
    bra lab_d795            ;d78f  80 04

lab_d791:
    clb 4,0xf2              ;d791  9f f2
    clb 1,P1                ;d793  3f 02

lab_d795:
    clb 4,P1                ;d795  9f 02
    clb 2,0xea              ;d797  5f ea
    jsr sub_43b9            ;d799  20 b9 43
    jsr sub_437f            ;d79c  20 7f 43
    jsr sub_664a            ;d79f  20 4a 66

    ldy #0xc8               ;d7a2  a0 c8
    jsr sub_f22c_delay      ;d7a4  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_7694            ;d7a7  20 94 76
    jsr sub_70bb            ;d7aa  20 bb 70
    ldy #0x1e               ;d7ad  a0 1e
    jsr sub_3300            ;d7af  20 00 33

lab_d7b2:
    rts                     ;d7b2  60

sub_d7b3:
    lda 0xab                ;d7b3  a5 ab
    cmp #0x03               ;d7b5  c9 03
    bne lab_d7db            ;d7b7  d0 22
    lda 0xaa                ;d7b9  a5 aa
    cmp #0x05               ;d7bb  c9 05
    beq lab_d7c9            ;d7bd  f0 0a
    cmp #0x06               ;d7bf  c9 06
    bne lab_d7db            ;d7c1  d0 18
    seb 4,0xf2              ;d7c3  8f f2
    seb 1,P1                ;d7c5  2f 02
    bra lab_d7cd            ;d7c7  80 04

lab_d7c9:
    clb 4,0xf2              ;d7c9  9f f2
    clb 1,P1                ;d7cb  3f 02

lab_d7cd:
    clb 4,P1                ;d7cd  9f 02
    clb 2,0xea              ;d7cf  5f ea
    lda #0x1c               ;d7d1  a9 1c
    jsr sub_d522            ;d7d3  20 22 d5
    ldy #0x1f               ;d7d6  a0 1f
    jsr sub_3300            ;d7d8  20 00 33

lab_d7db:
    rts                     ;d7db  60

sub_d7dc:
    lda 0xab                ;d7dc  a5 ab
    cmp #0x03               ;d7de  c9 03
    bne lab_d800            ;d7e0  d0 1e
    lda 0xaa                ;d7e2  a5 aa
    cmp #0x04               ;d7e4  c9 04
    bne lab_d7f8            ;d7e6  d0 10
    jsr sub_43b9            ;d7e8  20 b9 43
    jsr sub_437f            ;d7eb  20 7f 43
    jsr sub_664a            ;d7ee  20 4a 66
    lda #0x14               ;d7f1  a9 14
    jsr sub_d522            ;d7f3  20 22 d5
    bra lab_d800            ;d7f6  80 08

lab_d7f8:
    jsr sub_d8b6            ;d7f8  20 b6 d8
    bcc lab_d800            ;d7fb  90 03
    ldm #0x0b,0xac          ;d7fd  3c 0b ac

lab_d800:
    rts                     ;d800  60

sub_d801:
    lda 0xab                ;d801  a5 ab
    cmp #0x03               ;d803  c9 03
    bne lab_d80a            ;d805  d0 03
    ldm #0x0d,0xac          ;d807  3c 0d ac

lab_d80a:
    rts                     ;d80a  60

sub_d80b:
    lda 0xaa                ;d80b  a5 aa
    cmp #0x04               ;d80d  c9 04
    beq lab_d86b            ;d80f  f0 5a
    lda 0xac                ;d811  a5 ac
    cmp #0x07               ;d813  c9 07
    bne lab_d81c            ;d815  d0 05
    bbs 0,0xf4,lab_d85f     ;d817  07 f4 45
    bra lab_d823            ;d81a  80 07

lab_d81c:
    cmp #0x08               ;d81c  c9 08
    bne lab_d823            ;d81e  d0 03
    bbc 0,0xf4,lab_d85f     ;d820  17 f4 3c

lab_d823:
    jsr sub_7673            ;d823  20 73 76
    seb 2,0xea              ;d826  4f ea
    seb 4,P1                ;d828  8f 02
    clb 3,0xea              ;d82a  7f ea
    clb 5,0xea              ;d82c  bf ea
    ldy #0x20               ;d82e  a0 20
    jsr sub_3361            ;d830  20 61 33
    ldy #0x1e               ;d833  a0 1e
    jsr sub_3361            ;d835  20 61 33
    ldm #0x07,0xac          ;d838  3c 07 ac
    lda #0x15               ;d83b  a9 15
    bbs 0,0xf4,lab_d845     ;d83d  07 f4 05
    ldm #0x08,0xac          ;d840  3c 08 ac
    lda #0x16               ;d843  a9 16

lab_d845:
    jsr sub_d522            ;d845  20 22 d5
    jsr sub_43b9            ;d848  20 b9 43
    jsr sub_437f            ;d84b  20 7f 43
    jsr sub_664a            ;d84e  20 4a 66

    ldy #0x96               ;d851  a0 96
    jsr sub_f22c_delay      ;d853  20 2c f2     Delay an unknown time period for Y iterations

    seb 1,0xea              ;d856  2f ea
    bbs 0,P1,lab_d86b       ;d858  07 02 10
    clb 1,0xea              ;d85b  3f ea
    bra lab_d86b            ;d85d  80 0c

lab_d85f:
    jsr sub_d86c            ;d85f  20 6c d8
    jsr sub_437f            ;d862  20 7f 43
    jsr sub_43b9            ;d865  20 b9 43
    jsr sub_664a            ;d868  20 4a 66

lab_d86b:
    rts                     ;d86b  60

sub_d86c:
    jsr sub_d8b6            ;d86c  20 b6 d8
    bcs lab_d889            ;d86f  b0 18
    clb 4,P1                ;d871  9f 02
    clb 2,0xea              ;d873  5f ea
    clb 3,0xea              ;d875  7f ea
    clb 5,0xea              ;d877  bf ea
    ldy #0x20               ;d879  a0 20
    jsr sub_3361            ;d87b  20 61 33
    jsr sub_7673            ;d87e  20 73 76
    ldm #0x0d,0xac          ;d881  3c 0d ac
    lda #0x13               ;d884  a9 13
    jsr sub_d522            ;d886  20 22 d5

lab_d889:
    rts                     ;d889  60

sub_d88a:
    bbc 3,0xea,lab_d8b5     ;d88a  77 ea 28
    jsr sub_d8b6            ;d88d  20 b6 d8
    bcs lab_d897            ;d890  b0 05
    jsr sub_d86c            ;d892  20 6c d8
    bra lab_d8b5            ;d895  80 1e

lab_d897:
    clb 4,P1                ;d897  9f 02
    clb 2,0xea              ;d899  5f ea
    clb 3,0xea              ;d89b  7f ea
    clb 5,0xea              ;d89d  bf ea
    ldy #0x20               ;d89f  a0 20
    jsr sub_3361            ;d8a1  20 61 33
    ldy #0x1e               ;d8a4  a0 1e
    jsr sub_3361            ;d8a6  20 61 33
    ldm #0x0d,0xac          ;d8a9  3c 0d ac
    jsr sub_43b9            ;d8ac  20 b9 43
    jsr sub_437f            ;d8af  20 7f 43
    jsr sub_664a            ;d8b2  20 4a 66

lab_d8b5:
    rts                     ;d8b5  60

sub_d8b6:
    lda 0xaa                ;d8b6  a5 aa
    cmp #0x05               ;d8b8  c9 05
    beq lab_d8c3            ;d8ba  f0 07
    cmp #0x06               ;d8bc  c9 06
    beq lab_d8c3            ;d8be  f0 03
    clc                     ;d8c0  18
    bra lab_d8c4            ;d8c1  80 01

lab_d8c3:
    sec                     ;d8c3  38

lab_d8c4:
    rts                     ;d8c4  60

sub_d8c5:
    bbs 3,0xe6,lab_d8f0     ;d8c5  67 e6 28
    lda 0xac                ;d8c8  a5 ac
    cmp #0x02               ;d8ca  c9 02
    bne lab_d8dc            ;d8cc  d0 0e
    dec 0xae                ;d8ce  c6 ae
    beq lab_d8ed            ;d8d0  f0 1b
    ldm #0x02,0xac          ;d8d2  3c 02 ac
    lda #0x11               ;d8d5  a9 11
    jsr sub_d522            ;d8d7  20 22 d5
    bra lab_d8f0            ;d8da  80 14

lab_d8dc:
    bbc 3,0xf0,lab_d8f0     ;d8dc  77 f0 11
    lda 0xaa                ;d8df  a5 aa
    cmp #0x01               ;d8e1  c9 01
    bne lab_d8eb            ;d8e3  d0 06
    lda 0xab                ;d8e5  a5 ab
    cmp #0x06               ;d8e7  c9 06
    beq lab_d8ed            ;d8e9  f0 02

lab_d8eb:
    bra lab_d8f0            ;d8eb  80 03

lab_d8ed:
    jsr sub_d8f1            ;d8ed  20 f1 d8

lab_d8f0:
    rts                     ;d8f0  60

sub_d8f1:
    jsr sub_74d2            ;d8f1  20 d2 74
    jsr sub_d91e            ;d8f4  20 1e d9
    ldm #0x28,0x5d          ;d8f7  3c 28 5d
    clb 7,0xf8              ;d8fa  ff f8
    clb 4,P1                ;d8fc  9f 02
    clb 2,0xea              ;d8fe  5f ea
    clb 3,0xea              ;d900  7f ea
    clb 3,0xf0              ;d902  7f f0
    jsr sub_7694            ;d904  20 94 76
    jsr sub_70bb            ;d907  20 bb 70
    rts                     ;d90a  60

sub_d90b:
    ldm #0x05,0x5a          ;d90b  3c 05 5a
    jsr sub_672d            ;d90e  20 2d 67
    ldm #0x08,0x5b          ;d911  3c 08 5b
    jsr sub_686e            ;d914  20 6e 68
    jsr sub_6cc0            ;d917  20 c0 6c
    jsr sub_becf            ;d91a  20 cf be
    rts                     ;d91d  60

sub_d91e:
    ldm #0x0d,0x5a          ;d91e  3c 0d 5a
    jsr sub_672d            ;d921  20 2d 67
    ldm #0x19,0x5b          ;d924  3c 19 5b
    jsr sub_686e            ;d927  20 6e 68
    jsr sub_6cc0            ;d92a  20 c0 6c
    jsr sub_becf            ;d92d  20 cf be
    rts                     ;d930  60

sub_d931:
    jsr sub_da9f            ;d931  20 9f da
    rts                     ;d934  60

sub_d935:
    jsr sub_daf4            ;d935  20 f4 da
    rts                     ;d938  60

sub_d939:
    jsr sub_db0d            ;d939  20 0d db
    rts                     ;d93c  60

sub_d93d:
    jsr sub_db6b            ;d93d  20 6b db
    rts                     ;d940  60

sub_d941:
    jsr sub_db74            ;d941  20 74 db
    rts                     ;d944  60

    .byte 0xae              ;d945  ae          DATA 0xae
    .byte 0x88              ;d946  88          DATA 0x88
    .byte 0x03              ;d947  03          DATA 0x03
    .byte 0xa9              ;d948  a9          DATA 0xa9
    .byte 0x00              ;d949  00          DATA 0x00
    .byte 0x8d              ;d94a  8d          DATA 0x8d
    .byte 0x88              ;d94b  88          DATA 0x88
    .byte 0x03              ;d94c  03          DATA 0x03
    .byte 0xe0              ;d94d  e0          DATA 0xe0
    .byte 0x01              ;d94e  01          DATA 0x01
    .byte 0xd0              ;d94f  d0          DATA 0xd0
    .byte 0x05              ;d950  05          DATA 0x05
    .byte 0x20              ;d951  20          DATA 0x20 ' '
    .byte 0xf0              ;d952  f0          DATA 0xf0
    .byte 0xda              ;d953  da          DATA 0xda
    .byte 0x80              ;d954  80          DATA 0x80
    .byte 0x07              ;d955  07          DATA 0x07
    .byte 0xe0              ;d956  e0          DATA 0xe0
    .byte 0x02              ;d957  02          DATA 0x02
    .byte 0xd0              ;d958  d0          DATA 0xd0
    .byte 0x03              ;d959  03          DATA 0x03
    .byte 0x20              ;d95a  20          DATA 0x20 ' '
    .byte 0xf7              ;d95b  f7          DATA 0xf7
    .byte 0xdb              ;d95c  db          DATA 0xdb
    .byte 0x60              ;d95d  60          DATA 0x60 '`'

sub_d95e:
    lda 0x0268              ;d95e  ad 68 02
    cmp #0x5d               ;d961  c9 5d
    bcc lab_d9a1            ;d963  90 3c
    bbc 4,P8_P4I,lab_d9a1   ;d965  97 10 39
    bbc 5,P3,lab_d9a1       ;d968  b7 06 36
    bbs 3,0xe6,lab_d9a1     ;d96b  67 e6 33
    bbc 6,0xf1,lab_d9a1     ;d96e  d7 f1 30
    jsr sub_a9e6            ;d971  20 e6 a9
    bbc 4,0xef,lab_d9a1     ;d974  97 ef 2a
    inc 0x027f              ;d977  ee 7f 02
    lda 0x027f              ;d97a  ad 7f 02
    cmp #0x03               ;d97d  c9 03
    bcc lab_d9a1            ;d97f  90 20
    clb 4,0xef              ;d981  9f ef
    jsr sub_da72            ;d983  20 72 da
    bbc 4,0xf0,lab_d9a1     ;d986  97 f0 18
    bbc 4,0xf0,lab_d9a1     ;d989  97 f0 15
    clb 4,0xf0              ;d98c  9f f0
    clb 4,0xf0              ;d98e  9f f0
    bbs 5,0xf4,lab_d9a1     ;d990  a7 f4 0e
    jsr sub_dddb            ;d993  20 db dd
    ldm #0x1e,0x5d          ;d996  3c 1e 5d
    clb 7,0xf8              ;d999  ff f8
    jsr sub_74d2            ;d99b  20 d2 74
    jsr sub_70bb            ;d99e  20 bb 70

lab_d9a1:
    rts                     ;d9a1  60

lab_d9a2:
    bbc 5,P3,lab_d9fb       ;d9a2  b7 06 56
    pha                     ;d9a5  48
    txa                     ;d9a6  8a
    pha                     ;d9a7  48
    ldx 0x0270              ;d9a8  ae 70 02
    cpx #0x08               ;d9ab  e0 08
    bcs lab_d9ee            ;d9ad  b0 3f
    cpx #0x00               ;d9af  e0 00
    bne lab_d9bd            ;d9b1  d0 0a
    bbc 3,0xeb,lab_d9f5     ;d9b3  77 eb 3f
    ldx #0x01               ;d9b6  a2 01
    stx 0x0270              ;d9b8  8e 70 02
    bra lab_d9f5            ;d9bb  80 38

lab_d9bd:
    lda SIO2                ;d9bd  a5 1f
    sta 0x0270,x            ;d9bf  9d 70 02
    inc 0x0270              ;d9c2  ee 70 02
    ldx 0x0270              ;d9c5  ae 70 02
    cpx #0x08               ;d9c8  e0 08
    bcc lab_d9f5            ;d9ca  90 29
    ldx #0x00               ;d9cc  a2 00
    stx 0x0270              ;d9ce  8e 70 02
    lda 0x0271              ;d9d1  ad 71 02
    and #0x0f               ;d9d4  29 0f
    cmp #0x07               ;d9d6  c9 07
    bcs lab_d9f5            ;d9d8  b0 1b
    lda 0x0277              ;d9da  ad 77 02
    and #0x07               ;d9dd  29 07
    cmp #0x03               ;d9df  c9 03
    bne lab_d9f5            ;d9e1  d0 12
    seb 1,0xeb              ;d9e3  2f eb
    seb 4,0xef              ;d9e5  8f ef
    lda #0x00               ;d9e7  a9 00
    sta 0x027f              ;d9e9  8d 7f 02
    bra lab_d9f5            ;d9ec  80 07

lab_d9ee:
    ldx #0x00               ;d9ee  a2 00
    stx 0x0270              ;d9f0  8e 70 02
    clb 3,0xeb              ;d9f3  7f eb

lab_d9f5:
    ldm #0x02,0x5f          ;d9f5  3c 02 5f
    pla                     ;d9f8  68
    tax                     ;d9f9  aa
    pla                     ;d9fa  68

lab_d9fb:
    rti                     ;d9fb  40

sub_d9fc:
    lda 0x0271              ;d9fc  ad 71 02
    bbc 7,a,lab_da2c        ;d9ff  f3 2b
    and #0x07               ;da01  29 07
    tax                     ;da03  aa
    lda 0x0279              ;da04  ad 79 02
    and #0xf0               ;da07  29 f0
    cmp #0x70               ;da09  c9 70
    beq lab_da14            ;da0b  f0 07
    seb 2,0xeb              ;da0d  4f eb
    lda #0x00               ;da0f  a9 00
    sta 0x027c              ;da11  8d 7c 02

lab_da14:
    lda 0x0271              ;da14  ad 71 02
    bbc 6,a,lab_da21        ;da17  d3 08
    lda 0x0278              ;da19  ad 78 02
    ora 0x6641,x            ;da1c  1d 41 66
    bra lab_da27            ;da1f  80 06

lab_da21:
    lda 0x0278              ;da21  ad 78 02
    and 0x6639,x            ;da24  3d 39 66

lab_da27:
    sta 0x0278              ;da27  8d 78 02
    bra lab_da4b            ;da2a  80 1f

lab_da2c:
    jsr sub_aa32            ;da2c  20 32 aa
    jsr sub_dd61            ;da2f  20 61 dd
    bcs lab_da4b            ;da32  b0 17
    lda 0x0276              ;da34  ad 76 02
    cmp 0x0279              ;da37  cd 79 02
    beq lab_da45            ;da3a  f0 09
    jsr sub_dcf8            ;da3c  20 f8 dc
    ldy 0x0276              ;da3f  ac 76 02
    jsr sub_dc09            ;da42  20 09 dc

lab_da45:
    jsr sub_dc88            ;da45  20 88 dc
    jsr sub_da4c            ;da48  20 4c da

lab_da4b:
    rts                     ;da4b  60

sub_da4c:
    lda 0x0279              ;da4c  ad 79 02
    and #0xf0               ;da4f  29 f0
    cmp #0xa0               ;da51  c9 a0
    beq lab_da71            ;da53  f0 1c
    cmp #0xb0               ;da55  c9 b0
    beq lab_da71            ;da57  f0 18
    lda 0x027c              ;da59  ad 7c 02
    inc a                   ;da5c  3a
    cmp #0x06               ;da5d  c9 06
    bcs lab_da71            ;da5f  b0 10
    sta 0x027c              ;da61  8d 7c 02
    cmp #0x05               ;da64  c9 05
    bne lab_da71            ;da66  d0 09
    clb 2,0xeb              ;da68  5f eb
    lda 0x0278              ;da6a  ad 78 02
    seb 7,a                 ;da6d  eb
    sta 0x0278              ;da6e  8d 78 02

lab_da71:
    rts                     ;da71  60

sub_da72:
    lda 0x0278              ;da72  ad 78 02
    clb 7,a                 ;da75  fb
    sta 0x0278              ;da76  8d 78 02
    lda #0x00               ;da79  a9 00
    sta 0x027c              ;da7b  8d 7c 02
    rts                     ;da7e  60

sub_da7f:
    bbc 2,0xeb,lab_da8b     ;da7f  57 eb 09
    lda 0x0278              ;da82  ad 78 02
    bbs 7,a,lab_da8b        ;da85  e3 04
    lda #0x1c               ;da87  a9 1c
    bra lab_da9e            ;da89  80 13

lab_da8b:
    lda 0x027a              ;da8b  ad 7a 02
    bbs 4,a,lab_da98        ;da8e  83 08
    bbs 2,a,lab_da9c        ;da90  43 0a
    bbs 5,a,lab_da9c        ;da92  a3 08
    lda #0x09               ;da94  a9 09
    bra lab_da9e            ;da96  80 06

lab_da98:
    lda #0x07               ;da98  a9 07
    bra lab_da9e            ;da9a  80 02

lab_da9c:
    lda #0x0a               ;da9c  a9 0a

lab_da9e:
    rts                     ;da9e  60

sub_da9f:
    bbc 4,0xef,lab_dab6     ;da9f  97 ef 14
    bbc 4,0xf0,lab_dab6     ;daa2  97 f0 11
    lda 0x0279              ;daa5  ad 79 02
    bbs 3,a,lab_daba        ;daa8  63 10
    and #0xf0               ;daaa  29 f0
    cmp #0xa0               ;daac  c9 a0
    beq lab_dabe            ;daae  f0 0e
    cmp #0xb0               ;dab0  c9 b0
    beq lab_dabe            ;dab2  f0 0a
    bra lab_dac5            ;dab4  80 0f

lab_dab6:
    lda #0x00               ;dab6  a9 00
    bra lab_dac0            ;dab8  80 06

lab_daba:
    lda #0x01               ;daba  a9 01
    bra lab_dac0            ;dabc  80 02

lab_dabe:
    lda #0x02               ;dabe  a9 02

lab_dac0:
    clb 4,0xf0              ;dac0  9f f0
    clc                     ;dac2  18
    bra lab_daef            ;dac3  80 2a

lab_dac5:
    lda 0x0279              ;dac5  ad 79 02
    and #0xf0               ;dac8  29 f0
    cmp #0x30               ;daca  c9 30
    beq lab_dad1            ;dacc  f0 03
    jsr sub_7673            ;dace  20 73 76

lab_dad1:
    jsr sub_437f            ;dad1  20 7f 43
    jsr sub_664a            ;dad4  20 4a 66
    jsr sub_70bb            ;dad7  20 bb 70
    lda #0x27               ;dada  a9 27
    jsr sub_c614            ;dadc  20 14 c6
    lda #0x01               ;dadf  a9 01
    sta 0x0388              ;dae1  8d 88 03
    lda #0x20               ;dae4  a9 20
    sta 0x01af              ;dae6  8d af 01
    ldy #0x3d               ;dae9  a0 3d
    jsr sub_3300            ;daeb  20 00 33
    sec                     ;daee  38

lab_daef:
    rts                     ;daef  60

    .byte 0x20              ;daf0  20          DATA 0x20 ' '
    .byte 0x94              ;daf1  94          DATA 0x94
    .byte 0x76              ;daf2  76          DATA 0x76 'v'
    .byte 0x60              ;daf3  60          DATA 0x60 '`'

sub_daf4:
    bbc 4,0xf0,lab_dafc     ;daf4  97 f0 05
    bbc 4,0xf0,lab_dafc     ;daf7  97 f0 02
    bra lab_db05            ;dafa  80 09

lab_dafc:
    lda 0x0279              ;dafc  ad 79 02
    and #0xf0               ;daff  29 f0
    cmp #0x30               ;db01  c9 30
    bne lab_db0a            ;db03  d0 05

lab_db05:
    lda #0x08               ;db05  a9 08
    jsr sub_c614            ;db07  20 14 c6

lab_db0a:
    clb 4,0xf0              ;db0a  9f f0
    rts                     ;db0c  60

sub_db0d:
    bbc 4,0xf0,lab_db17     ;db0d  97 f0 07
    jsr sub_daf4            ;db10  20 f4 da
    seb 4,0xf0              ;db13  8f f0
    bra lab_db1a            ;db15  80 03

lab_db17:
    jsr sub_daf4            ;db17  20 f4 da

lab_db1a:
    rts                     ;db1a  60

sub_db1b:
    bbc 4,0xf0,lab_db5c     ;db1b  97 f0 3e
    bbs 0,0xf4,lab_db50     ;db1e  07 f4 2f
    bbc 3,0x5c,lab_db4c     ;db21  77 5c 28
    lda 0x027b              ;db24  ad 7b 02
    cmp #0x02               ;db27  c9 02
    bcc lab_db4c            ;db29  90 21
    pha                     ;db2b  48
    lda 0x027b              ;db2c  ad 7b 02
    and #0x0f               ;db2f  29 0f
    bne lab_db3c            ;db31  d0 09
    lda 0x027b              ;db33  ad 7b 02
    sec                     ;db36  38
    sbc #0x06               ;db37  e9 06
    sta 0x027b              ;db39  8d 7b 02

lab_db3c:
    dec 0x027b              ;db3c  ce 7b 02
    jsr sub_437f            ;db3f  20 7f 43
    jsr sub_43b9            ;db42  20 b9 43
    jsr sub_664a            ;db45  20 4a 66
    pla                     ;db48  68
    sta 0x027b              ;db49  8d 7b 02

lab_db4c:
    lda #0x1e               ;db4c  a9 1e
    bra lab_db52            ;db4e  80 02

lab_db50:
    lda #0x1f               ;db50  a9 1f

lab_db52:
    jsr sub_c614            ;db52  20 14 c6
    seb 3,0x5c              ;db55  6f 5c
    ldm #0x06,0x5d          ;db57  3c 06 5d
    clb 7,0xf8              ;db5a  ff f8

lab_db5c:
    rts                     ;db5c  60

sub_db5d:
    bbc 4,0xf0,lab_db6a     ;db5d  97 f0 0a
    lda #0x1a               ;db60  a9 1a
    bbc 0,0xf4,lab_db67     ;db62  17 f4 02
    lda #0x1b               ;db65  a9 1b

lab_db67:
    jsr sub_c614            ;db67  20 14 c6

lab_db6a:
    rts                     ;db6a  60

sub_db6b:
    bbc 4,0xf0,lab_db73     ;db6b  97 f0 05
    lda #0x05               ;db6e  a9 05
    jsr sub_c614            ;db70  20 14 c6

lab_db73:
    rts                     ;db73  60

sub_db74:
    bbc 4,0xf0,lab_db88     ;db74  97 f0 11
    lda 0x0287              ;db77  ad 87 02
    bne lab_db83            ;db7a  d0 07
    lda #0x06               ;db7c  a9 06
    jsr sub_c614            ;db7e  20 14 c6
    bra lab_db88            ;db81  80 05

lab_db83:
    lda #0x07               ;db83  a9 07
    jsr sub_c614            ;db85  20 14 c6

lab_db88:
    rts                     ;db88  60

sub_db89:
    stx 0x0389              ;db89  8e 89 03
    bbc 4,0xf0,lab_dbf6     ;db8c  97 f0 67
    bbs 2,0xf4,lab_dbf6     ;db8f  47 f4 64
    lda 0x0279              ;db92  ad 79 02
    and #0x0e               ;db95  29 0e
    cmp #0x08               ;db97  c9 08
    beq lab_dba6            ;db99  f0 0b
    ldx 0x0389              ;db9b  ae 89 03
    lda 0x0278              ;db9e  ad 78 02
    and 0x6641,x            ;dba1  3d 41 66
    bne lab_dbb6            ;dba4  d0 10

lab_dba6:
    ldy 0x0389              ;dba6  ac 89 03
    jsr sub_ddad            ;dba9  20 ad dd
    ldm #0x1e,0x5d          ;dbac  3c 1e 5d
    clb 7,0xf8              ;dbaf  ff f8
    jsr sub_74d2            ;dbb1  20 d2 74
    bra lab_dbde            ;dbb4  80 28

lab_dbb6:
    lda 0x56                ;dbb6  a5 56
    pha                     ;dbb8  48
    lda 0x027b              ;dbb9  ad 7b 02
    pha                     ;dbbc  48
    lda 0x56                ;dbbd  a5 56
    cmp 0x0389              ;dbbf  cd 89 03
    beq lab_dbc9            ;dbc2  f0 05
    lda #0x01               ;dbc4  a9 01
    sta 0x027b              ;dbc6  8d 7b 02

lab_dbc9:
    lda 0x0389              ;dbc9  ad 89 03
    sta 0x56                ;dbcc  85 56
    jsr sub_437f            ;dbce  20 7f 43
    jsr sub_664a            ;dbd1  20 4a 66
    pla                     ;dbd4  68
    sta 0x027b              ;dbd5  8d 7b 02
    pla                     ;dbd8  68
    sta 0x56                ;dbd9  85 56
    jsr sub_7694            ;dbdb  20 94 76

lab_dbde:
    lda 0x0389              ;dbde  ad 89 03
    clc                     ;dbe1  18
    adc #0x2f               ;dbe2  69 2f
    jsr sub_c614            ;dbe4  20 14 c6
    lda #0x02               ;dbe7  a9 02
    sta 0x0388              ;dbe9  8d 88 03
    lda #0x10               ;dbec  a9 10
    sta 0x01af              ;dbee  8d af 01
    ldy #0x3d               ;dbf1  a0 3d
    jsr sub_3300            ;dbf3  20 00 33

lab_dbf6:
    rts                     ;dbf6  60

    .byte 0xa9              ;dbf7  a9          DATA 0xa9
    .byte 0x1c              ;dbf8  1c          DATA 0x1c
    .byte 0x20              ;dbf9  20          DATA 0x20 ' '
    .byte 0x14              ;dbfa  14          DATA 0x14
    .byte 0xc6              ;dbfb  c6          DATA 0xc6
    .byte 0x60              ;dbfc  60          DATA 0x60 '`'
    .byte 0x30              ;dbfd  30          DATA 0x30 '0'
    .byte 0xff              ;dbfe  ff          DATA 0xff
    .byte 0x34              ;dbff  34          DATA 0x34 '4'
    .byte 0xde              ;dc00  de          DATA 0xde
    .byte 0xa0              ;dc01  a0          DATA 0xa0
    .byte 0xff              ;dc02  ff          DATA 0xff
    .byte 0x67              ;dc03  67          DATA 0x67 'g'
    .byte 0xdc              ;dc04  dc          DATA 0xdc
    .byte 0xb0              ;dc05  b0          DATA 0xb0
    .byte 0xff              ;dc06  ff          DATA 0xff
    .byte 0x67              ;dc07  67          DATA 0x67 'g'
    .byte 0xdc              ;dc08  dc          DATA 0xdc

sub_dc09:
    lda 0x40                ;dc09  a5 40
    pha                     ;dc0b  48
    lda 0x41                ;dc0c  a5 41
    pha                     ;dc0e  48
    lda 0x42                ;dc0f  a5 42
    pha                     ;dc11  48
    tya                     ;dc12  98
    sta 0x42                ;dc13  85 42
    and #0xf0               ;dc15  29 f0
    sta 0x40                ;dc17  85 40
    lda 0x0279              ;dc19  ad 79 02
    and #0xf0               ;dc1c  29 f0
    sta 0x0279              ;dc1e  8d 79 02
    ldx #0x00               ;dc21  a2 00

lab_dc23:
    txa                     ;dc23  8a
    asl a                   ;dc24  0a
    asl a                   ;dc25  0a
    tay                     ;dc26  a8
    lda 0xdbfd,y            ;dc27  b9 fd db
    cmp #0xff               ;dc2a  c9 ff
    beq lab_dc32            ;dc2c  f0 04
    cmp 0x40                ;dc2e  c5 40
    bne lab_dc3e            ;dc30  d0 0c

lab_dc32:
    lda 0xdbfe,y            ;dc32  b9 fe db
    cmp #0xff               ;dc35  c9 ff
    beq lab_dc4b            ;dc37  f0 12
    cmp 0x0279              ;dc39  cd 79 02
    beq lab_dc4b            ;dc3c  f0 0d

lab_dc3e:
    inx                     ;dc3e  e8
    cpx #0x03               ;dc3f  e0 03
    bcc lab_dc23            ;dc41  90 e0
    lda 0x42                ;dc43  a5 42
    sta 0x0279              ;dc45  8d 79 02
    clc                     ;dc48  18
    bra lab_dc5d            ;dc49  80 12

lab_dc4b:
    lda 0x42                ;dc4b  a5 42
    sta 0x0279              ;dc4d  8d 79 02
    lda 0xdbff,y            ;dc50  b9 ff db
    sta 0x40                ;dc53  85 40
    lda 0xdc00,y            ;dc55  b9 00 dc
    sta 0x41                ;dc58  85 41
    jsr [0x40]              ;dc5a  02 40
    sec                     ;dc5c  38

lab_dc5d:
    pla                     ;dc5d  68
    sta 0x42                ;dc5e  85 42
    pla                     ;dc60  68
    sta 0x41                ;dc61  85 41
    pla                     ;dc63  68
    sta 0x40                ;dc64  85 40
    rts                     ;dc66  60

    .byte 0x20              ;dc67  20          DATA 0x20 ' '
    .byte 0x72              ;dc68  72          DATA 0x72 'r'
    .byte 0xda              ;dc69  da          DATA 0xda
    .byte 0x97              ;dc6a  97          DATA 0x97
    .byte 0xf0              ;dc6b  f0          DATA 0xf0
    .byte 0x1a              ;dc6c  1a          DATA 0x1a
    .byte 0xd7              ;dc6d  d7          DATA 0xd7
    .byte 0xf1              ;dc6e  f1          DATA 0xf1
    .byte 0x17              ;dc6f  17          DATA 0x17
    .byte 0x9f              ;dc70  9f          DATA 0x9f
    .byte 0xf0              ;dc71  f0          DATA 0xf0
    .byte 0xa7              ;dc72  a7          DATA 0xa7
    .byte 0xf4              ;dc73  f4          DATA 0xf4
    .byte 0x12              ;dc74  12          DATA 0x12
    .byte 0x20              ;dc75  20          DATA 0x20 ' '
    .byte 0xc8              ;dc76  c8          DATA 0xc8
    .byte 0xdd              ;dc77  dd          DATA 0xdd
    .byte 0x3c              ;dc78  3c          DATA 0x3c '<'
    .byte 0x1e              ;dc79  1e          DATA 0x1e
    .byte 0x5d              ;dc7a  5d          DATA 0x5d ']'
    .byte 0xff              ;dc7b  ff          DATA 0xff
    .byte 0xf8              ;dc7c  f8          DATA 0xf8
    .byte 0x20              ;dc7d  20          DATA 0x20 ' '
    .byte 0xd2              ;dc7e  d2          DATA 0xd2
    .byte 0x74              ;dc7f  74          DATA 0x74 't'
    .byte 0xa9              ;dc80  a9          DATA 0xa9
    .byte 0x01              ;dc81  01          DATA 0x01
    .byte 0x85              ;dc82  85          DATA 0x85
    .byte 0x56              ;dc83  56          DATA 0x56 'V'
    .byte 0x20              ;dc84  20          DATA 0x20 ' '
    .byte 0xbb              ;dc85  bb          DATA 0xbb
    .byte 0x70              ;dc86  70          DATA 0x70 'p'
    .byte 0x60              ;dc87  60          DATA 0x60 '`'

sub_dc88:
    lda 0xf0                ;dc88  a5 f0
    and #0xf8               ;dc8a  29 f8
    cmp #0x10               ;dc8c  c9 10
    bne lab_dcdd            ;dc8e  d0 4d
    lda 0x0279              ;dc90  ad 79 02
    and #0xf0               ;dc93  29 f0
    cmp #0x40               ;dc95  c9 40
    beq lab_dc9b            ;dc97  f0 02
    bra lab_dcac            ;dc99  80 11

lab_dc9b:
    lda 0x5e                ;dc9b  a5 5e
    beq lab_dca5            ;dc9d  f0 06
    lda 0x73                ;dc9f  a5 73
    cmp 0x72                ;dca1  c5 72
    beq lab_dcac            ;dca3  f0 07

lab_dca5:
    lda #0x27               ;dca5  a9 27
    jsr sub_c614            ;dca7  20 14 c6
    bra lab_dcac            ;dcaa  80 00

lab_dcac:
    ldx #0x00               ;dcac  a2 00
    lda 0x0271              ;dcae  ad 71 02
    and #0x0f               ;dcb1  29 0f
    beq lab_dcf7            ;dcb3  f0 42
    cmp 0x56                ;dcb5  c5 56
    beq lab_dcbc            ;dcb7  f0 03
    sta 0x56                ;dcb9  85 56
    inx                     ;dcbb  e8

lab_dcbc:
    lda 0x0272              ;dcbc  ad 72 02
    cmp 0x027b              ;dcbf  cd 7b 02
    beq lab_dcc8            ;dcc2  f0 04
    sta 0x027b              ;dcc4  8d 7b 02
    inx                     ;dcc7  e8

lab_dcc8:
    lda 0x0275              ;dcc8  ad 75 02
    cmp 0x027a              ;dccb  cd 7a 02
    beq lab_dcd4            ;dcce  f0 04
    sta 0x027a              ;dcd0  8d 7a 02
    inx                     ;dcd3  e8

lab_dcd4:
    cpx #0x00               ;dcd4  e0 00
    beq lab_dcf7            ;dcd6  f0 1f
    jsr sub_de1d            ;dcd8  20 1d de
    bra lab_dcf7            ;dcdb  80 1a

lab_dcdd:
    lda 0x0271              ;dcdd  ad 71 02
    and #0x0f               ;dce0  29 0f
    beq lab_dcf7            ;dce2  f0 13
    sta 0x56                ;dce4  85 56
    lda 0x0272              ;dce6  ad 72 02
    sta 0x027b              ;dce9  8d 7b 02
    lda 0x0275              ;dcec  ad 75 02
    cmp 0x027a              ;dcef  cd 7a 02
    beq lab_dcf7            ;dcf2  f0 03
    sta 0x027a              ;dcf4  8d 7a 02

lab_dcf7:
    rts                     ;dcf7  60

sub_dcf8:
    bbc 4,0xf0,lab_dd13     ;dcf8  97 f0 18
    bbc 4,0xf0,lab_dd13     ;dcfb  97 f0 15
    bbc 6,0xf1,lab_dd13     ;dcfe  d7 f1 12
    and #0x0e               ;dd01  29 0e
    cmp #0x02               ;dd03  c9 02
    beq lab_dd17            ;dd05  f0 10
    cmp #0x04               ;dd07  c9 04
    beq lab_dd17            ;dd09  f0 0c
    cmp #0x06               ;dd0b  c9 06
    beq lab_dd29            ;dd0d  f0 1a
    cmp #0x08               ;dd0f  c9 08
    beq lab_dd45            ;dd11  f0 32

lab_dd13:
    clc                     ;dd13  18
    jmp lab_dd60            ;dd14  4c 60 dd

lab_dd17:
    bbs 5,0xf4,lab_dd5d     ;dd17  a7 f4 43
    ldy 0x56                ;dd1a  a4 56
    jsr sub_6b1c            ;dd1c  20 1c 6b
    ldm #0x3c,0x5d          ;dd1f  3c 3c 5d
    clb 7,0xf8              ;dd22  ff f8
    jsr sub_74d2            ;dd24  20 d2 74
    bra lab_dd5f            ;dd27  80 36

lab_dd29:
    bbs 5,0xf4,lab_dd5d     ;dd29  a7 f4 31
    lda #0x08               ;dd2c  a9 08
    jsr sub_c614            ;dd2e  20 14 c6
    clb 4,0xf0              ;dd31  9f f0
    clb 4,0xf0              ;dd33  9f f0
    jsr sub_de01            ;dd35  20 01 de
    ldm #0x1e,0x5d          ;dd38  3c 1e 5d
    clb 7,0xf8              ;dd3b  ff f8
    jsr sub_74d2            ;dd3d  20 d2 74
    jsr sub_70bb            ;dd40  20 bb 70
    bra lab_dd5f            ;dd43  80 1a

lab_dd45:
    bbs 5,0xf4,lab_dd5d     ;dd45  a7 f4 15
    clb 4,0xf0              ;dd48  9f f0
    ldm #0x01,0x56          ;dd4a  3c 01 56
    jsr sub_ddee            ;dd4d  20 ee dd
    ldm #0x1e,0x5d          ;dd50  3c 1e 5d
    clb 7,0xf8              ;dd53  ff f8
    jsr sub_74d2            ;dd55  20 d2 74
    jsr sub_70bb            ;dd58  20 bb 70
    bra lab_dd5f            ;dd5b  80 02

lab_dd5d:
    clb 4,0xf0              ;dd5d  9f f0

lab_dd5f:
    sec                     ;dd5f  38

lab_dd60:
    rts                     ;dd60  60

sub_dd61:
    lda 0x0276              ;dd61  ad 76 02
    bbs 1,a,lab_dd72        ;dd64  23 0c
    bbs 2,a,lab_dd72        ;dd66  43 0a
    bbs 3,a,lab_dd72        ;dd68  63 08
    and #0xf0               ;dd6a  29 f0
    cmp #0xa0               ;dd6c  c9 a0
    beq lab_dd72            ;dd6e  f0 02
    bra lab_dda3            ;dd70  80 31

lab_dd72:
    lda 0x027e              ;dd72  ad 7e 02
    bne lab_dd83            ;dd75  d0 0c
    inc 0x027e              ;dd77  ee 7e 02
    lda 0x0276              ;dd7a  ad 76 02
    sta 0x027d              ;dd7d  8d 7d 02
    sec                     ;dd80  38
    bra lab_ddac            ;dd81  80 29

lab_dd83:
    lda 0x0276              ;dd83  ad 76 02
    cmp 0x027d              ;dd86  cd 7d 02
    bne lab_dd98            ;dd89  d0 0d
    inc 0x027e              ;dd8b  ee 7e 02
    lda 0x027e              ;dd8e  ad 7e 02
    cmp #0x03               ;dd91  c9 03
    bcs lab_dda3            ;dd93  b0 0e
    sec                     ;dd95  38
    bra lab_ddac            ;dd96  80 14

lab_dd98:
    sta 0x027d              ;dd98  8d 7d 02
    lda #0x01               ;dd9b  a9 01
    sta 0x027e              ;dd9d  8d 7e 02
    sec                     ;dda0  38
    bra lab_ddac            ;dda1  80 09

lab_dda3:
    lda #0x00               ;dda3  a9 00
    sta 0x027d              ;dda5  8d 7d 02
    sta 0x027e              ;dda8  8d 7e 02
    clc                     ;ddab  18

lab_ddac:
    rts                     ;ddac  60

sub_ddad:
    lda 0x50                ;ddad  a5 50
    pha                     ;ddaf  48
    sty 0x50                ;ddb0  84 50
    ldm #0x20,0x5a          ;ddb2  3c 20 5a
    jsr sub_672d            ;ddb5  20 2d 67
    ldm #0x24,0x5b          ;ddb8  3c 24 5b
    jsr sub_686e            ;ddbb  20 6e 68
    jsr sub_6cc0            ;ddbe  20 c0 6c
    jsr sub_becf            ;ddc1  20 cf be
    pla                     ;ddc4  68
    sta 0x50                ;ddc5  85 50
    rts                     ;ddc7  60

sub_ddc8:
    ldm #0x0b,0x5a          ;ddc8  3c 0b 5a
    jsr sub_672d            ;ddcb  20 2d 67
    ldm #0x25,0x5b          ;ddce  3c 25 5b
    jsr sub_686e            ;ddd1  20 6e 68
    jsr sub_6cc0            ;ddd4  20 c0 6c
    jsr sub_becf            ;ddd7  20 cf be
    rts                     ;ddda  60

sub_dddb:
    ldm #0x0b,0x5a          ;dddb  3c 0b 5a
    jsr sub_672d            ;ddde  20 2d 67
    ldm #0x26,0x5b          ;dde1  3c 26 5b
    jsr sub_686e            ;dde4  20 6e 68
    jsr sub_6cc0            ;dde7  20 c0 6c
    jsr sub_becf            ;ddea  20 cf be
    rts                     ;dded  60

sub_ddee:
    ldm #0x05,0x5a          ;ddee  3c 05 5a
    jsr sub_672d            ;ddf1  20 2d 67
    ldm #0x09,0x5b          ;ddf4  3c 09 5b
    jsr sub_686e            ;ddf7  20 6e 68
    jsr sub_6cc0            ;ddfa  20 c0 6c
    jsr sub_becf            ;ddfd  20 cf be
    rts                     ;de00  60

sub_de01:
    lda 0x50                ;de01  a5 50
    pha                     ;de03  48
    ldm #0x00,0x50          ;de04  3c 00 50
    ldm #0x20,0x5a          ;de07  3c 20 5a
    jsr sub_672d            ;de0a  20 2d 67
    ldm #0x19,0x5b          ;de0d  3c 19 5b
    jsr sub_686e            ;de10  20 6e 68
    jsr sub_6cc0            ;de13  20 c0 6c
    jsr sub_becf            ;de16  20 cf be
    pla                     ;de19  68
    sta 0x50                ;de1a  85 50
    rts                     ;de1c  60

sub_de1d:
    bbs 0,0xf1,lab_de33     ;de1d  07 f1 13
    bbc 6,0xf1,lab_de33     ;de20  d7 f1 10
    bbs 3,0x5c,lab_de2a     ;de23  67 5c 04
    lda 0x5d                ;de26  a5 5d
    bne lab_de33            ;de28  d0 09

lab_de2a:
    jsr sub_437f            ;de2a  20 7f 43
    jsr sub_43b9            ;de2d  20 b9 43
    jsr sub_664a            ;de30  20 4a 66

lab_de33:
    rts                     ;de33  60

    .byte 0xa5              ;de34  a5          DATA 0xa5
    .byte 0x5d              ;de35  5d          DATA 0x5d ']'
    .byte 0xd0              ;de36  d0          DATA 0xd0
    .byte 0x05              ;de37  05          DATA 0x05
    .byte 0x3c              ;de38  3c          DATA 0x3c '<'
    .byte 0x0a              ;de39  0a          DATA 0x0a
    .byte 0x5d              ;de3a  5d          DATA 0x5d ']'
    .byte 0xff              ;de3b  ff          DATA 0xff
    .byte 0xf8              ;de3c  f8          DATA 0xf8
    .byte 0x60              ;de3d  60          DATA 0x60 '`'

sub_de3e:
    bbc 0,0xf2,lab_de46     ;de3e  17 f2 05
    jsr sub_de6a            ;de41  20 6a de
    bra lab_de51            ;de44  80 0b

lab_de46:
    bbs 0,0xf5,lab_de4e     ;de46  07 f5 05
    jsr sub_de7b            ;de49  20 7b de
    bra lab_de51            ;de4c  80 03

lab_de4e:
    jsr sub_de98            ;de4e  20 98 de

lab_de51:
    rts                     ;de51  60

sub_de52:
    bbc 0,0xf2,lab_de5a     ;de52  17 f2 05
    jsr sub_deb5            ;de55  20 b5 de
    bra lab_de5d            ;de58  80 03

lab_de5a:
    jsr sub_def2            ;de5a  20 f2 de

lab_de5d:
    rts                     ;de5d  60

sub_de5e:
    bbc 0,0xf2,lab_de66     ;de5e  17 f2 05
    jsr sub_dfdc            ;de61  20 dc df
    bra lab_de69            ;de64  80 03

lab_de66:
    jsr sub_e023            ;de66  20 23 e0

lab_de69:
    rts                     ;de69  60

sub_de6a:
    lda #0x00               ;de6a  a9 00
    sta 0x0398              ;de6c  8d 98 03
    ldx #0x0f               ;de6f  a2 0f

lab_de71:
    sta 0x03a0,x            ;de71  9d a0 03
    sta 0x03b0,x            ;de74  9d b0 03
    dex                     ;de77  ca
    bpl lab_de71            ;de78  10 f7
    rts                     ;de7a  60

sub_de7b:
    lda #0x00               ;de7b  a9 00
    sta 0x0399              ;de7d  8d 99 03
    sta 0x039a              ;de80  8d 9a 03
    ldx #0x5f               ;de83  a2 5f

lab_de85:
    sta 0x03c0,x            ;de85  9d c0 03
    sta 0x0420,x            ;de88  9d 20 04
    sta 0x0480,x            ;de8b  9d 80 04
    sta 0x04e0,x            ;de8e  9d e0 04
    sta 0x0540,x            ;de91  9d 40 05
    dex                     ;de94  ca
    bpl lab_de85            ;de95  10 ee
    rts                     ;de97  60

sub_de98:
    ldx 0x0399              ;de98  ae 99 03
    inx                     ;de9b  e8

lab_de9c:
    dex                     ;de9c  ca
    beq lab_deb4            ;de9d  f0 15
    lda 0x0420,x            ;de9f  bd 20 04
    and #0x0f               ;dea2  29 0f
    cmp #0x03               ;dea4  c9 03
    bcc lab_de9c            ;dea6  90 f4
    lda 0x0420,x            ;dea8  bd 20 04
    and #0xf0               ;deab  29 f0
    ora #0x02               ;dead  09 02
    sta 0x0420,x            ;deaf  9d 20 04
    bra lab_de9c            ;deb2  80 e8

lab_deb4:
    rts                     ;deb4  60

sub_deb5:
    lda 0x6c                ;deb5  a5 6c
    jsr sub_51a7            ;deb7  20 a7 51
    sta 0xbc                ;deba  85 bc
    ldx 0x0398              ;debc  ae 98 03
    beq lab_ded2            ;debf  f0 11
    ldx #0x01               ;dec1  a2 01

lab_dec3:
    lda 0x71                ;dec3  a5 71
    cmp 0x03a0,x            ;dec5  dd a0 03
    beq lab_dee5            ;dec8  f0 1b
    inx                     ;deca  e8
    cpx 0x0398              ;decb  ec 98 03
    bcc lab_dec3            ;dece  90 f3
    beq lab_dec3            ;ded0  f0 f1

lab_ded2:
    ldx 0x0398              ;ded2  ae 98 03
    cpx #0x0f               ;ded5  e0 0f
    bcs lab_deda            ;ded7  b0 01
    inx                     ;ded9  e8

lab_deda:
    stx 0x0398              ;deda  8e 98 03
    jsr sub_e61b            ;dedd  20 1b e6
    jsr sub_e67b            ;dee0  20 7b e6
    bra lab_def1            ;dee3  80 0c

lab_dee5:
    lda 0xbc                ;dee5  a5 bc
    cmp 0x03b0,x            ;dee7  dd b0 03
    bcc lab_def1            ;deea  90 05
    beq lab_def1            ;deec  f0 03
    jsr sub_e61b            ;deee  20 1b e6

lab_def1:
    rts                     ;def1  60

sub_def2:
    lda 0x40                ;def2  a5 40
    pha                     ;def4  48
    lda 0x0399              ;def5  ad 99 03
    cmp #0x60               ;def8  c9 60
    bcs lab_df01            ;defa  b0 05
    cmp 0x039a              ;defc  cd 9a 03
    bcs lab_df07            ;deff  b0 06

lab_df01:
    jsr sub_de7b            ;df01  20 7b de
    jmp lab_dfd8            ;df04  4c d8 df

lab_df07:
    ldy #0x39               ;df07  a0 39
    jsr sub_33c6            ;df09  20 c6 33
    bcc lab_df3e            ;df0c  90 30
    ldy 0x71                ;df0e  a4 71
    lda 0x90                ;df10  a5 90
    sta 0x4a                ;df12  85 4a
    lda 0x91                ;df14  a5 91
    sta 0x4b                ;df16  85 4b
    jsr sub_e4ad            ;df18  20 ad e4
    cpx 0x039a              ;df1b  ec 9a 03
    bcc lab_df3e            ;df1e  90 1e
    beq lab_df3e            ;df20  f0 1c
    lda 0x90                ;df22  a5 90
    cmp #0x00               ;df24  c9 00
    bne lab_df2e            ;df26  d0 06
    lda 0x91                ;df28  a5 91
    cmp #0x00               ;df2a  c9 00
    beq lab_df3b            ;df2c  f0 0d

lab_df2e:
    lda 0x90                ;df2e  a5 90
    sta 0x0480,x            ;df30  9d 80 04
    lda 0x91                ;df33  a5 91
    sta 0x04e0,x            ;df35  9d e0 04
    jsr sub_ed56            ;df38  20 56 ed

lab_df3b:
    jmp lab_dfd8            ;df3b  4c d8 df

lab_df3e:
    jsr sub_ecd4            ;df3e  20 d4 ec
    tya                     ;df41  98
    sta 0xbc                ;df42  85 bc
    bne lab_df71            ;df44  d0 2b
    lda 0x90                ;df46  a5 90
    cmp #0x00               ;df48  c9 00
    bne lab_df52            ;df4a  d0 06
    lda 0x91                ;df4c  a5 91
    cmp #0x00               ;df4e  c9 00
    beq lab_df58            ;df50  f0 06

lab_df52:
    lda #0x02               ;df52  a9 02
    sta 0xbc                ;df54  85 bc
    bra lab_dfbc            ;df56  80 64

lab_df58:
    ldy 0x71                ;df58  a4 71
    lda 0x90                ;df5a  a5 90
    sta 0x4a                ;df5c  85 4a
    lda 0x91                ;df5e  a5 91
    sta 0x4b                ;df60  85 4b
    jsr sub_e4ad            ;df62  20 ad e4
    bcc lab_df6f            ;df65  90 08
    lda 0x0420,x            ;df67  bd 20 04
    and #0xf0               ;df6a  29 f0
    sta 0x0420,x            ;df6c  9d 20 04

lab_df6f:
    bra lab_dfd8            ;df6f  80 67

lab_df71:
    lda 0x90                ;df71  a5 90
    cmp #0x00               ;df73  c9 00
    bne lab_dfbc            ;df75  d0 45
    lda 0x91                ;df77  a5 91
    cmp #0x00               ;df79  c9 00
    bne lab_dfbc            ;df7b  d0 3f
    ldy 0x71                ;df7d  a4 71
    lda 0x90                ;df7f  a5 90
    sta 0x4a                ;df81  85 4a
    lda 0x91                ;df83  a5 91
    sta 0x4b                ;df85  85 4b
    jsr sub_e4ad            ;df87  20 ad e4
    bcc lab_dfbc            ;df8a  90 30
    lda 0x0540,x            ;df8c  bd 40 05
    beq lab_dfbc            ;df8f  f0 2b
    bbs 3,0xf3,lab_dfa4     ;df91  67 f3 10
    bbs 0,0xf5,lab_dfa4     ;df94  07 f5 0d
    lda 0x0420,x            ;df97  bd 20 04
    and #0xf0               ;df9a  29 f0
    ora 0xbc                ;df9c  05 bc
    clc                     ;df9e  18
    adc #0x20               ;df9f  69 20
    sta 0x0420,x            ;dfa1  9d 20 04

lab_dfa4:
    lda 0x0480,x            ;dfa4  bd 80 04
    cmp #0x00               ;dfa7  c9 00
    bne lab_dfb7            ;dfa9  d0 0c
    lda 0x04e0,x            ;dfab  bd e0 04
    cmp #0x00               ;dfae  c9 00
    bne lab_dfb7            ;dfb0  d0 05
    lda #0x1e               ;dfb2  a9 1e
    sta 0x0540,x            ;dfb4  9d 40 05

lab_dfb7:
    jsr sub_ed56            ;dfb7  20 56 ed
    bra lab_dfd8            ;dfba  80 1c

lab_dfbc:
    jsr sub_e5b5            ;dfbc  20 b5 e5
    sty 0x40                ;dfbf  84 40
    ldx 0x0399              ;dfc1  ae 99 03
    cpx #0x5f               ;dfc4  e0 5f
    bcc lab_dfcb            ;dfc6  90 03
    jsr sub_e579            ;dfc8  20 79 e5

lab_dfcb:
    ldx #0x00               ;dfcb  a2 00
    ldy 0x40                ;dfcd  a4 40
    jsr sub_e626            ;dfcf  20 26 e6
    jsr sub_ed56            ;dfd2  20 56 ed
    jsr sub_e6b3            ;dfd5  20 b3 e6

lab_dfd8:
    pla                     ;dfd8  68
    sta 0x40                ;dfd9  85 40
    rts                     ;dfdb  60

sub_dfdc:
    bbc 2,0xf0,lab_e022     ;dfdc  57 f0 43
    seb 2,0xf2              ;dfdf  4f f2
    ldm #0x04,0x59          ;dfe1  3c 04 59
    ldx 0x0398              ;dfe4  ae 98 03
    beq lab_e014            ;dfe7  f0 2b
    stx 0x50                ;dfe9  86 50
    cpx #0x07               ;dfeb  e0 07
    bcc lab_dff2            ;dfed  90 03
    ldm #0x06,0x50          ;dfef  3c 06 50

lab_dff2:
    ldx 0x50                ;dff2  a6 50
    lda 0x03a0,x            ;dff4  bd a0 03
    sta 0x71                ;dff7  85 71
    clb 0,0xfd              ;dff9  1f fd
    clb 2,0xfb              ;dffb  5f fb
    clb 2,0xfc              ;dffd  5f fc
    clb 0,0xfc              ;dfff  1f fc
    ldy #0x21               ;e001  a0 21
    jsr sub_f2ac            ;e003  20 ac f2
    seb 3,0xfc              ;e006  6f fc
    jsr sub_486d            ;e008  20 6d 48
    clb 3,0xfc              ;e00b  7f fc
    dec 0x50                ;e00d  c6 50
    bne lab_dff2            ;e00f  d0 e1
    ldm #0x01,0x50          ;e011  3c 01 50

lab_e014:
    lda 0x71                ;e014  a5 71
    sta 0x0266              ;e016  8d 66 02
    jsr sub_40f8            ;e019  20 f8 40
    jsr sub_4281            ;e01c  20 81 42
    jsr sub_74d2            ;e01f  20 d2 74

lab_e022:
    rts                     ;e022  60

sub_e023:
    jsr sub_e9df            ;e023  20 df e9
    txa                     ;e026  8a
    ldx #0x00               ;e027  a2 00
    bbc 1,0xf0,lab_e035     ;e029  37 f0 09
    seb 1,0xf2              ;e02c  2f f2
    ldm #0x02,0x59          ;e02e  3c 02 59
    ldy #0x00               ;e031  a0 00
    bra lab_e03d            ;e033  80 08

lab_e035:
    bbc 0,0xf0,lab_e090     ;e035  17 f0 58
    ldm #0x00,0x59          ;e038  3c 00 59
    ldy #0x01               ;e03b  a0 01

lab_e03d:
    jsr sub_e753            ;e03d  20 53 e7
    ldx #0x00               ;e040  a2 00
    jsr sub_e8d0            ;e042  20 d0 e8
    ldy 0x03a0              ;e045  ac a0 03
    beq lab_e082            ;e048  f0 38
    sty 0x50                ;e04a  84 50
    cpy #0x07               ;e04c  c0 07
    bcc lab_e053            ;e04e  90 03
    ldm #0x06,0x50          ;e050  3c 06 50

lab_e053:
    ldy 0x50                ;e053  a4 50
    ldx 0x03a0,y            ;e055  be a0 03
    lda 0x03c0,x            ;e058  bd c0 03
    sta 0x71                ;e05b  85 71
    lda 0x0480,x            ;e05d  bd 80 04
    sta 0x90                ;e060  85 90
    lda 0x04e0,x            ;e062  bd e0 04
    sta 0x91                ;e065  85 91
    clb 0,0xfd              ;e067  1f fd
    clb 2,0xfb              ;e069  5f fb
    clb 2,0xfc              ;e06b  5f fc
    clb 0,0xfc              ;e06d  1f fc
    ldy #0x21               ;e06f  a0 21
    jsr sub_f2ac            ;e071  20 ac f2
    seb 3,0xfc              ;e074  6f fc
    jsr sub_486d            ;e076  20 6d 48
    clb 3,0xfc              ;e079  7f fc
    dec 0x50                ;e07b  c6 50
    bne lab_e053            ;e07d  d0 d4
    ldm #0x01,0x50          ;e07f  3c 01 50

lab_e082:
    lda 0x71                ;e082  a5 71
    sta 0x0266              ;e084  8d 66 02
    jsr sub_40f8            ;e087  20 f8 40
    jsr sub_4281            ;e08a  20 81 42
    jsr sub_74d2            ;e08d  20 d2 74

lab_e090:
    rts                     ;e090  60

    .byte 0x00              ;e091  00          DATA 0x00
    .byte 0x01              ;e092  01          DATA 0x01
    .byte 0x02              ;e093  02          DATA 0x02

sub_e094:
    lda 0x40                ;e094  a5 40
    pha                     ;e096  48
    lda 0x41                ;e097  a5 41
    pha                     ;e099  48
    bbc 0,0xf2,lab_e0a0     ;e09a  17 f2 03
    jmp lab_e14c            ;e09d  4c 4c e1

lab_e0a0:
    ldx #0x00               ;e0a0  a2 00
    ldy #0x01               ;e0a2  a0 01
    lda #0x00               ;e0a4  a9 00
    jsr sub_e753            ;e0a6  20 53 e7
    ldx #0x00               ;e0a9  a2 00
    jsr sub_e8d0            ;e0ab  20 d0 e8
    ldx #0x01               ;e0ae  a2 01
    ldy #0x00               ;e0b0  a0 00
    lda #0x00               ;e0b2  a9 00
    jsr sub_e753            ;e0b4  20 53 e7
    ldx #0x01               ;e0b7  a2 01
    jsr sub_e8d0            ;e0b9  20 d0 e8
    ldx #0x02               ;e0bc  a2 02
    ldy #0x00               ;e0be  a0 00
    lda #0x00               ;e0c0  a9 00
    jsr sub_e753            ;e0c2  20 53 e7
    ldx #0x02               ;e0c5  a2 02
    jsr sub_e8d0            ;e0c7  20 d0 e8
    lda #0x03               ;e0ca  a9 03
    sta 0x03b5              ;e0cc  8d b5 03

lab_e0cf:
    dec 0x03b5              ;e0cf  ce b5 03
    bmi lab_e132            ;e0d2  30 5e
    ldy 0x03b5              ;e0d4  ac b5 03
    lda 0xe091,y            ;e0d7  b9 91 e0
    sta 0x59                ;e0da  85 59
    cmp #0x01               ;e0dc  c9 01
    bne lab_e0e4            ;e0de  d0 04
    clb 1,0xf2              ;e0e0  3f f2
    bra lab_e0ea            ;e0e2  80 06

lab_e0e4:
    cmp #0x02               ;e0e4  c9 02
    bne lab_e0ea            ;e0e6  d0 02
    seb 1,0xf2              ;e0e8  2f f2

lab_e0ea:
    ldy 0x03b5              ;e0ea  ac b5 03
    lda 0xe750,y            ;e0ed  b9 50 e7
    tay                     ;e0f0  a8
    lda 0x03a0,y            ;e0f1  b9 a0 03
    cmp #0x07               ;e0f4  c9 07
    bcs lab_e0cf            ;e0f6  b0 d7
    sta 0x50                ;e0f8  85 50
    inc 0x50                ;e0fa  e6 50

lab_e0fc:
    dec 0x50                ;e0fc  c6 50
    beq lab_e0cf            ;e0fe  f0 cf
    ldy 0x03b5              ;e100  ac b5 03
    lda 0xe750,y            ;e103  b9 50 e7
    clc                     ;e106  18
    adc 0x50                ;e107  65 50
    tay                     ;e109  a8
    ldx 0x03a0,y            ;e10a  be a0 03
    lda 0x03c0,x            ;e10d  bd c0 03
    sta 0x71                ;e110  85 71
    lda 0x0480,x            ;e112  bd 80 04
    sta 0x90                ;e115  85 90
    lda 0x04e0,x            ;e117  bd e0 04
    sta 0x91                ;e11a  85 91
    clb 0,0xfd              ;e11c  1f fd
    clb 2,0xfb              ;e11e  5f fb
    clb 2,0xfc              ;e120  5f fc
    clb 0,0xfc              ;e122  1f fc
    ldy #0x21               ;e124  a0 21
    jsr sub_f2ac            ;e126  20 ac f2
    seb 3,0xfc              ;e129  6f fc
    jsr sub_486d            ;e12b  20 6d 48
    clb 3,0xfc              ;e12e  7f fc
    bra lab_e0fc            ;e130  80 ca

lab_e132:
    seb 0,0xf2              ;e132  0f f2
    ldm #0x04,0xf0          ;e134  3c 04 f0
    ldm #0x04,0x59          ;e137  3c 04 59
    seb 2,0xf2              ;e13a  4f f2
    seb 3,P0                ;e13c  6f 00
    jsr sub_4e8a            ;e13e  20 8a 4e
    jsr sub_6fab            ;e141  20 ab 6f
    ldm #0x10,0x71          ;e144  3c 10 71
    jsr sub_9ab4            ;e147  20 b4 9a
    bra lab_e1ca            ;e14a  80 7e

lab_e14c:
    bbc 2,0xf2,lab_e15c     ;e14c  57 f2 0d
    ldm #0x03,0x59          ;e14f  3c 03 59
    clb 2,0xf2              ;e152  5f f2
    ldm #0x10,0x71          ;e154  3c 10 71
    jsr sub_9ab4            ;e157  20 b4 9a
    bra lab_e1ca            ;e15a  80 6e

lab_e15c:
    ldx 0x0398              ;e15c  ae 98 03
    beq lab_e1a9            ;e15f  f0 48
    ldm #0x03,0x59          ;e161  3c 03 59
    clb 2,0xf2              ;e164  5f f2
    ldm #0x01,0x40          ;e166  3c 01 40

lab_e169:
    ldm #0x01,0x41          ;e169  3c 01 41

lab_e16c:
    lda 0x41                ;e16c  a5 41
    sta 0x50                ;e16e  85 50
    ldx 0x40                ;e170  a6 40
    lda 0x03a0,x            ;e172  bd a0 03
    sta 0x71                ;e175  85 71
    clb 0,0xfd              ;e177  1f fd
    clb 2,0xfb              ;e179  5f fb
    clb 2,0xfc              ;e17b  5f fc
    clb 0,0xfc              ;e17d  1f fc
    ldy #0x21               ;e17f  a0 21
    jsr sub_f2ac            ;e181  20 ac f2
    seb 3,0xfc              ;e184  6f fc
    jsr sub_486d            ;e186  20 6d 48
    clb 3,0xfc              ;e189  7f fc
    inc 0x40                ;e18b  e6 40
    lda 0x40                ;e18d  a5 40
    cmp 0x0398              ;e18f  cd 98 03
    beq lab_e196            ;e192  f0 02
    bcs lab_e1a9            ;e194  b0 13

lab_e196:
    cmp #0x0d               ;e196  c9 0d
    bcs lab_e1a9            ;e198  b0 0f
    inc 0x41                ;e19a  e6 41
    lda 0x41                ;e19c  a5 41
    cmp #0x07               ;e19e  c9 07
    bcc lab_e16c            ;e1a0  90 ca
    ldm #0x04,0x59          ;e1a2  3c 04 59
    seb 2,0xf2              ;e1a5  4f f2
    bra lab_e169            ;e1a7  80 c0

lab_e1a9:
    clb 0,0xf2              ;e1a9  1f f2
    ldm #0x02,0xf0          ;e1ab  3c 02 f0
    ldm #0x01,0x59          ;e1ae  3c 01 59
    clb 1,0xf2              ;e1b1  3f f2
    clb 3,P0                ;e1b3  7f 00
    jsr sub_4e8a            ;e1b5  20 8a 4e
    jsr sub_6fab            ;e1b8  20 ab 6f
    ldm #0x01,0x50          ;e1bb  3c 01 50
    jsr sub_40f8            ;e1be  20 f8 40
    jsr sub_4281            ;e1c1  20 81 42
    jsr sub_9d4c            ;e1c4  20 4c 9d
    jsr sub_74d2            ;e1c7  20 d2 74

lab_e1ca:
    pla                     ;e1ca  68
    sta 0x41                ;e1cb  85 41
    pla                     ;e1cd  68
    sta 0x40                ;e1ce  85 40
    rts                     ;e1d0  60

    .byte 0x00              ;e1d1  00          DATA 0x00
    .byte 0xf0              ;e1d2  f0          DATA 0xf0
    .byte 0xf0              ;e1d3  f0          DATA 0xf0
    .byte 0xf0              ;e1d4  f0          DATA 0xf0
    .byte 0xff              ;e1d5  ff          DATA 0xff
    .byte 0x00              ;e1d6  00          DATA 0x00
    .byte 0x00              ;e1d7  00          DATA 0x00
    .byte 0xf0              ;e1d8  f0          DATA 0xf0
    .byte 0xff              ;e1d9  ff          DATA 0xff
    .byte 0xff              ;e1da  ff          DATA 0xff

sub_e1db:
    ldy #0x05               ;e1db  a0 05
    lda #0x00               ;e1dd  a9 00
    sta 0x03c0              ;e1df  8d c0 03
    sta 0x0420              ;e1e2  8d 20 04

lab_e1e5:
    lda 0x03c0              ;e1e5  ad c0 03
    bne lab_e25b            ;e1e8  d0 71
    dey                     ;e1ea  88
    bmi lab_e236            ;e1eb  30 49
    lda 0x0264              ;e1ed  ad 64 02
    and 0xe1d1,y            ;e1f0  39 d1 e1
    sta 0x0480              ;e1f3  8d 80 04
    lda 0x0265              ;e1f6  ad 65 02
    and 0xe1d6,y            ;e1f9  39 d6 e1
    sta 0x04e0              ;e1fc  8d e0 04
    ldx 0x0399              ;e1ff  ae 99 03
    inx                     ;e202  e8

lab_e203:
    dex                     ;e203  ca
    beq lab_e1e5            ;e204  f0 df
    bmi lab_e1e5            ;e206  30 dd
    lda 0x0480,x            ;e208  bd 80 04
    and 0xe1d1,y            ;e20b  39 d1 e1
    cmp 0x0480              ;e20e  cd 80 04
    bne lab_e203            ;e211  d0 f0
    lda 0x04e0,x            ;e213  bd e0 04
    and 0xe1d6,y            ;e216  39 d6 e1
    cmp 0x04e0              ;e219  cd e0 04
    bne lab_e203            ;e21c  d0 e5
    lda 0x0420,x            ;e21e  bd 20 04
    bbc 4,a,lab_e203        ;e221  93 e0
    and #0x0f               ;e223  29 0f
    cmp #0x04               ;e225  c9 04
    bcc lab_e203            ;e227  90 da
    cmp 0x0420              ;e229  cd 20 04
    bcc lab_e203            ;e22c  90 d5
    sta 0x0420              ;e22e  8d 20 04
    stx 0x03c0              ;e231  8e c0 03
    bra lab_e203            ;e234  80 cd

lab_e236:
    lda 0x0264              ;e236  ad 64 02
    sta 0x90                ;e239  85 90
    lda 0x0265              ;e23b  ad 65 02
    sta 0x91                ;e23e  85 91
    lda 0x0264              ;e240  ad 64 02
    sta 0x92                ;e243  85 92
    lda 0x0265              ;e245  ad 65 02
    sta 0x93                ;e248  85 93
    lda 0x0266              ;e24a  ad 66 02
    sta 0x71                ;e24d  85 71
    jsr sub_44a7            ;e24f  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;e252  20 0d 89
    jsr sub_4dd1            ;e255  20 d1 4d
    clc                     ;e258  18
    bra lab_e27b            ;e259  80 20

lab_e25b:
    ldx 0x03c0              ;e25b  ae c0 03
    lda 0x0480,x            ;e25e  bd 80 04
    sta 0x90                ;e261  85 90
    sta 0x92                ;e263  85 92
    lda 0x04e0,x            ;e265  bd e0 04
    sta 0x91                ;e268  85 91
    sta 0x93                ;e26a  85 93
    lda 0x03c0,x            ;e26c  bd c0 03
    sta 0x71                ;e26f  85 71
    jsr sub_44a7            ;e271  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;e274  20 0d 89
    jsr sub_4dd1            ;e277  20 d1 4d
    sec                     ;e27a  38

lab_e27b:
    rts                     ;e27b  60

sub_e27c:
    jsr sub_e9df            ;e27c  20 df e9
    txa                     ;e27f  8a
    beq lab_e298            ;e280  f0 16
    sta 0x03a1              ;e282  8d a1 03
    asl 0x03a1              ;e285  0e a1 03
    asl 0x03a1              ;e288  0e a1 03
    asl 0x03a1              ;e28b  0e a1 03
    asl 0x03a1              ;e28e  0e a1 03
    and #0xf0               ;e291  29 f0
    sta 0x03a0              ;e293  8d a0 03
    bra lab_e2aa            ;e296  80 12

lab_e298:
    jsr sub_e955            ;e298  20 55 e9
    txa                     ;e29b  8a
    beq lab_e315            ;e29c  f0 77
    asl a                   ;e29e  0a
    asl a                   ;e29f  0a
    asl a                   ;e2a0  0a
    asl a                   ;e2a1  0a
    sta 0x03a0              ;e2a2  8d a0 03
    lda #0xff               ;e2a5  a9 ff
    sta 0x03a1              ;e2a7  8d a1 03

lab_e2aa:
    lda #0x00               ;e2aa  a9 00
    tax                     ;e2ac  aa
    sta 0x03c0              ;e2ad  8d c0 03
    sta 0x0420              ;e2b0  8d 20 04
    ldy #0x00               ;e2b3  a0 00

lab_e2b5:
    cpy 0x0399              ;e2b5  cc 99 03
    bcc lab_e2c0            ;e2b8  90 06
    txa                     ;e2ba  8a
    beq lab_e315            ;e2bb  f0 58
    jmp lab_e348            ;e2bd  4c 48 e3

lab_e2c0:
    iny                     ;e2c0  c8
    lda 0x0480,y            ;e2c1  b9 80 04
    and #0xf0               ;e2c4  29 f0
    cmp 0x03a0              ;e2c6  cd a0 03
    bne lab_e2b5            ;e2c9  d0 ea
    lda 0x03a1              ;e2cb  ad a1 03
    cmp #0xff               ;e2ce  c9 ff
    beq lab_e2dc            ;e2d0  f0 0a
    lda 0x04e0,y            ;e2d2  b9 e0 04
    and #0xf0               ;e2d5  29 f0
    cmp 0x03a1              ;e2d7  cd a1 03
    bne lab_e2b5            ;e2da  d0 d9

lab_e2dc:
    lda 0x0420,x            ;e2dc  bd 20 04
    and #0x0f               ;e2df  29 0f
    sta 0x03a2              ;e2e1  8d a2 03
    lda 0x0420,y            ;e2e4  b9 20 04
    and #0x0f               ;e2e7  29 0f
    cmp #0x04               ;e2e9  c9 04
    bcc lab_e2b5            ;e2eb  90 c8
    cmp 0x03a2              ;e2ed  cd a2 03
    bcc lab_e2b5            ;e2f0  90 c3
    beq lab_e2b5            ;e2f2  f0 c1
    txa                     ;e2f4  8a
    beq lab_e311            ;e2f5  f0 1a
    lda 0x0480,x            ;e2f7  bd 80 04
    and #0xf0               ;e2fa  29 f0
    sta 0x03a2              ;e2fc  8d a2 03
    lda 0x0480,y            ;e2ff  b9 80 04
    and #0xf0               ;e302  29 f0
    cmp 0x03a2              ;e304  cd a2 03
    bne lab_e2b5            ;e307  d0 ac
    lda 0x04e0,x            ;e309  bd e0 04
    cmp 0x04e0,y            ;e30c  d9 e0 04
    bne lab_e2b5            ;e30f  d0 a4

lab_e311:
    tya                     ;e311  98
    tax                     ;e312  aa
    bra lab_e2b5            ;e313  80 a0

lab_e315:
    lda #0x00               ;e315  a9 00
    tax                     ;e317  aa
    sta 0x03c0              ;e318  8d c0 03
    lda #0x00               ;e31b  a9 00
    sta 0x0480              ;e31d  8d 80 04
    lda #0x00               ;e320  a9 00
    sta 0x04e0              ;e322  8d e0 04
    lda #0x10               ;e325  a9 10
    sta 0x03a2              ;e327  8d a2 03

lab_e32a:
    dec 0x03a2              ;e32a  ce a2 03
    lda 0x03a2              ;e32d  ad a2 03
    cmp #0x04               ;e330  c9 04
    bcc lab_e348            ;e332  90 14
    ldy #0x00               ;e334  a0 00

lab_e336:
    cpy 0x0399              ;e336  cc 99 03
    bcs lab_e32a            ;e339  b0 ef
    iny                     ;e33b  c8
    lda 0x0420,y            ;e33c  b9 20 04
    and #0x0f               ;e33f  29 0f
    cmp 0x03a2              ;e341  cd a2 03
    bne lab_e336            ;e344  d0 f0
    tya                     ;e346  98
    tax                     ;e347  aa

lab_e348:
    rts                     ;e348  60

sub_e349:
    bbs 0,0xf2,lab_e391     ;e349  07 f2 45
    jsr sub_7673            ;e34c  20 73 76
    jsr sub_ed56            ;e34f  20 56 ed
    ldy #0x22               ;e352  a0 22
    jsr sub_f2ac            ;e354  20 ac f2
    jsr sub_4dc4            ;e357  20 c4 4d
    jsr sub_def2            ;e35a  20 f2 de
    clb 0,0xf3              ;e35d  1f f3
    ldm #0x00,0x5d          ;e35f  3c 00 5d
    ldm #0x00,0x5c          ;e362  3c 00 5c
    jsr sub_c9ce            ;e365  20 ce c9
    lda #0x00               ;e368  a9 00
    sta 0x02b7              ;e36a  8d b7 02
    clb 5,0xf5              ;e36d  bf f5
    ldm #0x00,0x50          ;e36f  3c 00 50
    jsr sub_4a72            ;e372  20 72 4a
    jsr sub_71bc            ;e375  20 bc 71
    ldy #0x11               ;e378  a0 11
    jsr sub_3361            ;e37a  20 61 33
    ldy #0x12               ;e37d  a0 12
    jsr sub_3361            ;e37f  20 61 33
    lda 0x71                ;e382  a5 71
    sta 0x0266              ;e384  8d 66 02
    lda #0x00               ;e387  a9 00
    sta 0x039b              ;e389  8d 9b 03
    seb 1,0xe5              ;e38c  2f e5
    jsr sub_eacb            ;e38e  20 cb ea

lab_e391:
    rts                     ;e391  60

sub_e392:
    bbc 1,0xe5,lab_e3c8     ;e392  37 e5 33
    dec 0x0387              ;e395  ce 87 03
    lda 0x0387              ;e398  ad 87 03
    beq lab_e3b8            ;e39b  f0 1b
    lda 0x92                ;e39d  a5 92
    cmp #0x00               ;e39f  c9 00
    bne lab_e3a9            ;e3a1  d0 06
    lda 0x93                ;e3a3  a5 93
    cmp #0x00               ;e3a5  c9 00
    beq lab_e3c8            ;e3a7  f0 1f

lab_e3a9:
    bbs 4,0xf1,lab_e3b2     ;e3a9  87 f1 06
    bbc 6,0xf1,lab_e3b2     ;e3ac  d7 f1 03
    bbc 0,0xf0,lab_e3b8     ;e3af  17 f0 06

lab_e3b2:
    bbs 0,0xfa,lab_e3b8     ;e3b2  07 fa 03
    bbc 1,0xfa,lab_e3c8     ;e3b5  37 fa 10

lab_e3b8:
    jsr sub_ecf7            ;e3b8  20 f7 ec
    jsr sub_ed56            ;e3bb  20 56 ed
    bcs lab_e3c5            ;e3be  b0 05
    jsr sub_eacb            ;e3c0  20 cb ea
    bra lab_e3c8            ;e3c3  80 03

lab_e3c5:
    jsr sub_eb86            ;e3c5  20 86 eb

lab_e3c8:
    rts                     ;e3c8  60

sub_e3c9:
    bbs 0,0xf2,lab_e426     ;e3c9  07 f2 5a
    bbs 1,0xf3,lab_e426     ;e3cc  27 f3 57
    bbs 0,0xf1,lab_e426     ;e3cf  07 f1 54
    lda 0x039d              ;e3d2  ad 9d 03
    cmp #0x04               ;e3d5  c9 04
    beq lab_e3e3            ;e3d7  f0 0a
    sty 0x01af              ;e3d9  8c af 01
    ldy #0x1b               ;e3dc  a0 1b
    jsr sub_3300            ;e3de  20 00 33
    bra lab_e3e8            ;e3e1  80 05

lab_e3e3:
    lda 0x71                ;e3e3  a5 71
    sta 0x039c              ;e3e5  8d 9c 03

lab_e3e8:
    lda 0xa5                ;e3e8  a5 a5
    cmp #0x06               ;e3ea  c9 06
    bne lab_e3f4            ;e3ec  d0 06
    bbs 6,0xf0,lab_e3f4     ;e3ee  c7 f0 03
    jsr sub_7673            ;e3f1  20 73 76

lab_e3f4:
    lda 0x90                ;e3f4  a5 90
    sta 0xb2                ;e3f6  85 b2
    lda 0x91                ;e3f8  a5 91
    sta 0xb3                ;e3fa  85 b3
    lda #0x00               ;e3fc  a9 00
    bbc 2,0xfb,lab_e402     ;e3fe  57 fb 01
    seb 0,a                 ;e401  0b

lab_e402:
    bbc 0,0xfd,lab_e406     ;e402  17 fd 01
    seb 1,a                 ;e405  2b

lab_e406:
    sta 0x039e              ;e406  8d 9e 03
    lda 0x71                ;e409  a5 71
    sta 0x0266              ;e40b  8d 66 02
    lda 0x039c              ;e40e  ad 9c 03
    sta 0x71                ;e411  85 71
    seb 0,0xf4              ;e413  0f f4
    seb 6,0xf3              ;e415  cf f3
    seb 3,0xf3              ;e417  6f f3
    seb 1,0xf3              ;e419  2f f3

lab_e41b:
    bbc 5,0xf8,lab_e41b     ;e41b  b7 f8 fd
    clb 5,0xf8              ;e41e  bf f8
    jsr sub_9e44            ;e420  20 44 9e
    jsr sub_9b99            ;e423  20 99 9b

lab_e426:
    rts                     ;e426  60

sub_e427:
    bbs 6,0xf3,lab_e42d     ;e427  c7 f3 03
    clc                     ;e42a  18
    bra lab_e46d            ;e42b  80 40

lab_e42d:
    ldy #0x1b               ;e42d  a0 1b
    jsr sub_3361            ;e42f  20 61 33
    lda 0x71                ;e432  a5 71
    sta 0x039c              ;e434  8d 9c 03
    lda 0x0266              ;e437  ad 66 02
    sta 0x71                ;e43a  85 71
    jsr sub_44a7            ;e43c  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;e43f  20 0d 89
    clb 6,0xf3              ;e442  df f3
    clb 3,0xf3              ;e444  7f f3
    clb 1,0xf3              ;e446  3f f3
    clb 0,0xf9              ;e448  1f f9
    jsr sub_544b            ;e44a  20 4b 54     Clears many registers
    jsr sub_4dd1            ;e44d  20 d1 4d

    ldy #0x04               ;e450  a0 04
    jsr sub_f22c_delay      ;e452  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_51d8            ;e455  20 d8 51
    lda 0xb2                ;e458  a5 b2
    sta 0x90                ;e45a  85 90
    lda 0xb3                ;e45c  a5 b3
    sta 0x91                ;e45e  85 91
    lda 0xb2                ;e460  a5 b2
    sta 0x92                ;e462  85 92
    lda 0xb3                ;e464  a5 b3
    sta 0x93                ;e466  85 93
    seb 4,0xfa              ;e468  8f fa
    seb 0,0xf9              ;e46a  0f f9
    sec                     ;e46c  38

lab_e46d:
    rts                     ;e46d  60

sub_e46e:
    jsr sub_e427            ;e46e  20 27 e4
    bcc lab_e49b            ;e471  90 28
    lda 0x039d              ;e473  ad 9d 03
    cmp #0x02               ;e476  c9 02
    beq lab_e487            ;e478  f0 0d
    cmp #0x03               ;e47a  c9 03
    beq lab_e490            ;e47c  f0 12
    seb 5,0x5c              ;e47e  af 5c
    ldm #0x00,0x5d          ;e480  3c 00 5d
    seb 7,0xf8              ;e483  ef f8
    bra lab_e492            ;e485  80 0b

lab_e487:
    seb 1,0x5c              ;e487  2f 5c
    ldm #0x00,0x5d          ;e489  3c 00 5d
    seb 7,0xf8              ;e48c  ef f8
    bra lab_e492            ;e48e  80 02

lab_e490:
    bra lab_e492            ;e490  80 00

lab_e492:
    lda 0xa5                ;e492  a5 a5
    cmp #0x06               ;e494  c9 06
    bne lab_e49b            ;e496  d0 03
    jsr sub_7694            ;e498  20 94 76

lab_e49b:
    rts                     ;e49b  60

    .byte 0x20              ;e49c  20          DATA 0x20 ' '
    .byte 0x6e              ;e49d  6e          DATA 0x6e 'n'
    .byte 0xe4              ;e49e  e4          DATA 0xe4
    .byte 0x60              ;e49f  60          DATA 0x60 '`'
    .byte 0xff              ;e4a0  ff          DATA 0xff
    .byte 0xf3              ;e4a1  f3          DATA 0xf3
    .byte 0xa9              ;e4a2  a9          DATA 0xa9
    .byte 0x03              ;e4a3  03          DATA 0x03
    .byte 0x8d              ;e4a4  8d          DATA 0x8d
    .byte 0x9d              ;e4a5  9d          DATA 0x9d
    .byte 0x03              ;e4a6  03          DATA 0x03
    .byte 0xa0              ;e4a7  a0          DATA 0xa0
    .byte 0x05              ;e4a8  05          DATA 0x05
    .byte 0x20              ;e4a9  20          DATA 0x20 ' '
    .byte 0xc9              ;e4aa  c9          DATA 0xc9
    .byte 0xe3              ;e4ab  e3          DATA 0xe3
    .byte 0x60              ;e4ac  60          DATA 0x60 '`'

sub_e4ad:
    lda 0x40                ;e4ad  a5 40
    pha                     ;e4af  48
    tya                     ;e4b0  98
    ldx 0x0399              ;e4b1  ae 99 03
    inx                     ;e4b4  e8

lab_e4b5:
    dex                     ;e4b5  ca
    beq lab_e50d            ;e4b6  f0 55
    cmp 0x03c0,x            ;e4b8  dd c0 03
    bne lab_e4b5            ;e4bb  d0 f8
    ldy #0x01               ;e4bd  a0 01
    lda 0x0480,x            ;e4bf  bd 80 04
    cmp #0x00               ;e4c2  c9 00
    bne lab_e4cd            ;e4c4  d0 07
    lda 0x04e0,x            ;e4c6  bd e0 04
    cmp #0x00               ;e4c9  c9 00
    beq lab_e505            ;e4cb  f0 38

lab_e4cd:
    ldy #0x02               ;e4cd  a0 02
    lda 0x04e0,x            ;e4cf  bd e0 04
    cmp 0x4b                ;e4d2  c5 4b
    bne lab_e505            ;e4d4  d0 2f
    ldy #0x03               ;e4d6  a0 03
    lda 0x0480,x            ;e4d8  bd 80 04
    cmp 0x4a                ;e4db  c5 4a
    beq lab_e505            ;e4dd  f0 26
    ldy #0x02               ;e4df  a0 02
    lda 0x4a                ;e4e1  a5 4a
    and #0x0f               ;e4e3  29 0f
    cmp #0x03               ;e4e5  c9 03
    bcc lab_e505            ;e4e7  90 1c
    lda 0x0480,x            ;e4e9  bd 80 04
    and #0x0f               ;e4ec  29 0f
    cmp #0x03               ;e4ee  c9 03
    bcc lab_e505            ;e4f0  90 13
    ldy #0x04               ;e4f2  a0 04
    lda 0x4a                ;e4f4  a5 4a
    and #0xf0               ;e4f6  29 f0
    sta 0x40                ;e4f8  85 40
    lda 0x0480,x            ;e4fa  bd 80 04
    and #0xf0               ;e4fd  29 f0
    cmp 0x40                ;e4ff  c5 40
    beq lab_e505            ;e501  f0 02
    ldy #0x02               ;e503  a0 02

lab_e505:
    lda 0x0540,x            ;e505  bd 40 05
    sta 0x4a                ;e508  85 4a
    sec                     ;e50a  38
    bra lab_e515            ;e50b  80 08

lab_e50d:
    ldx #0x00               ;e50d  a2 00
    ldy #0x00               ;e50f  a0 00
    ldm #0x00,0x4a          ;e511  3c 00 4a
    clc                     ;e514  18

lab_e515:
    pla                     ;e515  68
    sta 0x40                ;e516  85 40
    rts                     ;e518  60

sub_e519:
    ldy #0x00               ;e519  a0 00
    ldx 0x0399              ;e51b  ae 99 03
    inx                     ;e51e  e8

lab_e51f:
    dex                     ;e51f  ca
    beq lab_e539            ;e520  f0 17
    lda 0x90                ;e522  a5 90
    cmp 0x0480,x            ;e524  dd 80 04
    bne lab_e51f            ;e527  d0 f6
    lda 0x91                ;e529  a5 91
    cmp 0x04e0,x            ;e52b  dd e0 04
    bne lab_e51f            ;e52e  d0 ef
    lda 0x0420,x            ;e530  bd 20 04
    bbc 4,a,lab_e51f        ;e533  93 ea
    ldy #0x01               ;e535  a0 01
    bra lab_e51f            ;e537  80 e6

lab_e539:
    rts                     ;e539  60

sub_e53a:
    bbs 1,0xee,lab_e540     ;e53a  27 ee 03
    bbc 6,0xf1,lab_e552     ;e53d  d7 f1 12

lab_e540:
    ldx 0x0399              ;e540  ae 99 03
    inx                     ;e543  e8

lab_e544:
    dex                     ;e544  ca
    beq lab_e552            ;e545  f0 0b
    lda 0x0540,x            ;e547  bd 40 05
    beq lab_e544            ;e54a  f0 f8
    dec 0x0540,x            ;e54c  de 40 05
    jmp lab_e544            ;e54f  4c 44 e5

lab_e552:
    rts                     ;e552  60

    .byte 0xae              ;e553  ae          DATA 0xae
    .byte 0x99              ;e554  99          DATA 0x99
    .byte 0x03              ;e555  03          DATA 0x03
    .byte 0xe8              ;e556  e8          DATA 0xe8
    .byte 0xca              ;e557  ca          DATA 0xca
    .byte 0xec              ;e558  ec          DATA 0xec
    .byte 0x9a              ;e559  9a          DATA 0x9a
    .byte 0x03              ;e55a  03          DATA 0x03
    .byte 0xf0              ;e55b  f0          DATA 0xf0
    .byte 0x1b              ;e55c  1b          DATA 0x1b
    .byte 0xbd              ;e55d  bd          DATA 0xbd
    .byte 0x80              ;e55e  80          DATA 0x80
    .byte 0x04              ;e55f  04          DATA 0x04
    .byte 0xc9              ;e560  c9          DATA 0xc9
    .byte 0x00              ;e561  00          DATA 0x00
    .byte 0xd0              ;e562  d0          DATA 0xd0
    .byte 0x07              ;e563  07          DATA 0x07
    .byte 0xbd              ;e564  bd          DATA 0xbd
    .byte 0xe0              ;e565  e0          DATA 0xe0
    .byte 0x04              ;e566  04          DATA 0x04
    .byte 0xc9              ;e567  c9          DATA 0xc9
    .byte 0x00              ;e568  00          DATA 0x00
    .byte 0xf0              ;e569  f0          DATA 0xf0
    .byte 0xec              ;e56a  ec          DATA 0xec
    .byte 0xa0              ;e56b  a0          DATA 0xa0
    .byte 0x00              ;e56c  00          DATA 0x00
    .byte 0x20              ;e56d  20          DATA 0x20 ' '
    .byte 0x31              ;e56e  31          DATA 0x31 '1'
    .byte 0xe7              ;e56f  e7          DATA 0xe7
    .byte 0x20              ;e570  20          DATA 0x20 ' '
    .byte 0xe9              ;e571  e9          DATA 0xe9
    .byte 0xe5              ;e572  e5          DATA 0xe5
    .byte 0x20              ;e573  20          DATA 0x20 ' '
    .byte 0xb3              ;e574  b3          DATA 0xb3
    .byte 0xe6              ;e575  e6          DATA 0xe6
    .byte 0x80              ;e576  80          DATA 0x80
    .byte 0xdb              ;e577  db          DATA 0xdb
    .byte 0x60              ;e578  60          DATA 0x60 '`'

sub_e579:
    lda 0x40                ;e579  a5 40
    pha                     ;e57b  48
    lda 0x41                ;e57c  a5 41
    pha                     ;e57e  48
    ldy 0x0399              ;e57f  ac 99 03
    beq lab_e5ae            ;e582  f0 2a

lab_e584:
    tya                     ;e584  98
    tax                     ;e585  aa
    lda 0x0420,x            ;e586  bd 20 04
    and #0x0f               ;e589  29 0f
    sta 0x40                ;e58b  85 40
    lda 0x0540,x            ;e58d  bd 40 05
    sta 0x41                ;e590  85 41

lab_e592:
    dey                     ;e592  88
    beq lab_e5ab            ;e593  f0 16
    lda 0x0420,y            ;e595  b9 20 04
    and #0x0f               ;e598  29 0f
    cmp 0x40                ;e59a  c5 40
    bcc lab_e584            ;e59c  90 e6
    beq lab_e5a2            ;e59e  f0 02
    bcs lab_e592            ;e5a0  b0 f0

lab_e5a2:
    lda 0x0540,y            ;e5a2  b9 40 05
    cmp 0x41                ;e5a5  c5 41
    bcc lab_e584            ;e5a7  90 db
    bra lab_e592            ;e5a9  80 e7

lab_e5ab:
    jsr sub_e5e9            ;e5ab  20 e9 e5

lab_e5ae:
    pla                     ;e5ae  68
    sta 0x41                ;e5af  85 41
    pla                     ;e5b1  68
    sta 0x40                ;e5b2  85 40
    rts                     ;e5b4  60

sub_e5b5:
    lda 0x40                ;e5b5  a5 40
    pha                     ;e5b7  48
    ldm #0x00,0x40          ;e5b8  3c 00 40
    ldx 0x0399              ;e5bb  ae 99 03
    inx                     ;e5be  e8

lab_e5bf:
    dex                     ;e5bf  ca
    beq lab_e5e3            ;e5c0  f0 21
    lda 0x71                ;e5c2  a5 71
    cmp 0x03c0,x            ;e5c4  dd c0 03
    bne lab_e5bf            ;e5c7  d0 f6
    lda 0x90                ;e5c9  a5 90
    cmp 0x0480,x            ;e5cb  dd 80 04
    bne lab_e5de            ;e5ce  d0 0e
    lda 0x91                ;e5d0  a5 91
    cmp 0x04e0,x            ;e5d2  dd e0 04
    bne lab_e5de            ;e5d5  d0 07
    lda 0x0420,x            ;e5d7  bd 20 04
    and #0x10               ;e5da  29 10
    sta 0x40                ;e5dc  85 40

lab_e5de:
    jsr sub_e5e9            ;e5de  20 e9 e5
    bra lab_e5bf            ;e5e1  80 dc

lab_e5e3:
    ldy 0x40                ;e5e3  a4 40
    pla                     ;e5e5  68
    sta 0x40                ;e5e6  85 40
    rts                     ;e5e8  60

sub_e5e9:
    txa                     ;e5e9  8a
    pha                     ;e5ea  48
    cpx 0x039a              ;e5eb  ec 9a 03
    beq lab_e5f2            ;e5ee  f0 02
    bcs lab_e5f5            ;e5f0  b0 03

lab_e5f2:
    dec 0x039a              ;e5f2  ce 9a 03

lab_e5f5:
    txa                     ;e5f5  8a
    tay                     ;e5f6  a8
    dey                     ;e5f7  88

lab_e5f8:
    cpx 0x0399              ;e5f8  ec 99 03
    bcs lab_e604            ;e5fb  b0 07
    inx                     ;e5fd  e8
    iny                     ;e5fe  c8
    jsr sub_e731            ;e5ff  20 31 e7
    bra lab_e5f8            ;e602  80 f4

lab_e604:
    lda #0x00               ;e604  a9 00
    sta 0x03c0,x            ;e606  9d c0 03
    sta 0x0420,x            ;e609  9d 20 04
    sta 0x0480,x            ;e60c  9d 80 04
    sta 0x04e0,x            ;e60f  9d e0 04
    sta 0x0540,x            ;e612  9d 40 05
    dec 0x0399              ;e615  ce 99 03
    pla                     ;e618  68
    tax                     ;e619  aa
    rts                     ;e61a  60

sub_e61b:
    lda 0x71                ;e61b  a5 71
    sta 0x03a0,x            ;e61d  9d a0 03
    lda 0xbc                ;e620  a5 bc
    sta 0x03b0,x            ;e622  9d b0 03
    rts                     ;e625  60

sub_e626:
    lda 0x40                ;e626  a5 40
    pha                     ;e628  48
    sty 0x40                ;e629  84 40
    lda 0x71                ;e62b  a5 71
    sta 0x03c0,x            ;e62d  9d c0 03
    lda 0xbc                ;e630  a5 bc
    bbc 0,0xf5,lab_e647     ;e632  17 f5 12
    bbs 4,0xf1,lab_e642     ;e635  87 f1 0a
    bbs 0,0xfa,lab_e647     ;e638  07 fa 0c
    bbs 1,0xfa,lab_e647     ;e63b  27 fa 09
    lda #0x03               ;e63e  a9 03
    bra lab_e647            ;e640  80 05

lab_e642:
    bbs 0,0xfa,lab_e647     ;e642  07 fa 02
    lda #0x03               ;e645  a9 03

lab_e647:
    bbs 0,0xfa,lab_e650     ;e647  07 fa 06
    bbs 1,0xfa,lab_e650     ;e64a  27 fa 03
    bbc 4,0x40,lab_e651     ;e64d  97 40 01

lab_e650:
    seb 4,a                 ;e650  8b

lab_e651:
    sta 0x0420,x            ;e651  9d 20 04
    lda 0x90                ;e654  a5 90
    cmp #0x00               ;e656  c9 00
    bne lab_e668            ;e658  d0 0e
    lda 0x04e0,x            ;e65a  bd e0 04
    cmp #0x00               ;e65d  c9 00
    bne lab_e668            ;e65f  d0 07
    lda 0x0420,x            ;e661  bd 20 04
    clb 4,a                 ;e664  9b
    sta 0x0420              ;e665  8d 20 04

lab_e668:
    lda 0x90                ;e668  a5 90
    sta 0x0480,x            ;e66a  9d 80 04
    lda 0x91                ;e66d  a5 91
    sta 0x04e0,x            ;e66f  9d e0 04
    lda #0x1e               ;e672  a9 1e
    sta 0x0540,x            ;e674  9d 40 05
    pla                     ;e677  68
    sta 0x40                ;e678  85 40
    rts                     ;e67a  60

sub_e67b:
    ldx 0x0398              ;e67b  ae 98 03
    cpx #0x02               ;e67e  e0 02
    bcc lab_e6b2            ;e680  90 30
    ldy #0x01               ;e682  a0 01

lab_e684:
    lda 0x03b0,x            ;e684  bd b0 03
    cmp 0x03b0,y            ;e687  d9 b0 03
    beq lab_e68e            ;e68a  f0 02
    bcs lab_e696            ;e68c  b0 08

lab_e68e:
    iny                     ;e68e  c8
    cpy 0x0398              ;e68f  cc 98 03
    bcc lab_e684            ;e692  90 f0
    bra lab_e6b2            ;e694  80 1c

lab_e696:
    sty 0x44                ;e696  84 44
    ldx 0x0398              ;e698  ae 98 03
    ldy #0x00               ;e69b  a0 00
    jsr sub_e724            ;e69d  20 24 e7
    dex                     ;e6a0  ca
    ldy 0x0398              ;e6a1  ac 98 03

lab_e6a4:
    jsr sub_e724            ;e6a4  20 24 e7
    dex                     ;e6a7  ca
    dey                     ;e6a8  88
    cpy 0x44                ;e6a9  c4 44
    bne lab_e6a4            ;e6ab  d0 f7
    ldx #0x00               ;e6ad  a2 00
    jsr sub_e724            ;e6af  20 24 e7

lab_e6b2:
    rts                     ;e6b2  60

sub_e6b3:
    lda 0x40                ;e6b3  a5 40
    pha                     ;e6b5  48
    inc 0x0399              ;e6b6  ee 99 03
    ldx 0x0399              ;e6b9  ae 99 03
    ldy 0x0399              ;e6bc  ac 99 03
    dex                     ;e6bf  ca

lab_e6c0:
    lda 0x0480              ;e6c0  ad 80 04
    cmp #0x00               ;e6c3  c9 00
    bne lab_e6dd            ;e6c5  d0 16
    lda 0x04e0              ;e6c7  ad e0 04
    cmp #0x00               ;e6ca  c9 00
    bne lab_e6dd            ;e6cc  d0 0f
    cpx 0x039a              ;e6ce  ec 9a 03
    beq lab_e71b            ;e6d1  f0 48
    lda 0x03c0,x            ;e6d3  bd c0 03
    cmp 0x03c0              ;e6d6  cd c0 03
    bcs lab_e714            ;e6d9  b0 39
    bra lab_e71b            ;e6db  80 3e

lab_e6dd:
    cpx 0x039a              ;e6dd  ec 9a 03
    beq lab_e6e6            ;e6e0  f0 04
    bcs lab_e714            ;e6e2  b0 30
    bra lab_e6e9            ;e6e4  80 03

lab_e6e6:
    inc 0x039a              ;e6e6  ee 9a 03

lab_e6e9:
    txa                     ;e6e9  8a
    beq lab_e71b            ;e6ea  f0 2f
    lda 0x0480              ;e6ec  ad 80 04
    and #0xf0               ;e6ef  29 f0
    sta 0x40                ;e6f1  85 40
    lda 0x0480,x            ;e6f3  bd 80 04
    and #0xf0               ;e6f6  29 f0
    cmp 0x40                ;e6f8  c5 40
    beq lab_e700            ;e6fa  f0 04
    bcs lab_e714            ;e6fc  b0 16
    bra lab_e71b            ;e6fe  80 1b

lab_e700:
    lda 0x04e0,x            ;e700  bd e0 04
    cmp 0x04e0              ;e703  cd e0 04
    beq lab_e70c            ;e706  f0 04
    bcs lab_e714            ;e708  b0 0a
    bra lab_e71b            ;e70a  80 0f

lab_e70c:
    lda 0x0480,x            ;e70c  bd 80 04
    cmp 0x0480              ;e70f  cd 80 04
    bcc lab_e71b            ;e712  90 07

lab_e714:
    jsr sub_e731            ;e714  20 31 e7
    dex                     ;e717  ca
    dey                     ;e718  88
    bra lab_e6c0            ;e719  80 a5

lab_e71b:
    ldx #0x00               ;e71b  a2 00
    jsr sub_e731            ;e71d  20 31 e7
    pla                     ;e720  68
    sta 0x40                ;e721  85 40
    rts                     ;e723  60

sub_e724:
    lda 0x03a0,x            ;e724  bd a0 03
    sta 0x03a0,y            ;e727  99 a0 03
    lda 0x03b0,x            ;e72a  bd b0 03
    sta 0x03b0,y            ;e72d  99 b0 03
    rts                     ;e730  60

sub_e731:
    lda 0x03c0,x            ;e731  bd c0 03
    sta 0x03c0,y            ;e734  99 c0 03
    lda 0x0420,x            ;e737  bd 20 04
    sta 0x0420,y            ;e73a  99 20 04
    lda 0x0480,x            ;e73d  bd 80 04
    sta 0x0480,y            ;e740  99 80 04
    lda 0x04e0,x            ;e743  bd e0 04
    sta 0x04e0,y            ;e746  99 e0 04
    lda 0x0540,x            ;e749  bd 40 05
    sta 0x0540,y            ;e74c  99 40 05
    rts                     ;e74f  60

    .byte 0x00              ;e750  00          DATA 0x00
    .byte 0x07              ;e751  07          DATA 0x07
    .byte 0x0e              ;e752  0e          DATA 0x0e

sub_e753:
    sta 0x03bb              ;e753  8d bb 03
    asl 0x03bb              ;e756  0e bb 03
    asl 0x03bb              ;e759  0e bb 03
    asl 0x03bb              ;e75c  0e bb 03
    asl 0x03bb              ;e75f  0e bb 03
    and #0xf0               ;e762  29 f0
    sta 0x03ba              ;e764  8d ba 03
    cpx #0x03               ;e767  e0 03
    bcc lab_e76d            ;e769  90 02
    ldx #0x02               ;e76b  a2 02

lab_e76d:
    stx 0x03b5              ;e76d  8e b5 03
    sty 0x03b6              ;e770  8c b6 03
    ldy 0x03b5              ;e773  ac b5 03
    lda 0xe750,y            ;e776  b9 50 e7
    tay                     ;e779  a8
    ldx #0x06               ;e77a  a2 06
    lda #0x00               ;e77c  a9 00

lab_e77e:
    sta 0x03a0,y            ;e77e  99 a0 03
    iny                     ;e781  c8
    dex                     ;e782  ca
    bpl lab_e77e            ;e783  10 f9
    lda 0x03ba              ;e785  ad ba 03
    bne lab_e78d            ;e788  d0 03
    jmp lab_e810            ;e78a  4c 10 e8

lab_e78d:
    lda 0x03b5              ;e78d  ad b5 03
    bne lab_e810            ;e790  d0 7e
    lda #0x02               ;e792  a9 02
    sta 0x03bc              ;e794  8d bc 03

lab_e797:
    dec 0x03bc              ;e797  ce bc 03
    bmi lab_e810            ;e79a  30 74
    lda #0x10               ;e79c  a9 10
    sta 0x03b7              ;e79e  8d b7 03

lab_e7a1:
    dec 0x03b7              ;e7a1  ce b7 03
    lda 0x03b7              ;e7a4  ad b7 03
    cmp #0x05               ;e7a7  c9 05
    bcc lab_e797            ;e7a9  90 ec
    ldx #0x00               ;e7ab  a2 00

lab_e7ad:
    lda 0x03a0              ;e7ad  ad a0 03
    cmp #0x06               ;e7b0  c9 06
    bcc lab_e7b7            ;e7b2  90 03
    jmp lab_e8cf            ;e7b4  4c cf e8

lab_e7b7:
    cpx 0x0399              ;e7b7  ec 99 03
    bcs lab_e7a1            ;e7ba  b0 e5
    inx                     ;e7bc  e8
    lda 0x0420,x            ;e7bd  bd 20 04
    ldy 0x03b6              ;e7c0  ac b6 03
    beq lab_e7c7            ;e7c3  f0 02
    bbc 4,a,lab_e7b7        ;e7c5  93 f0

lab_e7c7:
    and #0x0f               ;e7c7  29 0f
    cmp 0x03b7              ;e7c9  cd b7 03
    bne lab_e7b7            ;e7cc  d0 e9
    lda 0x0480,x            ;e7ce  bd 80 04
    and #0xf0               ;e7d1  29 f0
    cmp 0x03ba              ;e7d3  cd ba 03
    bne lab_e7b7            ;e7d6  d0 df
    lda 0x03bc              ;e7d8  ad bc 03
    beq lab_e7e7            ;e7db  f0 0a
    lda 0x04e0,x            ;e7dd  bd e0 04
    and #0xf0               ;e7e0  29 f0
    cmp 0x03bb              ;e7e2  cd bb 03
    bne lab_e7b7            ;e7e5  d0 d0

lab_e7e7:
    lda 0x03a0              ;e7e7  ad a0 03
    inc a                   ;e7ea  3a
    sta 0x03b9              ;e7eb  8d b9 03

lab_e7ee:
    dec 0x03b9              ;e7ee  ce b9 03
    beq lab_e804            ;e7f1  f0 11
    ldy 0x03b9              ;e7f3  ac b9 03
    lda 0x03a0,y            ;e7f6  b9 a0 03
    tay                     ;e7f9  a8
    lda 0x04e0,x            ;e7fa  bd e0 04
    cmp 0x04e0,y            ;e7fd  d9 e0 04
    beq lab_e7b7            ;e800  f0 b5
    bra lab_e7ee            ;e802  80 ea

lab_e804:
    inc 0x03a0              ;e804  ee a0 03
    ldy 0x03a0              ;e807  ac a0 03
    txa                     ;e80a  8a
    sta 0x03a0,y            ;e80b  99 a0 03
    bra lab_e7ad            ;e80e  80 9d

lab_e810:
    lda #0x10               ;e810  a9 10
    sta 0x03b7              ;e812  8d b7 03

lab_e815:
    dec 0x03b7              ;e815  ce b7 03
    lda 0x03b7              ;e818  ad b7 03
    cmp #0x03               ;e81b  c9 03
    bcs lab_e822            ;e81d  b0 03
    jmp lab_e8cf            ;e81f  4c cf e8

lab_e822:
    ldx #0x00               ;e822  a2 00

lab_e824:
    ldy 0x03b5              ;e824  ac b5 03
    lda 0xe750,y            ;e827  b9 50 e7
    tay                     ;e82a  a8
    lda 0x03a0,y            ;e82b  b9 a0 03
    cmp #0x06               ;e82e  c9 06
    bcc lab_e835            ;e830  90 03
    jmp lab_e8cf            ;e832  4c cf e8

lab_e835:
    inx                     ;e835  e8
    cpx 0x0399              ;e836  ec 99 03
    beq lab_e83d            ;e839  f0 02
    bcs lab_e815            ;e83b  b0 d8

lab_e83d:
    lda 0x0420,x            ;e83d  bd 20 04
    ldy 0x03b6              ;e840  ac b6 03
    beq lab_e847            ;e843  f0 02
    bbc 4,a,lab_e824        ;e845  93 dd

lab_e847:
    and #0x0f               ;e847  29 0f
    cmp 0x03b7              ;e849  cd b7 03
    bne lab_e824            ;e84c  d0 d6
    lda 0x03b5              ;e84e  ad b5 03
    sta 0x03b8              ;e851  8d b8 03
    inc 0x03b8              ;e854  ee b8 03

lab_e857:
    dec 0x03b8              ;e857  ce b8 03
    bmi lab_e8a9            ;e85a  30 4d
    ldy 0x03b8              ;e85c  ac b8 03
    lda 0xe750,y            ;e85f  b9 50 e7
    tay                     ;e862  a8
    lda 0x03a0,y            ;e863  b9 a0 03
    sta 0x03b9              ;e866  8d b9 03
    inc 0x03b9              ;e869  ee b9 03

lab_e86c:
    dec 0x03b9              ;e86c  ce b9 03
    beq lab_e857            ;e86f  f0 e6
    ldy 0x03b8              ;e871  ac b8 03
    lda 0xe750,y            ;e874  b9 50 e7
    clc                     ;e877  18
    adc 0x03b9              ;e878  6d b9 03
    tay                     ;e87b  a8
    lda 0x03a0,y            ;e87c  b9 a0 03
    tay                     ;e87f  a8
    lda 0x03c0,x            ;e880  bd c0 03
    cmp 0x03c0,y            ;e883  d9 c0 03
    beq lab_e824            ;e886  f0 9c
    lda 0x0480,x            ;e888  bd 80 04
    cmp #0x00               ;e88b  c9 00
    bne lab_e896            ;e88d  d0 07
    lda 0x04e0,x            ;e88f  bd e0 04
    cmp #0x00               ;e892  c9 00
    beq lab_e86c            ;e894  f0 d6

lab_e896:
    lda 0x0480,x            ;e896  bd 80 04
    cmp 0x0480,y            ;e899  d9 80 04
    bne lab_e86c            ;e89c  d0 ce
    lda 0x04e0,x            ;e89e  bd e0 04
    cmp 0x04e0,y            ;e8a1  d9 e0 04
    bne lab_e86c            ;e8a4  d0 c6
    jmp lab_e824            ;e8a6  4c 24 e8

lab_e8a9:
    ldy 0x03b5              ;e8a9  ac b5 03
    lda 0xe750,y            ;e8ac  b9 50 e7
    tay                     ;e8af  a8
    lda 0x03a0,y            ;e8b0  b9 a0 03
    inc a                   ;e8b3  3a
    sta 0x03a0,y            ;e8b4  99 a0 03
    lda 0x03a0,y            ;e8b7  b9 a0 03
    sta 0x03b9              ;e8ba  8d b9 03
    ldy 0x03b5              ;e8bd  ac b5 03
    lda 0xe750,y            ;e8c0  b9 50 e7
    clc                     ;e8c3  18
    adc 0x03b9              ;e8c4  6d b9 03
    tay                     ;e8c7  a8
    txa                     ;e8c8  8a
    sta 0x03a0,y            ;e8c9  99 a0 03
    jmp lab_e824            ;e8cc  4c 24 e8

lab_e8cf:
    rts                     ;e8cf  60

sub_e8d0:
    stx 0x03b8              ;e8d0  8e b8 03
    cpx #0x03               ;e8d3  e0 03
    bcc lab_e8da            ;e8d5  90 03
    jmp lab_e954            ;e8d7  4c 54 e9

lab_e8da:
    ldy 0x03b8              ;e8da  ac b8 03
    lda 0xe750,y            ;e8dd  b9 50 e7
    tay                     ;e8e0  a8
    lda 0x03a0,y            ;e8e1  b9 a0 03
    cmp #0x07               ;e8e4  c9 07
    bcs lab_e954            ;e8e6  b0 6c
    sta 0x03b9              ;e8e8  8d b9 03
    ldy 0x03b8              ;e8eb  ac b8 03
    lda 0xe750,y            ;e8ee  b9 50 e7
    clc                     ;e8f1  18
    adc 0x03b9              ;e8f2  6d b9 03
    sta 0x03b9              ;e8f5  8d b9 03
    ldy 0x03b8              ;e8f8  ac b8 03
    lda 0xe750,y            ;e8fb  b9 50 e7
    sta 0x03b5              ;e8fe  8d b5 03
    sta 0x03b6              ;e901  8d b6 03
    inc 0x03b6              ;e904  ee b6 03

lab_e907:
    inc 0x03b5              ;e907  ee b5 03
    inc 0x03b6              ;e90a  ee b6 03
    lda 0x03b5              ;e90d  ad b5 03
    cmp 0x03b9              ;e910  cd b9 03
    bcs lab_e954            ;e913  b0 3f
    ldx 0x03b5              ;e915  ae b5 03
    lda 0x03a0,x            ;e918  bd a0 03
    tax                     ;e91b  aa
    ldy 0x03b6              ;e91c  ac b6 03
    lda 0x03a0,y            ;e91f  b9 a0 03
    tay                     ;e922  a8
    cpy 0x039a              ;e923  cc 9a 03
    bcc lab_e931            ;e926  90 09
    beq lab_e931            ;e928  f0 07
    cpx 0x039a              ;e92a  ec 9a 03
    beq lab_e931            ;e92d  f0 02
    bcs lab_e907            ;e92f  b0 d6

lab_e931:
    stx 0x03b7              ;e931  8e b7 03
    cpy 0x03b7              ;e934  cc b7 03
    bcs lab_e907            ;e937  b0 ce
    ldx 0x03b5              ;e939  ae b5 03
    ldy 0x03b6              ;e93c  ac b6 03
    lda 0x03a0,x            ;e93f  bd a0 03
    sta 0x03b7              ;e942  8d b7 03
    lda 0x03a0,y            ;e945  b9 a0 03
    sta 0x03a0,x            ;e948  9d a0 03
    lda 0x03b7              ;e94b  ad b7 03
    sta 0x03a0,y            ;e94e  99 a0 03
    jmp lab_e8da            ;e951  4c da e8

lab_e954:
    rts                     ;e954  60

sub_e955:
    ldx #0x0f               ;e955  a2 0f
    lda #0x00               ;e957  a9 00

lab_e959:
    sta 0x03a0,x            ;e959  9d a0 03
    sta 0x03b0,x            ;e95c  9d b0 03
    sta 0x0110,x            ;e95f  9d 10 01
    dex                     ;e962  ca
    bpl lab_e959            ;e963  10 f4
    ldy #0x00               ;e965  a0 00

lab_e967:
    cpy 0x039a              ;e967  cc 9a 03
    bcs lab_e9b9            ;e96a  b0 4d
    iny                     ;e96c  c8
    lda 0x0420,y            ;e96d  b9 20 04
    and #0x0f               ;e970  29 0f
    sta 0x0420              ;e972  8d 20 04

lab_e975:
    cpy 0x039a              ;e975  cc 9a 03
    bcs lab_e99a            ;e978  b0 20
    lda 0x0481,y            ;e97a  b9 81 04
    cmp 0x0480,y            ;e97d  d9 80 04
    bne lab_e99a            ;e980  d0 18
    lda 0x04e1,y            ;e982  b9 e1 04
    cmp 0x04e0,y            ;e985  d9 e0 04
    bne lab_e99a            ;e988  d0 10
    iny                     ;e98a  c8
    lda 0x0420,y            ;e98b  b9 20 04
    and #0x0f               ;e98e  29 0f
    cmp 0x0420              ;e990  cd 20 04
    bcc lab_e975            ;e993  90 e0
    sta 0x0420              ;e995  8d 20 04
    bra lab_e975            ;e998  80 db

lab_e99a:
    lda 0x0480,y            ;e99a  b9 80 04
    lsr a                   ;e99d  4a
    lsr a                   ;e99e  4a
    lsr a                   ;e99f  4a
    lsr a                   ;e9a0  4a
    tax                     ;e9a1  aa
    clc                     ;e9a2  18
    lda 0x0420              ;e9a3  ad 20 04
    adc 0x03b0,x            ;e9a6  7d b0 03
    sta 0x03b0,x            ;e9a9  9d b0 03
    lda #0x00               ;e9ac  a9 00
    adc 0x03a0,x            ;e9ae  7d a0 03
    sta 0x03a0,x            ;e9b1  9d a0 03
    inc 0x0110,x            ;e9b4  fe 10 01
    bra lab_e967            ;e9b7  80 ae

lab_e9b9:
    lda #0x00               ;e9b9  a9 00
    sta 0x03a0              ;e9bb  8d a0 03
    sta 0x03b0              ;e9be  8d b0 03
    ldx #0x0f               ;e9c1  a2 0f
    ldy #0x0f               ;e9c3  a0 0f

lab_e9c5:
    dey                     ;e9c5  88
    bmi lab_e9de            ;e9c6  30 16
    lda 0x03a0,y            ;e9c8  b9 a0 03
    cmp 0x03a0,x            ;e9cb  dd a0 03
    bcc lab_e9c5            ;e9ce  90 f5
    bne lab_e9da            ;e9d0  d0 08
    lda 0x03b0,y            ;e9d2  b9 b0 03
    cmp 0x03b0,x            ;e9d5  dd b0 03
    bcc lab_e9c5            ;e9d8  90 eb

lab_e9da:
    tya                     ;e9da  98
    tax                     ;e9db  aa
    bra lab_e9c5            ;e9dc  80 e7

lab_e9de:
    rts                     ;e9de  60

sub_e9df:
    jsr sub_e955            ;e9df  20 55 e9
    txa                     ;e9e2  8a
    asl a                   ;e9e3  0a
    asl a                   ;e9e4  0a
    asl a                   ;e9e5  0a
    asl a                   ;e9e6  0a
    sta 0x0480              ;e9e7  8d 80 04
    ldx #0x0f               ;e9ea  a2 0f
    lda #0x00               ;e9ec  a9 00

lab_e9ee:
    sta 0x03a0,x            ;e9ee  9d a0 03
    sta 0x03b0,x            ;e9f1  9d b0 03
    sta 0x0110,x            ;e9f4  9d 10 01
    dex                     ;e9f7  ca
    bpl lab_e9ee            ;e9f8  10 f4
    ldy #0x00               ;e9fa  a0 00

lab_e9fc:
    cpy 0x039a              ;e9fc  cc 9a 03
    bcs lab_ea5a            ;e9ff  b0 59
    iny                     ;ea01  c8
    lda 0x0480,y            ;ea02  b9 80 04
    and #0xf0               ;ea05  29 f0
    cmp 0x0480              ;ea07  cd 80 04
    bne lab_e9fc            ;ea0a  d0 f0
    lda 0x0420,y            ;ea0c  b9 20 04
    and #0x0f               ;ea0f  29 0f
    sta 0x0420              ;ea11  8d 20 04

lab_ea14:
    cpy 0x039a              ;ea14  cc 9a 03
    bcs lab_ea3b            ;ea17  b0 22
    lda 0x0481,y            ;ea19  b9 81 04
    and #0xf0               ;ea1c  29 f0
    cmp 0x0480              ;ea1e  cd 80 04
    bne lab_ea3b            ;ea21  d0 18
    lda 0x04e1,y            ;ea23  b9 e1 04
    cmp 0x04e0,y            ;ea26  d9 e0 04
    bne lab_ea3b            ;ea29  d0 10
    iny                     ;ea2b  c8
    lda 0x0420,y            ;ea2c  b9 20 04
    and #0x0f               ;ea2f  29 0f
    cmp 0x0420              ;ea31  cd 20 04
    bcc lab_ea14            ;ea34  90 de
    sta 0x0420              ;ea36  8d 20 04
    bra lab_ea14            ;ea39  80 d9

lab_ea3b:
    lda 0x04e0,y            ;ea3b  b9 e0 04
    lsr a                   ;ea3e  4a
    lsr a                   ;ea3f  4a
    lsr a                   ;ea40  4a
    lsr a                   ;ea41  4a
    tax                     ;ea42  aa
    clc                     ;ea43  18
    lda 0x0420              ;ea44  ad 20 04
    adc 0x03b0,x            ;ea47  7d b0 03
    sta 0x03b0,x            ;ea4a  9d b0 03
    lda #0x00               ;ea4d  a9 00
    adc 0x03a0,x            ;ea4f  7d a0 03
    sta 0x03a0,x            ;ea52  9d a0 03
    inc 0x0110,x            ;ea55  fe 10 01
    bra lab_e9fc            ;ea58  80 a2

lab_ea5a:
    lda 0x40                ;ea5a  a5 40
    pha                     ;ea5c  48
    lda 0x41                ;ea5d  a5 41
    pha                     ;ea5f  48
    ldy #0x10               ;ea60  a0 10

lab_ea62:
    dey                     ;ea62  88
    bmi lab_ea92            ;ea63  30 2d
    lda 0x03b0,y            ;ea65  b9 b0 03
    sta 0x40                ;ea68  85 40
    lda 0x03a0,y            ;ea6a  b9 a0 03
    sta 0x41                ;ea6d  85 41
    lda 0x0110,y            ;ea6f  b9 10 01
    cmp #0x02               ;ea72  c9 02
    bcs lab_ea83            ;ea74  b0 0d
    lda #0x00               ;ea76  a9 00
    sta 0x0110,y            ;ea78  99 10 01
    sta 0x03a0,y            ;ea7b  99 a0 03
    sta 0x03b0,y            ;ea7e  99 b0 03
    bra lab_ea62            ;ea81  80 df

lab_ea83:
    ldx #0x00               ;ea83  a2 00
    div 0x40,x              ;ea85  e2 40
    sta 0x03b0,y            ;ea87  99 b0 03
    lda #0x00               ;ea8a  a9 00
    sta 0x03a0,y            ;ea8c  99 a0 03
    pla                     ;ea8f  68
    bra lab_ea62            ;ea90  80 d0

lab_ea92:
    pla                     ;ea92  68
    sta 0x41                ;ea93  85 41
    pla                     ;ea95  68
    sta 0x40                ;ea96  85 40
    ldx #0x0f               ;ea98  a2 0f
    ldy #0x0f               ;ea9a  a0 0f

lab_ea9c:
    dey                     ;ea9c  88
    bmi lab_eab5            ;ea9d  30 16
    lda 0x03a0,y            ;ea9f  b9 a0 03
    cmp 0x03a0,x            ;eaa2  dd a0 03
    bcc lab_ea9c            ;eaa5  90 f5
    bne lab_eab1            ;eaa7  d0 08
    lda 0x03b0,y            ;eaa9  b9 b0 03
    cmp 0x03b0,x            ;eaac  dd b0 03
    bcc lab_ea9c            ;eaaf  90 eb

lab_eab1:
    tya                     ;eab1  98
    tax                     ;eab2  aa
    bra lab_ea9c            ;eab3  80 e7

lab_eab5:
    lda 0x0110,x            ;eab5  bd 10 01
    cmp #0x02               ;eab8  c9 02
    bcc lab_eac8            ;eaba  90 0c
    lda 0x0480              ;eabc  ad 80 04
    beq lab_eac8            ;eabf  f0 07
    txa                     ;eac1  8a
    ora 0x0480              ;eac2  0d 80 04
    tax                     ;eac5  aa
    bra lab_eaca            ;eac6  80 02

lab_eac8:
    ldx #0x00               ;eac8  a2 00

lab_eaca:
    rts                     ;eaca  60

sub_eacb:
    lda 0x40                ;eacb  a5 40
    pha                     ;eacd  48
    lda 0x41                ;eace  a5 41
    pha                     ;ead0  48
    lda 0x42                ;ead1  a5 42
    pha                     ;ead3  48
    lda 0x43                ;ead4  a5 43
    pha                     ;ead6  48
    clb 0,0xf9              ;ead7  1f f9
    jsr sub_544b            ;ead9  20 4b 54     Clears many registers
    clb 3,0xfa              ;eadc  7f fa
    lda #0x00               ;eade  a9 00
    sta 0x90                ;eae0  85 90
    sta 0x92                ;eae2  85 92
    lda #0x00               ;eae4  a9 00
    sta 0x91                ;eae6  85 91
    sta 0x93                ;eae8  85 93
    clb 2,0xf4              ;eaea  5f f4
    clb 6,0xfb              ;eaec  df fb
    jsr sub_44a7            ;eaee  20 a7 44     Clears several buffers and flags
    jsr sub_890d            ;eaf1  20 0d 89
    ldy 0x71                ;eaf4  a4 71
    lda #0x00               ;eaf6  a9 00
    sta 0x4a                ;eaf8  85 4a
    lda #0x00               ;eafa  a9 00
    sta 0x4b                ;eafc  85 4b
    jsr sub_e4ad            ;eafe  20 ad e4

lab_eb01:
    lda 0x039b              ;eb01  ad 9b 03
    cmp #0x02               ;eb04  c9 02
    bcs lab_eb6e            ;eb06  b0 66
    jsr sub_ebbe            ;eb08  20 be eb
    bcc lab_eb6e            ;eb0b  90 61
    jsr sub_ec08            ;eb0d  20 08 ec
    sty 0x42                ;eb10  84 42
    jsr sub_ec14            ;eb12  20 14 ec
    sty 0x43                ;eb15  84 43
    ldx 0x42                ;eb17  a6 42
    stx 0x40                ;eb19  86 40
    ldm #0x00,0x41          ;eb1b  3c 00 41

lab_eb1e:
    lda #0xff               ;eb1e  a9 ff
    sta 0x02dc              ;eb20  8d dc 02
    sta 0x02db              ;eb23  8d db 02
    sta 0x02dd              ;eb26  8d dd 02
    sta 0x02de              ;eb29  8d de 02
    jsr sub_ec48            ;eb2c  20 48 ec
    jsr sub_ed56            ;eb2f  20 56 ed
    cpy 0x41                ;eb32  c4 41
    beq lab_eb3c            ;eb34  f0 06
    bcc lab_eb3c            ;eb36  90 04
    stx 0x40                ;eb38  86 40
    sty 0x41                ;eb3a  84 41

lab_eb3c:
    cpx 0x43                ;eb3c  e4 43
    bcs lab_eb43            ;eb3e  b0 03
    inx                     ;eb40  e8
    bra lab_eb1e            ;eb41  80 db

lab_eb43:
    lda 0x41                ;eb43  a5 41
    beq lab_eb01            ;eb45  f0 ba
    ldx 0x40                ;eb47  a6 40
    cpx 0x039a              ;eb49  ec 9a 03
    bcc lab_eb5d            ;eb4c  90 0f
    beq lab_eb5d            ;eb4e  f0 0d
    lda 0x03c0,x            ;eb50  bd c0 03
    sta 0x71                ;eb53  85 71
    jsr sub_4dd1            ;eb55  20 d1 4d
    jsr sub_eb86            ;eb58  20 86 eb
    bra lab_eb79            ;eb5b  80 1c

lab_eb5d:
    lda 0x03c0,x            ;eb5d  bd c0 03
    sta 0x71                ;eb60  85 71
    jsr sub_4dd1            ;eb62  20 d1 4d
    seb 0,0xf9              ;eb65  0f f9
    lda #0x3c               ;eb67  a9 3c
    sta 0x0387              ;eb69  8d 87 03
    bra lab_eb79            ;eb6c  80 0b

lab_eb6e:
    lda 0x0266              ;eb6e  ad 66 02
    sta 0x71                ;eb71  85 71
    jsr sub_4dd1            ;eb73  20 d1 4d
    jsr sub_eb86            ;eb76  20 86 eb

lab_eb79:
    pla                     ;eb79  68
    sta 0x43                ;eb7a  85 43
    pla                     ;eb7c  68
    sta 0x42                ;eb7d  85 42
    pla                     ;eb7f  68
    sta 0x41                ;eb80  85 41
    pla                     ;eb82  68
    sta 0x40                ;eb83  85 40
    rts                     ;eb85  60

sub_eb86:
    clb 1,0xe5              ;eb86  3f e5
    jsr sub_664a            ;eb88  20 4a 66
    seb 4,0xfa              ;eb8b  8f fa
    seb 0,0xf9              ;eb8d  0f f9
    ldy #0x39               ;eb8f  a0 39
    jsr sub_3300            ;eb91  20 00 33
    lda 0x92                ;eb94  a5 92
    sta 0x90                ;eb96  85 90
    lda 0x93                ;eb98  a5 93
    sta 0x91                ;eb9a  85 91
    lda #0x01               ;eb9c  a9 01
    sta 0x039d              ;eb9e  8d 9d 03
    ldx #0x1d               ;eba1  a2 1d
    jsr sub_ed2d            ;eba3  20 2d ed
    ldy #0x10               ;eba6  a0 10
    cpx #0x08               ;eba8  e0 08
    bcc lab_ebba            ;ebaa  90 0e
    ldy #0x10               ;ebac  a0 10
    cpx #0x10               ;ebae  e0 10
    bcc lab_ebba            ;ebb0  90 08
    ldy #0x0c               ;ebb2  a0 0c
    cpx #0x20               ;ebb4  e0 20
    bcc lab_ebba            ;ebb6  90 02
    ldy #0x08               ;ebb8  a0 08

lab_ebba:
    jsr sub_e3c9            ;ebba  20 c9 e3
    rts                     ;ebbd  60

sub_ebbe:
    lda 0x0399              ;ebbe  ad 99 03
    beq lab_ec06            ;ebc1  f0 43
    tay                     ;ebc3  a8
    lda 0x0481              ;ebc4  ad 81 04
    cmp 0x0480,y            ;ebc7  d9 80 04
    bne lab_ebd4            ;ebca  d0 08
    lda 0x04e1              ;ebcc  ad e1 04
    cmp 0x04e0,y            ;ebcf  d9 e0 04
    beq lab_ec06            ;ebd2  f0 32

lab_ebd4:
    bbs 0,0xf4,lab_ebeb     ;ebd4  07 f4 14
    txa                     ;ebd7  8a
    tay                     ;ebd8  a8

lab_ebd9:
    dey                     ;ebd9  88
    beq lab_ebde            ;ebda  f0 02
    bpl lab_ebe4            ;ebdc  10 06

lab_ebde:
    ldy 0x0399              ;ebde  ac 99 03
    inc 0x039b              ;ebe1  ee 9b 03

lab_ebe4:
    jsr sub_ec25            ;ebe4  20 25 ec
    bcs lab_ec01            ;ebe7  b0 18
    bra lab_ebd9            ;ebe9  80 ee

lab_ebeb:
    txa                     ;ebeb  8a
    tay                     ;ebec  a8

lab_ebed:
    iny                     ;ebed  c8
    cpy 0x0399              ;ebee  cc 99 03
    bcc lab_ebfa            ;ebf1  90 07
    beq lab_ebfa            ;ebf3  f0 05
    ldy #0x01               ;ebf5  a0 01
    inc 0x039b              ;ebf7  ee 9b 03

lab_ebfa:
    jsr sub_ec25            ;ebfa  20 25 ec
    bcs lab_ec01            ;ebfd  b0 02
    bra lab_ebed            ;ebff  80 ec

lab_ec01:
    tya                     ;ec01  98
    tax                     ;ec02  aa
    sec                     ;ec03  38
    bra lab_ec07            ;ec04  80 01

lab_ec06:
    clc                     ;ec06  18

lab_ec07:
    rts                     ;ec07  60

sub_ec08:
    txa                     ;ec08  8a
    tay                     ;ec09  a8

lab_ec0a:
    dey                     ;ec0a  88
    beq lab_ec12            ;ec0b  f0 05
    jsr sub_ec25            ;ec0d  20 25 ec
    bcc lab_ec0a            ;ec10  90 f8

lab_ec12:
    iny                     ;ec12  c8
    rts                     ;ec13  60

sub_ec14:
    txa                     ;ec14  8a
    tay                     ;ec15  a8

lab_ec16:
    iny                     ;ec16  c8
    cpy 0x0399              ;ec17  cc 99 03
    beq lab_ec1e            ;ec1a  f0 02
    bcs lab_ec23            ;ec1c  b0 05

lab_ec1e:
    jsr sub_ec25            ;ec1e  20 25 ec
    bcc lab_ec16            ;ec21  90 f3

lab_ec23:
    dey                     ;ec23  88
    rts                     ;ec24  60

sub_ec25:
    cpx 0x039a              ;ec25  ec 9a 03
    beq lab_ec2c            ;ec28  f0 02
    bcs lab_ec46            ;ec2a  b0 1a

lab_ec2c:
    cpy 0x039a              ;ec2c  cc 9a 03
    beq lab_ec33            ;ec2f  f0 02
    bcs lab_ec46            ;ec31  b0 13

lab_ec33:
    lda 0x0480,x            ;ec33  bd 80 04
    cmp 0x0480,y            ;ec36  d9 80 04
    bne lab_ec46            ;ec39  d0 0b
    lda 0x04e0,x            ;ec3b  bd e0 04
    cmp 0x04e0,y            ;ec3e  d9 e0 04
    bne lab_ec46            ;ec41  d0 03
    clc                     ;ec43  18
    bra lab_ec47            ;ec44  80 01

lab_ec46:
    sec                     ;ec46  38

lab_ec47:
    rts                     ;ec47  60

sub_ec48:
    lda 0x40                ;ec48  a5 40
    pha                     ;ec4a  48
    bbs 4,0xf1,lab_ec54     ;ec4b  87 f1 06
    bbc 6,0xf1,lab_ec54     ;ec4e  d7 f1 03
    bbc 0,0xf0,lab_ec59     ;ec51  17 f0 05

lab_ec54:
    lda 0x0420,x            ;ec54  bd 20 04
    bbc 4,a,lab_eccd        ;ec57  93 74

lab_ec59:
    lda 0x0420,x            ;ec59  bd 20 04
    and #0xf0               ;ec5c  29 f0
    sta 0x0420,x            ;ec5e  9d 20 04
    lda 0x03c0,x            ;ec61  bd c0 03
    sta 0x71                ;ec64  85 71
    txa                     ;ec66  8a
    pha                     ;ec67  48
    jsr sub_4dd1            ;ec68  20 d1 4d
    jsr sub_ecd4            ;ec6b  20 d4 ec
    pla                     ;ec6e  68
    tax                     ;ec6f  aa
    tya                     ;ec70  98
    and #0x0f               ;ec71  29 0f
    ora 0x0420,x            ;ec73  1d 20 04
    sta 0x0420,x            ;ec76  9d 20 04
    and #0x0f               ;ec79  29 0f
    cpx 0x039a              ;ec7b  ec 9a 03
    beq lab_ec88            ;ec7e  f0 08
    bcc lab_ec88            ;ec80  90 06
    cmp #0x05               ;ec82  c9 05
    bcc lab_eccd            ;ec84  90 47
    bra lab_ec8c            ;ec86  80 04

lab_ec88:
    cmp #0x03               ;ec88  c9 03
    bcc lab_eccd            ;ec8a  90 41

lab_ec8c:
    lda #0x03               ;ec8c  a9 03
    jsr sub_26d8            ;ec8e  20 d8 26
    sta 0x02de              ;ec91  8d de 02
    cmp #0x2b               ;ec94  c9 2b
    bcs lab_eccd            ;ec96  b0 35
    txa                     ;ec98  8a
    pha                     ;ec99  48
    lda 0x02db              ;ec9a  ad db 02
    pha                     ;ec9d  48
    lda 0x02dc              ;ec9e  ad dc 02
    pha                     ;eca1  48
    lda 0x02dd              ;eca2  ad dd 02
    pha                     ;eca5  48
    lda 0x02de              ;eca6  ad de 02
    pha                     ;eca9  48
    jsr sub_8e1c            ;ecaa  20 1c 8e
    sta 0x40                ;ecad  85 40
    pla                     ;ecaf  68
    sta 0x02de              ;ecb0  8d de 02
    pla                     ;ecb3  68
    sta 0x02dd              ;ecb4  8d dd 02
    pla                     ;ecb7  68
    sta 0x02dc              ;ecb8  8d dc 02
    pla                     ;ecbb  68
    sta 0x02db              ;ecbc  8d db 02
    pla                     ;ecbf  68
    tax                     ;ecc0  aa
    lda 0x0420,x            ;ecc1  bd 20 04
    and #0x0f               ;ecc4  29 0f
    clc                     ;ecc6  18
    adc 0x40                ;ecc7  65 40
    tay                     ;ecc9  a8
    sec                     ;ecca  38
    bra lab_ecd0            ;eccb  80 03

lab_eccd:
    ldy #0x00               ;eccd  a0 00
    clc                     ;eccf  18

lab_ecd0:
    pla                     ;ecd0  68
    sta 0x40                ;ecd1  85 40
    rts                     ;ecd3  60

sub_ecd4:
    ldy #0x02               ;ecd4  a0 02
    jsr sub_f22c_delay      ;ecd6  20 2c f2     Delay an unknown time period for Y iterations

    lda #0x02               ;ecd9  a9 02
    jsr sub_26d8            ;ecdb  20 d8 26
    jsr sub_51a7            ;ecde  20 a7 51
    sta 0x02dd              ;ece1  8d dd 02
    cmp #0x03               ;ece4  c9 03
    bcs lab_ecec            ;ece6  b0 04
    lda #0x00               ;ece8  a9 00
    bra lab_ecf5            ;ecea  80 09

lab_ecec:
    pha                     ;ecec  48
    jsr sub_8e4d            ;eced  20 4d 8e
    pla                     ;ecf0  68
    bcc lab_ecf5            ;ecf1  90 02
    lda #0x00               ;ecf3  a9 00

lab_ecf5:
    tay                     ;ecf5  a8
    rts                     ;ecf6  60

sub_ecf7:
    ldy 0x71                ;ecf7  a4 71
    lda #0x00               ;ecf9  a9 00
    sta 0x4a                ;ecfb  85 4a
    lda #0x00               ;ecfd  a9 00
    sta 0x4b                ;ecff  85 4b
    jsr sub_e4ad            ;ed01  20 ad e4
    bcc lab_ed2b            ;ed04  90 25
    lda 0x0480,x            ;ed06  bd 80 04
    cmp 0x92                ;ed09  c5 92
    bne lab_ed2b            ;ed0b  d0 1e
    lda 0x04e0,x            ;ed0d  bd e0 04
    cmp 0x93                ;ed10  c5 93
    bne lab_ed2b            ;ed12  d0 17
    bbs 4,0xf1,lab_ed1a     ;ed14  87 f1 03
    bbs 6,0xf1,lab_ed1f     ;ed17  c7 f1 05

lab_ed1a:
    bbs 0,0xfa,lab_ed28     ;ed1a  07 fa 0b
    bra lab_ed2b            ;ed1d  80 0c

lab_ed1f:
    bbc 0,0xf0,lab_ed28     ;ed1f  17 f0 06
    bbs 0,0xfa,lab_ed28     ;ed22  07 fa 03
    bbc 1,0xfa,lab_ed2b     ;ed25  37 fa 03

lab_ed28:
    sec                     ;ed28  38
    bra lab_ed2c            ;ed29  80 01

lab_ed2b:
    clc                     ;ed2b  18

lab_ed2c:
    rts                     ;ed2c  60

sub_ed2d:
    lda 0x40                ;ed2d  a5 40
    pha                     ;ed2f  48
    lda 0x41                ;ed30  a5 41
    pha                     ;ed32  48
    stx 0x40                ;ed33  86 40
    ldx #0x00               ;ed35  a2 00
    lda #0x1e               ;ed37  a9 1e
    sec                     ;ed39  38
    sbc 0x40                ;ed3a  e5 40
    sta 0x40                ;ed3c  85 40
    ldy 0x0399              ;ed3e  ac 99 03
    iny                     ;ed41  c8

lab_ed42:
    dey                     ;ed42  88
    beq lab_ed4f            ;ed43  f0 0a
    lda 0x0540,y            ;ed45  b9 40 05
    cmp 0x40                ;ed48  c5 40
    bcc lab_ed42            ;ed4a  90 f6
    inx                     ;ed4c  e8
    bra lab_ed42            ;ed4d  80 f3

lab_ed4f:
    pla                     ;ed4f  68
    sta 0x41                ;ed50  85 41
    pla                     ;ed52  68
    sta 0x40                ;ed53  85 40
    rts                     ;ed55  60

sub_ed56:
    rts                     ;ed56  60

sub_ed57:
    lda 0x40                ;ed57  a5 40
    pha                     ;ed59  48
    lda 0x41                ;ed5a  a5 41
    pha                     ;ed5c  48
    lda 0x42                ;ed5d  a5 42
    pha                     ;ed5f  48
    lda 0x43                ;ed60  a5 43
    pha                     ;ed62  48
    bbc 3,0xf2,lab_ed73     ;ed63  77 f2 0d
    bbs 0,0xf2,lab_ed73     ;ed66  07 f2 0a
    bbs 5,0xfd,lab_ed73     ;ed69  a7 fd 07
    bbs 1,0xf3,lab_ed73     ;ed6c  27 f3 04
    lda 0x50                ;ed6f  a5 50
    bne lab_ed76            ;ed71  d0 03

lab_ed73:
    jmp lab_ee28            ;ed73  4c 28 ee

lab_ed76:
    jsr sub_eefc            ;ed76  20 fc ee
    ldy #0x0f               ;ed79  a0 0f
    jsr sub_f21e            ;ed7b  20 1e f2
    lda 0x02bb              ;ed7e  ad bb 02
    pha                     ;ed81  48
    lda 0x02bc              ;ed82  ad bc 02
    pha                     ;ed85  48
    lda #0x00               ;ed86  a9 00
    sta 0x02bb              ;ed88  8d bb 02
    lda #0x00               ;ed8b  a9 00
    sta 0x02bc              ;ed8d  8d bc 02
    ldm #0x04,0x40          ;ed90  3c 04 40
    clb 5,0xf8              ;ed93  bf f8

lab_ed95:
    lda 0x40                ;ed95  a5 40
    pha                     ;ed97  48
    lda 0x41                ;ed98  a5 41
    pha                     ;ed9a  48
    lda #0x05               ;ed9b  a9 05
    jsr sub_26d8            ;ed9d  20 d8 26
    tax                     ;eda0  aa
    lda #0xbb               ;eda1  a9 bb
    sta 0x40                ;eda3  85 40
    lda #0x02               ;eda5  a9 02
    sta 0x41                ;eda7  85 41
    jsr sub_512b            ;eda9  20 2b 51
    pla                     ;edac  68
    sta 0x41                ;edad  85 41
    pla                     ;edaf  68
    sta 0x40                ;edb0  85 40
    bbc 5,0xf8,lab_ed95     ;edb2  b7 f8 e0
    clb 5,0xf8              ;edb5  bf f8
    bbc 2,0xf9,lab_edc6     ;edb7  57 f9 0c
    bbc 3,0xf9,lab_edc6     ;edba  77 f9 09
    jsr sub_5489            ;edbd  20 89 54
    jsr sub_54fd            ;edc0  20 fd 54
    jsr sub_5616            ;edc3  20 16 56

lab_edc6:
    dec 0x40                ;edc6  c6 40
    bne lab_ed95            ;edc8  d0 cb
    lsr 0x02bc              ;edca  4e bc 02
    ror 0x02bb              ;edcd  6e bb 02
    lsr 0x02bc              ;edd0  4e bc 02
    ror 0x02bb              ;edd3  6e bb 02
    lsr 0x02bc              ;edd6  4e bc 02
    ror 0x02bb              ;edd9  6e bb 02
    lda 0x02bb              ;eddc  ad bb 02
    sta 0x40                ;eddf  85 40
    lda #0x00               ;ede1  a9 00
    sta 0x41                ;ede3  85 41
    asl 0x40                ;ede5  06 40
    rol 0x41                ;ede7  26 41
    asl 0x40                ;ede9  06 40
    rol 0x41                ;edeb  26 41
    pla                     ;eded  68
    sta 0x02bc              ;edee  8d bc 02
    pla                     ;edf1  68
    sta 0x02bb              ;edf2  8d bb 02
    lsr 0x02bc              ;edf5  4e bc 02
    ror 0x02bb              ;edf8  6e bb 02
    clc                     ;edfb  18
    lda 0x02bb              ;edfc  ad bb 02
    adc 0x40                ;edff  65 40
    sta 0x02bb              ;ee01  8d bb 02
    lda 0x02bc              ;ee04  ad bc 02
    adc 0x41                ;ee07  65 41
    sta 0x02bc              ;ee09  8d bc 02
    lda 0x02bc              ;ee0c  ad bc 02
    sta 0x41                ;ee0f  85 41
    lda 0x02bb              ;ee11  ad bb 02
    lsr 0x41                ;ee14  46 41
    ror a                   ;ee16  6a
    lsr 0x41                ;ee17  46 41
    ror a                   ;ee19  6a
    lsr 0x41                ;ee1a  46 41
    ror a                   ;ee1c  6a
    sta 0x02bd              ;ee1d  8d bd 02
    jsr sub_ef42            ;ee20  20 42 ef
    ldy #0x0a               ;ee23  a0 0a
    jsr sub_f21e            ;ee25  20 1e f2

lab_ee28:
    pla                     ;ee28  68
    sta 0x43                ;ee29  85 43
    pla                     ;ee2b  68
    sta 0x42                ;ee2c  85 42
    pla                     ;ee2e  68
    sta 0x41                ;ee2f  85 41
    pla                     ;ee31  68
    sta 0x40                ;ee32  85 40
    rts                     ;ee34  60

sub_ee35:
    tay                     ;ee35  a8
    lda 0xf0                ;ee36  a5 f0
    clb 7,a                 ;ee38  fb
    and #0xfc               ;ee39  29 fc
    bne lab_ee4e            ;ee3b  d0 11
    lda 0x50                ;ee3d  a5 50
    beq lab_ee4e            ;ee3f  f0 0d
    bbs 3,0xfe,lab_ee4e     ;ee41  67 fe 0a
    cpy #0xdf               ;ee44  c0 df
    bcs lab_ee4e            ;ee46  b0 06
    tya                     ;ee48  98
    clc                     ;ee49  18
    adc 0x02ba              ;ee4a  6d ba 02
    tay                     ;ee4d  a8

lab_ee4e:
    tya                     ;ee4e  98
    rts                     ;ee4f  60

sub_ee50:
    cpy #0xff               ;ee50  c0 ff
    bne lab_ee56            ;ee52  d0 02
    ldy #0x41               ;ee54  a0 41

lab_ee56:
    lda 0x40                ;ee56  a5 40
    pha                     ;ee58  48
    lda 0x41                ;ee59  a5 41
    pha                     ;ee5b  48
    sty 0x40                ;ee5c  84 40
    ldx #0x00               ;ee5e  a2 00
    lda #0x03               ;ee60  a9 03
    mul 0x40,x              ;ee62  62 40
    sta 0x40                ;ee64  85 40
    pla                     ;ee66  68
    sta 0x41                ;ee67  85 41
    lda 0x40                ;ee69  a5 40
    clc                     ;ee6b  18
    adc 0x02bd              ;ee6c  6d bd 02
    sta 0x40                ;ee6f  85 40
    lda #0x00               ;ee71  a9 00
    adc 0x41                ;ee73  65 41
    sta 0x41                ;ee75  85 41
    lsr 0x41                ;ee77  46 41
    ror 0x40                ;ee79  66 40
    lsr 0x41                ;ee7b  46 41
    ror 0x40                ;ee7d  66 40
    ldy 0x40                ;ee7f  a4 40
    pla                     ;ee81  68
    sta 0x41                ;ee82  85 41
    pla                     ;ee84  68
    sta 0x40                ;ee85  85 40
    rts                     ;ee87  60

    .byte 0x0c              ;ee88  0c          DATA 0x0c
    .byte 0x0d              ;ee89  0d          DATA 0x0d
    .byte 0x0e              ;ee8a  0e          DATA 0x0e
    .byte 0x0f              ;ee8b  0f          DATA 0x0f
    .byte 0x10              ;ee8c  10          DATA 0x10
    .byte 0x11              ;ee8d  11          DATA 0x11
    .byte 0x12              ;ee8e  12          DATA 0x12
    .byte 0x13              ;ee8f  13          DATA 0x13
    .byte 0x14              ;ee90  14          DATA 0x14
    .byte 0x15              ;ee91  15          DATA 0x15
    .byte 0x17              ;ee92  17          DATA 0x17
    .byte 0x18              ;ee93  18          DATA 0x18
    .byte 0x19              ;ee94  19          DATA 0x19
    .byte 0x1b              ;ee95  1b          DATA 0x1b
    .byte 0x1c              ;ee96  1c          DATA 0x1c
    .byte 0x1e              ;ee97  1e          DATA 0x1e
    .byte 0x20              ;ee98  20          DATA 0x20 ' '
    .byte 0x21              ;ee99  21          DATA 0x21 '!'
    .byte 0x23              ;ee9a  23          DATA 0x23 '#'
    .byte 0x26              ;ee9b  26          DATA 0x26 '&'
    .byte 0x28              ;ee9c  28          DATA 0x28 '('
    .byte 0x2a              ;ee9d  2a          DATA 0x2a '*'
    .byte 0x2c              ;ee9e  2c          DATA 0x2c ','
    .byte 0x2e              ;ee9f  2e          DATA 0x2e '.'
    .byte 0x30              ;eea0  30          DATA 0x30 '0'
    .byte 0x34              ;eea1  34          DATA 0x34 '4'
    .byte 0x36              ;eea2  36          DATA 0x36 '6'
    .byte 0x3c              ;eea3  3c          DATA 0x3c '<'
    .byte 0x40              ;eea4  40          DATA 0x40 '@'
    .byte 0x42              ;eea5  42          DATA 0x42 'B'
    .byte 0x46              ;eea6  46          DATA 0x46 'F'
    .byte 0x4a              ;eea7  4a          DATA 0x4a 'J'
    .byte 0x4e              ;eea8  4e          DATA 0x4e 'N'
    .byte 0x54              ;eea9  54          DATA 0x54 'T'
    .byte 0x58              ;eeaa  58          DATA 0x58 'X'
    .byte 0x5e              ;eeab  5e          DATA 0x5e '^'
    .byte 0x62              ;eeac  62          DATA 0x62 'b'
    .byte 0x68              ;eead  68          DATA 0x68 'h'
    .byte 0x6e              ;eeae  6e          DATA 0x6e 'n'
    .byte 0x74              ;eeaf  74          DATA 0x74 't'
    .byte 0x7c              ;eeb0  7c          DATA 0x7c '|'
    .byte 0x82              ;eeb1  82          DATA 0x82
    .byte 0x8a              ;eeb2  8a          DATA 0x8a
    .byte 0x92              ;eeb3  92          DATA 0x92
    .byte 0x9a              ;eeb4  9a          DATA 0x9a
    .byte 0xa4              ;eeb5  a4          DATA 0xa4
    .byte 0xff              ;eeb6  ff          DATA 0xff

sub_eeb7:
    tya                     ;eeb7  98
    pha                     ;eeb8  48
    lda 0x50                ;eeb9  a5 50
    bne lab_eebf            ;eebb  d0 02
    ldy #0xff               ;eebd  a0 ff

lab_eebf:
    cpy #0xff               ;eebf  c0 ff
    bne lab_eec5            ;eec1  d0 02
    ldy #0x41               ;eec3  a0 41

lab_eec5:
    tya                     ;eec5  98
    ldx #0x00               ;eec6  a2 00

lab_eec8:
    cmp 0xee88,x            ;eec8  dd 88 ee
    bcc lab_eed2            ;eecb  90 05
    inx                     ;eecd  e8
    cpx #0x2e               ;eece  e0 2e
    bcc lab_eec8            ;eed0  90 f6

lab_eed2:
    stx 0x02ba              ;eed2  8e ba 02
    lda 0xee88,x            ;eed5  bd 88 ee
    dec a                   ;eed8  1a
    sta 0x02bd              ;eed9  8d bd 02
    sta 0x02bb              ;eedc  8d bb 02
    lda #0x00               ;eedf  a9 00
    asl 0x02bb              ;eee1  0e bb 02
    rol a                   ;eee4  2a
    asl 0x02bb              ;eee5  0e bb 02
    rol a                   ;eee8  2a
    asl 0x02bb              ;eee9  0e bb 02
    rol a                   ;eeec  2a
    sta 0x02bc              ;eeed  8d bc 02
    lda #0x1d               ;eef0  a9 1d
    sec                     ;eef2  38
    sbc 0x02ba              ;eef3  ed ba 02
    sta 0x02ba              ;eef6  8d ba 02
    pla                     ;eef9  68
    tay                     ;eefa  a8
    rts                     ;eefb  60

sub_eefc:
    lda #0xc4               ;eefc  a9 c4
    sta 0x0100              ;eefe  8d 00 01
    lda #0x08               ;ef01  a9 08
    sta 0x0101              ;ef03  8d 01 01
    lda 0x0248              ;ef06  ad 48 02
    and #0xf0               ;ef09  29 f0
    ora #0x0b               ;ef0b  09 0b
    sta 0x0102              ;ef0d  8d 02 01
    lda #0x00               ;ef10  a9 00
    sta 0x4c                ;ef12  85 4c
    lda #0x01               ;ef14  a9 01
    sta 0x4d                ;ef16  85 4d
    ldm #0x03,0x4e          ;ef18  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;ef1b  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;ef1e  20 e5 46     Perform an I2C write-then-read transaction
    lda #0xc4               ;ef21  a9 c4
    sta 0x0100              ;ef23  8d 00 01
    lda #0x09               ;ef26  a9 09
    sta 0x0101              ;ef28  8d 01 01
    lda #0xef               ;ef2b  a9 ef
    sta 0x0102              ;ef2d  8d 02 01
    lda #0x00               ;ef30  a9 00
    sta 0x4c                ;ef32  85 4c
    lda #0x01               ;ef34  a9 01
    sta 0x4d                ;ef36  85 4d
    ldm #0x03,0x4e          ;ef38  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;ef3b  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;ef3e  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;ef41  60

sub_ef42:
    lda #0xc4               ;ef42  a9 c4
    sta 0x0100              ;ef44  8d 00 01
    lda #0x08               ;ef47  a9 08
    sta 0x0101              ;ef49  8d 01 01
    lda 0x0248              ;ef4c  ad 48 02
    sta 0x0102              ;ef4f  8d 02 01
    lda #0x00               ;ef52  a9 00
    sta 0x4c                ;ef54  85 4c
    lda #0x01               ;ef56  a9 01
    sta 0x4d                ;ef58  85 4d
    ldm #0x03,0x4e          ;ef5a  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;ef5d  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;ef60  20 e5 46     Perform an I2C write-then-read transaction
    lda #0xc4               ;ef63  a9 c4
    sta 0x0100              ;ef65  8d 00 01
    lda #0x09               ;ef68  a9 09
    sta 0x0101              ;ef6a  8d 01 01
    lda 0x0249              ;ef6d  ad 49 02
    sta 0x0102              ;ef70  8d 02 01
    lda #0x00               ;ef73  a9 00
    sta 0x4c                ;ef75  85 4c
    lda #0x01               ;ef77  a9 01
    sta 0x4d                ;ef79  85 4d
    ldm #0x03,0x4e          ;ef7b  3c 03 4e     Number of I2C bytes to write = 3
    ldm #0x00,0x4f          ;ef7e  3c 00 4f     Number of I2C bytes to read = 0
    jsr sub_46e5_i2c_wr_rd  ;ef81  20 e5 46     Perform an I2C write-then-read transaction
    rts                     ;ef84  60

    .byte 0x87              ;ef85  87          DATA 0x87
    .byte 0xf1              ;ef86  f1          DATA 0xf1
    .byte 0x1c              ;ef87  1c          DATA 0x1c
    .byte 0x17              ;ef88  17          DATA 0x17
    .byte 0xf0              ;ef89  f0          DATA 0xf0
    .byte 0x19              ;ef8a  19          DATA 0x19
    .byte 0x67              ;ef8b  67          DATA 0x67 'g'
    .byte 0xfa              ;ef8c  fa          DATA 0xfa
    .byte 0x16              ;ef8d  16          DATA 0x16
    .byte 0xa9              ;ef8e  a9          DATA 0xa9
    .byte 0x00              ;ef8f  00          DATA 0x00
    .byte 0x8d              ;ef90  8d          DATA 0x8d
    .byte 0xb8              ;ef91  b8          DATA 0xb8
    .byte 0x02              ;ef92  02          DATA 0x02
    .byte 0xa9              ;ef93  a9          DATA 0xa9
    .byte 0x07              ;ef94  07          DATA 0x07
    .byte 0x8d              ;ef95  8d          DATA 0x8d
    .byte 0xb9              ;ef96  b9          DATA 0xb9
    .byte 0x02              ;ef97  02          DATA 0x02
    .byte 0x20              ;ef98  20          DATA 0x20 ' '
    .byte 0xa5              ;ef99  a5          DATA 0xa5
    .byte 0xef              ;ef9a  ef          DATA 0xef
    .byte 0xa5              ;ef9b  a5          DATA 0xa5
    .byte 0xf0              ;ef9c  f0          DATA 0xf0
    .byte 0xc9              ;ef9d  c9          DATA 0xc9
    .byte 0x01              ;ef9e  01          DATA 0x01
    .byte 0xd0              ;ef9f  d0          DATA 0xd0
    .byte 0x03              ;efa0  03          DATA 0x03
    .byte 0x20              ;efa1  20          DATA 0x20 ' '
    .byte 0xd2              ;efa2  d2          DATA 0xd2
    .byte 0x74              ;efa3  74          DATA 0x74 't'
    .byte 0x60              ;efa4  60          DATA 0x60 '`'

sub_efa5:
    bbc 3,0xf2,lab_efb6     ;efa5  77 f2 0e
    bbs 4,0xf1,lab_efb6     ;efa8  87 f1 0b
    bbc 0,0xf0,lab_efb6     ;efab  17 f0 08
    bbs 6,0xf0,lab_efb3     ;efae  c7 f0 02
    bra lab_efb9            ;efb1  80 06

lab_efb3:
    ldm #0x0a,0x5d          ;efb3  3c 0a 5d

lab_efb6:
    jmp lab_f01e            ;efb6  4c 1e f0

lab_efb9:
    lda 0x02b9              ;efb9  ad b9 02
    beq lab_efe3            ;efbc  f0 25
    dec a                   ;efbe  1a
    sta 0x02b9              ;efbf  8d b9 02
    lda 0xf0                ;efc2  a5 f0
    cmp #0x01               ;efc4  c9 01
    bne lab_efd9            ;efc6  d0 11
    lda 0x02b9              ;efc8  ad b9 02
    ldm #0x06,0x5a          ;efcb  3c 06 5a
    bbc 0,a,lab_efd3        ;efce  13 03
    ldm #0x05,0x5a          ;efd0  3c 05 5a

lab_efd3:
    jsr sub_43b9            ;efd3  20 b9 43
    jsr sub_664a            ;efd6  20 4a 66

lab_efd9:
    lda 0x02b9              ;efd9  ad b9 02
    beq lab_efe5            ;efdc  f0 07
    ldy #0x12               ;efde  a0 12
    jsr sub_3300            ;efe0  20 00 33

lab_efe3:
    bra lab_f01e            ;efe3  80 39

lab_efe5:
    bbc 2,0xe5,lab_eff3     ;efe5  57 e5 0b
    clb 2,0xe5              ;efe8  5f e5
    jsr sub_f03d            ;efea  20 3d f0
    bcc lab_f01b            ;efed  90 2c
    seb 5,0xf5              ;efef  af f5
    bra lab_f01e            ;eff1  80 2b

lab_eff3:
    lda 0xf0                ;eff3  a5 f0
    cmp #0x01               ;eff5  c9 01
    bne lab_f01b            ;eff7  d0 22
    lda 0x02b8              ;eff9  ad b8 02
    bne lab_f013            ;effc  d0 15
    lda 0xa0                ;effe  a5 a0
    beq lab_f01b            ;f000  f0 19
    lda 0x02b7              ;f002  ad b7 02
    cmp #0x04               ;f005  c9 04
    bcs lab_f01b            ;f007  b0 12
    jsr sub_e519            ;f009  20 19 e5
    tya                     ;f00c  98
    bbc 0,a,lab_f01b        ;f00d  13 0c
    seb 5,0xf5              ;f00f  af f5
    bra lab_f01e            ;f011  80 0b

lab_f013:
    lda 0xa0                ;f013  a5 a0
    beq lab_f01b            ;f015  f0 04
    seb 5,0xf5              ;f017  af f5
    bra lab_f01e            ;f019  80 03

lab_f01b:
    jsr sub_9abf            ;f01b  20 bf 9a

lab_f01e:
    rts                     ;f01e  60

sub_f01f:
    clb 0,0xfa              ;f01f  1f fa
    clb 1,0xfa              ;f021  3f fa
    clb 4,0xfc              ;f023  9f fc
    clb 3,0xfa              ;f025  7f fa
    bbs 0,0xf0,lab_f02f     ;f027  07 f0 05
    ldm #0x0a,0x5d          ;f02a  3c 0a 5d
    bra lab_f03c            ;f02d  80 0d

lab_f02f:
    lda #0x01               ;f02f  a9 01
    sta 0x02b8              ;f031  8d b8 02
    lda #0x07               ;f034  a9 07
    sta 0x02b9              ;f036  8d b9 02
    jsr sub_efa5            ;f039  20 a5 ef

lab_f03c:
    rts                     ;f03c  60

sub_f03d:
    lda 0x40                ;f03d  a5 40
    pha                     ;f03f  48
    lda 0x41                ;f040  a5 41
    pha                     ;f042  48
    jsr sub_6f45            ;f043  20 45 6f
    jsr sub_7655            ;f046  20 55 76
    lda 0x71                ;f049  a5 71
    pha                     ;f04b  48
    ldm #0x00,0x71          ;f04c  3c 00 71
    clb 0,0xf9              ;f04f  1f f9
    lda #0x00               ;f051  a9 00
    sta 0x40                ;f053  85 40
    lda #0x00               ;f055  a9 00
    sta 0x41                ;f057  85 41

lab_f059:
    bbs 2,0xe6,lab_f098     ;f059  47 e6 3c
    lda 0x40                ;f05c  a5 40
    pha                     ;f05e  48
    lda 0x41                ;f05f  a5 41
    pha                     ;f061  48
    jsr sub_4dd1            ;f062  20 d1 4d

    ldy #0x02               ;f065  a0 02
    jsr sub_f22c_delay      ;f067  20 2c f2     Delay an unknown time period for Y iterations

    ldy #0x02               ;f06a  a0 02
    jsr sub_f21e            ;f06c  20 1e f2
    lda #0x02               ;f06f  a9 02
    jsr sub_26d8            ;f071  20 d8 26
    jsr sub_51a7            ;f074  20 a7 51
    tay                     ;f077  a8
    pla                     ;f078  68
    sta 0x41                ;f079  85 41
    pla                     ;f07b  68
    sta 0x40                ;f07c  85 40
    cpy #0x05               ;f07e  c0 05
    bcc lab_f08e            ;f080  90 0c
    tya                     ;f082  98
    clc                     ;f083  18
    adc 0x40                ;f084  65 40
    sta 0x40                ;f086  85 40
    lda #0x00               ;f088  a9 00
    adc 0x41                ;f08a  65 41
    sta 0x41                ;f08c  85 41

lab_f08e:
    inc 0x71                ;f08e  e6 71
    inc 0x71                ;f090  e6 71
    lda 0x71                ;f092  a5 71
    cmp #0xcd               ;f094  c9 cd
    bcc lab_f059            ;f096  90 c1

lab_f098:
    pla                     ;f098  68
    sta 0x71                ;f099  85 71
    lda 0x40                ;f09b  a5 40
    pha                     ;f09d  48
    lda 0x41                ;f09e  a5 41
    pha                     ;f0a0  48
    jsr sub_4dd1            ;f0a1  20 d1 4d
    seb 0,0xf9              ;f0a4  0f f9

    ldy #0x01               ;f0a6  a0 01
    jsr sub_f22c_delay      ;f0a8  20 2c f2     Delay an unknown time period for Y iterations

    jsr sub_7664            ;f0ab  20 64 76
    pla                     ;f0ae  68
    sta 0x41                ;f0af  85 41
    pla                     ;f0b1  68
    sta 0x40                ;f0b2  85 40
    lda 0x41                ;f0b4  a5 41
    bne lab_f0c1            ;f0b6  d0 09
    lda 0x40                ;f0b8  a5 40
    cmp #0x14               ;f0ba  c9 14
    bcs lab_f0c1            ;f0bc  b0 03
    sec                     ;f0be  38
    bra lab_f0c2            ;f0bf  80 01

lab_f0c1:
    clc                     ;f0c1  18

lab_f0c2:
    pla                     ;f0c2  68
    sta 0x41                ;f0c3  85 41
    pla                     ;f0c5  68
    sta 0x40                ;f0c6  85 40
    rts                     ;f0c8  60

sub_f0c9:
    lda 0x40                ;f0c9  a5 40
    pha                     ;f0cb  48
    lda 0x41                ;f0cc  a5 41
    pha                     ;f0ce  48
    ldm #0x59,0x40          ;f0cf  3c 59 40
    ldm #0x5e,0x41          ;f0d2  3c 5e 41
    ldx 0x0268              ;f0d5  ae 68 02
    lda #0x06               ;f0d8  a9 06
    jsr sub_26d8            ;f0da  20 d8 26
    sta 0x0268              ;f0dd  8d 68 02
    bbs 7,0xf1,lab_f0ec     ;f0e0  e7 f1 09
    cmp #0xe2               ;f0e3  c9 e2
    bcc lab_f0ec            ;f0e5  90 05
    jsr sub_f1f9            ;f0e7  20 f9 f1
    bra lab_f121            ;f0ea  80 35

lab_f0ec:
    bbs 4,0xe6,lab_f0f8     ;f0ec  87 e6 09
    cmp #0xac               ;f0ef  c9 ac
    bcc lab_f0f8            ;f0f1  90 05
    jsr sub_f1dc            ;f0f3  20 dc f1
    bra lab_f121            ;f0f6  80 29

lab_f0f8:
    bbs 3,0xe6,lab_f10d     ;f0f8  67 e6 12
    cmp #0xa3               ;f0fb  c9 a3
    bcc lab_f104            ;f0fd  90 05
    jsr sub_f12c            ;f0ff  20 2c f1
    bra lab_f121            ;f102  80 1d

lab_f104:
    cmp 0x40                ;f104  c5 40
    bcs lab_f124            ;f106  b0 1c
    jsr sub_f12c            ;f108  20 2c f1
    bra lab_f121            ;f10b  80 14

lab_f10d:
    cpx #0x82               ;f10d  e0 82
    bcc lab_f11a            ;f10f  90 09
    cmp #0x9e               ;f111  c9 9e
    bcs lab_f124            ;f113  b0 0f
    jsr sub_f1ab            ;f115  20 ab f1
    bra lab_f121            ;f118  80 07

lab_f11a:
    cmp 0x41                ;f11a  c5 41
    bcc lab_f124            ;f11c  90 06
    jsr sub_f1ab            ;f11e  20 ab f1

lab_f121:
    sec                     ;f121  38
    bra lab_f125            ;f122  80 01

lab_f124:
    clc                     ;f124  18

lab_f125:
    pla                     ;f125  68
    sta 0x41                ;f126  85 41
    pla                     ;f128  68
    sta 0x40                ;f129  85 40
    rts                     ;f12b  60

sub_f12c:
    bbs 3,0xe6,lab_f1aa     ;f12c  67 e6 7b
    seb 3,0xe6              ;f12f  6f e6
    clb 5,0xe6              ;f131  bf e6
    bbs 5,0xf4,lab_f1aa     ;f133  a7 f4 74
    bbs 6,0xf1,lab_f14b     ;f136  c7 f1 12
    bbc 2,0xf5,lab_f141     ;f139  57 f5 05
    jsr sub_9da1            ;f13c  20 a1 9d
    bra lab_f149            ;f13f  80 08

lab_f141:
    lda 0x031d              ;f141  ad 1d 03
    bbc 0,a,lab_f149        ;f144  13 03
    jsr sub_aea8            ;f146  20 a8 ae

lab_f149:
    bra lab_f1aa            ;f149  80 5f

lab_f14b:
    clb 5,P0                ;f14b  bf 00
    clb 6,P8_P4I            ;f14d  df 10
    clb 1,P0                ;f14f  3f 00
    jsr sub_7673            ;f151  20 73 76
    clb 6,P0                ;f154  df 00
    jsr sub_42bf            ;f156  20 bf 42
    bbs 1,0xf3,lab_f15f     ;f159  27 f3 03
    bbc 1,0xe5,lab_f167     ;f15c  37 e5 08

lab_f15f:
    lda 0x0266              ;f15f  ad 66 02
    sta 0x71                ;f162  85 71
    jsr sub_4dd1            ;f164  20 d1 4d

lab_f167:
    jsr sub_9e21            ;f167  20 21 9e
    jsr sub_9a0b            ;f16a  20 0b 9a
    bbc 3,0xfe,lab_f173     ;f16d  77 fe 03
    jsr sub_4567            ;f170  20 67 45

lab_f173:
    jsr sub_7717            ;f173  20 17 77
    lda 0xa0                ;f176  a5 a0
    pha                     ;f178  48
    jsr sub_4319            ;f179  20 19 43
    lda 0x028b              ;f17c  ad 8b 02
    sta 0xa0                ;f17f  85 a0
    jsr sub_4c51            ;f181  20 51 4c     TODO unknown I2C activities
    jsr sub_4b29            ;f184  20 29 4b
    bcc lab_f18c            ;f187  90 03
    jsr sub_486d            ;f189  20 6d 48

lab_f18c:
    pla                     ;f18c  68
    sta 0xa0                ;f18d  85 a0
    jsr sub_d3da            ;f18f  20 da d3
    jsr sub_db0d            ;f192  20 0d db
    clb 2,P0                ;f195  5f 00
    clb 5,P8_P4I            ;f197  bf 10
    clb 7,P8_P4I            ;f199  ff 10
    ldy #0x0c               ;f19b  a0 0c
    jsr sub_3361            ;f19d  20 61 33
    ldy #0x0d               ;f1a0  a0 0d
    jsr sub_3361            ;f1a2  20 61 33
    ldy #0x0e               ;f1a5  a0 0e
    jsr sub_3361            ;f1a7  20 61 33

lab_f1aa:
    rts                     ;f1aa  60

sub_f1ab:
    clb 3,0xe6              ;f1ab  7f e6
    clb 4,0xe6              ;f1ad  9f e6
    bbs 5,0xf4,lab_f1db     ;f1af  a7 f4 29
    bbs 6,0xf1,lab_f1c2     ;f1b2  c7 f1 0d
    bbc 5,0xe6,lab_f1db     ;f1b5  b7 e6 23
    clb 5,0xe6              ;f1b8  bf e6
    jsr sub_2835            ;f1ba  20 35 28
    jsr sub_2921            ;f1bd  20 21 29
    bra lab_f1db            ;f1c0  80 19

lab_f1c2:
    bbs 3,0xf2,lab_f1cd     ;f1c2  67 f2 08
    bbc 6,0xf0,lab_f1d5     ;f1c5  d7 f0 0d
    jsr sub_2ecb            ;f1c8  20 cb 2e
    bra lab_f1db            ;f1cb  80 0e

lab_f1cd:
    jsr sub_2ecb            ;f1cd  20 cb 2e
    jsr sub_2f26            ;f1d0  20 26 2f
    bra lab_f1db            ;f1d3  80 06

lab_f1d5:
    jsr sub_2b17            ;f1d5  20 17 2b
    jsr sub_2b51            ;f1d8  20 51 2b

lab_f1db:
    rts                     ;f1db  60

sub_f1dc:
    jsr sub_f12c            ;f1dc  20 2c f1
    bbs 4,0xe6,lab_f1f8     ;f1df  87 e6 16
    seb 4,0xe6              ;f1e2  8f e6
    bbc 3,0xf2,lab_f1ec     ;f1e4  77 f2 05
    bbs 4,0xf1,lab_f1ec     ;f1e7  87 f1 02
    seb 5,0xe6              ;f1ea  af e6

lab_f1ec:
    bbc 6,0xf1,lab_f1f8     ;f1ec  d7 f1 09
    bbs 5,0xf4,lab_f1f8     ;f1ef  a7 f4 06
    jsr sub_2b17            ;f1f2  20 17 2b
    jsr sub_2b51            ;f1f5  20 51 2b

lab_f1f8:
    rts                     ;f1f8  60

sub_f1f9:
    jsr sub_f1dc            ;f1f9  20 dc f1
    clb 5,0xe6              ;f1fc  bf e6
    seb 7,0xf1              ;f1fe  ef f1
    jsr sub_4c63            ;f200  20 63 4c     TODO unknown I2C activities
    rts                     ;f203  60

lab_f204:
    bbc 7,CPUM,lab_f213     ;f204  f7 3b 0c     Main clock division ratio selection bit
    clb 5,CPUM              ;f207  bf 3b        Main clock stop bit
    nop                     ;f209  ea
    clb 7,CPUM              ;f20a  ff 3b        Main clock division ratio selection bit
    nop                     ;f20c  ea
    ldm #0x7c,PRE12         ;f20d  3c 7c 20
    ldm #0x04,T1            ;f210  3c 04 21

lab_f213:
    clb 5,P0                ;f213  bf 00
    seb 2,0xe6              ;f215  4f e6
    rti                     ;f217  40

sub_f218:
    clb 2,0xe6              ;f218  5f e6
    jsr sub_f12c            ;f21a  20 2c f1
    rts                     ;f21d  60

sub_f21e:
    pha                     ;f21e  48

lab_f21f:
    lda #0x27               ;f21f  a9 27

lab_f221:
    dec a                   ;f221  1a
    nop                     ;f222  ea
    nop                     ;f223  ea
    nop                     ;f224  ea
    bne lab_f221            ;f225  d0 fa
    dey                     ;f227  88
    bne lab_f21f            ;f228  d0 f5
    pla                     ;f22a  68
    rts                     ;f22b  60


sub_f22c_delay:
;Delay an unknown time period for Y iterations
    pha                     ;f22c  48
    txa                     ;f22d  8a
    pha                     ;f22e  48
lab_f22f_loop_1:
    lda #0xcd               ;f22f  a9 cd
lab_f231_loop_2:
    ldx #0x03               ;f231  a2 03
lab_f233_loop_3:
    dex                     ;f233  ca
    bne lab_f233_loop_3     ;f234  d0 fd
    dec a                   ;f236  1a
    bne lab_f231_loop_2     ;f237  d0 f8
    dey                     ;f239  88
    bne lab_f22f_loop_1     ;f23a  d0 f3
    pla                     ;f23c  68
    tax                     ;f23d  aa
    pla                     ;f23e  68
    rts                     ;f23f  60


sub_f240:
    pha                     ;f240  48
    txa                     ;f241  8a
    pha                     ;f242  48
lab_f243_loop_1:
    lda #0xc9               ;f243  a9 c9
lab_f245_loop_2:
    ldx #0x28               ;f245  a2 28
lab_f247_loop_3:
    dex                     ;f247  ca
    bne lab_f247_loop_3     ;f248  d0 fd
    dec a                   ;f24a  1a
    bne lab_f245_loop_2     ;f24b  d0 f8
    dey                     ;f24d  88
    bne lab_f243_loop_1     ;f24e  d0 f3
    pla                     ;f250  68
    tax                     ;f251  aa
    pla                     ;f252  68
    rts                     ;f253  60


sub_f254:
    ldx #0x44               ;f254  a2 44
    ldy #0x10               ;f256  a0 10
    set                     ;f258  32
    lda #0x00               ;f259  a9 00
    inx                     ;f25b  e8
    lda #0x00               ;f25c  a9 00
    clc                     ;f25e  18

lab_f25f:
    rol 0x40                ;f25f  26 40
    rol 0x41                ;f261  26 41
    rol 0x44                ;f263  26 44
    rol 0x45                ;f265  26 45
    bcs lab_f275            ;f267  b0 0c
    cmp 0x43                ;f269  c5 43
    bcc lab_f27c            ;f26b  90 0f
    bne lab_f275            ;f26d  d0 06
    dex                     ;f26f  ca
    cmp 0x42                ;f270  c5 42
    inx                     ;f272  e8
    bcc lab_f27c            ;f273  90 07

lab_f275:
    dex                     ;f275  ca
    sbc 0x42                ;f276  e5 42
    inx                     ;f278  e8
    sbc 0x43                ;f279  e5 43
    sec                     ;f27b  38

lab_f27c:
    dey                     ;f27c  88
    bne lab_f25f            ;f27d  d0 e0
    clt                     ;f27f  12
    rol 0x40                ;f280  26 40
    rol 0x41                ;f282  26 41
    rts                     ;f284  60

sub_f296:
    seb 6,P4                ;f285  cf 08
    clb 6,P4                ;f287  df 08
    pha                     ;f289  48
    tya                     ;f28a  98
    pha                     ;f28b  48

    ldy #0x01               ;f28c  a0 01        Y = 1 iteration to wait
    jsr sub_f22c_delay      ;f28e  20 2c f2     Delay an unknown time period for Y iterations

    pla                     ;f291  68
    tay                     ;f292  a8
    pla                     ;f293  68
    seb 6,P4                ;f294  cf 08
    rts                     ;f296  60

sub_f297:
    seb 6,P4                ;f297  cf 08
    clb 6,P4                ;f299  df 08
    pha                     ;f29b  48
    jsr sub_f22c_delay      ;f29c  20 2c f2     Delay an unknown time period for Y iterations
    pla                     ;f29f  68
    seb 6,P4                ;f2a0  cf 08
    rts                     ;f2a2  60

sub_faa3:
    bbc 6,P4,lab_f2a9       ;f2a3  d7 08 03
    clb 6,P4                ;f2a6  df 08
    rts                     ;f2a8  60

lab_f2a9:
    seb 6,P4                ;f2a9  cf 08
    rts                     ;f2ab  60

sub_f2ac:
    rts                     ;f2ac  60

;Unused space
    .rept 3155
    .byte 0xff
    .endm

;Start of 256 byte XOR key used by KWP1281 0x03 Read ROM (see lab_a278)
encryption_key:
    .rept 64
    .byte 0xff              ;ff00 - ff3f
    .endm

technisat:
    .ascii "TechniSat   "

id_radio:
    .byte 0x0f              ;ff4c  0f          DATA 0x0f        Block length
    .byte 0x00              ;ff4d  00          DATA 0x00        Block counter
    .byte 0xf6              ;ff4e  f6          DATA 0xf6        Block title
    .byte 0x20              ;ff4f  20          DATA 0x20 ' '
    .byte 0x52              ;ff50  52          DATA 0x52 'R'
    .byte 0x61              ;ff51  61          DATA 0x61 'a'
    .byte 0x64              ;ff52  64          DATA 0x64 'd'
    .byte 0x69              ;ff53  69          DATA 0x69 'i'
    .byte 0x6f              ;ff54  6f          DATA 0x6f 'o'
    .byte 0x20              ;ff55  20          DATA 0x20 ' '
    .byte 0x20              ;ff56  20          DATA 0x20 ' '
    .byte 0x20              ;ff57  20          DATA 0x20 ' '
    .byte 0x20              ;ff58  20          DATA 0x20 ' '
    .byte 0x20              ;ff59  20          DATA 0x20 ' '
    .byte 0x20              ;ff5a  20          DATA 0x20 ' '

id_0004:
    .byte 0x0f              ;ff5b  0f          DATA 0x0f        Block length
    .byte 0x00              ;ff5c  00          DATA 0x00        Block counter
    .byte 0xf6              ;ff5d  f6          DATA 0xf6        Block title
    .byte 0x20              ;ff5e  20          DATA 0x20 ' '
    .byte 0x20              ;ff5f  20          DATA 0x20 ' '
    .byte 0x20              ;ff60  20          DATA 0x20 ' '
    .byte 0x20              ;ff61  20          DATA 0x20 ' '
    .byte 0x20              ;ff62  20          DATA 0x20 ' '
    .byte 0x20              ;ff63  20          DATA 0x20 ' '
    .byte 0x20              ;ff64  20          DATA 0x20 ' '
    .byte 0x20              ;ff65  20          DATA 0x20 ' '
    .byte 0x30              ;ff66  30          DATA 0x30 '0'
    .byte 0x30              ;ff67  30          DATA 0x30 '0'
    .byte 0x30              ;ff68  30          DATA 0x30 '0'
    .byte 0x34              ;ff69  34          DATA 0x34 '4'

default_serial:
    .ascii "VWZAZ3B0000000" ;ff6a

default_date:
    .ascii "??????"         ;ff78

advanced_id:
;For advanced id 1 (0x50), this entire string is used.
;For advanced id 2 (0x51), only the first 4 bytes are used.
    .byte 0x2c              ;ff7e  2c          DATA 0x2c ','    Block length
    .byte 0x00              ;ff7f  00          DATA 0x00        Block counter
    .byte 0xe7              ;ff80  e7          DATA 0xe7        Block title
    .byte 0x3f              ;ff81  3f          DATA 0x3f '?'    Formula 0x3F
    .byte 0x59              ;ff82  59          DATA 0x59 'Y'
    .byte 0x44              ;ff83  44          DATA 0x44 'D'
    .byte 0x35              ;ff84  35          DATA 0x35 '5'
    .byte 0x2d              ;ff85  2d          DATA 0x2d '-'
    .byte 0x30              ;ff86  30          DATA 0x30 '0'
    .byte 0x30              ;ff87  30          DATA 0x30 '0'
    .byte 0x31              ;ff88  31          DATA 0x31 '1'
    .byte 0x20              ;ff89  20          DATA 0x20 ' '
    .byte 0x20              ;ff8a  20          DATA 0x20 ' '
    .byte 0x2d              ;ff8b  2d          DATA 0x2d '-'
    .byte 0x2d              ;ff8c  2d          DATA 0x2d '-'
    .byte 0x2e              ;ff8d  2e          DATA 0x2e '.'
    .byte 0x2d              ;ff8e  2d          DATA 0x2d '-'
    .byte 0x2d              ;ff8f  2d          DATA 0x2d '-'
    .byte 0x2e              ;ff90  2e          DATA 0x2e '.'

;Not part of the advanced id
    .ascii "(C) TechniSat Digital GmbH, "
    .ascii "Version: 5210.04 ac 06.11.03"

    .rept 19
    .byte 0xff              ;ffc9 - ffdb
    .endm

INT_BRK:
    .word lab_2000          ;ffdc  00 20       VECTOR BRK instruction interrupt

INT_FFDE:
    .word lab_31f6          ;ffde  f6 31       VECTOR A-D converter / Key-on wake-up

INT_FFE0:
    .word lab_6d37          ;ffe0  37 6d       VECTOR INT4

INT_FFE2:
    .word lab_31f6          ;ffe2  f6 31       VECTOR INT3

INT_FFE4:
    .word lab_31f6          ;ffe4  f6 31       VECTOR INT2 / I2C

INT_FFE6:
    .word lab_d9a2          ;ffe6  a2 d9       VECTOR Serial I/O 2 / I2C

INT_FFE8:
    .word lab_8280          ;ffe8  80 82       VECTOR CNTR1 / Key-on wake-up

INT_FFEA:
    .word lab_810b          ;ffea  0b 81       VECTOR CNTR0 / SCL, SDA

INT_FFEC:
    .word lab_5ab5          ;ffec  b5 5a       VECTOR Timer 2

INT_FFEE:
    .word lab_315a          ;ffee  5a 31       VECTOR Timer 1

INT_FFF0:
    .word lab_31f6          ;fff0  f6 31       VECTOR Timer Y

INT_FFF2:
    .word lab_8131          ;fff2  31 81       VECTOR Timer X

INT_FFF4:
    .word lab_31f6          ;fff4  f6 31       VECTOR Serial I/O 2 transmission / SCL, SDA

INT_FFF6:
    .word lab_5a11          ;fff6  11 5a       VECTOR Serial I/O 1 reception

INT_FFF8:
    .word lab_f204          ;fff8  04 f2       VECTOR INT1 / Output buffer empty (OBE)

INT_FFFA:
    .word lab_5342          ;fffa  42 53       VECTOR INT0 / Input buffer full (IBF)

RESET:
    .word lab_2000          ;fffc  00 20       VECTOR Reset vector

UNUSED:
    .word 0xffff            ;fffe
